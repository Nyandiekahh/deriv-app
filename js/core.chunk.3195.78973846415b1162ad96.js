(self.webpackChunk=self.webpackChunk||[]).push([[3195],{630965:(e,t,r)=>{var n;self,e.exports=(n=r(286326),(()=>{"use strict";var e={"../../../node_modules/object-assign/index.js":e=>{var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in i=Object(arguments[c]))r.call(i,l)&&(s[l]=i[l]);if(t){a=t(i);for(var d=0;d<a.length;d++)n.call(i,a[d])&&(s[a[d]]=i[a[d]])}}return s}},"../../../node_modules/react/cjs/react-jsx-runtime.production.min.js":(e,t,r)=>{r("../../../node_modules/object-assign/index.js");var n=r("react"),o=60103;if("function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),i("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,i={},l=null,d=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:l,ref:d,props:i,_owner:a.current}}t.jsx=l,t.jsxs=l},"../../../node_modules/react/jsx-runtime.js":(e,t,r)=>{e.exports=r("../../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},react:e=>{e.exports=n}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};function i(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=i(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}r.d(o,{default:()=>c}),r("react");const a=function(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=i(e))&&(n&&(n+=" "),n+=t);return n};var s=r("../../../node_modules/react/jsx-runtime.js");const c=({children:e,label:t,className:r,is_title_enabled:n=!0,is_fiat:o,item_count:i,description:c})=>(0,s.jsxs)("div",{className:r,children:[n&&(0,s.jsx)("h2",{className:a(`${r}--is-header`,{"currency-selector__is-crypto":!o}),children:t}),o&&(0,s.jsx)("div",{className:"currency-selector__description",children:c}),(0,s.jsx)("div",{className:a("currency-list__items",{"currency-list__items__center":i<4,"currency-list__items__is-fiat":o,"currency-list__items__is-crypto":!o}),children:e})]});return o.default})())},960923:(e,t,r)=>{var n,o,i,a;self,e.exports=(n=r(592353),o=r(504377),i=r(33118),a=r(286326),(()=>{"use strict";var e={"../../../node_modules/object-assign/index.js":e=>{var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in i=Object(arguments[c]))r.call(i,l)&&(s[l]=i[l]);if(t){a=t(i);for(var d=0;d<a.length;d++)n.call(i,a[d])&&(s[a[d]]=i[a[d]])}}return s}},"../../../node_modules/react/cjs/react-jsx-runtime.production.min.js":(e,t,r)=>{r("../../../node_modules/object-assign/index.js");var n=r("react"),o=60103;if("function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),i("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,i={},l=null,d=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:l,ref:d,props:i,_owner:a.current}}t.jsx=l,t.jsxs=l},"../../../node_modules/react/jsx-runtime.js":(e,t,r)=>{e.exports=r("../../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},"@deriv/components":e=>{e.exports=n},"@deriv/shared":e=>{e.exports=o},"@deriv/translations":e=>{e.exports=i},react:e=>{e.exports=a}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s={};r.d(s,{default:()=>f});var c=r("react"),l=r.n(c);function d(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=d(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const u=function(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=d(e))&&(n&&(n+=" "),n+=t);return n};var _=r("@deriv/components"),h=r("@deriv/shared"),m=r("@deriv/translations"),p=r("../../../node_modules/react/jsx-runtime.js");const g=({id:e})=>{let t;return t=/^UST$/i.test(e)?(0,p.jsx)(m.Localize,{i18n_default_text:"Tether as an Omni token (USDT) is a version of Tether that is hosted on the Omni layer on the Bitcoin blockchain.",components:[(0,p.jsx)("br",{},0)]}):/^tUSDT$/i.test(e)?(0,p.jsx)(m.Localize,{i18n_default_text:"Tether as a TRC20 token (tUSDT) is a version of Tether that is hosted on Tron."}):(0,p.jsx)(m.Localize,{i18n_default_text:"Tether as an ERC20 token (eUSDT) is a version of Tether that is hosted on Ethereum."}),(0,p.jsx)(_.Popover,{alignment:"top",className:"currency-list__popover",disable_message_icon:!0,icon:"info",is_bubble_hover_enabled:!0,message:t,zIndex:"9999"})},f=({field:{name:e,value:t,onChange:r,onBlur:n},icon:o,id:i,label:a,second_line_label:s,onClick:c,className:d,...m})=>(0,p.jsxs)(l().Fragment,{children:[(0,p.jsx)("input",{name:e,id:i,type:"radio",value:i,checked:i===t,onChange:r,onBlur:n,disabled:m.selected,className:u(d,"currency-list__radio-button"),...m}),(0,p.jsx)("label",{htmlFor:i,className:u("currency-list__item",{"currency-list__item--selected":i===t,"currency-list__item--current":m.selected}),onClick:c,children:o?(0,p.jsxs)(l().Fragment,{children:[(0,p.jsx)(_.Icon,{className:"currency-list__icon",icon:o}),(0,p.jsxs)("div",{className:"label currency-list__item-text",children:[(0,p.jsx)("div",{className:"currency-list__item-label",children:a}),(0,p.jsx)("div",{className:"currency-list__item-code",children:s})]})]}):(0,p.jsxs)(l().Fragment,{children:[(0,p.jsx)(_.Icon,{className:"currency-list__icon",icon:`IcCurrency-${i?.toLowerCase()}`}),i&&/^(UST|eUSDT|tUSDT)$/i.test(i)&&(0,p.jsx)(g,{id:i}),(0,p.jsxs)("div",{className:"label currency-list__item-text",children:[(0,p.jsx)("div",{className:"currency-list__item-label",children:a}),(0,p.jsxs)("div",{className:"currency-list__item-code",children:["(",(0,h.getCurrencyDisplayCode)(i),")"]})]})]})})]});return s.default})())},370611:(e,t,r)=>{var n,o;self,e.exports=(n=r(504377),o=r(33118),(()=>{"use strict";var e={"@deriv/shared":e=>{e.exports=n},"@deriv/translations":e=>{e.exports=o}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};r.d(i,{default:()=>l});var a=r("@deriv/shared"),s=r("@deriv/translations");const c={currency:{supported_in:["maltainvest","svg"],default_value:"",rules:[["req",(0,s.localize)("Select an item")]]}},l=({real_account_signup_target:e},t)=>({header:{active_title:(0,s.localize)("Select your preferred currency"),title:(0,s.localize)("Account currency")},body:t,form_value:(0,a.getDefaultFields)(e,c),props:{validate:(0,a.generateValidationFunction)(e,c)},passthrough:["legal_allowed_currencies"],icon:"IcDashboardCurrency"});return i.default})())},622831:(e,t,r)=>{var n,o,i;self,e.exports=(n=r(596176),o=r(592353),i=r(286326),(()=>{"use strict";var e={"../../../node_modules/object-assign/index.js":e=>{var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in i=Object(arguments[c]))r.call(i,l)&&(s[l]=i[l]);if(t){a=t(i);for(var d=0;d<a.length;d++)n.call(i,a[d])&&(s[a[d]]=i[a[d]])}}return s}},"../../../node_modules/react/cjs/react-jsx-runtime.production.min.js":(e,t,r)=>{r("../../../node_modules/object-assign/index.js");var n=r("react"),o=60103;if("function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),i("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,i={},l=null,d=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:l,ref:d,props:i,_owner:a.current}}t.jsx=l,t.jsxs=l},"../../../node_modules/react/jsx-runtime.js":(e,t,r)=>{e.exports=r("../../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},"@deriv-com/translations":e=>{e.exports=n},"@deriv/components":e=>{e.exports=o},react:e=>{e.exports=i},"../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js":(e,t,n)=>{n.d(t,{Y:()=>u});var o=n("react"),i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},a="object"==typeof i&&i&&i.Object===Object&&i,s="object"==typeof self&&self&&self.Object===Object&&self;a||s||Function("return this")();var c=typeof window<"u"?o.useLayoutEffect:o.useEffect,l=typeof window>"u";function d(e,{defaultValue:t=!1,initializeWithValue:r=!0}={}){const n=e=>l?t:window.matchMedia(e).matches,[i,a]=(0,o.useState)((()=>r?n(e):t));function s(){a(n(e))}return c((()=>{const t=window.matchMedia(e);return s(),t.addListener?t.addListener(s):t.addEventListener("change",s),()=>{t.removeListener?t.removeListener(s):t.removeEventListener("change",s)}}),[e]),i}const u=()=>({isDesktop:d("(min-width: 1280px)"),isMobile:d("(max-width: 600px)"),isTablet:d("(min-width: 601px) and (max-width: 1279px)"),isTabletPortrait:d("(min-width: 601px) and (max-width: 1279px) and (orientation: portrait)"),isMobileOrTabletLandscape:d("(max-width: 1279px) and (orientation: landscape)")})}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s={};a.d(s,{default:()=>m});var c=a("react"),l=a.n(c),d=a("@deriv/components"),u=a("@deriv-com/translations"),_=a("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),h=a("../../../node_modules/react/jsx-runtime.js");const m=({show_risk_modal:e,handleAcceptRisk:t,title:r,button_text:n,body_content:o,has_sub_header:i=!1})=>{const{isDesktop:a}=(0,_.Y)(),{localize:s}=(0,u.useTranslations)();return(0,h.jsx)(l().Fragment,{children:a?(0,h.jsxs)(d.Modal,{width:"44rem",title:r,height:"41rem",is_open:e,className:"center-risk-modal",toggleModal:t,has_close_icon:!1,children:[(0,h.jsxs)(d.Modal.Body,{children:[(0,h.jsx)(d.Icon,{icon:"IcRedWarning",size:"63"}),(0,h.jsx)(d.Text,{as:"p",size:"xs",align:"center",line_height:"s",className:"risk-acceptance__text",children:o})]}),(0,h.jsx)(d.Modal.Footer,{children:(0,h.jsx)(d.Button,{type:"button",large:!0,text:n??s("OK"),primary:!0,onClick:t})})]}):(0,h.jsxs)(d.MobileDialog,{visible:e,title:i?s("Trading Experience Assessment"):r,portal_element_id:"modal_root",has_close_icon:!1,children:[(0,h.jsxs)(d.Modal.Body,{className:"risk-tolerance-modal",children:[i?(0,h.jsxs)(d.Text,{size:"xs",line_height:"s",weight:"bold",as:"p",className:"risk-tolerance-modal__title",children:[r,(0,h.jsx)("div",{className:"risk-tolerance-modal__title--separator"})]}):null,(0,h.jsxs)("div",{className:"risk-tolerance-modal__wrapper",children:[(0,h.jsx)(d.Icon,{icon:"IcRedWarning",size:"65"}),(0,h.jsx)(d.Text,{as:"p",size:"xs",align:"center",line_height:"l",className:"risk-acceptance__text",children:o})]})]}),(0,h.jsx)(d.Modal.Footer,{className:"risk-tolerance-modal__footer",children:(0,h.jsx)(d.Button,{type:"button",large:!0,text:n??s("OK"),primary:!0,onClick:t})})]})})};return s.default})())},697845:(e,t,r)=>{"use strict";r.d(t,{A:()=>k});var n=r(286326),o=r(237064),i=r(824223),a=r(592353),s=r(504377),c=r(500309),l=r(414646),d=r(33118),u=r(836870);const _=({id:e})=>{let t;return t=/^UST$/i.test(e)?(0,u.jsx)(d.Localize,{i18n_default_text:"Tether as an Omni token (USDT) is a version of Tether that is hosted on the Omni layer on the Bitcoin blockchain.",components:[(0,u.jsx)("br",{},0)]}):/^tUSDT$/i.test(e)?(0,u.jsx)(d.Localize,{i18n_default_text:"Tether as a TRC20 token (tUSDT) is a version of Tether that is hosted on Tron."}):(0,u.jsx)(d.Localize,{i18n_default_text:"Tether as an ERC20 token (eUSDT) is a version of Tether that is hosted on Ethereum."}),(0,u.jsx)(a.Popover,{alignment:"top",className:"currency-list__popover",disable_message_icon:!0,icon:"info",is_bubble_hover_enabled:!0,message:t,zIndex:"9999"})},h=["field","icon","id","label","second_line_label","onClick","className"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=e=>{let{field:{name:t,value:r,onChange:i,onBlur:c},icon:l,id:d,label:m,second_line_label:g,onClick:f,className:b}=e,y=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,h);return(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)("input",p({name:t,id:d,type:"radio",value:d,checked:d===r,onChange:i,onBlur:c,disabled:y.selected,className:(0,o.A)(b,"currency-list__radio-button")},y)),(0,u.jsx)("label",{htmlFor:d,className:(0,o.A)("currency-list__item",{"currency-list__item--selected":d===r,"currency-list__item--current":y.selected}),onClick:f,children:l?(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(a.Icon,{className:"currency-list__icon",icon:l}),(0,u.jsxs)("div",{className:"label currency-list__item-text",children:[(0,u.jsx)("div",{className:"currency-list__item-label",children:m}),(0,u.jsx)("div",{className:"currency-list__item-code",children:g})]})]}):(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(a.Icon,{className:"currency-list__icon",icon:`IcCurrency-${null==d?void 0:d.toLowerCase()}`}),d&&/^(UST|eUSDT|tUSDT)$/i.test(d)&&(0,u.jsx)(_,{id:d}),(0,u.jsxs)("div",{className:"label currency-list__item-text",children:[(0,u.jsx)("div",{className:"currency-list__item-label",children:m}),(0,u.jsxs)("div",{className:"currency-list__item-code",children:["(",(0,s.getCurrencyDisplayCode)(d),")"]})]})]})})]})},b=({children:e,label:t,className:r,is_title_enabled:n=!0,is_fiat:i,item_count:a,description:s})=>(0,u.jsxs)("div",{className:r,children:[n&&(0,u.jsx)("h2",{className:(0,o.A)(`${r}--is-header`,{"currency-selector__is-crypto":!i}),children:t}),i&&(0,u.jsx)("div",{className:"currency-selector__description",children:s}),(0,u.jsx)("div",{className:(0,o.A)("currency-list__items",{"currency-list__items__center":a<4,"currency-list__items__is-fiat":i,"currency-list__items__is-crypto":!i}),children:e})]});var y=r(628977),x=r(919796);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const O=()=>(0,u.jsx)("div",{className:"currency-hr"}),k=(0,c.observer)((({getCurrentStep:e,goToNextStep:t,goToStep:r,onSubmit:c,onSave:_,onCancel:h,goToPreviousStep:m,set_currency:p,validate:g,has_cancel:v=!1,has_wallet_account:w,value:k})=>{const{client:N,ui:S}=(0,l.A)(),{currency:C,has_active_real_account:A,upgradeable_currencies:P,available_crypto_currencies:z,has_fiat:I,accounts:D}=N,T=Boolean(C),{real_account_signup:L,real_account_signup_target:E,resetRealAccountSignupParams:M}=S,{isMobile:F,isDesktop:R}=(0,x.Y)(),B=P.filter((e=>String(e.type)===s.CURRENCY_TYPE.CRYPTO)),U=P.filter((e=>String(e.type)===s.CURRENCY_TYPE.FIAT)),[W,$]=n.useState(!1),Y=!!Object.values(D).filter((e=>e.landing_company_shortcode===E)).length;n.useEffect((()=>{null!=L&&L.error_code&&$(!0)}),[null==L?void 0:L.error_code]),n.useEffect((()=>{if(W&&null!=L&&L.error_details){const e=Object.keys(null==L?void 0:L.error_details),n=Object.keys((0,s.getAddressDetailsFields)()).filter((t=>e.includes(t)));(null==n?void 0:n.length)>0?r(3):t(),M(),$(!1)}}),[W]);return(0,u.jsx)(i.Formik,{initialValues:k,onSubmit:(r,n)=>{c(e?e()-1:null,r,n.setSubmitting,t)},validate:t=>{const r=((null==e?void 0:e())||1)-1;null==_||_(r,t);const{errors:n}=(0,y.E)(g(t));return n},children:({handleSubmit:t,values:r})=>(0,u.jsx)(a.AutoHeightWrapper,{default_height:450,children:({setRef:c,height:l})=>{var g,y;return(0,u.jsxs)("form",{ref:c,onSubmit:t,className:"currency-selector","data-testid":"currency_selector_form",children:[(0,u.jsx)(a.Div100vhContainer,{className:(0,o.A)("currency-selector__container",{"currency-selector__container--no-top-margin":!T&&A&&F}),height_offset:!T&&A?"89px":"159px",is_disabled:R,children:(0,u.jsxs)(a.ThemedScrollbars,{height:l,children:[!(null==U||!U.length)&&(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(b,{className:"currency-selector__radio-group currency-selector__radio-group--with-margin",is_fiat:!0,item_count:U.length,children:(0,s.reorderCurrencies)(U).map((e=>(0,u.jsx)(i.Field,{component:f,name:"currency",id:e.value,label:e.name,selected:Y&&I},e.value)))}),!(null===(g=(0,s.reorderCurrencies)(B,"crypto"))||void 0===g||!g.length)&&(0,u.jsx)(O,{})]}),!(null===(y=(0,s.reorderCurrencies)(B,"crypto"))||void 0===y||!y.length)&&(0,u.jsx)(n.Fragment,{children:(0,u.jsx)(b,{is_title_enabled:!1,className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:(0,s.reorderCurrencies)(B,"crypto").length,children:(0,s.reorderCurrencies)(B,"crypto").map((e=>{var t;return(0,u.jsx)(i.Field,{component:f,selected:0===(null==z||null===(t=z.filter((t=>t.value===e.value)))||void 0===t?void 0:t.length),name:"currency",id:e.value,label:e.name},e.value)}))})})]})}),(0,u.jsx)(a.Modal.Footer,{has_separator:!0,is_bypassed:F,children:(0,u.jsx)(a.FormSubmitButton,j({className:p?"currency-selector--set-currency":"currency-selector--deriv-account",is_disabled:!r.currency,is_center:!1,is_absolute:p,label:p?(0,d.localize)("Set currency"):w?(0,d.localize)("Finish"):(0,d.localize)("Next")},v?{cancel_label:(0,d.localize)("Previous"),has_cancel:!0,onCancel:()=>(t=>{const r=e()-1;null==_||_(r,t),h(r,m)})(r)}:{}))})]})}})})}))},628977:(e,t,r)=>{"use strict";function n(e){const t={},r={};return Object.keys(e).forEach((n=>{const o=e[n];Array.isArray(o)&&("warn"===o[0]?t[n]=o[1]:"error"===o[0]&&(r[n]=o[1]))})),{warnings:t,errors:r}}r.d(t,{E:()=>n})},766475:(e,t,r)=>{"use strict";r.d(t,{sk:()=>c});var n=r(10578),o=r(286326),i=r(597598),a=r.n(i),s=r(836870);const c=({is_desktop:e,is_logged_in:t,is_traders_hub_routes:r,speed:o})=>(0,s.jsx)(n.Ay,{height:e?47:39,width:e?350:161,speed:o,backgroundColor:"var(--general-section-1)",foregroundColor:"var(--general-hover)",children:t?(0,s.jsx)(d,{is_desktop:e,is_traders_hub_routes:r}):(0,s.jsx)(l,{is_desktop:e})}),l=({is_desktop:e})=>(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)("rect",{x:e?172:0,y:"8",rx:"4",ry:"4",width:"66",height:"30"}),(0,s.jsx)("rect",{x:e?254:74,y:"8",rx:"4",ry:"4",width:"80",height:"30"})]}),d=({is_desktop:e,is_traders_hub_routes:t})=>(0,s.jsx)(s.Fragment,{children:e?(0,s.jsxs)(o.Fragment,{children:[!t&&(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)("rect",{x:"0",y:"6",rx:"4",ry:"4",width:"82",height:"32"}),(0,s.jsx)("rect",{x:"98",y:"6",rx:"4",ry:"4",width:"1",height:"30"}),(0,s.jsx)("circle",{cx:"128",cy:"22",r:"13"}),(0,s.jsx)("rect",{x:"157",y:"18",rx:"4",ry:"4",width:"76",height:"7"}),(0,s.jsx)("rect",{x:"249",y:"6",rx:"4",ry:"4",width:"1",height:"30"})]}),(0,s.jsx)("circle",{cx:"279",cy:"20",r:"13"}),(0,s.jsx)("circle",{cx:"321",cy:"20",r:"13"})]}):(0,s.jsxs)(o.Fragment,{children:[!t&&(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)("circle",{cx:"13",cy:"20",r:"13"}),(0,s.jsx)("rect",{x:"34",y:"17",rx:"4",ry:"4",width:"76",height:"7"}),(0,s.jsx)("rect",{x:"118",y:"6",rx:"4",ry:"4",width:"1",height:"30"})]}),(0,s.jsx)("circle",{cx:"140",cy:"20",r:"13"})]})});c.propTypes={speed:a().number,is_desktop:a().bool,is_logged_in:a().bool};a().number;r(273398)},273398:(e,t,r)=>{"use strict";r.d(t,{i:()=>i});var n=r(10578),o=(r(286326),r(836870));const i=({is_mobile:e,speed:t})=>{const r=e?16:8,i=e?40:32,a=16+i+r,s=e?12:8,c=32+i+r+90;return(0,o.jsxs)(n.Ay,{height:i,width:c,speed:t,backgroundColor:"var(--general-section-1)",foregroundColor:"var(--general-hover)",children:[(0,o.jsx)("rect",{x:16,y:"0",rx:"4",ry:"4",width:i,height:i}),(0,o.jsx)("rect",{x:a,y:s,rx:"4",ry:"4",width:90,height:16})]})}},141929:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(286326),o=r(592353),i=r(504377),a=r(836870);const s=({is_disabled:e,is_mobile:t,is_dtrader_v2:r,disabled_message:s,children:c})=>e&&s?(0,a.jsx)(o.Popover,{alignment:((0,i.isBot)()||r)&&t?"bottom":"left",message:s,zIndex:"99999",children:c}):(0,a.jsx)(n.Fragment,{children:c})},121096:(e,t,r)=>{"use strict";r.d(t,{Xw:()=>T,$2:()=>x,ft:()=>o.A});var n=r(110615),o=r(608028),i=r(286326),a=r(140994),s=r(291218),c=r(592353),l=r(919796),d=r(852691),u=r(500309),_=r(414646),h=r(504377),m=r(33118),p=r(673285),g=r(836870);const f=({id:e,text:t,icon:r,link_to:n,handleClickCashier:o})=>(0,g.jsx)(d.Sm,{id:e,to:n,className:"header__menu-link",active_class:"header__menu-link--active",onClick:o,children:(0,g.jsxs)(c.Text,{size:"m",line_height:"xs",title:t,className:"header__menu-link-text",children:[r,t]})},r),b=()=>(0,g.jsx)(f,{id:"dt_reports_tab",icon:(0,g.jsx)(c.Icon,{icon:"IcReports",className:"header__icon"}),text:(0,m.localize)("Reports"),link_to:h.routes.reports}),y=(0,u.observer)((()=>{const{client:e,ui:t}=(0,_.A)(),{has_any_real_account:r,is_virtual:n}=e,{toggleReadyToDepositModal:o,toggleNeedRealAccountForCashierModal:i}=t,a=(0,p.A)(),l=(0,s.useHistory)(),d=window.location.pathname===h.routes.traders_hub||window.location.pathname===h.routes.bot,u=d&&!r&&n||a;return(0,g.jsx)(f,{id:"dt_cashier_tab",icon:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(c.Icon,{icon:"IcCashier",className:"header__icon"})}),text:(0,m.localize)("Cashier"),link_to:u?null:h.routes.cashier,handleClickCashier:()=>{!r&&n||a?d&&!r?o():window.location.pathname===h.routes.traders_hub&&i():((0,h.startPerformanceEventTimer)("load_cashier_time"),l.push(h.routes.cashier_deposit))}})})),x=(0,u.observer)((({is_traders_hub_routes:e=!1})=>{const{isDesktop:t}=(0,l.Y)(),{i18n:r}=(0,a.B)(),n=(0,s.useLocation)(),{client:o}=(0,_.A)(),{has_wallet:i,is_logged_in:c}=o;return c?(0,g.jsxs)("div",{className:"header__menu-links",children:[t&&!i&&(0,g.jsx)(y,{}),!e&&!n.pathname.includes(h.routes.cashier)&&(0,g.jsx)(b,{})]},`menu-links__${r.language}`):(0,g.jsx)(g.Fragment,{})}));var v=r(391049),j=r(134695),w=r(514378);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const S=i.lazy((()=>r.e(4773).then(r.bind(r,527671)))),C=()=>{const{redirect_url:e}=(0,v.A)(),t=(0,g.jsx)("a",{className:"account-settings-toggle",href:e,children:(0,g.jsx)(c.Icon,{icon:"IcUserOutline"})});return h.isTabletOs?t:(0,g.jsx)(c.Popover,{classNameBubble:"account-settings-toggle__tooltip",alignment:"bottom",message:(0,g.jsx)(m.Localize,{i18n_default_text:"Manage account settings"}),should_disable_pointer_events:!0,zIndex:"9999",children:t})},A=({count:e,is_visible:t,toggleDialog:r})=>(0,g.jsx)(n.A,{count:e,is_visible:t,toggleDialog:r,tooltip_message:(0,g.jsx)(m.Localize,{i18n_default_text:"View notifications"}),should_disable_pointer_events:!0,showPopover:!h.isTabletOs}),P=({openRealAccountSignup:e})=>(0,g.jsx)("div",{className:"set-currency",children:(0,g.jsx)(c.Button,{onClick:()=>e("set_currency"),has_effect:!0,type:"button",text:(0,m.localize)("Set currency"),primary:!0})}),z=({onClickDeposit:e})=>(0,g.jsx)(c.Button,{className:"acc-info__button",has_effect:!0,text:(0,m.localize)("Deposit"),onClick:e,primary:!0}),I=()=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j.M,{className:"acc-info__button"}),(0,g.jsx)(w.X,{className:"acc-info__button"})]}),D=({acc_switcher_disabled_message:e,account_type:t,balance:r,currency:n,disableApp:o,enableApp:a,is_acc_switcher_on:c,is_acc_switcher_disabled:d,is_eu:u,is_logged_in:_,is_notifications_visible:m,is_traders_hub_routes:p,is_virtual:f,notifications_count:b,onClickDeposit:y,openRealAccountSignup:x,toggleAccountsDialog:v,toggleNotifications:j})=>{const{isDesktop:w}=(0,l.Y)(),O=(0,s.useLocation)(),N=w&&!p&&n&&!O.pathname.includes(h.routes.cashier),D=w&&!p&&!f&&!n,T=null!=r?(0,h.formatMoney)(n,r,!0):void 0;return _?(0,g.jsxs)(i.Fragment,{children:[D&&(0,g.jsx)(P,{openRealAccountSignup:x}),N&&(0,g.jsx)(z,{onClickDeposit:y}),!p&&(0,g.jsx)(i.Suspense,{fallback:(0,g.jsx)("div",{}),children:(0,g.jsx)(S,k({acc_switcher_disabled_message:e,account_type:t,balance:T,is_disabled:d,is_eu:u,is_virtual:f,currency:n,is_dialog_on:c,toggleDialog:v},!w&&{disableApp:o,enableApp:a,is_mobile:!0}))}),(0,g.jsx)(A,{count:b,is_visible:m,toggleDialog:j}),w&&(0,g.jsx)(C,{})]}):(0,g.jsx)(I,{})};D.displayName="AccountActions";const T=i.memo(D);r(564702)},134695:(e,t,r)=>{"use strict";r.d(t,{M:()=>h});r(286326);var n=r(192299),o=r.n(n),i=r(597598),a=r.n(i),s=r(592353),c=r(160756),l=r(504377),d=r(33118),u=r(351185),_=r(836870);const h=({className:e})=>{const t=/deriv\.(com)/.test(window.location.hostname)||/localhost:8443/.test(window.location.host),r=o().get("wallet_account"),{isTmbEnabled:n}=(0,c.A)();return(0,_.jsx)(s.Button,{id:"dt_login_button",className:e,has_effect:!0,text:(0,d.localize)("Log in"),onClick:async()=>{var e;r&&((0,l.isStaging)()?location.href=`https://staging-hub.${(0,l.getDomainUrl)()}/tradershub/login`:location.href=`https://hub.${(0,l.getDomainUrl)()}/tradershub/login`);const o=await n();if(t&&!o)try{await(0,u.ZF)({redirectCallbackUri:`${window.location.origin}/callback`,postLoginRedirectUri:window.location.href}).catch((e=>{console.error(e)}))}catch(e){console.error(e)}null===(e=window.LiveChatWidget)||void 0===e||e.call("hide"),(0,l.redirectToLogin)(!1,(0,d.getLanguage)())},tertiary:!0})};h.propTypes={className:a().string}},47699:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});r(286326);var n=r(255530),o=r.n(n),i=r(592353),a=r(673285),s=r(504377),c=r(978513),l=r(500309),d=r(414646),u=r(33118),_=r(852691),h=r(919796),m=r(836870);const p=(0,l.observer)((({data_testid:e,icon:t="",is_active:r,is_disabled:n,is_hidden:l,link_to:p="",onClickLink:g,suffix_icon:f="",text:b})=>{const{ui:y,client:x}=(0,d.A)(),{isDesktop:v}=(0,h.Y)(),{has_any_real_account:j,is_virtual:w}=x,{setMobileLanguageMenuOpen:O,toggleReadyToDepositModal:k,toggleNeedRealAccountForCashierModal:N}=y,S=(0,a.A)(),C=b===(0,u.localize)("Trade"),A=(0,s.getStaticUrl)(p),P=window.location.pathname===s.routes.traders_hub,z=!v&&p===s.routes.languages,I=A&&(0,c.isExternalLink)(p),D=[s.routes.cashier_deposit,s.routes.cashier_withdrawal,s.routes.cashier_acc_transfer].includes(p);if(l)return null;if(z)return(0,m.jsxs)("div",{className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":n}),onClick:()=>O(!0),"data-testid":e,children:[(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-icon",icon:t}),(0,m.jsx)("span",{className:"header__menu-mobile-link-text",children:b}),f&&(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]});if(S&&D&&P){const r=()=>{null==g||g(),N()};return(0,m.jsxs)("div",{className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":n}),onClick:r,"data-testid":e,children:[(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-icon",icon:t}),(0,m.jsx)("span",{className:"header__menu-mobile-link-text",children:b}),f&&(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]})}if(D&&w&&!j){const r=()=>{P&&k(),null==g||g()};return(0,m.jsxs)("div",{className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":n}),onClick:r,"data-testid":e,children:[(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-icon",icon:t}),(0,m.jsx)("span",{className:"header__menu-mobile-link-text",children:b}),f&&(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]})}return p?I?(0,m.jsxs)("a",{className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":n,"header__menu-mobile-link--active":r}),href:p,"data-testid":e,children:[(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-icon",icon:t}),(0,m.jsx)(i.Text,{className:C?"":"header__menu-mobile-link-text",as:"h3",size:"xs",weight:window.location.pathname===s.routes.trade&&C?"bold":void 0,children:b}),f&&(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]}):(0,m.jsxs)(_.Sm,{to:p,className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":n,"header__menu-mobile-link--active":r}),onClick:g,"data-testid":e,children:[(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-icon",icon:t}),(0,m.jsx)(i.Text,{className:C?"":"header__menu-mobile-link-text",as:"h3",size:"xs",weight:window.location.pathname===s.routes.trade&&C?"bold":void 0,children:b}),f&&(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]}):(0,m.jsxs)("div",{className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":n}),"data-testid":e,children:[(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-icon",icon:t}),(0,m.jsx)("span",{className:"header__menu-mobile-link-text",children:b}),f&&(0,m.jsx)(i.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]})}))},608028:(e,t,r)=>{"use strict";r.d(t,{A:()=>k});var n=r(919796),o=r(592353),i=r(504377),a=r(557344),s=r(286326),c=r(735623),l=r(852691),d=r(33118),u=r(291218),_=r(317691),h=r(414646),m=r(836870);const p=({platform:{icon:e,description:t}})=>(0,m.jsxs)(s.Fragment,{children:[(0,m.jsx)("div",{className:"platform-dropdown__list-platform-background"}),(0,m.jsxs)("div",{className:"platform-switcher__dropdown","data-testid":"dt_platform_box_icon",children:[(0,m.jsx)(o.Icon,{icon:e,height:42,width:150,description:e}),(0,m.jsx)("p",{className:"platform-dropdown__list-platform-description",children:t()})]})]}),g=(e,t)=>{const{is_virtual:r,currency:n}=t;let o=e;r?o=`${o}${o.includes("?")?"&":"?"}account=demo`:n&&(o=`${o}${o.includes("?")?"&":"?"}account=${n}`);try{const e=JSON.parse(sessionStorage.getItem("trade_store")||"{}");null!=e&&e.symbol&&(o=`${o}${o.includes("?")?"&":"?"}symbol=${e.symbol}`)}catch(e){}return o},f=({platform:e,app_routing_history:t,client:r})=>e.link_to&&(0,m.jsx)(l.Sm,{"data-testid":"dt_platform_dropdown",to:g(e.link_to,r),exact:e.link_to===i.routes.trade,className:"platform-dropdown__list-platform",isActive:()=>(0,i.getActivePlatform)(t)===e.name,onClick:t=>window.location.pathname.startsWith(e.link_to)&&t.preventDefault(),children:(0,m.jsx)(p,{platform:e})})||(0,m.jsx)("a",{"data-testid":"dt_platform_dropdown_link",href:g(e.href,r),className:"platform-dropdown__list-platform "+((0,i.getActivePlatform)(t)===e.name?"active":""),children:(0,m.jsx)(p,{platform:e})}),b=({app_routing_history:e,closeDrawer:t,platform_config:r,setTogglePlatformType:a})=>{const p=(0,u.useHistory)(),{isDesktop:g}=(0,n.Y)(),{isHubRedirectionEnabled:b}=(0,_.A)(),{client:y}=(0,h.A)(),{has_wallet:x}=y,v=()=>(0,m.jsx)("div",{className:"platform-dropdown__cta",children:(0,m.jsx)(l.Sm,{onClick:()=>{if(b&&x)return localStorage.setItem("redirect_to_th_os","home"),void window.location.assign(i.platforms.tradershub_os.url);g||(p.push(i.routes.traders_hub),a("cfd")),p.push(i.routes.traders_hub)},children:(0,m.jsx)(o.Text,{size:"xs",weight:"bold",align:"center",className:"platform-dropdown__cta--link",children:(0,m.jsx)(d.Localize,{i18n_default_text:"Looking for CFDs? Go to Trader's Hub"})})})});s.useEffect((()=>(window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)})),[t]);const j=s.useRef();(0,o.useOnClickOutside)(j,(e=>{e.target.closest(".platform-dropdown__list")||e.target.closest(".platform-switcher")||t()}),(()=>g));const w=(0,m.jsx)("div",{className:"platform-dropdown",children:(0,m.jsxs)(o.Div100vhContainer,{className:"platform-dropdown__list",height_offset:"15rem",is_disabled:g,children:[r.map((r=>(0,m.jsx)("div",{onClick:t,ref:j,children:(0,m.jsx)(f,{platform:r,app_routing_history:e,client:y})},r.name))),(0,m.jsx)(v,{})]})});return g?c.createPortal(w,document.getElementById("deriv_app")):c.createPortal(w,document.getElementById("mobile_platform_switcher"))};var y=r(273398),x=r(597598),v=r.n(x),j=r(255530),w=r.n(j);const O=({toggleDrawer:e,app_routing_history:t,platform_config:r=[],current_language:c,is_landing_company_loaded:l,is_logged_in:d,is_logging_in:u,setTogglePlatformType:_})=>{const[h,p]=s.useState(!1),g=s.useRef(!1),{isDesktop:f}=(0,n.Y)();s.useEffect((()=>{g.current&&"function"==typeof e&&e(),g.current=!1}));return(d||u?l:0!==t.length)?(0,m.jsxs)(s.Fragment,{children:[(0,m.jsxs)("div",{"data-testid":"dt_platform_switcher",className:w()("platform-switcher",{"platform-switcher--active":h},{"platform-switcher--is-mobile":!f}),onClick:()=>p(!h),children:[(0,m.jsx)(o.Icon,{className:"platform-switcher__icon",icon:(0,i.getPlatformInformation)(t).icon,description:(0,i.getPlatformInformation)(t).header,width:120,height:25}),(0,m.jsx)(o.Icon,{className:"platform-switcher__arrow",icon:"IcChevronDownBold"})]}),(0,m.jsx)(a.A,{mountOnEnter:!0,appear:!0,in:h,classNames:{enterDone:"platform-dropdown--enter-done"},timeout:f&&h?0:250,unmountOnExit:!0,children:(0,m.jsx)(b,{platform_config:r,closeDrawer:()=>{p(!1),g.current=!0},current_language:c,app_routing_history:t,setTogglePlatformType:_})})]}):(0,m.jsx)("div",{"data-testid":"dt_platform_switcher_preloader",className:w()("platform-switcher__preloader",{"platform-switcher__preloader--is-mobile":!f}),children:(0,m.jsx)(y.i,{is_mobile:!f,speed:3})})};O.propTypes={platform_config:v().array,toggleDrawer:v().func,current_language:v().string,app_routing_history:v().array,is_landing_company_loaded:v().bool,is_logged_in:v().bool,is_logging_in:v().bool,setTogglePlatformType:v().func};const k=(0,u.withRouter)(O)},514378:(e,t,r)=>{"use strict";r.d(t,{X:()=>l});r(286326);var n=r(597598),o=r.n(n),i=r(592353),a=r(504377),s=r(33118),c=r(836870);const l=({className:e})=>(0,c.jsx)(i.Button,{id:"dt_signup_button",className:e,has_effect:!0,text:(0,s.localize)("Sign up"),onClick:a.redirectToSignUp,primary:!0});l.propTypes={className:o().string}},989186:(e,t,r)=>{"use strict";r.d(t,{A:()=>D});var n=r(286326),o=r(291218),i=r(255530),a=r.n(i),s=r(8531),c=r(592353),l=r(461297),d=r(391049),u=r(647620),_=r(594269),h=r(788624),m=r(317691),p=r(504377),g=r(500309),f=r(414646),b=r(33118),y=r(281476),x=r(597351),v=r(206022),j=r(211509),w=r(699429),O=r(223753),k=r(836870);const N=(0,g.observer)((()=>{const{common:e,ui:t}=(0,f.A)(),{current_language:r}=e,{is_mobile_language_menu_open:o,setMobileLanguageMenuOpen:i}=t;return(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)("div",{children:(0,b.localize)("Menu")}),(0,k.jsx)("div",{className:"settings-language__language-button_wrapper",onClick:()=>{o||i(!0)},children:!o&&(0,k.jsxs)(n.Fragment,{children:[p.TranslationFlag[r]?p.TranslationFlag[r](22,16):(0,k.jsx)(c.Icon,{icon:`IcFlag${r}`,data_testid:"dt_icon",size:18}),(0,k.jsx)(c.Text,{weight:"bold",size:"xxs",className:"ic-settings-language__text",children:(0,k.jsx)(b.Localize,{i18n_default_text:r})})]})})]})}));var S=r(596176),C=r(852691);const A=(0,g.observer)((({expandSubMenu:e,toggleDrawer:t})=>{const{common:r,ui:n}=(0,f.A)(),{is_language_changing:o}=r,{is_mobile_language_menu_open:i,setMobileLanguageMenuOpen:s}=n,l=Object.keys((0,S.getAllowedLanguages)(p.UNSUPPORTED_LANGUAGES));return(0,k.jsx)(c.MobileDrawer.SubMenu,{is_expanded:i,has_subheader:!0,submenu_title:(0,b.localize)("Select language"),onToggle:t=>{e(t),s(!1)},submenu_toggle_class:"dc-mobile-drawer__submenu-toggle--hidden",children:(0,k.jsx)("div",{className:a()("settings-language__language-container",{"settings-language__language-container--disabled":o}),children:l.map((e=>(0,k.jsx)(C.H6,{is_clickable:!0,lang:e,toggleModal:()=>{t(),s(!1)}},e)))})})}));var P=r(47699),z=r(608028);const I=(0,g.observer)((({platform_config:e})=>{const{common:t,ui:r,client:i,traders_hub:g,modules:S}=(0,f.A)(),{app_routing_history:C,current_language:I}=t,{disableApp:D,enableApp:T,is_mobile:L,is_mobile_language_menu_open:E,is_dark_mode_on:M,setDarkMode:F,setMobileLanguageMenuOpen:R,setIsForcedToExitPnv:B}=r,{account_status:U,has_wallet:W,is_authorize:$,is_logged_in:Y,is_logging_in:H,is_virtual:V,logout:G,setIsLoggingOut:q,should_allow_authentication:K,should_allow_poinc_authentication:X,landing_company_shortcode:J,is_landing_company_loaded:Z,is_proof_of_ownership_enabled:Q,is_eu:ee,is_passkey_supported:te,is_p2p_available:re}=i,{cashier:ne}=S,{payment_agent:oe}=ne,{is_payment_agent_visible:ie}=oe,{show_eu_related_content:ae,setTogglePlatformType:se}=g,ce=(0,l.A)(),{mobile_redirect_url:le}=(0,d.A)(),{isSuccess:de}=(0,u.A)(),{data:ue}=(0,_.A)(),{pathname:_e}=(0,o.useLocation)(),he=_e===p.routes.traders_hub||_e.startsWith(p.routes.cashier)||_e.startsWith(p.routes.account),me=ee&&ae&&!V,pe=_e===p.routes.traders_hub,ge=_e.startsWith(p.routes.wallets)||_e.startsWith(p.routes.wallets_compare_accounts),{data:fe}=(0,s.A)(!0),{cs_chat_livechat:be,cs_chat_whatsapp:ye}=fe,[xe,ve]=n.useState(!1),[je,we]=n.useState(!1),[Oe,ke]=n.useState([]),[Ne,Se]=n.useState(!1),Ce=n.useRef(),Ae=(0,o.useHistory)(),{subscribe:Pe,rest:{isSubscribed:ze},p2p_settings:Ie}=(0,h.A)(),{isHubRedirectionEnabled:De}=(0,m.A)();n.useEffect((()=>{de&&!ze&&$&&Pe()}),[de,Ie,Pe,ze,$]),n.useEffect((()=>()=>{Ce.current&&(clearTimeout(Ce.current),we(!1),ve(!1))}),[_e]),n.useEffect((()=>((U||K)&&(()=>{const e=(0,w.A)();let t=[];t=he?W?[p.routes.reports,p.routes.account]:[p.routes.account,p.routes.cashier]:W?[p.routes.reports,p.routes.account]:[p.routes.reports,p.routes.account,p.routes.cashier],ke(Me(e,t))})(),()=>clearTimeout(Ce.current))),[U,K,W,he,L,te,re]);const Te=n.useCallback((()=>{E&&R(!1),xe?(we(!0),Ce.current=setTimeout((()=>{ve(!1),we(!1)}),400)):ve(!xe),Se(!1)}),[Se,xe,E,R]),Le=n.useCallback((async()=>{q(!0),Te(),window.location.pathname.startsWith(p.routes.phone_verification)&&(B(!0),await new Promise((e=>setTimeout(e,0)))),Ae.push(p.routes.traders_hub),await G()}),[Ae,G,Te]),Ee=n.useCallback((()=>{y.Analytics.trackEvent("ce_passkey_account_settings_form",{action:"open",form_name:"ce_passkey_account_settings_form",operating_system:(0,p.getOSNameWithUAParser)()})}),[]),Me=(e,t)=>{const r=e.flatMap((e=>e.routes||[]));return t.map((t=>e.find((e=>e.path===t))||r.find((e=>e.path===t)))).filter((e=>e))};return(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)("a",{id:"dt_mobile_drawer_toggle",onClick:Te,className:"header__mobile-drawer-toggle",children:(0,k.jsx)(c.Icon,{icon:"IcHamburger",width:"16px",height:"16px",className:"header__mobile-drawer-icon"})}),(0,k.jsx)(c.MobileDrawer,{alignment:"left",icon_class:"header__menu-toggle",is_open:xe,transitionExit:je,toggle:Te,id:"dt_mobile_drawer",enableApp:T,disableApp:D,title:(0,k.jsx)(N,{}),height:"100vh",width:"295px",className:"pre-appstore",children:(0,k.jsx)(c.Div100vhContainer,{height_offset:"40px",children:(0,k.jsx)("div",{className:"header__menu-mobile-body-wrapper",children:(0,k.jsxs)(n.Fragment,{children:[!(pe||ge)&&(0,k.jsx)(c.MobileDrawer.SubHeader,{className:a()({"dc-mobile-drawer__subheader--hidden":Ne}),children:(0,k.jsx)(z.A,{app_routing_history:C,is_mobile:!0,is_landing_company_loaded:Z,is_logged_in:Y,is_logging_in:H,platform_config:e,toggleDrawer:Te,current_language:I,setTogglePlatformType:se})}),(0,k.jsxs)(c.MobileDrawer.Body,{className:pe||ge?"no-padding":"",children:[(0,k.jsx)("div",{className:"header__menu-mobile-platform-switcher",id:"mobile_platform_switcher"}),(0,k.jsx)(c.MobileDrawer.Item,{children:(0,k.jsx)(P.A,{link_to:(0,p.getStaticUrl)("/"),icon:"IcDerivShortLogo",text:"Deriv.com",onClickLink:Te})}),(0,k.jsx)(c.MobileDrawer.Item,{children:(0,k.jsx)(P.A,{link_to:(()=>{if(De&&W){const e=`https://hub.${(0,p.getDomainUrl)()}/tradershub`,t=((0,p.getDomainUrl)(),e),r=window.location.search,n=new URLSearchParams(r).get("account")||window.sessionStorage.getItem("account");return`${t}/redirect?action=redirect_to&redirect_to=home${n?`&account=${n}`:""}`}return p.routes.traders_hub})(),icon:"IcAppstoreTradersHubHome",text:(0,b.localize)("Trader's Hub"),onClickLink:Te,is_active:_e===p.routes.traders_hub})}),_e!==p.routes.traders_hub&&(0,k.jsx)(c.MobileDrawer.Item,{children:(0,k.jsx)(P.A,{link_to:p.routes.trade,icon:"IcTrade",text:(0,b.localize)("Trade"),onClickLink:Te,is_active:_e===p.routes.trade})}),Oe.map(((e,t)=>((e,t)=>{if(e.is_authenticated&&!Y)return null;if(e.path===p.routes.account&&le!==p.routes.account)return(0,k.jsx)(c.MobileDrawer.Item,{children:(0,k.jsx)(P.A,{link_to:le,icon:e.icon_component,text:e.getTitle(),onClickLink:Te})},t);if(!e.routes)return(0,k.jsx)(c.MobileDrawer.Item,{children:(0,k.jsx)(P.A,{link_to:e.path,icon:e.icon_component,text:e.getTitle(),onClickLink:Te})},t);const r=e.routes.some((e=>e.subroutes)),n=!L||!te,o=e=>/passkeys/.test(e)?n:!!/languages/.test(e)&&W;return(0,k.jsxs)(c.MobileDrawer.SubMenu,{has_subheader:!0,submenu_icon:e.icon_component,submenu_title:e.getTitle(),submenu_suffix_icon:"IcChevronRight",onToggle:Se,route_config_path:e.path,children:[!r&&e.routes.map(((e,t)=>{if(!e.is_invisible&&(e.path!==p.routes.cashier_pa||ie)&&(e.path!==p.routes.cashier_pa_transfer||ue)&&(e.path!==p.routes.cashier_p2p||re)&&(e.path!==p.routes.cashier_acc_transfer||ce))return(0,k.jsx)(c.MobileDrawer.Item,{children:(0,k.jsx)(P.A,{link_to:e.path,icon:e.icon_component,text:e.getTitle(),onClickLink:Te})},t)})),r&&e.routes.map(((e,t)=>e.subroutes?(0,k.jsx)(c.MobileDrawer.SubMenuSection,{section_icon:e.icon,section_title:e.getTitle(),children:e.subroutes.map(((e,t)=>{return(0,k.jsx)(P.A,{is_disabled:(r=e.path,(/financial-assessment/.test(r)?V:/trading-assessment/.test(r)?V||"maltainvest"!==J:/proof-of-address/.test(r)||/proof-of-identity/.test(r)?!K:/proof-of-income/.test(r)?!X:!!/proof-of-ownership/.test(r)&&(V||!Q))||e.is_disabled),link_to:e.path,text:e.getTitle(),onClickLink:()=>{Te(),e.path===p.routes.passkeys&&Ee()},is_hidden:o(e.path)},t);var r}))},t):(0,k.jsx)(c.MobileDrawer.Item,{children:(0,k.jsx)(P.A,{link_to:e.path,icon:e.icon_component,text:e.getTitle(),onClickLink:Te})},t)))]},t)})(e,t))),!W&&(0,k.jsx)(c.MobileDrawer.Item,{className:"header__menu-mobile-theme",onClick:e=>{e.preventDefault(),F(!M)},children:(0,k.jsxs)("div",{className:a()("header__menu-mobile-link"),children:[(0,k.jsx)(c.Icon,{className:"header__menu-mobile-link-icon",icon:"IcTheme"}),(0,k.jsx)("span",{className:"header__menu-mobile-link-text",children:(0,b.localize)("Dark theme")}),(0,k.jsx)(c.ToggleSwitch,{id:"dt_mobile_drawer_theme_toggler",handleToggle:()=>F(!M),is_enabled:M})]})}),(0,k.jsx)(c.MobileDrawer.Item,{className:a()({"header__menu-mobile-theme":Fe}),children:(0,k.jsx)(P.A,{link_to:(0,p.getStaticUrl)("/help-centre"),icon:"IcHelpCentre",text:(0,b.localize)("Help centre"),onClickLink:Te})}),Y?(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)(c.MobileDrawer.Item,{className:me?"":"header__menu-mobile-theme--trader-hub",children:(0,k.jsx)(P.A,{link_to:(0,p.getStaticUrl)("/responsible"),icon:"IcVerification",text:(0,b.localize)("Responsible trading"),onClickLink:Te})}),me&&(0,k.jsx)(c.MobileDrawer.Item,{className:"header__menu-mobile-theme--trader-hub",children:(0,k.jsx)(P.A,{link_to:(0,p.getStaticUrl)("/regulatory"),icon:"IcRegulatoryInformation",text:(0,b.localize)("Regulatory information"),onClickLink:Te})})]}):(0,k.jsx)(c.MobileDrawer.Item,{className:"header__menu-mobile-theme--trader-hub",children:(0,k.jsx)(P.A,{link_to:(0,p.getStaticUrl)("/responsible"),icon:"IcVerification",text:(0,b.localize)("Responsible trading"),onClickLink:Te})}),ye&&(0,k.jsx)(c.MobileDrawer.Item,{className:"header__menu-mobile-whatsapp",children:(0,k.jsx)(v.A,{onClick:Te})}),be&&(0,k.jsx)(c.MobileDrawer.Item,{className:"header__menu-mobile-livechat",children:(0,k.jsx)(x.A,{})}),Y&&(0,k.jsx)(c.MobileDrawer.Item,{onClick:Le,className:"dc-mobile-drawer__item",children:(0,k.jsx)(P.A,{icon:"IcLogout",text:(0,b.localize)("Log out")})})]}),(0,k.jsxs)(c.MobileDrawer.Footer,{className:Y?"dc-mobile-drawer__footer--servertime":"",children:[(0,k.jsx)(O.A,{is_mobile:!0}),(0,k.jsx)(j.Ay,{is_mobile:!0})]}),E&&(0,k.jsx)(A,{expandSubMenu:Se,toggleDrawer:Te})]})})})})]});var Fe}));I.displayName="ToggleMenuDrawer";const D=I},110615:(e,t,r)=>{"use strict";r.d(t,{A:()=>w});var n=r(255530),o=r.n(n),i=r(286326),a=r(592353),s=r(557344),c=r(281476),l=r(500309),d=r(414646),u=r(33118),_=r(919796),h=r(836870);const m=()=>(0,h.jsx)("div",{className:"notifications-empty__container",children:(0,h.jsxs)("div",{className:"notifications-empty",children:[(0,h.jsx)(a.Icon,{data_testid:"dt_ic_box_icon",icon:"IcBox",className:"notifications-empty__icon",size:64,color:"secondary"}),(0,h.jsxs)("div",{className:"notifications-empty__content",children:[(0,h.jsx)(a.Text,{as:"h4",size:"xs",weight:"bold",align:"center",color:"less-prominent",className:"notifications-empty__header",children:(0,h.jsx)(u.Localize,{i18n_default_text:"No notifications"})}),(0,h.jsx)(a.Text,{size:"xxs",color:"less-prominent",align:"center",children:(0,h.jsx)(u.Localize,{i18n_default_text:"You have yet to receive any notifications"})})]})]})}),p=(0,l.observer)((({clearNotifications:e})=>{const{notifications:t,ui:r}=(0,d.A)(),{is_notifications_empty:n}=t,{is_mobile:s}=r;return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)("div",{className:"notifications-dialog__separator"}),(0,h.jsx)("div",{"data-testid":"dt_clear_all_footer_button",className:o()("notifications-dialog__footer",{"notifications-dialog__content--empty":n,"notifications-dialog__content--sticky":s}),children:(0,h.jsx)(a.Button,{className:o()("dc-btn--secondary","notifications-dialog__clear"),disabled:n,onClick:e,children:(0,h.jsx)(a.Text,{size:"xxs",color:"prominent",weight:"bold",children:(0,h.jsx)(u.Localize,{i18n_default_text:"Clear All"})})})})]})}));var g=r(504377),f=r(852691),b=r(291218);const y=(0,l.observer)((()=>{const{notifications:e}=(0,d.A)(),{notifications:t,toggleNotificationsModal:r}=e,n=(0,b.useHistory)(),s=e=>{const{type:t}=e;return["contract_sold","info","news","promotions"].includes(t)?"IcAlertInfo":`IcAlert${(0,g.toTitleCase)(t)}`},l=e=>{switch(["action","secondary_btn","cta_btn","primary_btn"].find((t=>!(0,g.isEmptyObject)(e[t])))){case"primary_btn":return e.primary_btn;case"cta_btn":return e.cta_btn;case"secondary_btn":return e.secondary_btn;case"action":return e.action;default:return}},u=e=>{c.Analytics.trackEvent("ce_notification_form",{action:"click_cta",form_name:"ce_notification_form",notification_key:e})},_=t.filter((e=>!e.only_toast_message));return(0,h.jsx)(i.Fragment,{children:_.length>0?_.map((e=>{var t,c,d,_,m;return(0,h.jsxs)("div",{className:"notifications-item",children:[(0,h.jsxs)(a.Text,{as:"h2",className:"notifications-item__title",weight:"bold",size:"xs",color:"prominent",children:[e.type&&(0,h.jsx)(a.Icon,{icon:s(e),className:o()("notifications-item__title-icon",{[`notifications-item__title-icon--${e.type}`]:e.type})}),e.header]}),(0,h.jsx)("div",{className:"notifications-item__message",children:e.message}),(0,h.jsx)("div",{className:"notifications-item__action",children:!!l(e)&&(0,h.jsx)(i.Fragment,{children:null===(t=l(e))||void 0===t||!t.route||null!==(c=l(e))&&void 0!==c&&c.onClick?(0,h.jsx)(a.Button,{className:o()("dc-btn--secondary","notifications-item__cta-button"),onClick:()=>{var t,r,o;(null===(t=l(e))||void 0===t||t.onClick(),u(e.key),null!==(r=l(e))&&void 0!==r&&r.route)&&n.push(null===(o=l(e))||void 0===o?void 0:o.route)},children:(0,h.jsx)(a.Text,{weight:"bold",size:"xxs",children:null===(m=l(e))||void 0===m?void 0:m.text})}):(0,h.jsx)(f.Sm,{onClick:()=>{const t=l(e);null!=t&&t.onClick&&t.onClick(),r(),u(e.key)},active_class:"notifications-item",className:o()("dc-btn","dc-btn--secondary","notifications-item__cta-button"),to:null===(d=l(e))||void 0===d?void 0:d.route,children:(0,h.jsx)(a.Text,{weight:"bold",size:"xxs",children:null===(_=l(e))||void 0===_?void 0:_.text})})})})]},e.key)})):(0,h.jsx)(m,{})})})),x=i.forwardRef((({clearNotifications:e},t)=>{const{notifications:r,ui:n}=(0,d.A)(),{is_notifications_empty:i}=r,{is_mobile:s}=n;return(0,h.jsxs)("div",{"data-testid":"dt_notifications_list_wrapper",className:"notifications-dialog",ref:t,children:[(0,h.jsx)("div",{className:"notifications-dialog__header",children:(0,h.jsx)(a.Text,{as:"h2",className:"notifications-dialog__header-text",weight:"bold",color:"prominent",styles:{lineHeight:"1.6rem"},children:(0,h.jsx)(u.Localize,{i18n_default_text:"Notifications"})})}),(0,h.jsx)("div",{className:o()("notifications-dialog__content",{"notifications-dialog__content--empty":i}),children:(0,h.jsx)(a.ThemedScrollbars,{is_bypassed:s||i,children:i?(0,h.jsx)(m,{}):(0,h.jsx)(y,{})})}),(0,h.jsx)(p,{clearNotifications:e})]})}));x.displayName="NotificationListWrapper";const v=(0,l.observer)(x),j=(0,l.observer)((()=>{const{client:e,notifications:t}=(0,d.A)(),{loginid:r}=e,{is_notifications_visible:n,notifications:o,removeNotifications:l,removeNotificationMessage:m,removeNotificationMessageByKey:p,toggleNotificationsModal:g}=t,f=i.useRef(null),{isMobile:b}=(0,_.Y)(),y=()=>{c.Analytics.trackEvent("ce_notification_form",{action:"clear_all",form_name:"ce_notification_form",notification_num:o.length}),o.forEach((({key:e,should_show_again:t})=>{p({key:e}),m({key:e,should_show_again:t}),l(!0)}))};return(0,a.useOnClickOutside)(f,(e=>{var t,r;const o=!(null!=e&&null!==(t=e.target)&&void 0!==t&&t.classList.contains("notifications-toggle__icon-wrapper"));null!=f&&null!==(r=f.current)&&void 0!==r&&r.contains(e.target)||!n||!o||g()})),b?(0,h.jsx)(a.MobileDialog,{portal_element_id:"modal_root",title:(0,h.jsx)(u.Localize,{i18n_default_text:"Notifications"}),wrapper_classname:"notifications-mobile-dialog",visible:n,onClose:g,children:(0,h.jsx)(v,{clearNotifications:y,ref:f})}):(0,h.jsx)(s.A,{in:n,classNames:{enter:"notifications-dialog--enter",enterDone:"notifications-dialog--enter-done",exit:"notifications-dialog--exit"},timeout:150,unmountOnExit:!0,children:(0,h.jsx)(v,{clearNotifications:y,ref:f})})})),w=({count:e,is_visible:t,toggleDialog:r,tooltip_message:n,should_disable_pointer_events:i=!1,showPopover:s=!0})=>{const{isMobile:c}=(0,_.Y)(),l=(0,h.jsxs)("div",{className:o()("notifications-toggle__icon-wrapper",{"notifications-toggle__icon-wrapper--active":t}),onClick:r,children:[(0,h.jsx)(a.Icon,{className:"notifications-toggle__icon",icon:"IcBell"}),!!e&&(0,h.jsx)(a.Counter,{count:e,className:"notifications-toggle__step"})]});return c?(0,h.jsxs)("div",{className:o()("notifications-toggle",{"notifications-toggle--active":t}),children:[l,(0,h.jsx)(j,{is_visible:t,toggleDialog:r})]}):(0,h.jsxs)("div",{className:o()("notifications-toggle",{"notifications-toggle--active":t}),children:[s?(0,h.jsx)(a.Popover,{classNameBubble:"notifications-toggle__tooltip",alignment:"bottom",message:n,should_disable_pointer_events:i,zIndex:"9999",children:l}):l,(0,h.jsx)(j,{is_visible:t,toggleDialog:r})]})}},564702:(e,t,r)=>{"use strict";r.d(t,{$:()=>U});var n=r(286326),o=r(291218),i=r(504377),a=r(592353),s=r(391049),c=r(317691),l=r(919796),d=r(33118),u=r(500309),_=r(414646),h=r(134695),m=r(514378),p=r(110615),g=r(836870);const f=(0,u.observer)((()=>{const e=(0,o.useHistory)(),{ui:t}=(0,_.A)(),{is_dark_mode_on:r,is_mobile:n,setIsWalletsOnboardingTourGuideVisible:s}=t,c=(0,g.jsx)(a.Icon,{data_testid:"dt_traders_hub_onboarding_icon",icon:r?"IcAppstoreTradingHubOnboardingDark":"IcAppstoreTradingHubOnboarding",size:20,onClick:()=>{s(!0),e.location.pathname!==i.routes.traders_hub&&e.push(i.routes.traders_hub)}});return(0,g.jsx)("div",{"data-testid":"dt_traders_hub_onboarding",className:"traders-hub-onboarding__toggle",children:i.isTabletOs?c:(0,g.jsx)(a.Popover,{classNameBubble:"account-settings-toggle__tooltip",alignment:"bottom",message:!n&&(0,g.jsx)(d.Localize,{i18n_default_text:"View tutorial"}),should_disable_pointer_events:!0,zIndex:"9999",children:c})})}));var b=r(255530),y=r.n(b),x=r(557344),v=r(159859),j=r(298497);const w=({is_demo:e,label:t})=>{var r;return e?(0,g.jsx)(a.Badge,{type:"contained",background_color:"blue",label:(0,d.localize)("Demo"),custom_color:"colored-background"}):(0,g.jsx)(a.Badge,{type:"bordered",label:null!==(r=null==t?void 0:t.toUpperCase())&&void 0!==r?r:""})},O=(0,u.observer)((({closeAccountsDialog:e,account:t,show_badge:r=!1})=>{var n,o;const{currency:s,dtrade_loginid:c,dtrade_balance:l,gradients:u,icons:h,is_virtual:m,loginid:p,landing_company_name:f,icon_type:b}=t,{ui:{is_dark_mode_on:x},client:{switchAccount:v,loginid:j,is_eu:O}}=(0,_.A)(),k=x?"dark":"light",N=x?"IcWalletOptionsDark":"IcWalletOptionsLight",S=c===j,C=async()=>{e(),S||(await v(c),localStorage.setItem("active_wallet_loginid",p),sessionStorage.setItem("active_wallet_loginid",p))};return(0,g.jsxs)("div",{className:y()("acc-switcher-wallet-item__container",{"acc-switcher-wallet-item__container--active":S}),"data-testid":"account-switcher-wallet-item",onClick:C,role:"button",onKeyDown:e=>{"Enter"===e.key&&C()},children:[(0,g.jsx)("div",{children:(0,g.jsx)(a.AppLinkedWithWalletIcon,{app_icon:N,gradient_class:null!==(n=null==u?void 0:u.card[k])&&void 0!==n?n:"",type:b,wallet_icon:null!==(o=null==h?void 0:h[k])&&void 0!==o?o:"",hide_watermark:!0})}),(0,g.jsxs)("div",{className:"acc-switcher-wallet-item__content",children:[(0,g.jsx)(a.Text,{size:"xxxs",children:O?(0,g.jsx)(d.Localize,{i18n_default_text:"Multipliers"}):(0,g.jsx)(d.Localize,{i18n_default_text:"Options"})}),(0,g.jsx)(a.Text,{size:"xxxs",children:m?(0,g.jsx)(d.Localize,{i18n_default_text:"Demo Wallet"}):(0,g.jsx)(d.Localize,{i18n_default_text:"{{currency}} Wallet",values:{currency:(0,i.getCurrencyDisplayCode)(s)}})}),(0,g.jsx)(a.Text,{size:"xs",weight:"bold",children:`${(0,i.formatMoney)(s||"",l||0,!0)} ${(0,i.getCurrencyDisplayCode)(s)}`})]}),r&&(0,g.jsx)(w,{is_demo:Boolean(m),label:f})]})})),k=({wallets:e,closeAccountsDialog:t})=>{const r=[...e||[]].sort(((e,t)=>{if(e.is_virtual||t.is_virtual)return e.is_virtual?1:-1;const r=e.dtrade_balance||0;return(t.dtrade_balance||0)-r}));return(0,g.jsx)("div",{className:"account-switcher-wallet-list",children:null==r?void 0:r.map((e=>e.is_dtrader_account_disabled?null:(0,g.jsx)(O,{account:e,closeAccountsDialog:t,show_badge:null==e?void 0:e.is_virtual},e.dtrade_loginid)))})},N=(0,u.observer)((({is_visible:e,toggle:t})=>{const{data:r}=(0,v.A)(),s=null==r?void 0:r.filter((e=>e.dtrade_loginid)),l=(0,o.useHistory)(),u=n.useRef(null),{isHubRedirectionEnabled:_}=(0,c.A)(),h=window.location.search,m=new URLSearchParams(h).get("account")||window.sessionStorage.getItem("account"),p=n.useCallback((()=>{t(!1)}),[t]);(0,a.useOnClickOutside)(u,p,(t=>{const r=e=>{var t;if(null!=e&&null!==(t=e.classList)&&void 0!==t&&t.contains("acc-info__wallets"))return!0;const n=null==e?void 0:e.parentNode;return!!n&&r(n)};return e&&!r(t.target)}));return(0,g.jsxs)("div",{className:"account-switcher-wallet",ref:u,children:[(0,g.jsx)("div",{className:"account-switcher-wallet__header",children:(0,g.jsx)(a.Text,{as:"h4",weight:"bold",size:"xs",children:(0,g.jsx)(d.Localize,{i18n_default_text:"Options accounts"})})}),(0,g.jsx)(a.ThemedScrollbars,{height:450,children:(0,g.jsx)(k,{wallets:s,closeAccountsDialog:p})}),(0,g.jsxs)("button",{className:"account-switcher-wallet__looking-for-cfds",onClick:async()=>{_?window.location.assign(`${i.platforms.tradershub_os.url}/redirect?action=redirect_to&redirect_to=cfds${m?`&account=${m}`:""}`):(p(),l.push(i.routes.traders_hub))},type:"button",children:[(0,g.jsx)(a.Text,{size:"xs",line_height:"xl",children:(0,g.jsx)(d.Localize,{i18n_default_text:"Looking for CFDs? Go to Traders Hub"})}),(0,g.jsx)(a.Icon,{data_testid:"dt_go_to_arrow",icon:"IcChevronDownBold",className:"account-switcher-wallet__arrow"})]})]})}));var S=r(768429);const C=(0,u.observer)((({is_visible:e,toggle:t,loginid:r})=>{const s=(0,o.useHistory)(),l=(0,S.A)(),{data:u}=(0,v.A)(),_=null==u?void 0:u.filter((e=>e.dtrade_loginid)),{isHubRedirectionEnabled:h}=(0,c.A)(),m=n.useCallback((()=>{t(!1)}),[t]),p=(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)("hr",{className:"account-switcher-wallet-mobile__divider"}),(0,g.jsxs)("button",{className:"account-switcher-wallet-mobile__footer",onClick:()=>{const e=window.location.search,t=new URLSearchParams(e).get("account")||window.sessionStorage.getItem("account");h?window.location.assign(`${i.platforms.tradershub_os.url}/redirect?action=redirect_to&redirect_to=cfds${t?`&account=${t}`:""}`):(m(),s.push(i.routes.traders_hub))},type:"button",children:[(0,g.jsx)(a.Text,{weight:"normal",size:"xs",children:(0,g.jsx)(d.Localize,{i18n_default_text:"Looking for CFDs? Go to Traders Hub"})}),(0,g.jsx)(a.Icon,{icon:l?"IcChevronLeftBold":"IcChevronRightBold"})]})]});return(0,g.jsx)(a.MobileDialog,{portal_element_id:"deriv_app",footer:p,visible:e,onClose:m,has_close_icon:!0,has_full_height:!0,title:(0,g.jsx)(d.Localize,{i18n_default_text:"Options accounts"}),children:(0,g.jsxs)("div",{className:"account-switcher-wallet-mobile",children:[(0,g.jsx)(k,{wallets:_,closeAccountsDialog:m}),(0,g.jsx)(a.Button,{className:"account-switcher-wallet-mobile__button",has_effect:!0,primary:!0,large:!0,onClick:()=>{if(m(),h){const e=`https://hub.${(0,i.getDomainUrl)()}/tradershub`,t=((0,i.getDomainUrl)(),e),r=window.location.search,n=new URLSearchParams(r),o=window.sessionStorage.getItem("account")||n.get("account");window.location.href=`${t}/redirect?action=redirect_to&redirect_to=wallet${o?`&account=${o}`:""}`}else{var e;s.push(i.routes.wallets_transfer,{toAccountLoginId:r,is_from_dtrader:null===(e=window.location.pathname)||void 0===e?void 0:e.includes("dtrader")})}},children:(0,g.jsx)(d.Localize,{i18n_default_text:"Manage funds"})})]})})}));var A=r(766475),P=r(141929);const z=({is_disabled:e=!1})=>e?(0,g.jsx)(a.Icon,{data_testid:"dt_lock_icon",icon:"IcLock"}):(0,g.jsx)(a.Icon,{data_testid:"dt_select_arrow",icon:"IcChevronDownBold",className:"acc-info__select-arrow"}),I=({balance:e,currency:t,is_virtual:r,display_code:n})=>void 0===e&&t?null:(0,g.jsx)("div",{className:"acc-info__wallets-account-type-and-balance",children:(0,g.jsx)(a.Text,{as:"p","data-testid":"dt_balance",className:y()("acc-info__balance acc-info__wallets-balance",{"acc-info__balance--no-currency":!t&&!r}),children:t?`${(0,i.formatMoney)(t,null!=e?e:0,!0)} ${n}`:(0,g.jsx)(d.Localize,{i18n_default_text:"No currency assigned"})})}),D=(0,u.observer)((({gradients:e,icons:t,icon_type:r})=>{var n,o;const{ui:{is_dark_mode_on:i}}=(0,_.A)(),s=i?"dark":"light",c=i?"IcWalletOptionsDark":"IcWalletOptionsLight";return(0,g.jsx)("div",{className:"acc-info__wallets-container",children:(0,g.jsx)(a.AppLinkedWithWalletIcon,{app_icon:c,gradient_class:null!==(n=null==e?void 0:e.card[s])&&void 0!==n?n:"",size:"small",type:r,wallet_icon:null!==(o=null==t?void 0:t[s])&&void 0!==o?o:"",hide_watermark:!0})})})),T=(0,u.observer)((({gradients:e,icons:t,icon_type:r})=>{var n;const{ui:o}=(0,_.A)(),{is_dark_mode_on:i}=o,s=i?"dark":"light";return(0,g.jsxs)("div",{className:"acc-info__wallets-container",children:[(0,g.jsx)(a.Icon,{icon:i?"IcWalletOptionsDark":"IcWalletOptionsLight",size:24,data_testid:"dt_ic_wallet_options"}),(0,g.jsx)(a.WalletIcon,{icon:null!==(n=null==t?void 0:t[s])&&void 0!==n?n:"",type:r,gradient_class:null==e?void 0:e.card[s],size:"small",has_bg:!0,hide_watermark:!0})]})})),L=(0,u.observer)((({is_dialog_on:e,toggleDialog:t})=>{var r;const{client:n,ui:o}=(0,_.A)(),{switchAccount:a,is_logged_in:s,loginid:c,accounts:d}=n,{account_switcher_disabled_message:u}=o,{data:h}=(0,v.A)(),m=(0,j.A)(),{isDesktop:p}=(0,l.Y)(),f=null==d?void 0:d[null!=c?c:""],b=sessionStorage.getItem("active_wallet_loginid")||localStorage.getItem("active_wallet_loginid"),O=null!==(r=null==h?void 0:h.find((e=>e.loginid===b)))&&void 0!==r?r:null==h?void 0:h.find((e=>e.loginid===c));let k=c;var S;O&&(k=sessionStorage.getItem("active_loginid")||O.dtrade_loginid||(null===(S=m.dtrade)||void 0===S||null===(S=S[0])||void 0===S?void 0:S.loginid),k&&k!==c&&a(k));const L=null==h?void 0:h.find((e=>e.dtrade_loginid===k));if(!L)return(0,g.jsx)(A.sk,{is_logged_in:s,is_mobile:!p,speed:3});const E=L.is_virtual;return(0,g.jsxs)("div",{className:"acc-info__wrapper",children:[p&&(0,g.jsx)("div",{className:"acc-info__separator"}),(0,g.jsx)(P.A,{is_mobile:!p,is_disabled:Boolean(null==f?void 0:f.is_disabled),disabled_message:u,children:(0,g.jsxs)("div",{"data-testid":"dt_acc_info",id:"dt_core_account-info_acc-info",className:y()("acc-info acc-info__wallets",{"acc-info--show":e,"acc-info--is-disabled":null==f?void 0:f.is_disabled}),onClick:null!=f&&f.is_disabled?void 0:()=>t(),onKeyDown:null!=f&&f.is_disabled?void 0:()=>t(),children:[p?(0,g.jsx)(T,{gradients:L.gradients,icons:L.icons,icon_type:L.icon_type}):(0,g.jsx)(D,{gradients:L.gradients,icons:L.icons,icon_type:L.icon_type}),(0,g.jsx)(I,{balance:null==f?void 0:f.balance,currency:null==f?void 0:f.currency,is_virtual:Boolean(null==f?void 0:f.is_virtual),display_code:(0,i.getCurrencyDisplayCode)(null==f?void 0:f.currency)}),E&&(0,g.jsx)(w,{is_demo:Boolean(null==L?void 0:L.is_virtual),label:null==L?void 0:L.landing_company_name}),(0,g.jsx)(z,{is_disabled:Boolean(null==f?void 0:f.is_disabled)})]})}),(0,g.jsx)("div",{className:"acc-info__separator"}),p?(0,g.jsx)(x.A,{in:e,timeout:200,classNames:{enter:"acc-switcher__wrapper--enter",enterDone:"acc-switcher__wrapper--enter-done",exit:"acc-switcher__wrapper--exit"},unmountOnExit:!0,children:(0,g.jsx)("div",{className:"acc-switcher__wrapper acc-switcher__wrapper--wallets",children:(0,g.jsx)(N,{is_visible:e,toggle:t})})}):(0,g.jsx)(C,{is_visible:e,toggle:t,loginid:c})]})})),E=()=>{const{redirect_url:e}=(0,s.A)(),t=(0,g.jsx)("a",{className:"account-settings-toggle",href:e,children:(0,g.jsx)(a.Icon,{icon:"IcUserOutline"})});return i.isTabletOs?t:(0,g.jsx)(a.Popover,{classNameBubble:"account-settings-toggle__tooltip",alignment:"bottom",message:(0,g.jsx)(d.Localize,{i18n_default_text:"Manage account settings"}),should_disable_pointer_events:!0,zIndex:"9999",children:t})},M=({count:e,is_visible:t,toggleDialog:r,is_mobile:n=!1})=>(0,g.jsx)(p.A,{count:e,is_visible:t,toggleDialog:r,tooltip_message:n?void 0:(0,g.jsx)(d.Localize,{i18n_default_text:"View notifications"}),should_disable_pointer_events:!n,showPopover:!n&&!i.isTabletOs}),F=({openRealAccountSignup:e})=>(0,g.jsx)("div",{className:"set-currency",children:(0,g.jsx)(a.Button,{onClick:()=>e("set_currency"),has_effect:!0,type:"button",text:(0,d.localize)("Set currency"),primary:!0})}),R=({onClick:e})=>(0,g.jsx)(a.Button,{className:"acc-info__button",has_effect:!0,text:(0,d.localize)("Manage funds"),onClick:e,primary:!0}),B=()=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.M,{className:"acc-info__button"}),(0,g.jsx)(m.X,{className:"acc-info__button"})]}),U=(0,u.observer)((({is_traders_hub_routes:e})=>{const{client:t,ui:r,notifications:n}=(0,_.A)(),{is_logged_in:a,accounts:s,loginid:d,has_wallet:u}=t,{openRealAccountSignup:h,toggleAccountsDialog:m,is_accounts_switcher_on:p}=r,{isDesktop:b}=(0,l.Y)(),{isHubRedirectionEnabled:y}=(0,c.A)(),{is_notifications_visible:x,notifications:v,toggleNotificationsModal:j}=n,w=null==v?void 0:v.length,O=null==s?void 0:s[null!=d?d:""],k=null==O?void 0:O.is_virtual,N=null==O?void 0:O.currency,S=b&&!e&&!k&&!N,C=b&&!e&&N,A=(0,o.useHistory)();return a?(0,g.jsxs)(g.Fragment,{children:[S&&(0,g.jsx)(F,{openRealAccountSignup:h}),C&&(0,g.jsx)(R,{onClick:()=>{if(y){const e=`https://hub.${(0,i.getDomainUrl)()}/tradershub`,t=((0,i.getDomainUrl)(),e),r=window.location.search,n=new URLSearchParams(r),o=window.sessionStorage.getItem("account")||n.get("account");window.location.href=`${t}/redirect?action=redirect_to&redirect_to=wallet${o?`&account=${o}`:""}`}else{var e;A.push(i.routes.wallets_transfer,{toAccountLoginId:d,is_from_dtrader:null===(e=window.location.pathname)||void 0===e?void 0:e.includes("dtrader")})}}}),!e&&(0,g.jsx)(L,{is_dialog_on:p,toggleDialog:m}),e&&(0,g.jsx)(f,{}),(0,g.jsx)(M,{count:w,is_visible:x,toggleDialog:j,is_mobile:!b}),b&&(0,g.jsx)(E,{})]}):(0,g.jsx)(B,{})}))},976327:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(504377),o=r(33118);const i=[{icon:(0,n.getPlatformSettings)("trader").icon,title:()=>(0,n.getPlatformSettings)("trader").name,name:(0,n.getPlatformSettings)("trader").name,description:()=>(0,o.localize)("A whole new trading experience on a powerful yet easy to use platform."),link_to:n.routes.trade},{icon:(0,n.getPlatformSettings)("dbot").icon,title:()=>(0,n.getPlatformSettings)("dbot").name,name:(0,n.getPlatformSettings)("dbot").name,description:()=>(0,o.localize)("Automated trading at your fingertips. No coding needed."),href:n.routes.bot},{icon:(0,n.getPlatformSettings)("smarttrader").icon,title:()=>(0,n.getPlatformSettings)("smarttrader").name,name:(0,n.getPlatformSettings)("smarttrader").name,description:()=>(0,o.localize)("Trade the worlds markets with our popular user-friendly platform."),href:n.routes.smarttrader}]},674764:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});r(286326);var n=r(592353),o=r(836870);const i=["styles"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l=e=>{let{styles:t={}}=e,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,i);return(0,o.jsxs)("svg",s(s({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},r),{},{children:[(0,o.jsx)("path",{d:"M0 9.33A9.33 9.33 0 019.33 0h5.34A9.33 9.33 0 0124 9.33v5.34A9.33 9.33 0 0114.67 24H9.33A9.33 9.33 0 010 14.67V9.33z",fill:"#FF444F"}),(0,o.jsx)("path",{d:"M15.06 4.97l-.78 4.4H11.6c-2.51 0-4.9 2.02-5.34 4.53l-.19 1.06c-.44 2.51 1.23 4.54 3.74 4.54h2.24a4.11 4.11 0 003.89-3.3L18 4.5l-2.94.47zm-1.91 10.81c-.1.57-.6 1.03-1.17 1.03h-1.36c-1.13 0-1.88-.92-1.69-2.05l.12-.66a2.55 2.55 0 012.4-2.04h2.36l-.66 3.72z",fill:"#fff"})]}))},d=()=>(0,o.jsx)("div",{className:"header__menu-left-logo",children:(0,o.jsx)(n.StaticUrl,{href:"/",children:(0,o.jsx)(l,{})})})},838549:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});r(286326);var n=r(291218),o=r(255530),i=r.n(o),a=r(592353),s=r(504377),c=r(500309),l=r(414646),d=r(33118),u=r(317691),_=r(836870);const h=(0,c.observer)((()=>{const{client:e}=(0,l.A)(),t=(0,n.useHistory)(),r=(0,n.useLocation)(),{isHubRedirectionEnabled:o}=(0,u.A)(),{has_wallet:c}=e,{pathname:h}=r;return(0,_.jsxs)("div",{"data-testid":"dt_traders_hub_home_button",className:i()("traders-hub-header__tradershub",{"traders-hub-header__tradershub--active":h===s.routes.traders_hub||h===s.routes.traders_hub_v2}),onClick:()=>{if(o&&c){const e=`https://hub.${(0,s.getDomainUrl)()}/tradershub`,t=((0,s.getDomainUrl)(),e),r=window.location.search,n=new URLSearchParams(r).get("account")||window.sessionStorage.getItem("account");window.location.href=`${t}/redirect?action=redirect_to&redirect_to=home${n?`&account=${n}`:""}`}else t.push(s.routes.traders_hub)},children:[(0,_.jsx)("div",{className:"traders-hub-header__tradershub--home-logo",children:(0,_.jsx)(a.Icon,{icon:"IcAppstoreTradersHubHome",size:16})}),(0,_.jsx)(a.Text,{className:"traders-hub-header__tradershub--text",children:(0,_.jsx)(d.Localize,{i18n_default_text:"Trader's Hub"})})]})}))},922087:(e,t,r)=>{"use strict";r.d(t,{S:()=>i,fN:()=>o,yt:()=>a});var n=r(33118);const o={SUCCESS:1,WARN:0,DANGER:-1,PENDING:-2},i=e=>{switch(e){case"svg":return(0,n.localize)("Options & Multipliers");case"maltainvest":return(0,n.localize)("Multipliers");default:return(0,n.localize)("Deriv")}},a=e=>{const{landing_company_shortcode:t=""}=e;return o.SUCCESS}},652997:(e,t,r)=>{"use strict";r.d(t,{A:()=>We});var n=r(286326),o=r(291218),i=r(255530),a=r.n(i),s=r(919796),c=r(622831),l=r.n(c),d=r(109582),u=r.n(d),_=r(592353),h=r(504377),m=r(33118),p=r(500309),g=r(414646),f=r(824223),b=r(597598),y=r.n(b),x=r(427596),v=r(630965),j=r.n(v),w=r(960923),O=r.n(w),k=r(836870);const N=()=>[(0,k.jsx)(m.Localize,{i18n_default_text:"Choose your preferred cryptocurrency"},0),(0,k.jsx)(m.Localize,{i18n_default_text:"You can open an account for each cryptocurrency."},1),(0,k.jsx)(m.Localize,{i18n_default_text:"Add a real account"},2),(0,k.jsx)(m.Localize,{i18n_default_text:"Choose a currency you would like to trade with."},3),(0,k.jsx)(m.Localize,{i18n_default_text:"Choose a currency"},4)],S=({heading:e,subheading:t})=>(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)(_.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-crypto-currency__title",children:e}),(0,k.jsx)(_.Text,{as:"h3",size:"xxs",color:"prominent",align:"center",className:"add-crypto-currency__sub-title",children:t})]}),C="crypto",A=(0,p.observer)((({form_error:e,is_add_fiat:t,onClickBack:r,onSubmit:n,should_show_crypto_only:o,should_show_fiat_only:i,value:a,hasNoAvailableCrypto:c})=>{const{isDesktop:l}=(0,s.Y)(),{client:d,ui:u}=(0,g.A)(),{available_crypto_currencies:p,upgradeable_currencies:b,has_fiat:y}=d,{should_show_cancel:x}=u,v=()=>(0,h.reorderCurrencies)(b.filter((e=>"fiat"===e.type))),w=()=>{const e=b.filter((e=>e.type===C));return(0,h.reorderCurrencies)(e,C)},A=()=>!y&&!o,P=e=>-1===p.map((e=>e.value)).indexOf(e.value);return(0,k.jsx)(f.Formik,{initialValues:{currency:a.currency},onSubmit:n,children:({handleSubmit:n,values:o,errors:a,touched:s,isSubmitting:d})=>(0,k.jsxs)("form",{onSubmit:n,children:[!A()&&(0,k.jsx)(S,{heading:N()[0],subheading:N()[1]}),A()&&(0,k.jsx)(S,{heading:t?N()[4]:N()[2],subheading:N()[3]}),A()&&(0,k.jsx)(_.ThemedScrollbars,{children:(0,k.jsx)(j(),{id:"fiat_currency",is_fiat:!0,className:"currency-selector__radio-group currency-selector__radio-group--with-margin",value:o.currency,error:a.currency,touched:s.currency,is_title_enabled:A(),item_count:v().length,children:v().map((e=>(0,k.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name},e.value)))})}),A()&&(0,k.jsx)(_.Text,{as:"p",color:"prominent",size:"xxs",align:"center",className:"currency-selector__deposit-warn",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Youll not be able to change currency once you have made a deposit."})}),c()&&(0,k.jsx)("div",{className:"account-wizard--disabled-message",children:(0,k.jsx)(_.Text,{as:"p",align:"center",size:"xxs",className:"account-wizard--disabled-message-description",children:(0,m.localize)("You already have an account for each of the cryptocurrencies available on {{deriv}}.",{deriv:h.website_name})})}),!i&&(0!==p.length?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(_.ThemedScrollbars,{height:(0,h.isMobile)()?window.innerHeight-240:"460px",children:(0,k.jsx)(j(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",label:(0,m.localize)("Cryptocurrencies"),value:o.currency,error:a.currency,touched:s.currency,is_title_enabled:A(),item_count:w().length,children:w().map((e=>(0,k.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name,selected:P(e)},e.value)))})})}):(0,k.jsx)(_.ThemedScrollbars,{children:(0,k.jsx)(j(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",label:(0,m.localize)("Cryptocurrencies"),is_title_enabled:A(),item_count:w().length,children:w().map((e=>(0,k.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name,selected:!0},e.value)))})})),(0,k.jsx)(_.FormSubmitButton,{className:"currency-selector__button",is_disabled:d||!o.currency,label:(0,m.localize)("Add account"),is_absolute:l,form_error:e,has_cancel:x,cancel_label:(0,m.localize)("Back"),cancel_icon:(0,k.jsx)(_.Icon,{icon:"IcArrowLeftBold"}),onCancel:()=>r()})]})})}));A.propTypes={hasNoAvailableCrypto:y().func,form_error:y().string,onSubmit:y().func,should_show_crypto_only:y().bool,should_show_fiat_only:y().bool,value:y().shape({crypto:y().string,fiat:y().string,currency:y().string}),onClickBack:y().func,is_add_fiat:y().bool};const P=A,z=({message:e})=>(0,k.jsx)("div",{className:"add-currency__note-wrapper",children:(0,k.jsx)(_.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__note",children:e})});function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const L=(e,t,r)=>{const n=[];return e.forEach((e=>{n.push(D(D({},e),{},{has_payment_agent:!(null==t||!t.filter((t=>t.currencies===e.value)).length),is_disabled:null==r?void 0:r.some((t=>t.title===e.value&&t.is_disabled))}))})),n},E="crypto",M=(0,p.observer)((({onSubmit:e,hasNoAvailableCrypto:t,is_add_crypto:r,is_add_fiat:o})=>{const{client:i,modules:s,ui:c}=(0,g.A)(),{available_crypto_currencies:l,has_fiat:d,upgradeable_currencies:u}=i,{cashier:p}=s,b=p.general_store.setShouldShowAllAvailableCurrencies,y=p.general_store.deposit_target,{openRealAccountSignup:v}=c,[w]=n.useState(""),[N]=n.useState({crypto:"",fiat:""}),{data:S,isLoading:C}=(0,x.A)(),A=n.useMemo((()=>{const e=L(u,S);return{crypto:(0,h.reorderCurrencies)(null==e?void 0:e.filter((e=>e.type===E&&l.some((t=>t.value===e.value)))),E),fiat:(0,h.reorderCurrencies)(null==e?void 0:e.filter((e=>"fiat"===e.type&&!l.some((t=>t.value===e.value)))))}}),[S,l,u]),I=()=>{v("choose"),y===h.routes.cashier_pa&&b(!0)},D=()=>(0,k.jsxs)("div",{children:[(0,k.jsx)(_.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-currency__title",children:(0,m.localize)("Fiat currencies")}),!!d&&(0,k.jsx)(_.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__sub-title",children:(0,m.localize)("You are limited to one fiat account only.")}),C?(0,k.jsx)(_.Loading,{is_fullscreen:!1}):(0,k.jsx)(j(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:A.fiat.length,children:A.fiat.map((e=>(0,k.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:d},e.value)))})]}),T=()=>(0,k.jsxs)("div",{children:[(0,k.jsx)(_.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-currency__title",children:(0,m.localize)("Cryptocurrencies")}),(0,k.jsx)(_.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__sub-title",children:(0,m.localize)("You can open an account for each cryptocurrency.")}),C?(0,k.jsx)(_.Loading,{is_fullscreen:!1}):(0,k.jsx)(j(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:A.crypto.length,children:A.crypto.map((e=>(0,k.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:y===h.routes.cashier_pa&&!e.has_payment_agent},e.value)))})]});return r?(0,k.jsx)(_.ThemedScrollbars,{autohide:!1,children:(0,k.jsx)("div",{className:a()("add-crypto-currency cashier-deposit",{"account-wizard--disabled":t()}),children:(0,k.jsx)(P,{className:"account-wizard__body",onSubmit:e,onClickBack:I,value:N,form_error:w,should_show_crypto_only:!0,hasNoAvailableCrypto:t})})}):o?(0,k.jsx)(_.ThemedScrollbars,{autohide:!1,children:(0,k.jsx)("div",{className:"change-currency",children:(0,k.jsx)(P,{className:"account-wizard__body",onSubmit:e,value:N,form_error:w,should_show_fiat_only:!0,hasNoAvailableCrypto:t,is_add_fiat:!0})})}):(0,k.jsx)(f.Formik,{initialValues:{currency:N.currency},onSubmit:e,children:({handleSubmit:e,values:t,isSubmitting:r})=>(0,k.jsxs)("form",{onSubmit:e,children:[(0,k.jsx)(_.ThemedScrollbars,{height:(0,h.isMobile)()?window.innerHeight-190:"460px",children:(0,k.jsxs)("div",{children:[(0,k.jsx)(_.Text,{as:"p",color:"prominent",weight:"bold",align:"center",className:"add-currency__wizard-header",children:(0,m.localize)("Choose your currency")}),(0,k.jsx)(D,{}),(0,k.jsx)("div",{className:"add-currency__underline"}),(0,k.jsx)(T,{})]})}),(0,k.jsx)(z,{message:(0,m.localize)("Some currencies may not be supported by payment agents in your country.")}),(0,k.jsx)(_.FormSubmitButton,{className:"currency-selector__button",is_disabled:r||!t.currency,label:(0,m.localize)("Add account"),is_absolute:!0,form_error:w,has_cancel:!0,cancel_label:(0,m.localize)("Back"),cancel_icon:(0,k.jsx)(_.Icon,{icon:"IcArrowLeftBold"}),onCancel:()=>I()})]})})}));M.propTypes={onSubmit:y().func,is_add_crypto:y().bool,is_add_fiat:y().bool,hasNoAvailableCrypto:y().func};const F=M;var R=r(391289),B=r(978513);const U=(0,p.observer)((({value:e,onSubmit:t,form_error:r,can_change_fiat_currency:n,current_currency_type:o})=>{var i;const{client:a,ui:s}=(0,g.A)(),{upgradeable_currencies:c,currency:l,current_fiat_currency:d}=a,{closeRealAccountSignup:u}=s,p=()=>(0,h.reorderCurrencies)(c.filter((e=>"fiat"===e.type))),b="fiat"===o,y=(0,k.jsx)(m.Localize,{i18n_default_text:"If you want to change your account currency, please contact us via <0>live chat</0>.",components:[(0,k.jsx)("span",{className:"link link--orange",onClick:()=>{u(),B.Chat.open()}},0)]}),x=(0,k.jsx)(m.Localize,{i18n_default_text:"Please switch to your {{fiat_currency}} account to change currencies.",values:{fiat_currency:null==d||null===(i=d.toUpperCase)||void 0===i?void 0:i.call(d)}}),v=b?y:x;return(0,k.jsx)(f.Formik,{initialValues:{fiat:e.fiat},onSubmit:t,children:({handleSubmit:e,values:t,errors:o,touched:i,isSubmitting:a})=>(0,k.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e()},children:[(0,k.jsx)(_.Text,{as:"h1",color:"prominent",weight:"bold",align:"center",className:"change-currency__title",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Change your currency"})}),(0,k.jsx)(_.Text,{as:"h3",size:"xxs",align:"center",className:"change-currency__sub-title",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Choose the currency you would like to trade with."})}),!n&&(0,k.jsx)("div",{className:"account-wizard--disabled-message",children:(0,k.jsx)(_.Text,{as:"p",align:"center",size:"xxs",className:"account-wizard--disabled-message-description",children:v})}),(0,k.jsx)(j(),{id:"fiat",label:(0,m.localize)("Cryptocurrencies"),className:"currency-selector__radio-group currency-selector__radio-group--with-margin",value:t.fiat,error:o.fiat,touched:i.fiat,is_title_enabled:!1,item_count:p().length,children:p().map((e=>(0,k.jsx)(f.Field,{component:O(),name:"fiat",id:e.value,label:e.name,selected:e.value===l},e.value)))}),(0,k.jsx)(_.FormSubmitButton,{className:"change-currency__button",is_disabled:a||!t.fiat,label:(0,m.localize)("Change currency"),is_absolute:!(0,h.isMobile)(),form_error:r})]})})}));U.propTypes={onSubmit:y().func,closeModal:y().func,value:y().shape({crypto:y().string,fiat:y().string}),form_error:y().string,can_change_fiat_currency:y().bool,current_currency_type:y().string,current_fiat_currency:y().string};const W=U;var $=r(945331);const Y=(0,p.observer)((e=>{const{deposit_target:t,is_add_crypto:r,is_add_currency:o,is_add_fiat:i,is_loading:s,onError:c,onSuccessSetAccountCurrency:l,setLoading:d,onClose:u}=e,{client:p,modules:f,ui:b,traders_hub:y}=(0,g.A)(),{available_crypto_currencies:x,can_change_fiat_currency:v,current_currency_type:j,has_fiat:w,setAccountCurrency:O,createCryptoAccount:N,is_low_risk:S,loginid:C}=p,{cashier:A}=f,{show_eu_related_content:z}=y,{manage_real_account_tab_index:I,setShouldShowCancel:D,resetRealAccountSignupTarget:T}=b,L=A.general_store.setIsDeposit,E=(null!=I?I:w&&0===(null==x?void 0:x.length))?1:0,[M,B]=n.useState(E),[U]=n.useState(""),[Y]=n.useState({crypto:"",fiat:""});n.useEffect((()=>((async()=>{d(!0),await R.WS.mt5LoginList(),d(!1)})(),()=>D(!1))),[]);const H=e=>{d(!0),Object.entries(e).map((([e,r])=>{e===h.CURRENCY_TYPE.FIAT?O(r).then((e=>{l(e.passthrough.previous_currency,e.echo_req.set_account_currency,t)})).catch((e=>{c(e)})).finally((()=>d(!1))):N(r).then((()=>{l("",r,t),T(),L(!0)})).catch((e=>{c(e)})).finally((()=>d(!1)))}))},V=()=>0===x.length&&w;if(s)return(0,k.jsx)($.A,{});const G=w&&(0,k.jsx)("div",{className:a()("change-currency",{"account-wizard--disabled":!v}),children:(0,k.jsx)(W,{className:"account-wizard__body",onSubmit:H,value:Y,form_error:U,can_change_fiat_currency:v,current_currency_type:j,closeModal:u})});if(o||r||i)return(0,k.jsx)(F,{onSubmit:H,value:Y,form_error:U,should_show_crypto_only:!0,hasNoAvailableCrypto:V,is_add_crypto:r,is_add_fiat:i,is_add_currency:o});const q=null==C?void 0:C.startsWith("MF");return(0,k.jsx)(_.ThemedScrollbars,{is_bypassed:(0,h.isMobile)(),autohide:!1,children:z&&!S&&w||q?G:(0,k.jsxs)(_.Tabs,{active_index:M,className:"account-wizard add-or-manage tabs--desktop",onTabItemClick:e=>{B(e)},top:!0,header_fit_content:(0,h.isDesktop)(),children:[(0,k.jsx)("div",{label:(0,m.localize)("Cryptocurrencies"),children:(0,k.jsx)("div",{className:a()("add-crypto-currency",{"account-wizard--disabled":V()}),children:(0,k.jsx)(P,{className:"account-wizard__body",onSubmit:H,value:Y,form_error:U,should_show_crypto_only:!0,hasNoAvailableCrypto:V})})}),(0,k.jsx)("div",{label:(0,m.localize)("Fiat currencies"),children:w?G:(0,k.jsx)(P,{className:"account-wizard__body",onSubmit:H,value:Y,form_error:U,should_show_fiat_only:!0,hasNoAvailableCrypto:V})})]})})}));Y.propTypes={onClose:y().func,onError:y().func,onSuccessSetAccountCurrency:y().func,is_loading:y().bool,is_add_crypto:y().bool,setLoading:y().func,is_add_fiat:y().bool,is_add_currency:y().bool,deposit_target:y().string};const H=Y,V="crypto",G=(0,p.observer)((()=>{const{client:e,modules:t,ui:r}=(0,g.A)(),{account_list:o,available_crypto_currencies:i,currency:a,has_fiat:s,upgradeable_currencies:c,switchAccount:l}=e,{cashier:d}=t,{closeRealAccountSignup:u,continueRouteAfterChooseCrypto:p,openRealAccountSignup:b,setShouldShowCancel:y}=r,v=d.general_store.deposit_target,w=d.general_store.should_show_all_available_currencies,N=d.general_store.setShouldShowAllAvailableCurrencies,[S]=n.useState(""),[C]=n.useState({crypto:""}),{data:A,isLoading:P}=(0,x.A)();n.useEffect((()=>()=>N(!1)),[N]);const z=n.useMemo((()=>{const e=()=>0===(null==c?void 0:c.filter((e=>e.type===V&&!o.some((t=>t.title===e.value)))).length),t=L(c,A,o),r=(()=>{var e;let r;r=w?t:null==t?void 0:t.filter((e=>e.type===V&&!i.some((t=>t.value===e.value))));const n=null===(e=r)||void 0===e?void 0:e.filter((e=>o.some((t=>t.title===e.value))));return(0,h.reorderCurrencies)(n,V)})();return(v!==h.routes.cashier_pa||s)&&e()||r.push({value:"plus",name:v===h.routes.cashier_pa?(0,m.localize)("Add a new"):(0,m.localize)("Add new"),second_line_label:v===h.routes.cashier_pa?(0,m.localize)("account"):(0,m.localize)("crypto account"),icon:"IcAddAccount",onClick:()=>(b(v===h.routes.cashier_pa?"add_currency":"add_crypto"),void y(!0)),has_payment_agent:!0}),r}),[o,A,i,v,s,c,w,b,y]),I=async e=>{Object.entries(e).map((([e,t])=>{e&&(u(),t!==a&&(async e=>{const t=o.filter((t=>t.title===e)).map((e=>e.loginid))[0];t&&await l(t)})(t),p())}))};return(0,k.jsx)(f.Formik,{initialValues:{currency:C.currency},onSubmit:e=>{I(e)},children:({handleSubmit:e,values:t,isSubmitting:r})=>(0,k.jsxs)("form",{onSubmit:e,children:[(0,k.jsx)(_.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-crypto-currency__title",children:v===h.routes.cashier_pa?(0,m.localize)("Choose an account or add a new one"):(0,m.localize)("Choose one of your accounts or add a new cryptocurrency account")}),(0,k.jsx)(_.ThemedScrollbars,{children:P?(0,k.jsx)(_.Loading,{is_fullscreen:!1,className:"currency-list__loading-wrapper"}):(0,k.jsx)(j(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:z.length,children:z.map((e=>(0,k.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:!(!e.is_disabled&&v!==h.routes.cashier_pa)&&!e.has_payment_agent},e.value)))})}),(0,k.jsx)(_.FormSubmitButton,{className:"currency-selector__button",is_disabled:r||!t.currency,label:(0,m.localize)("Continue"),is_absolute:!0,form_error:S})]})})})),q=({current:e,closeRealAccountSignup:t,deposit_target:r,redirectToLegacyPlatform:o,deposit_real_account_signup_target:i,history:c,onSubmit:l,setIsDeposit:d})=>{const{isDesktop:u}=(0,s.Y)(),p=()=>(0,k.jsx)(_.Icon,{icon:`IcCurrency-${e.toLowerCase()}`,height:120,width:90}),g=({className:e})=>(0,k.jsx)(_.Icon,{className:e,icon:"IcCheckmarkCircle",color:"green"}),f=()=>{t(),d(!1),o()};return(0,k.jsxs)(n.Fragment,{children:[u&&(0,k.jsx)("div",{onClick:f,className:"finished-add-currency__close",children:(0,k.jsx)(_.Icon,{icon:"IcCross"})}),(0,k.jsxs)(_.Div100vhContainer,{className:"finished-add-currency__dialog",is_disabled:u,height_offset:"40px",children:[(0,k.jsxs)("div",{className:a()("status-dialog__header",{"status-dialog__header--center":!u}),children:[(0,k.jsx)(p,{}),(0,k.jsx)(g,{className:"bottom-right-overlay"})]}),(0,k.jsxs)("div",{className:a()("status-dialog__body",{"status-dialog__body--no-grow":!u}),children:[(0,k.jsx)(_.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Your account is ready"})}),(0,k.jsx)(_.Text,{as:"p",align:"center",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Fund your account to start trading."})})]}),(0,k.jsxs)("div",{className:"finished-add-currency__footer",children:[(0,k.jsx)(_.Button,{onClick:f,text:(0,m.localize)("Maybe later"),secondary:!0}),(0,k.jsx)(_.Button,{onClick:["add_crypto","add_fiat","add_currency"].includes(i)?()=>{t(),c.push(r),r===h.routes.cashier_deposit&&d(!0),o()}:l,text:(0,m.localize)("Deposit now"),primary:!0})]})]})]})},K=n.memo(q),X=({prev:e,current:t})=>e?(0,k.jsx)(m.Localize,{i18n_default_text:"<0>You have successfully changed your currency to {{currency}}.</0><0>Make a deposit now to start trading.</0>",values:{currency:(0,h.getCurrencyDisplayCode)(t)},components:[(0,k.jsx)(_.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},t)]}):(0,k.jsx)(m.Localize,{i18n_default_text:"<0>You have added a {{currency}} account.</0><0> Make a deposit now to start trading.</0>",values:{currency:(0,h.getCurrencyDisplayCode)(t)},components:[(0,k.jsx)(_.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},t)]}),J=({current:e,closeRealAccountSignup:t,deposit_target:r,deposit_real_account_signup_target:n,history:o,onCancel:i,onSubmit:s,prev:c,setIsDeposit:l})=>{const d=()=>c?(0,k.jsx)(_.Icon,{icon:`IcCurrency-${c.toLowerCase()}`,height:120,width:90}):null,u=()=>(0,k.jsx)(_.Icon,{icon:`IcCurrency-${e.toLowerCase()}`,height:120,width:90}),p=()=>c?(0,k.jsx)(_.Icon,{icon:"IcArrowPointerRight",color:"red",width:50,height:20}):null,g=({className:e})=>(0,k.jsx)(_.Icon,{className:e,icon:"IcCheckmarkCircle",color:"green"});return(0,k.jsxs)(_.Div100vhContainer,{className:"status-dialog",is_disabled:(0,h.isDesktop)(),height_offset:"40px",children:[(0,k.jsxs)("div",{className:a()("status-dialog__header",{"status-dialog__header--center":(0,h.isMobile)(),"status-dialog__header--set-currency":c}),children:[(0,k.jsx)(d,{}),(0,k.jsx)(p,{}),(0,k.jsx)(u,{}),(0,k.jsx)(g,{className:"bottom-right-overlay"})]}),(0,k.jsxs)("div",{className:a()("status-dialog__body",{"status-dialog__body--no-grow":(0,h.isMobile)()}),children:[(0,k.jsx)(_.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Success!"})}),(0,k.jsx)(X,{prev:c,current:e})]}),(0,k.jsxs)("div",{className:"status-dialog__footer",children:[(0,k.jsx)(_.Button,{onClick:()=>{i(),l(!1)},text:(0,m.localize)("Maybe later"),secondary:!0}),(0,k.jsx)(_.Button,{onClick:["add_crypto","add_fiat","add_currency"].includes(n)?()=>{t(),o.push(r),r===h.routes.cashier_deposit&&l(!0)}:s,text:(0,m.localize)("Deposit now"),primary:!0})]})]})},Z=n.memo(J);var Q=r(370611),ee=r.n(Q),te=r(697845);const re=["setLoading","onSuccessSetAccountCurrency","onError","is_loading"];function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ae=(0,p.observer)((e=>{let{setLoading:t,onSuccessSetAccountCurrency:r,onError:o,is_loading:i}=e,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,re);const{client:c}=(0,g.A)(),{available_crypto_currencies:l,has_fiat:d,landing_company_shortcode:u,setAccountCurrency:p}=c,f=n.useState(""),b=n.useState({currency:""}),y=()=>0===l.length&&d&&s.currency;return i?(0,k.jsx)($.A,{}):(0,k.jsxs)("div",{className:a()("set-currency-modal",{"set-currency-modal--disabled":y()}),children:[y()&&(0,k.jsx)("div",{className:"set-currency-modal--disabled-message",children:(0,k.jsx)("p",{children:(0,m.localize)("You already have an account for each of the cryptocurrencies available on {{deriv}}.",{deriv:h.website_name})})}),(0,k.jsxs)("div",{className:"set-currency-modal__heading-container",children:[(0,k.jsx)(_.Text,{as:"p",size:"xs",line_height:"s",align:"center",className:"set-currency-modal__heading-container__main-heading",children:(0,m.localize)("You have an account that do not have currency assigned. Please choose a currency to trade with this account.")}),(0,k.jsx)(_.Text,{as:"p",weight:"bold",align:"center",className:"set-currency-modal__heading-container__sub-heading",children:(0,m.localize)("Select your preferred currency")})]}),(0,k.jsx)(te.A,oe({className:"account-wizard__body",onSubmit:(e,n,i)=>{((e,n)=>{t(!0);const{currency:i}=e;i&&p(i).then((e=>{n(!1),r("",e.echo_req.set_account_currency)})).catch((e=>{o(e)})).finally((()=>t(!1)))})(n,i)},value:b,form_error:f,set_currency:!0,validate:(0,h.generateValidationFunction)(u,ee())},s))]})})),se=["text","onConfirm"];function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ue=({code:e})=>{switch(e){case"DuplicateAccount":return(0,k.jsx)(_.Text,{as:"h1",align:"center",weight:"bold",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Account already exists"})});case"InvalidAccount":return(0,k.jsx)(_.Text,{as:"h2",size:(0,h.isMobile)()?"xs":"s",align:"center",weight:"bold",line_height:"xxl",children:(0,k.jsx)(m.Localize,{i18n_default_text:"You cant add another real account"})});case"InputValidationFailed":case"PoBoxInAddress":case"InvalidPhone":return(0,k.jsx)(_.Text,{as:"h1",align:"center",weight:"bold",line_height:"xxl",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Invalid inputs"})});default:return(0,k.jsx)(_.Text,{as:"h1",align:"center",weight:"bold",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Somethings not right"})})}},_e=({code:e,message:t,details:r})=>{switch("PoBoxInAddress"===e?r.error_details={address_line_1:t}:"InvalidPhone"===e&&(r.error_details={phone:t}),e){case"DuplicateAccount":return(0,k.jsx)("p",{children:(0,k.jsx)(m.Localize,{i18n_default_text:"Your details match an existing account. If you need help, contact us via <0>live chat</0>.",components:[(0,k.jsx)("span",{className:"chat-inline",onClick:B.Chat.open},0)]})});case"InvalidAccount":return(0,k.jsx)(_.Text,{size:(0,h.isMobile)()?"xxs":"xs",align:"center",children:t});case"InputValidationFailed":case"PoBoxInAddress":case"InvalidPhone":return(0,k.jsxs)("div",{className:"input_validation_failed",children:[(0,k.jsx)(_.Text,{align:"center",weight:"normal",line_height:"xxl",children:(0,k.jsx)(m.Localize,{i18n_default_text:"We dont accept the following inputs for:"})}),Object.keys(null==r?void 0:r.error_details).map((e=>(0,k.jsxs)("div",{className:"invalid_fields_input",children:[(0,k.jsx)(_.Text,{size:"xs",weight:"bold",children:(0,h.getSignupFormFields)()[e]}),(0,k.jsx)(_.Text,{size:"xs",weight:"bold",children:" : "}),(0,k.jsx)(_.Text,{size:"xs",children:r[e]})]},e)))]});default:return(0,k.jsx)("p",{children:t})}},he=e=>{let{text:t,onConfirm:r}=e,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,se);return(0,k.jsx)(_.Button,le(le({primary:!0,onClick:r,large:!0},n),{},{children:t}))},me=({code:e,onConfirm:t})=>{switch(e){case"DuplicateCurrency":case"CurrencyTypeNotAllowed":return(0,k.jsx)(he,{text:(0,m.localize)("Try a different currency"),onConfirm:t});case"DuplicateAccount":return(0,k.jsx)(he,{text:(0,m.localize)("Go to live chat"),onConfirm:()=>B.Chat.open()});case"InputValidationFailed":case"PoBoxInAddress":case"InvalidPhone":return(0,k.jsx)(he,{text:(0,m.localize)("Lets try again"),onConfirm:t});case"InvalidAccount":return(0,k.jsx)(he,{text:(0,m.localize)("OK"),onConfirm:t});default:return(0,k.jsx)(_.StaticUrl,{href:"help-centre/"+("InvalidAccount"===e?"account#who-can-open-an-account":""),type:"button",className:"dc-btn dc-btn--primary",children:(0,k.jsx)(_.Text,{weight:"bold",color:"white",size:"xxs",children:(0,k.jsx)(m.Localize,{i18n_default_text:"OK"})})})}},pe=({message:e,code:t,onConfirm:r,className:n,error_field:o={}})=>{const i=["InputValidationFailed","PoBoxInAddress","InvalidPhone"].includes(t);return(0,k.jsxs)("div",{className:a()("account-wizard--error",{[`account-wizard--error__${n}`]:n}),children:[(0,k.jsx)(_.Icon,{icon:i?"IcInvalidError":"IcAccountError",size:i?"64":"InvalidAccount"===t?"96":"115"}),(0,k.jsx)(ue,{code:t}),(0,k.jsx)(_e,{code:t,message:e,details:o}),(0,k.jsx)("div",{className:"account-wizard--error__cta",children:(0,k.jsx)(me,{code:t,onConfirm:r})})]})};pe.propTypes={code:y().string,error_field:y().object,message:y().string,onConfirm:y().func,className:y().string};const ge=pe;var fe=r(922087);const be=()=>(0,k.jsx)(_.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Your account is ready"})}),ye=({is_fully_authenticated:e,landing_company_shortcode:t,status:r=fe.fN.SUCCESS})=>{let n="";if("maltainvest"===t)n=e?[(0,k.jsx)(m.Localize,{i18n_default_text:"You have added a Deriv Financial account."},0),(0,k.jsx)(m.Localize,{i18n_default_text:"Make a deposit now to start trading."},1)]:(0,k.jsx)(m.Localize,{i18n_default_text:"We need proof of your identity and address before you can start trading."});else switch(r){case fe.fN.WARN:n=(0,k.jsx)(m.Localize,{i18n_default_text:"To get trading, please confirm where you live."});break;case fe.fN.DANGER:n=(0,k.jsx)(m.Localize,{i18n_default_text:"To get trading, please confirm who you are, and where you live."});break;case fe.fN.PENDING:n=(0,k.jsx)(m.Localize,{i18n_default_text:"You'll be able to get trading as soon as verification is complete."});break;default:n=(0,k.jsx)(m.Localize,{i18n_default_text:"Fund your account to start trading."})}return Array.isArray(n)?(0,k.jsx)(k.Fragment,{children:n.map(((e,t)=>(0,k.jsx)(_.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",children:e},t)))}):(0,k.jsx)(_.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",children:n})};ye.propTypes={is_fully_authenticated:y().bool,landing_company_shortcode:y().string,status:y().number};const xe=({status:e,landing_company_shortcode:t,closeModal:r,closeModalAndOpenCashier:n,closeModalAndOpenPOI:o,closeModalAndOpenPOA:i,is_fully_authenticated:a})=>{const{label:s,action:c}=(({landing_company_shortcode:e,is_fully_authenticated:t,closeModalAndOpenCashier:r,closeModalAndOpenPOI:n})=>"maltainvest"===e?t?{label:(0,m.localize)("Deposit"),action:r}:{label:(0,m.localize)("Submit proof"),action:n}:{label:(0,m.localize)("Deposit"),action:r})({status:e,landing_company_shortcode:t,is_fully_authenticated:a,closeModal:r,closeModalAndOpenCashier:n,closeModalAndOpenPOI:o,closeModalAndOpenPOA:i});return(0,k.jsx)(_.Button,{primary:!0,text:s,onClick:c})},ve=({closeModal:e,is_bypassed:t})=>t?null:(0,k.jsx)(_.Button,{secondary:!0,text:(0,m.localize)("Maybe later"),onClick:e}),je=({status:e,landing_company_shortcode:t,is_fully_authenticated:r,closeModal:n,closeModalAndOpenCashier:o,closeModalAndOpenPOA:i,closeModalAndOpenPOI:a})=>(0,k.jsxs)("div",{className:"status-dialog__footer",children:[(0,k.jsx)(ve,{closeModal:n,is_bypassed:e===fe.fN.PENDING}),(0,k.jsx)(xe,{status:e,landing_company_shortcode:t,closeModal:n,closeModalAndOpenCashier:o,closeModalAndOpenPOI:a,closeModalAndOpenPOA:i,is_fully_authenticated:r})]});je.propTypes={status:y().number,landing_company_shortcode:y().string,is_fully_authenticated:y().bool,closeModal:y().func,closeModalAndOpenCashier:y().func,closeModalAndOpenPOA:y().func,closeModalAndOpenPOI:y().func};const we=({currency:e})=>(0,k.jsx)(_.Icon,{icon:`IcCurrency-${e.toLowerCase()}`,size:120}),Oe=({className:e})=>(0,k.jsx)(_.Icon,{className:e,icon:"IcCheckmarkCircle",color:"green",size:24}),ke=({className:e})=>(0,k.jsx)(_.Icon,{className:e,icon:"IcAlertDanger",size:24}),Ne=({className:e})=>(0,k.jsx)(_.Icon,{className:e,icon:"IcCrossCircle",size:24,color:"red"}),Se=({closeModal:e})=>(0,k.jsx)("div",{onClick:e,className:"status-dialog__close",children:(0,k.jsx)(_.Icon,{icon:"IcCross"})}),Ce=(0,p.observer)((({closeModal:e,currency:t,history:r,icon_size:n})=>{const{isDesktop:o}=(0,s.Y)(),{client:i}=(0,g.A)(),{landing_company_shortcode:c,is_fully_authenticated:l}=i,d=()=>(0,fe.yt)({landing_company_shortcode:c});return(0,k.jsxs)(_.Div100vhContainer,{className:"status-dialog",is_disabled:o,height_offset:"40px",children:[o&&(0,k.jsx)(Se,{closeModal:e}),(0,k.jsxs)("div",{className:a()("status-dialog__header",{"status-dialog__header--large":"large"===n,"status-dialog__header--xlarge":"xlarge"===n}),children:[(0,k.jsx)(we,{currency:t}),d()===fe.fN.SUCCESS&&(0,k.jsx)(Oe,{className:"bottom-right-overlay"}),d()===fe.fN.WARN&&(0,k.jsx)(ke,{className:"bottom-right-overlay"}),d()===fe.fN.DANGER&&(0,k.jsx)(Ne,{className:"bottom-right-overlay"})]}),(0,k.jsxs)("div",{className:a()("status-dialog__body",{"status-dialog__body--no-grow":!o}),children:[(0,k.jsx)(be,{}),(0,k.jsx)(ye,{is_fully_authenticated:l,landing_company_shortcode:c,status:d()})]}),(0,k.jsx)(je,{closeModal:e,closeModalAndOpenPOI:()=>{e(),r.push(h.routes.proof_of_identity)},closeModalAndOpenPOA:()=>{e(),r.push(h.routes.proof_of_address)},closeModalAndOpenCashier:()=>{e(),r.push(h.routes.cashier_deposit)},is_fully_authenticated:l,landing_company_shortcode:c,status:d()})]})}));Ce.defaultProps={icon_size:"large"},Ce.propTypes={closeModal:y().func,currency:y().string,history:y().object,icon:y().object,icon_size:y().string};const Ae=(0,o.withRouter)(Ce),Pe=({icon:e,color:t})=>(0,k.jsx)(_.Icon,{className:"status-container__body-status-icon",icon:e,color:t,size:32}),ze=(0,p.observer)((({closeModal:e,currency:t})=>{const{isDesktop:r}=(0,s.Y)(),{client:n,ui:o}=(0,g.A)(),{landing_company_shortcode:i}=n,{setShouldShowOneTimeDepositModal:a}=o,c=()=>(0,fe.yt)({landing_company_shortcode:i});return(0,k.jsxs)(_.Div100vhContainer,{className:"status-container",is_disabled:r,height_offset:"40px",children:[r&&(0,k.jsx)("div",{onClick:e,className:"status-container__header",children:(0,k.jsx)(_.Icon,{icon:"IcCross"})}),(0,k.jsxs)("div",{className:"status-container__body",children:[(0,k.jsxs)("div",{className:"status-container__body-icon",children:[(0,k.jsx)(_.Icon,{icon:`IcCurrency-${t.toLowerCase()}`,size:96}),c()===fe.fN.SUCCESS&&(0,k.jsx)(Pe,{icon:"IcCheckmarkCircle",color:"green"}),c()===fe.fN.WARN&&(0,k.jsx)(Pe,{icon:"IcAlertDanger"}),c()===fe.fN.DANGER&&(0,k.jsx)(Pe,{icon:"IcCrossCircle",color:"red"})]}),(0,k.jsx)(_.Text,{className:"status-container__body-text",as:"h2",align:"center",weight:"bold",size:"s",line_height:"m",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Deposit now to start trading"})}),(0,k.jsx)(_.Text,{as:"p",align:"center",size:"xs",line_height:"sm",children:(0,k.jsx)(m.Localize,{i18n_default_text:"Your {{ currency }} account is ready.",values:{currency:t}})})]}),(0,k.jsxs)("div",{className:"status-container__footer",children:[c()!==fe.fN.PENDING&&(0,k.jsx)(_.Button,{secondary:!0,text:(0,m.localize)("Maybe later"),wide:!r,onClick:e}),(0,k.jsx)(_.Button,{className:"status-container__button",primary:!0,text:(0,m.localize)("Deposit"),onClick:()=>{e(),a(!0)},wide:!r})]})]})}));ze.propTypes={closeModal:y().func,currency:y().string,closeModalAndOpenDeposit:y().func};const Ie=(0,o.withRouter)(ze);var De=r(281476);function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){Ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Me=n.lazy((()=>(0,h.moduleLoader)((()=>Promise.all([r.e(7030),r.e(9636)]).then(r.bind(r,852783)))))),Fe={account_wizard:0,add_or_manage_account:1,finished_set_currency:2,status_dialog:3,new_status_dialog:11,set_currency:4,signup_error:5,choose_crypto_currency:6,add_currency:7,finished_add_currency:8,restricted_country_signup_error:9,invalid_input_error:10};let Re=0;const Be=({currency:e,real_account_signup_target:t})=>{const r="deposit_cash"===t;return!("maltainvest"===t)&&!e||Re===Fe.set_currency?(0,k.jsx)(m.Localize,{i18n_default_text:"Set a currency for your real account"}):r?(0,k.jsx)(m.Localize,{i18n_default_text:"Add a Deriv Gaming account"}):"maltainvest"===t?(0,k.jsx)(m.Localize,{i18n_default_text:"Setup your account"}):(0,k.jsx)(m.Localize,{i18n_default_text:"Add a Deriv account"})},Ue=(0,p.observer)((({history:e,state_index:t,is_trading_experience_incomplete:r})=>{const{isDesktop:o}=(0,s.Y)(),{ui:i,client:c,traders_hub:d,modules:p}=(0,g.A)(),{available_crypto_currencies:f,currency:b,fetchAccountSettings:y,has_fiat:x,has_active_real_account:v,is_from_restricted_country:j,realAccountSignup:w,redirectToLegacyPlatform:O}=c,{closeRealAccountSignup:N,deposit_real_account_signup_target:S,is_real_acc_signup_on:C,real_account_signup_target:A,setIsTradingAssessmentForNewUserEnabled:P,setIsClosingCreateRealAccountModal:z,setRealAccountSignupParams:I,setShouldShowAppropriatenessWarningModal:D,setShouldShowRiskWarningModal:T,should_show_appropriateness_warning_modal:L,should_show_risk_warning_modal:E,setShouldShowOneTimeDepositModal:M,toggleAccountSuccessModal:R,real_account_signup:B,is_trading_assessment_for_new_user_enabled:U}=i,{show_eu_related_content:W}=d,{deposit_target:$,setDepositTarget:Y}=p.cashier.general_store,V=p.cashier.general_store.setIsDeposit,q=p.cashier.general_store.should_show_all_available_currencies,[X,J]=n.useState(null),[Q,ee]=n.useState(!1),[te,re]=n.useState(null),[ne,oe]=n.useState(!1),[ie,se]=n.useState({}),[ce,le]=n.useState(""),[de]=n.useState([{action:"signup",body:e=>(0,k.jsx)(n.Suspense,{fallback:(0,k.jsx)(_.UILoader,{}),children:(0,k.jsx)(Me,{setIsRiskWarningVisible:oe,onFinishSuccess:pe,onNewFinishSuccess:fe,onOpenDepositModal:me,onOpenWelcomeModal:be,is_loading:e.is_loading,setLoading:ve,onError:je,onClose:Oe,realAccountSignup:w,setRealAccountFormData:se})}),title:Be},{action:"multi",body:e=>(0,k.jsx)(H,{onSuccessSetAccountCurrency:xe,is_loading:e.is_loading,setLoading:ve,onError:je,is_add_crypto:"add_crypto"===e.real_account_signup_target,is_add_fiat:"add_fiat"===e.real_account_signup_target,is_add_currency:"add_currency"===e.real_account_signup_target,deposit_target:e.deposit_target,onClose:Oe}),title:e=>{var t;return"add_crypto"===e.real_account_signup_target?(0,m.localize)("Create a cryptocurrency account"):"add_fiat"===e.real_account_signup_target?(0,m.localize)("Add a Deriv real account"):"add_currency"===e.real_account_signup_target?(0,m.localize)("Create a new account"):e.has_fiat&&0===(null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,m.localize)("Manage account"):(0,m.localize)("Add or manage account")}},{body:t=>(0,k.jsx)(Z,{prev:t.state_value.previous_currency,current:t.state_value.current_currency,onCancel:we,onSubmit:ye,deposit_real_account_signup_target:t.deposit_real_account_signup_target,deposit_target:t.deposit_target,closeRealAccountSignup:N,setIsDeposit:V,history:e}),title:e=>{var t;return e.has_fiat&&0===(null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,m.localize)("Manage account"):(0,m.localize)("Add or manage account")}},{body:e=>(0,k.jsx)(Ae,{currency:e.state_value.currency,closeModal:we})},{body:e=>(0,k.jsx)(ae,{is_loading:e.is_loading,setLoading:ve,onError:je,onClose:Oe,onSuccessSetAccountCurrency:xe}),title:Be},{body:e=>{var t;return(0,k.jsx)(ge,{message:e.state_value.error_message||(null===(t=e.state_value.error_code)||void 0===t?void 0:t.message_to_client),code:e.state_value.error_code,onConfirm:()=>ke(e.state_value.error_code)})},title:e=>{var t;return"add_crypto"===(null==e?void 0:e.real_account_signup_target)?(0,m.localize)("Create a cryptocurrency account"):"add_fiat"===(null==e?void 0:e.real_account_signup_target)?(0,m.localize)("Add a Deriv real account"):"add_currency"===(null==e?void 0:e.real_account_signup_target)?(0,m.localize)("Create a new account"):null!=e&&e.has_fiat&&0===(null==e||null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,m.localize)("Manage account"):$e?null:(0,m.localize)("Add or manage account")}},{body:()=>(0,k.jsx)(G,{className:"account-wizard__body",onError:je}),title:e=>e.should_show_all_available_currencies?(0,m.localize)("Choose an account"):(0,m.localize)("Choose a cryptocurrency account")},{body:()=>(0,k.jsx)(F,{className:"account-wizard__body",onError:je}),title:()=>(0,m.localize)("Create a new account")},{body:t=>(0,k.jsx)(K,{redirectToLegacyPlatform:O,prev:t.state_value.previous_currency,current:t.state_value.current_currency,onSubmit:ye,deposit_real_account_signup_target:t.deposit_real_account_signup_target,deposit_target:t.deposit_target,closeRealAccountSignup:N,setIsDeposit:V,history:e})},{body:e=>{var t;return(0,k.jsx)(ge,{message:e.state_value.error_message||(null===(t=e.state_value.error_code)||void 0===t?void 0:t.message_to_client),code:e.state_value.error_code,onConfirm:N,className:"restricted-country-error"})}},{body:e=>{var t;return(0,k.jsx)(ge,{message:e.state_value.error_message||(null===(t=e.state_value.error_code)||void 0===t?void 0:t.message_to_client),code:e.state_value.error_code,onConfirm:ke,error_field:e.state_value,className:"invalid-input-error"})}},{body:e=>(0,k.jsx)(Ie,{currency:e.state_value.currency,closeModal:we})}]),[ue,_e]=n.useState(!1),he=n.useCallback((e=>{"maltainvest"!==A&&De.Analytics.trackEvent("ce_real_account_signup_form",Le({form_source:document.referrer,form_name:"real_account_signup_form",landing_company:A},e))}),[A]);n.useEffect((()=>{C&&"svg"===A&&he({action:"open"})}),[C,A,he]);const me=()=>{N(),c.is_mf_account?R():M(!0)},pe=e=>{I({active_modal_index:Fe.status_dialog,currency:e})},fe=e=>{I({active_modal_index:Fe.new_status_dialog,currency:e})},be=e=>{N(),I({currency:e})},ye=()=>{N(),e.push(h.routes.cashier_deposit)},xe=(e,t,r)=>{I({previous_currency:e,current_currency:t,active_modal_index:r?Fe.finished_add_currency:Fe.finished_set_currency})},ve=e=>{ee(e)},je=(e,t)=>{var r;t&&(e=>{localStorage.setItem("real_account_signup_wizard",JSON.stringify(e.map((e=>"object"==typeof e.form_value&&e.form_value))))})(t),J(null===(r=de[Ne()])||void 0===r?void 0:r.action),re(e),he({action:"other_error",real_signup_error_message:e})};n.useEffect((()=>(le((0,m.localize)("Risk Tolerance Warning")),()=>P(r))),[]),n.useEffect((()=>{te&&I(Le({active_modal_index:["InputValidationFailed","PoBoxInAddress","InvalidPhone"].includes(te.code)?Fe.invalid_input_error:Fe.signup_error,error_message:te.message,error_code:te.code},"InputValidationFailed"===te.code&&{error_details:te.details}))}),[te]),n.useEffect((()=>{j&&I({active_modal_index:Fe.restricted_country_signup_error,error_message:(0,m.localize)("Adding more real accounts has been restricted for your country."),error_code:"InvalidAccount"})}),[j,C]);const we=e=>{"noopener noreferrer"===(null==e?void 0:e.target.getAttribute("rel"))||null!=e&&e.target.closest(".redirect-notice")||null!=e&&e.target.closest(".dc-popover__bubble")||(Ne()===Fe.status_dialog&&Ne()===Fe.new_status_dialog||(sessionStorage.removeItem("post_real_account_signup"),localStorage.removeItem("real_account_signup_wizard")),N())},Oe=e=>{!e||"noopener noreferrer"===(null==e?void 0:e.target.getAttribute("rel"))||null!=e&&e.target.closest(".redirect-notice")||null!=e&&e.target.closest(".dc-popover__bubble")||(Ne()===Fe.status_dialog&&Ne()===Fe.new_status_dialog||(sessionStorage.removeItem("post_real_account_signup"),localStorage.removeItem("real_account_signup_wizard")),$===h.routes.cashier_onramp&&Y(""),"signup"!==de[Ne()].action?(N(),O()):z(!0))},ke=e=>{ve(!0),I({active_modal_index:"multi"===X||["CurrencyTypeNotAllowed","DuplicateCurrency"].includes(e)?Fe.add_or_manage_account:Fe.account_wizard})},Ne=()=>"choose"===A?(Re=Fe.choose_crypto_currency,Re):["add_crypto","add_fiat","add_currency"].includes(A)?(Re=Fe.add_or_manage_account,Re):(Re=-1===B.active_modal_index?v&&b&&"manage"===A?Fe.add_or_manage_account:"set_currency"===A?Fe.set_currency:Fe.account_wizard:B.active_modal_index,Re),{title:Se,body:Ce}=de[Ne()],{account_wizard:Pe,add_or_manage_account:ze,finished_set_currency:Te,status_dialog:Ee,new_status_dialog:Ue,set_currency:We,signup_error:$e,restricted_country_signup_error:Ye,invalid_input_error:He}=Fe,Ve=[Pe,ze,We,$e].includes(Ne()),Ge=async()=>{ve(!0);try{const e=await w(Le(Le({},ie),{},{accept_risk:1}));h.WS.authorized.getAccountStatus().then((t=>{var r;const{get_account_status:n}=t;var o,i;(D(!1),"maltainvest"!==A||null!=n&&null!==(r=n.status)&&void 0!==r&&r.includes("cashier_locked"))?(pe(null==e||null===(o=e.new_account_maltainvest)||void 0===o?void 0:o.currency.toLowerCase()),fe(null==e||null===(i=e.new_account_maltainvest)||void 0===i?void 0:i.currency.toLowerCase())):me()}))}catch(e){}finally{y(),ve(!1)}},qe=async()=>{ve(!0),_e(!0);try{await w(Le(Le({},ie),{},{accept_risk:0}))}catch(e){le((0,m.localize)("24-hour Cool Down Warning")),"AppropriatenessTestFailed"===e.code&&(D(!1),T(!0))}finally{y(),ve(!1)}},Ke=()=>{N(),T(!1),_e(!1)};return ue?(0,k.jsx)(l(),{show_risk_modal:ue,title:ce,handleAcceptRisk:Ke,body_content:(0,k.jsx)(m.Localize,{i18n_default_text:"CFDs and other financial instruments come with a high risk of losing money rapidly due to leverage. You should consider whether you understand how CFDs and other financial instruments work and whether you can afford to take the risk of losing your money. <0/><0/> As you have declined our previous warning, you would need to wait 24 hours before you can proceed further.",components:[(0,k.jsx)("br",{},0)]})}):U&&E?(0,k.jsx)(l(),{show_risk_modal:E,title:ce,handleAcceptRisk:Ke,body_content:(0,k.jsx)(m.Localize,{i18n_default_text:"CFDs and other financial instruments come with a high risk of losing money rapidly due to leverage. You should consider whether you understand how CFDs and other financial instruments work and whether you can afford to take the high risk of losing your money. <0/><0/> To continue, kindly note that you would need to wait 24 hours before you can proceed further.",components:[(0,k.jsx)("br",{},0)]})}):L?(0,k.jsx)(u(),{show_risk_modal:L,body_content:(0,k.jsxs)(_.Text,{as:"p",size:"xs",children:[(0,k.jsx)(m.Localize,{i18n_default_text:"In providing our services to you, we are required to ask you for some information to assess if a given product or service is appropriate for you and whether you have the experience and knowledge to understand the risks involved.<0/><0/>",components:[(0,k.jsx)("br",{},0)]}),(0,k.jsx)(m.Localize,{i18n_default_text:"On the basis of the information provided in relation to your knowledge and experience, we consider that the investments available via this website are not appropriate for you.<0/><0/>",components:[(0,k.jsx)("br",{},0)]}),(0,k.jsx)(m.Localize,{i18n_default_text:"By clicking Accept and proceeding with the account opening, you should note that you may be exposing yourself to risks. These risks, which may be significant, include the risk of losing the entire sum invested, and you may not have the knowledge and experience to properly assess or mitigate them."})]}),footer_content:(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)(_.Button,{type:"button",large:!0,text:(0,m.localize)("Decline"),secondary:!0,onClick:qe}),(0,k.jsx)(_.Button,{type:"button",large:!0,text:(0,m.localize)("Accept"),primary:!0,onClick:Ge,is_loading:Q})]})}):(0,k.jsx)(n.Fragment,{children:C&&(0,k.jsx)(n.Fragment,{children:o?(0,k.jsx)(_.Modal,{id:"real_account_signup_modal",className:a()("real-account-signup-modal",{"dc-modal__container_real-account-signup-modal--error":[$e,Ye,He].includes(Ne()),"dc-modal__container_real-account-signup-modal--success":[Te,Ee].includes(Ne())}),is_open:C,is_risk_warning_visible:ne,has_close_icon:"samoa"!==A,is_title_centered:"samoa"===A,renderTitle:()=>Se&&![Te,Ee].includes(Ne())?(0,k.jsx)(Se,{available_crypto_currencies:f,currency:b,has_fiat:x,is_eu:W,real_account_signup_target:A,should_show_all_available_currencies:q}):null,toggleModal:Oe,height:(()=>{if(j)return"304px";if([He,Ee,Ue,$e].includes(Ne()))return"auto";if(!b||Ne()===Fe.set_currency)return"688px";if(v&&b){if(W&&Ne()===Fe.add_or_manage_account)return"420px";if([Fe.finished_set_currency,Fe.finished_add_currency].includes(Ne()))return"auto"}return"740px"})(),width:j||[Fe.invalid_input_error,Fe.signup_error].includes(Ne())?"440px":Ve?"955px":"auto",elements_to_ignore:[document.querySelector(".modal-root")],children:(0,k.jsx)(Ce,{state_value:B,passthrough:t,is_loading:Q,real_account_signup_target:A,deposit_real_account_signup_target:S,deposit_target:$})}):(0,k.jsx)(_.MobileDialog,{portal_element_id:"modal_root",wrapper_classname:"account-signup-mobile-dialog",visible:C,onClose:Oe,has_full_height:Ne()===Fe.signup_error,renderTitle:()=>Se?(0,k.jsx)(Se,{currency:b,real_account_signup_target:A,should_show_all_available_currencies:q}):null,children:(0,k.jsx)(Ce,{state_value:B,passthrough:t,is_loading:Q,real_account_signup_target:A,deposit_real_account_signup_target:S,deposit_target:$})})})})})),We=(0,o.withRouter)(Ue)},945331:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});r(286326);var n=r(592353),o=r(836870);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=e=>(0,o.jsx)("div",{className:"account-signup-loader",children:(0,o.jsx)(n.Loading,a(a({},e),{},{is_fullscreen:!1}))})},878262:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});r(286326);var n=r(592353),o=r(478784),i=r(33118),a=r(500309),s=r(414646),c=r(836870);const l=(0,a.observer)((()=>{const{client:e,ui:t}=(0,s.A)(),{is_virtual:r}=e,{is_set_currency_modal_visible:a,openRealAccountSignup:l,toggleSetCurrencyModal:d}=t,u=(0,o.A)();return(0,c.jsxs)(n.Modal,{id:"dt_set_account_currency_modal",has_close_icon:!1,is_open:a,small:!0,toggleModal:d,title:u?(0,i.localize)("You have an account that needs action"):(0,i.localize)("No currency assigned to your account"),children:[(0,c.jsx)(n.Modal.Body,{children:(0,i.localize)("Please set a currency for your existing real account before creating another account.")}),(0,c.jsx)(n.Modal.Footer,{children:r?(0,c.jsx)(n.Button,{has_effect:!0,text:(0,i.localize)("OK"),onClick:d,primary:!0}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Button,{has_effect:!0,text:(0,i.localize)("Cancel"),onClick:d,secondary:!0}),(0,c.jsx)(n.Button,{has_effect:!0,text:(0,i.localize)("Set currency"),onClick:()=>{d(),setTimeout((()=>{l("set_currency")}),250)},primary:!0})]})})]})}))},203117:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(286326);const o=({onUpdate:e})=>(n.useEffect((()=>{const t=()=>{document.removeEventListener("UpdateAvailable",e)},r=()=>{document.addEventListener("UpdateAvailable",e)};return document.addEventListener("UpdateAvailable",e),document.addEventListener("IgnorePWAUpdate",t),document.addEventListener("ListenPWAUpdate",r),()=>{document.removeEventListener("IgnorePWAUpdate",t),document.removeEventListener("ListenPWAUpdate",r),document.removeEventListener("UpdateAvailable",e)}}),[]),null)},461297:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(414646),o=r(56752);const i=()=>{const{client:e}=(0,n.A)(),{landing_company_shortcode:t,residence:r}=e,i=(0,o.A)();return"im"!==r&&("malta"!==t||i)}},647620:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(286326),o=r(773835),i=r(414646);const a=["data"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=e=>{var t;const{client:r}=(0,i.A)(),{accounts:s,loginid:l=""}=r,d=null===(t=s[l||""])||void 0===t?void 0:t.token,u=(0,o.A)("authorize",{payload:{authorize:null!=e?e:d},options:{enabled:Boolean(null!=e?e:d),refetchOnWindowFocus:!1}}),{data:_}=u,h=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(u,a),m=(0,n.useMemo)((()=>c({},null==_?void 0:_.authorize)),[null==_?void 0:_.authorize]);return c({data:m},h)}},56752:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(414646);const o=()=>{const{client:e}=(0,n.A)(),{active_accounts:t}=e;return t.some((e=>"maltainvest"===e.landing_company_shortcode))}},132870:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(414646);const o=()=>{const{client:e}=(0,n.A)(),{active_accounts:t}=e;return t.some((e=>"svg"===e.landing_company_shortcode))}},673285:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(414646),o=r(56752),i=r(132870);const a=()=>{const{traders_hub:e}=(0,n.A)(),{is_eu_user:t,is_real:r}=e,a=(0,i.A)(),s=(0,o.A)();return(a&&!s&&t||!a&&s&&!t)&&r}},788624:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(286326),o=r(959259);const i=()=>{const e=(0,n.useContext)(o.A);if(!e)throw new Error("useP2PSettingsContext must be used within a P2PSettingsProvider");return e}},427596:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(773835),o=r(414646);const i=["data"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=e=>{var t;const{client:r}=(0,o.A)(),{residence:c}=r,l=(0,n.A)("paymentagent_list",{payload:{paymentagent_list:c,currency:e},options:{enabled:Boolean(c)}}),{data:d}=l,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(l,i);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({data:null==d||null===(t=d.paymentagent_list)||void 0===t?void 0:t.list},u)}},594269:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(773835),o=r(504377),i=r(414646),a=r(286326);const s=["data"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=()=>{var e;const{client:t}=(0,i.A)(),{is_authorize:r,is_logged_in:d}=t,[u,_]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{await o.WS.wait("authorize")&&_(r&&d)}catch(e){console.error("Error while authorizing:",e)}})()}),[r,d]);const h=(0,n.A)("get_settings",{options:{enabled:Boolean(u),refetchOnWindowFocus:!1}}),{data:m}=h,p=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(h,s);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({data:Boolean(null==m||null===(e=m.get_settings)||void 0===e?void 0:e.is_authenticated_payment_agent)},p)}},298497:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(286326),o=r(159859);const i=()=>{const{data:e}=(0,o.A)();return(0,n.useMemo)((()=>{const t={ctrader:[],derivez:[],dtrade:[],dxtrade:[],mt5:[]};return null==e||e.forEach((e=>{const r=e.linked_to;null==r||r.forEach((e=>{null!=e&&e.platform&&null!=e&&e.loginid&&t[e.platform].push(e)}))})),t}),[e])}},159859:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(286326),o=r(414646);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c={Demo:{dark:"IcWalletDerivDemoDark",light:"IcWalletDerivDemoLight"},USD:{dark:"IcWalletCurrencyUsd",light:"IcWalletCurrencyUsd"},EUR:{dark:"IcWalletCurrencyEur",light:"IcWalletCurrencyEur"},AUD:{dark:"IcWalletCurrencyAud",light:"IcWalletCurrencyAud"},GBP:{dark:"IcWalletCurrencyGbp",light:"IcWalletCurrencyGbp"},BTC:{dark:"IcWalletBitcoinDark",light:"IcWalletBitcoinLight"},ETH:{dark:"IcWalletEthereumDark",light:"IcWalletEthereumLight"},USDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},eUSDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},tUSDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},UST:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},LTC:{dark:"IcWalletLiteCoinDark",light:"IcWalletLiteCoinLight"},USDC:{dark:"IcWalletUsdCoinDark",light:"IcWalletUsdCoinLight"},XRP:{dark:"IcWalletXrpDark",light:"IcWalletXrpLight"}},l=()=>{const{client:e}=(0,o.A)(),{accounts:t,is_crypto:r}=e,i=(0,n.useMemo)((()=>{var e;return null===(e=Object.keys(t))||void 0===e||null===(e=e.filter((e=>"wallet"===(null==t?void 0:t[e].account_category))))||void 0===e?void 0:e.map((e=>{var n,o,i,s;const l=null==t?void 0:t[e],d=e,u=l.currency,_=Boolean(l.is_disabled),h=Boolean(l.is_virtual),m=r(u)?"crypto":"fiat",p=h?"demo":m,g=null===(n=l.landing_company_name)||void 0===n?void 0:n.replace("maltainvest","malta"),f="malta"===g,b=null==l||null===(o=l.linked_to)||void 0===o||null===(o=o.find((e=>"dtrade"===(null==e?void 0:e.platform))))||void 0===o?void 0:o.loginid,y=null==t||null===(i=t[null!=b?b:""])||void 0===i?void 0:i.balance,x=Boolean(null==t||null===(s=t[null!=b?b:""])||void 0===s?void 0:s.is_disabled),v=h?"Demo":u||"",j=c[v],w={header:{dark:`wallet-header__${v.toLowerCase()}-bg--dark`,light:`wallet-header__${v.toLowerCase()}-bg`},card:{dark:`wallet-card__${v.toLowerCase()}-bg--dark`,light:`wallet-card__${v.toLowerCase()}-bg`}};return a(a({},l),{},{dtrade_loginid:b,dtrade_balance:y,icons:j,icon_type:p,is_disabled:_,is_virtual:h,is_malta_wallet:f,landing_company_name:g,loginid:d,gradients:w,is_dtrader_account_disabled:x})}))}),[t,r]),s=(0,n.useMemo)((()=>{if(i)return[...i].sort(((e,t)=>e.is_virtual!==t.is_virtual?e.is_virtual?1:-1:r(e.currency)!==r(t.currency)?r(e.currency)?1:-1:(e.currency||"USD").localeCompare(t.currency||"USD")))}),[r,i]);return{data:s,has_wallet:s&&s.length>0}}}}]);
//# sourceMappingURL=core.chunk.3195.78973846415b1162ad96.js.map