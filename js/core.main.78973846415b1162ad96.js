(()=>{var e,t,r,o,n,i,a,s={466390:(e,t,r)=>{var o={"./af.js":[235796,5796],"./am.js":[522933,2933],"./ar-dz.js":[879399,9399],"./ar-iq.js":[170071,71],"./ar-kw.js":[383899,3899],"./ar-ly.js":[630674,674],"./ar-ma.js":[481067,1067],"./ar-sa.js":[780633,633],"./ar-tn.js":[251107,1107],"./ar.js":[95e3,5e3],"./az.js":[52912,2912],"./be.js":[359834,9834],"./bg.js":[906160,6160],"./bi.js":[131022,1022],"./bm.js":[837218,7218],"./bn-bd.js":[109986,9986],"./bn.js":[511407,1407],"./bo.js":[464600,4600],"./br.js":[893939,3939],"./bs.js":[985836,5836],"./ca.js":[500663,663],"./cs.js":[740201,201],"./cv.js":[611718,1718],"./cy.js":[618383,8383],"./da.js":[865996,5996],"./de-at.js":[752556,2556],"./de-ch.js":[645498,5498],"./de.js":[107424,7424],"./dv.js":[453033,3033],"./el.js":[138562,8562],"./en-au.js":[607435,7435],"./en-ca.js":[566825,6825],"./en-gb.js":[608420,8420],"./en-ie.js":[987651,7651],"./en-il.js":[182756,2756],"./en-in.js":[362990,2990],"./en-nz.js":[912733,2733],"./en-sg.js":[335635,5635],"./en-tt.js":[741853,1853],"./en.js":[50104,104],"./eo.js":[184463,4463],"./es-do.js":[29513,9513],"./es-mx.js":[426601,6601],"./es-pr.js":[790554,554],"./es-us.js":[61520,1520],"./es.js":[885331,5331],"./et.js":[781642,1642],"./eu.js":[78073,8073],"./fa.js":[435626,5626],"./fi.js":[902386,2386],"./fo.js":[224596,4596],"./fr-ca.js":[738572,8572],"./fr-ch.js":[73115,3115],"./fr.js":[825287,5287],"./fy.js":[33122,3122],"./ga.js":[635035,5035],"./gd.js":[579592,9592],"./gl.js":[515744,5744],"./gom-latn.js":[724146,4146],"./gu.js":[799887,9887],"./he.js":[560220,220],"./hi.js":[769112,9112],"./hr.js":[788313,8313],"./ht.js":[595571,5571],"./hu.js":[290348,348],"./hy-am.js":[362787,2787],"./id.js":[213014,3014],"./is.js":[378983,8983],"./it-ch.js":[347488,7488],"./it.js":[359302,9302],"./ja.js":[836830,6830],"./jv.js":[370991,991],"./ka.js":[224239,4239],"./kk.js":[803529,3529],"./km.js":[176355,6355],"./kn.js":[305126,5126],"./ko.js":[335845,5845],"./ku.js":[775227,7608],"./ky.js":[987287,7287],"./lb.js":[782701,2701],"./lo.js":[785498,3117],"./lt.js":[390527,527],"./lv.js":[486049,6049],"./me.js":[76673,6673],"./mi.js":[960405,405],"./mk.js":[744915,4915],"./ml.js":[124874,4874],"./mn.js":[820256,256],"./mr.js":[25956,5956],"./ms-my.js":[322194,2194],"./ms.js":[625227,5227],"./mt.js":[481794,1794],"./my.js":[639301,9301],"./nb.js":[897295,7295],"./ne.js":[93614,3614],"./nl-be.js":[880447,447],"./nl.js":[492549,2549],"./nn.js":[260803,803],"./oc-lnc.js":[551099,1099],"./pa-in.js":[69054,9054],"./pl.js":[938803,8803],"./pt-br.js":[156704,6704],"./pt.js":[118571,8571],"./rn.js":[393119,3119],"./ro.js":[374856,4856],"./ru.js":[788090,8090],"./rw.js":[67664,7664],"./sd.js":[79740,9740],"./se.js":[718851,8851],"./si.js":[448399,8399],"./sk.js":[177329,7329],"./sl.js":[430308,308],"./sq.js":[753975,3975],"./sr-cyrl.js":[318197,8197],"./sr.js":[495050,5050],"./ss.js":[884537,4537],"./sv-fi.js":[332442,2442],"./sv.js":[779094,9094],"./sw.js":[907285,7285],"./ta.js":[792572,2572],"./te.js":[633744,3744],"./tet.js":[924398,4398],"./tg.js":[870522,522],"./th.js":[708235,8235],"./tk.js":[807022,7022],"./tl-ph.js":[850516,516],"./tlh.js":[361615,1615],"./tr.js":[620117,117],"./tzl.js":[865365,5365],"./tzm-latn.js":[491134,1134],"./tzm.js":[856406,6406],"./ug-cn.js":[990769,769],"./uk.js":[200891,891],"./ur.js":[997084,7084],"./uz-latn.js":[342828,2828],"./uz.js":[313476,3476],"./vi.js":[828962,6581],"./x-pseudo.js":[373490,3490],"./yo.js":[273739,3739],"./zh-cn.js":[335483,5483],"./zh-hk.js":[856275,6275],"./zh-tw.js":[130747,747],"./zh.js":[776485,6485]};function n(e){if(!r.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],n=t[0];return r.e(t[1]).then((()=>r.t(n,23)))}n.keys=()=>Object.keys(o),n.id=466390,e.exports=n},31350:(e,t,r)=>{var o={"./af":[42515,2515],"./af.js":[42515,2515],"./ar":[354663,4663],"./ar-dz":[18274,8274],"./ar-dz.js":[18274,8274],"./ar-kw":[736978,6978],"./ar-kw.js":[736978,6978],"./ar-ly":[705847,5847],"./ar-ly.js":[705847,5847],"./ar-ma":[462334,2334],"./ar-ma.js":[462334,2334],"./ar-ps":[199613,9613],"./ar-ps.js":[199613,9613],"./ar-sa":[20188,188],"./ar-sa.js":[20188,188],"./ar-tn":[699022,9022],"./ar-tn.js":[699022,9022],"./ar.js":[354663,4663],"./az":[341647,1647],"./az.js":[341647,1647],"./be":[310537,537],"./be.js":[310537,537],"./bg":[367047,7047],"./bg.js":[367047,7047],"./bm":[959121,9121],"./bm.js":[959121,9121],"./bn":[744792,4792],"./bn-bd":[330355,355],"./bn-bd.js":[330355,355],"./bn.js":[744792,4792],"./bo":[188719,8719],"./bo.js":[188719,8719],"./br":[266028,6028],"./br.js":[266028,6028],"./bs":[54899,4899],"./bs.js":[54899,4899],"./ca":[412780,2780],"./ca.js":[412780,2780],"./cs":[442534,2534],"./cs.js":[442534,2534],"./cv":[940937,937],"./cv.js":[940937,937],"./cy":[59396,9396],"./cy.js":[59396,9396],"./da":[504919,4919],"./da.js":[504919,4919],"./de":[488819,8819],"./de-at":[524585,4585],"./de-at.js":[524585,4585],"./de-ch":[278871,8871],"./de-ch.js":[278871,8871],"./de.js":[488819,8819],"./dv":[729702,9702],"./dv.js":[729702,9702],"./el":[465777,5777],"./el.js":[465777,5777],"./en-au":[535630,5630],"./en-au.js":[535630,5630],"./en-ca":[944948,4948],"./en-ca.js":[944948,4948],"./en-gb":[769849,9849],"./en-gb.js":[769849,9849],"./en-ie":[137318,7318],"./en-ie.js":[137318,7318],"./en-il":[902061,2061],"./en-il.js":[902061,2061],"./en-in":[42027,2027],"./en-in.js":[42027,2027],"./en-nz":[720128,128],"./en-nz.js":[720128,128],"./en-sg":[816162,6162],"./en-sg.js":[816162,6162],"./eo":[25784,5784],"./eo.js":[25784,5784],"./es":[694924,4924],"./es-do":[448800,8800],"./es-do.js":[448800,8800],"./es-mx":[831576,1576],"./es-mx.js":[831576,1576],"./es-us":[776081,6081],"./es-us.js":[776081,6081],"./es.js":[694924,4924],"./et":[53753,3753],"./et.js":[53753,3753],"./eu":[240970,970],"./eu.js":[240970,970],"./fa":[339521,9521],"./fa.js":[339521,9521],"./fi":[200505,505],"./fi.js":[200505,505],"./fil":[334049,4049],"./fil.js":[334049,4049],"./fo":[491411,1411],"./fo.js":[491411,1411],"./fr":[656184,6184],"./fr-ca":[278825,8825],"./fr-ca.js":[278825,8825],"./fr-ch":[111106,1106],"./fr-ch.js":[111106,1106],"./fr.js":[656184,6184],"./fy":[912361,2361],"./fy.js":[912361,2361],"./ga":[636760,6760],"./ga.js":[636760,6760],"./gd":[669163,9163],"./gd.js":[669163,9163],"./gl":[152035,2035],"./gl.js":[152035,2035],"./gom-deva":[249030,9030],"./gom-deva.js":[249030,9030],"./gom-latn":[578977,8977],"./gom-latn.js":[578977,8977],"./gu":[777556,7556],"./gu.js":[777556,7556],"./he":[360055,55],"./he.js":[360055,55],"./hi":[889627,9627],"./hi.js":[889627,9627],"./hr":[47814,7814],"./hr.js":[47814,7814],"./hu":[67495,7495],"./hu.js":[67495,7495],"./hy-am":[528314,8314],"./hy-am.js":[528314,8314],"./id":[773357,3357],"./id.js":[773357,3357],"./is":[362920,2920],"./is.js":[362920,2920],"./it":[477309,7309],"./it-ch":[673545,3545],"./it-ch.js":[673545,3545],"./it.js":[477309,7309],"./ja":[624061,4061],"./ja.js":[624061,4061],"./jv":[604376,4376],"./jv.js":[604376,4376],"./ka":[567716,7716],"./ka.js":[567716,7716],"./kk":[579142,9142],"./kk.js":[579142,9142],"./km":[32144,2144],"./km.js":[32144,2144],"./kn":[707625,7625],"./kn.js":[707625,7625],"./ko":[752570,2570],"./ko.js":[752570,2570],"./ku":[365512,5512],"./ku-kmr":[594935,4935],"./ku-kmr.js":[594935,4935],"./ku.js":[365512,5512],"./ky":[120588,588],"./ky.js":[120588,588],"./lb":[310722,722],"./lb.js":[310722,722],"./lo":[468229,8229],"./lo.js":[468229,8229],"./lt":[820532,532],"./lt.js":[820532,532],"./lv":[338814,8814],"./lv.js":[338814,8814],"./me":[584722,4722],"./me.js":[584722,4722],"./mi":[927126,7126],"./mi.js":[927126,7126],"./mk":[38156,8156],"./mk.js":[38156,8156],"./ml":[913337,3337],"./ml.js":[913337,3337],"./mn":[385655,5655],"./mn.js":[385655,5655],"./mr":[600907,907],"./mr.js":[600907,907],"./ms":[1636,1636],"./ms-my":[920967,967],"./ms-my.js":[920967,967],"./ms.js":[1636,1636],"./mt":[325361,5361],"./mt.js":[325361,5361],"./my":[496710,6710],"./my.js":[496710,6710],"./nb":[577024,7024],"./nb.js":[577024,7024],"./ne":[777525,7525],"./ne.js":[777525,7525],"./nl":[378590,8590],"./nl-be":[191962,1962],"./nl-be.js":[191962,1962],"./nl.js":[378590,8590],"./nn":[490388,388],"./nn.js":[490388,388],"./oc-lnc":[69008,9008],"./oc-lnc.js":[69008,9008],"./pa-in":[474143,4143],"./pa-in.js":[474143,4143],"./pl":[585840,5840],"./pl.js":[585840,5840],"./pt":[559400,9400],"./pt-br":[151833,1833],"./pt-br.js":[151833,1833],"./pt.js":[559400,9400],"./ro":[70431,431],"./ro.js":[70431,431],"./ru":[420457,457],"./ru.js":[420457,457],"./sd":[343815,3815],"./sd.js":[343815,3815],"./se":[586416,6416],"./se.js":[586416,6416],"./si":[855236,5236],"./si.js":[855236,5236],"./sk":[811278,1278],"./sk.js":[811278,1278],"./sl":[191663,1663],"./sl.js":[191663,1663],"./sq":[666092,6092],"./sq.js":[666092,6092],"./sr":[572789,2789],"./sr-cyrl":[400060,60],"./sr-cyrl.js":[400060,60],"./sr.js":[572789,2789],"./ss":[238198,8198],"./ss.js":[238198,8198],"./sv":[766937,6937],"./sv.js":[766937,6937],"./sw":[954154,4154],"./sw.js":[954154,4154],"./ta":[630983,983],"./ta.js":[630983,983],"./te":[430947,947],"./te.js":[430947,947],"./tet":[466727,6727],"./tet.js":[466727,6727],"./tg":[590437,437],"./tg.js":[590437,437],"./th":[432024,2024],"./th.js":[432024,2024],"./tk":[706705,6705],"./tk.js":[706705,6705],"./tl-ph":[133857,3857],"./tl-ph.js":[133857,3857],"./tlh":[13590,3590],"./tlh.js":[13590,3590],"./tr":[241322,1322],"./tr.js":[241322,1322],"./tzl":[945484,5484],"./tzl.js":[945484,5484],"./tzm":[111571,1571],"./tzm-latn":[416645,6645],"./tzm-latn.js":[416645,6645],"./tzm.js":[111571,1571],"./ug-cn":[102940,2940],"./ug-cn.js":[102940,2940],"./uk":[203220,3220],"./uk.js":[203220,3220],"./ur":[577699,7699],"./ur.js":[577699,7699],"./uz":[94827,4827],"./uz-latn":[701821,1821],"./uz-latn.js":[701821,1821],"./uz.js":[94827,4827],"./vi":[742377,2377],"./vi.js":[742377,2377],"./x-pseudo":[407417,7417],"./x-pseudo.js":[407417,7417],"./yo":[546252,6252],"./yo.js":[546252,6252],"./zh-cn":[990262,262],"./zh-cn.js":[990262,262],"./zh-hk":[419274,9274],"./zh-hk.js":[419274,9274],"./zh-mo":[675743,5743],"./zh-mo.js":[675743,5743],"./zh-tw":[756114,6114],"./zh-tw.js":[756114,6114]};function n(e){if(!r.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],n=t[0];return r.e(t[1]).then((()=>r.t(n,23)))}n.keys=()=>Object.keys(o),n.id=31350,e.exports=n},109582:(e,t,r)=>{var o,n,i;self,e.exports=(o=r(596176),n=r(592353),i=r(286326),(()=>{"use strict";var e={"../../../node_modules/object-assign/index.js":e=>{var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,n){for(var i,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in i=Object(arguments[c]))r.call(i,l)&&(s[l]=i[l]);if(t){a=t(i);for(var u=0;u<a.length;u++)o.call(i,a[u])&&(s[a[u]]=i[a[u]])}}return s}},"../../../node_modules/react/cjs/react-jsx-runtime.production.min.js":(e,t,r)=>{r("../../../node_modules/object-assign/index.js");var o=r("react"),n=60103;if("function"==typeof Symbol&&Symbol.for){var i=Symbol.for;n=i("react.element"),i("react.fragment")}var a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var o,i={},l=null,u=null;for(o in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,o)&&!c.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===i[o]&&(i[o]=t[o]);return{$$typeof:n,type:e,key:l,ref:u,props:i,_owner:a.current}}t.jsx=l,t.jsxs=l},"../../../node_modules/react/jsx-runtime.js":(e,t,r)=>{e.exports=r("../../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},"@deriv-com/translations":e=>{e.exports=o},"@deriv/components":e=>{e.exports=n},react:e=>{e.exports=i},"../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js":(e,t,o)=>{o.d(t,{Y:()=>d});var n=o("react"),i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},a="object"==typeof i&&i&&i.Object===Object&&i,s="object"==typeof self&&self&&self.Object===Object&&self;a||s||Function("return this")();var c=typeof window<"u"?n.useLayoutEffect:n.useEffect,l=typeof window>"u";function u(e,{defaultValue:t=!1,initializeWithValue:r=!0}={}){const o=e=>l?t:window.matchMedia(e).matches,[i,a]=(0,n.useState)((()=>r?o(e):t));function s(){a(o(e))}return c((()=>{const t=window.matchMedia(e);return s(),t.addListener?t.addListener(s):t.addEventListener("change",s),()=>{t.removeListener?t.removeListener(s):t.removeEventListener("change",s)}}),[e]),i}const d=()=>({isDesktop:u("(min-width: 1280px)"),isMobile:u("(max-width: 600px)"),isTablet:u("(min-width: 601px) and (max-width: 1279px)"),isTabletPortrait:u("(min-width: 601px) and (max-width: 1279px) and (orientation: portrait)"),isMobileOrTabletLandscape:u("(max-width: 1279px) and (orientation: landscape)")})}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s={};a.d(s,{default:()=>h});var c=a("react"),l=a.n(c),u=a("@deriv/components"),d=a("@deriv-com/translations"),_=a("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),p=a("../../../node_modules/react/jsx-runtime.js");const h=({show_risk_modal:e,body_content:t,footer_content:r})=>{const{isDesktop:o}=(0,_.Y)(),{localize:n}=(0,d.useTranslations)();return(0,p.jsx)(l().Fragment,{children:o?(0,p.jsxs)(u.Modal,{width:"44rem",has_close_icon:!1,title:n("Appropriateness Test Warning"),is_open:e,children:[(0,p.jsx)(u.Modal.Body,{children:t}),(0,p.jsx)(u.Modal.Footer,{children:r})]}):(0,p.jsxs)(u.MobileDialog,{wrapper_classname:"test-warning",portal_element_id:"modal_root",visible:e,title:n("Appropriateness Test Warning"),has_close_icon:!1,children:[(0,p.jsx)(u.Modal.Body,{children:t}),(0,p.jsx)(u.Modal.Footer,{children:r})]})})};return s.default})())},819178:(e,t,r)=>{var o;self,o=(e,t,r,o)=>(()=>{"use strict";var n,i,a,s,c={"@deriv/shared":t=>{t.exports=e},"@deriv/translations":e=>{e.exports=t},mobx:e=>{e.exports=r},react:e=>{e.exports=o}},l={};function u(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={exports:{}};return c[e].call(r.exports,r,r.exports,u),r.exports}u.m=c,u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);u.r(r);var o={};n=n||[null,i({}),i([]),i(i)];for(var a=2&t&&e;"object"==typeof a&&!~n.indexOf(a);a=i(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,u.d(r,o),r},u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce(((t,r)=>(u.f[r](e,t),t)),[])),u.u=e=>"cashier/js/cashier."+e+".b3e3e42eb457129a1cdf.js",u.miniCssF=e=>{},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},s="@deriv/cashier:",u.l=(e,t,r,o)=>{if(a[e])a[e].push(t);else{var n,i;if(void 0!==r)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==s+r){n=d;break}}n||(i=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,u.nc&&n.setAttribute("nonce",u.nc),n.setAttribute("data-webpack",s+r),n.src=e),a[e]=[t];var _=(t,r)=>{n.onerror=n.onload=null,clearTimeout(p);var o=a[e];if(delete a[e],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(_.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=_.bind(null,n.onerror),n.onload=_.bind(null,n.onload),i&&document.head.appendChild(n)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="/",(()=>{var e={"cashier-store":0};u.f.j=(t,r)=>{var o=u.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var n=new Promise(((r,n)=>o=e[t]=[r,n]));r.push(o[2]=n);var i=u.p+u.u(t),a=new Error;u.l(i,(r=>{if(u.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",a.name="ChunkLoadError",a.type=n,a.request=i,o[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,n,[i,a,s]=r,c=0;if(i.some((t=>0!==e[t]))){for(o in a)u.o(a,o)&&(u.m[o]=a[o]);s&&s(u)}for(t&&t(r);c<i.length;c++)n=i[c],u.o(e,n)&&e[n]&&e[n][0](),e[n]=0},r=self.webpackChunk_deriv_cashier=self.webpackChunk_deriv_cashier||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var d={};u.d(d,{default:()=>it});var _=u("mobx"),p=u("@deriv/shared"),h=u("@deriv/translations"),m=u("react"),f=u.n(m);const g=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?f().createElement(h.Localize,{i18n_default_text:"Transfer from {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:e}}):f().createElement(h.Localize,{i18n_default_text:"Transfer to {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:e}})};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function y(e,t,r){return(t=w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,w(o.key),o)}}function w(e){var t=function(e){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}var C=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.message="",this.code="",this.fields="",this.is_show_full_page=!1,this.onClickButton=null,this.is_self_exclusion_max_turnover_set=!1,this.is_ask_authentication=!1,this.is_ask_financial_risk_approval=!1,(0,_.makeObservable)(this,{message:_.observable,code:_.observable,fields:_.observable,is_show_full_page:_.observable,onClickButton:_.observable,is_self_exclusion_max_turnover_set:_.observable,is_ask_authentication:_.observable,is_ask_financial_risk_approval:_.observable,setErrorMessage:_.action.bound,handleCashierError:_.action.bound,setMessage:_.action.bound,setIsSelfExclusionMaxTurnoverSet:_.action.bound,setIsAskAuthentication:_.action.bound,setIsAskFinancialRiskApproval:_.action.bound})},t=[{key:"setErrorMessage",value:function(e,t,r){var o,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({onClickButton:t,code:e.code,message:e.message,is_show_full_page:r||/InvalidToken|WrongResponse/.test(e.code)},(0,p.getPropertyValue)(e,["details","fields"])&&{fields:null===(o=e.details)||void 0===o?void 0:o.fields});this.onClickButton=n.onClickButton,this.code=n.code,this.message=n.message,this.is_show_full_page=n.is_show_full_page,this.fields=n.fields,this.is_self_exclusion_max_turnover_set=null==n?void 0:n.is_self_exclusion_max_turnover_set,this.is_ask_authentication=null==n?void 0:n.is_ask_authentication,this.is_ask_financial_risk_approval=null==n?void 0:n.is_ask_financial_risk_approval}},{key:"handleCashierError",value:function(e){switch(e.code){case"ASK_TNC_APPROVAL":case"ASK_FIX_DETAILS":this.setErrorMessage(e,null,!0);break;case"ASK_SELF_EXCLUSION_MAX_TURNOVER_SET":this.setIsSelfExclusionMaxTurnoverSet(!0);break;case"ASK_AUTHENTICATE":case"ASK_AGE_VERIFICATION":this.setIsAskAuthentication(!0);break;case"ASK_FINANCIAL_RISK_APPROVAL":this.setIsAskFinancialRiskApproval(!0);break;default:this.setErrorMessage(e),this.setIsSelfExclusionMaxTurnoverSet(!1),this.setIsAskAuthentication(!1),this.setIsAskFinancialRiskApproval(!1)}}},{key:"setMessage",value:function(e){this.message=e}},{key:"setIsSelfExclusionMaxTurnoverSet",value:function(e){this.is_self_exclusion_max_turnover_set=e}},{key:"setIsAskAuthentication",value:function(e){this.is_ask_authentication=e}},{key:"setIsAskFinancialRiskApproval",value:function(e){this.is_ask_financial_risk_approval=e}}],t&&D(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(){O=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:j(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",h="executing",m="completed",f={};function g(){}function b(){}function v(){}var y={};l(y,a,(function(){return this}));var D=Object.getPrototypeOf,w=D&&D(D(T([])));w&&w!==r&&o.call(w,a)&&(y=w);var C=v.prototype=g.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(n,i,a,s){var c=d(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==A(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function j(t,r,o){var n=_;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=S(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===_)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?m:p,l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=m,o.method="throw",o.arg=l.arg)}}}function S(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=d(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(A(t)+" is not iterable")}return b.prototype=v,n(C,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},x(E.prototype),l(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new E(u(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;k(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:T(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=i.call(r)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw n}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function k(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){k(i,o,n,a,s,"next",e)}function s(e){k(i,o,n,a,s,"throw",e)}a(void 0)}))}}function T(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,N(o.key),o)}}function N(e){var t=function(e){if("object"!=A(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:t+""}var L=function(e){return null==e?void 0:e.startsWith("MX")},I=function(){return e=function e(t,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.WS=t,this.root_store=r,this.accounts_list=[],this.error=new C,this.has_no_account=!1,this.has_no_accounts_balance=!1,this.is_transfer_confirm=!1,this.is_transfer_successful=!1,this.is_mt5_transfer_in_progress=!1,this.minimum_fee=null,this.receipt={amount_transferred:""},this.selected_from={},this.selected_to={},this.account_transfer_amount="",this.should_switch_account=!1,this.transfer_fee=null,this.transfer_limit={},this.requestTransferBetweenAccounts=function(){var e=P(O().mark((function e(t){var r,n,i,a,s,c,l,u,d,_,h,m,f,g,b,v,y;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.amount,n=o.root_store,i=n.client,a=n.modules,s=n.common,c=a.cashier.general_store.setLoading,l=s.is_from_derivgo,u=i.is_logged_in,d=i.responseMt5LoginList,_=i.responseTradingPlatformAccountsList,h=i.setAccountStatus,m=i.setBalanceOtherAccounts,u){e.next=7;break}return e.abrupt("return",null);case 7:return c(!0),o.error.setErrorMessage({code:"",message:""}),(f=o.selected_from.is_mt||o.selected_to.is_mt)&&o.setIsMT5TransferInProgress(!0),g=o.selected_from.currency,e.next=14,o.WS.authorized.transferBetweenAccounts(o.selected_from.value,o.selected_to.value,g,r);case 14:if(b=e.sent,!l&&b&&Array.isArray(b.accounts)&&(b.accounts=b.accounts||[]),f&&o.setIsMT5TransferInProgress(!1),!b.error){e.next=26;break}if("Fiat2CryptoTransferOverLimit"!==b.error.code){e.next=23;break}return e.next=21,o.WS.authorized.getAccountStatus();case 21:(v=e.sent).error||h(v.get_account_status);case 23:o.error.setErrorMessage(b.error),e.next=30;break;case 26:o.setReceiptTransfer({amount:(0,p.formatMoney)(g||"",r,!0)}),null===(y=b.accounts)||void 0===y||y.forEach((function(e){o.setBalanceByLoginId(e.loginid||"",e.balance||""),e.loginid===o.selected_from.value?o.setBalanceSelectedFrom(e.balance||""):e.loginid===o.selected_to.value&&o.setBalanceSelectedTo(e.balance||""),e.account_type===p.CFD_PLATFORMS.MT5&&Promise.all([o.WS.mt5LoginList(),o.WS.balanceAll()]).then((function(e){var t=S(e,2),r=t[0],o=t[1];d(r),m(o.balance)})),e.account_type===p.CFD_PLATFORMS.DXTRADE&&Promise.all([o.WS.tradingPlatformAccountsList(p.CFD_PLATFORMS.DXTRADE),o.WS.balanceAll()]).then((function(e){var t=S(e,2),r=t[0],o=t[1];_(r),m(o.balance)})),e.account_type===p.CFD_PLATFORMS.CTRADER&&Promise.all([o.WS.tradingPlatformAccountsList(p.CFD_PLATFORMS.CTRADER),o.WS.balanceAll()]).then((function(e){var t=S(e,2),r=t[0],o=t[1];_(r),m(o.balance)}))})),o.setAccountTransferAmount(null),o.setIsTransferConfirm(!0);case 30:return c(!1),e.abrupt("return",b);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.resetAccountTransfer=P(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.setIsTransferConfirm(!1),o.setTransferLimit();case 2:case"end":return e.stop()}}),e)}))),(0,_.makeObservable)(this,{accounts_list:_.observable,error:_.observable,has_no_account:_.observable,has_no_accounts_balance:_.observable,is_transfer_confirm:_.observable,is_transfer_successful:_.observable,is_mt5_transfer_in_progress:_.observable,minimum_fee:_.observable,receipt:_.observable,selected_from:_.observable,selected_to:_.observable,account_transfer_amount:_.observable,should_switch_account:_.observable,transfer_fee:_.observable,transfer_limit:_.observable,is_transfer_locked:_.computed,setBalanceByLoginId:_.action.bound,setBalanceSelectedFrom:_.action.bound,setBalanceSelectedTo:_.action.bound,onMountAccountTransfer:_.action.bound,setHasNoAccountsBalance:_.action.bound,setHasNoAccount:_.action.bound,setTransferFee:_.action.bound,setMinimumFee:_.action.bound,setTransferLimit:_.action.bound,sortAccountsTransfer:_.action.bound,setSelectedFrom:_.action.bound,setSelectedTo:_.action.bound,setAccounts:_.action.bound,setIsTransferConfirm:_.action.bound,setAccountTransferAmount:_.action.bound,setIsTransferSuccessful:_.action.bound,setIsMT5TransferInProgress:_.action.bound,setReceiptTransfer:_.action.bound,onChangeTransferFrom:_.action.bound,onChangeTransferTo:_.action.bound,resetAccountTransfer:_.action.bound,setTransferPercentageSelectorResult:_.action.bound,setShouldSwitchAccount:_.action.bound,validateTransferFromAmount:_.action.bound,validateTransferToAmount:_.action.bound})},t=[{key:"is_transfer_locked",get:function(){var e=this.root_store.client,t=e.is_financial_account,r=e.is_financial_information_incomplete,o=e.is_trading_experience_incomplete,n=e.account_status;return!(null==n||!n.status)&&t&&(r||o)&&this.error.is_ask_financial_risk_approval}},{key:"setShouldSwitchAccount",value:function(e){this.should_switch_account=e}},{key:"setBalanceByLoginId",value:function(e,t){var r=this.accounts_list.find((function(t){return e===t.value}));r&&(r.balance=t)}},{key:"setBalanceSelectedFrom",value:function(e){this.selected_from.balance=e}},{key:"setBalanceSelectedTo",value:function(e){this.selected_to.balance=e}},{key:"onMountAccountTransfer",value:(o=P(O().mark((function e(){var t,r,o,n,i,a,s,c,l,u,d,_,p,h,m,f;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.root_store,r=t.client,o=t.common,n=t.modules,i=n.cashier.general_store,a=i.onMountCommon,s=i.setLoading,c=i.setOnRemount,l=r.active_accounts,u=r.is_logged_in,d=o.is_from_derivgo,_=o.is_from_outside_cashier,s(!0),c(this.onMountAccountTransfer),e.next=8,a();case 8:return e.next=10,this.WS.wait("website_status");case 10:if(this.has_no_accounts_balance&&Object.keys(l).find((function(e){return!l[Number(e)].is_virtual&&l[Number(e)].balance}))&&this.setHasNoAccountsBalance(!1),!u){e.next=29;break}return e.next=15,this.WS.authorized.transferBetweenAccounts();case 15:if(!(h=e.sent).error){e.next=20;break}return this.error.setErrorMessage(h.error,this.onMountAccountTransfer),s(!1),e.abrupt("return");case 20:if(d||(h.accounts=h.accounts||[]),this.canDoAccountTransfer(h.accounts)){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,this.sortAccountsTransfer(h,d,_);case 25:this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit(),(null===(p=this.accounts_list)||void 0===p?void 0:p.length)>0&&(m=sessionStorage.getItem("cfd_transfer_to_login_id"),sessionStorage.removeItem("cfd_transfer_to_login_id"),(f=this.accounts_list.find((function(e){return e.value===m})))&&(L(f.value)&&(f.error=g(f.value)),this.setSelectedTo(f)));case 29:s(!1);case 30:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"canDoAccountTransfer",value:function(e){var t=!0;return null!=e&&e.find((function(e){return Number(e.balance)>0}))?this.setHasNoAccountsBalance(!1):(t=!1,this.setHasNoAccountsBalance(!0)),e&&e.length<=1?(t=!1,this.setHasNoAccount(!0)):this.setHasNoAccount(!1),t||this.root_store.modules.cashier.general_store.setLoading(!1),t}},{key:"setHasNoAccountsBalance",value:function(e){this.has_no_accounts_balance=e}},{key:"setHasNoAccount",value:function(e){this.has_no_account=e}},{key:"setTransferFee",value:function(){var e=(0,p.getPropertyValue)((0,p.getCurrencies)(),[this.selected_from.currency||"","transfer_between_accounts","fees",this.selected_to.currency||""]);this.transfer_fee=Number(e||0)}},{key:"setMinimumFee",value:function(){var e=(0,p.getDecimalPlaces)(this.selected_from.currency||"");this.minimum_fee=(1/Math.pow(10,e)).toFixed(e)}},{key:"setTransferLimit",value:function(){var e,t=(null===(e=[{limits:"limits_mt5",is_transfer:this.selected_from.is_mt||this.selected_to.is_mt},{limits:"limits_dxtrade",is_transfer:this.selected_from.is_dxtrade||this.selected_to.is_dxtrade},{limits:"limits_ctrader",is_transfer:this.selected_from.is_ctrader||this.selected_to.is_ctrader}].find((function(e){return e.is_transfer})))||void 0===e?void 0:e.limits)||"limits",r=(0,p.getPropertyValue)((0,p.getCurrencies)(),[this.selected_from.currency||"","transfer_between_accounts",t]),o=this.selected_from.balance,n=(0,p.getDecimalPlaces)(this.selected_from.currency||"");this.transfer_limit={max:null==r||!r.max||Number(o)>=((null==r?void 0:r.min)||0)&&Number(o)<=(null==r?void 0:r.max)?o:null==r?void 0:r.max.toFixed(n),min:null!=r&&r.min?(+(null==r?void 0:r.min)).toFixed(n):""}}},{key:"sortAccountsTransfer",value:(r=P(O().mark((function e(t,r,o){var n,i,a,s,c,l,u,d,_,h,m=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,e.t0){e.next=5;break}return e.next=4,this.WS.authorized.transferBetweenAccounts();case 4:e.t0=e.sent;case 5:if(c=e.t0,this.accounts_list.length){e.next=9;break}if(!c.error){e.next=9;break}return e.abrupt("return");case 9:return!r&&c&&Array.isArray(c.accounts)&&(c.accounts=c.accounts||[]),e.next=12,this.WS.storage.mt5LoginList();case 12:if(e.t2=n=e.sent,e.t1=null===e.t2,e.t1){e.next=16;break}e.t1=void 0===n;case 16:if(!e.t1){e.next=20;break}e.t3=void 0,e.next=21;break;case 20:e.t3=n.mt5_login_list;case 21:return l=e.t3,e.next=24,this.WS.tradingPlatformAccountsList(p.CFD_PLATFORMS.DXTRADE);case 24:if(e.t5=i=e.sent,e.t4=null===e.t5,e.t4){e.next=28;break}e.t4=void 0===i;case 28:if(!e.t4){e.next=32;break}e.t6=void 0,e.next=33;break;case 32:e.t6=i.trading_platform_accounts;case 33:return u=e.t6,e.next=36,this.WS.tradingPlatformAccountsList(p.CFD_PLATFORMS.CTRADER);case 36:if(e.t8=a=e.sent,e.t7=null===e.t8,e.t7){e.next=40;break}e.t7=void 0===a;case 40:if(!e.t7){e.next=44;break}e.t9=void 0,e.next=45;break;case 44:e.t9=a.trading_platform_accounts;case 45:d=e.t9,_=null===(s=c.accounts)||void 0===s?void 0:s.map((function(e){if(e.account_type===p.CFD_PLATFORMS.MT5&&Array.isArray(l)&&l.length){var t=l.find((function(t){return t.login===e.loginid}));return void 0===t?e:E(E(E({},e),t),{},{account_type:p.CFD_PLATFORMS.MT5})}if(e.account_type===p.CFD_PLATFORMS.CTRADER&&Array.isArray(d)&&d.length){var r=d.find((function(t){return t.account_id===e.loginid}));return void 0===r?e:E(E(E({},e),r),{},{account_type:p.CFD_PLATFORMS.CTRADER})}if(e.account_type===p.CFD_PLATFORMS.DXTRADE&&Array.isArray(u)&&u.length){var o=u.find((function(t){return t.account_id===e.loginid}));return void 0===o?e:E(E(E({},e),o),{},{account_type:p.CFD_PLATFORMS.DXTRADE})}return e})),c.accounts&&c.accounts.length>1&&(null==_||_.sort((function(e,t){var r=e.account_type===p.CFD_PLATFORMS.MT5,o=t.account_type===p.CFD_PLATFORMS.MT5,n=!r&&(0,p.isCryptocurrency)(e.currency||""),i=!o&&(0,p.isCryptocurrency)(t.currency||""),a=!r&&!n,s=!o&&!i;return r&&o?"synthetic"===e.market_type?-1:"sub_account_type"in e&&"financial"===e.sub_account_type?"synthetic"===t.market_type?1:-1:1:n&&i||a&&s?e.currency&&t.currency&&e.currency<t.currency?-1:1:n&&o||a&&i||a&&o||r?-1:1}))),h=[],this.setSelectedTo({}),null==_||_.forEach((function(e){var t,r,n,i,a,s,c,l={mt5:{name:"Deriv MT5",icon:"IcMt5"},ctrader:{name:"Deriv cTrader",icon:"IcBrand"},dxtrade:{name:"Deriv X",icon:"IcRebranding"}},u=Object.keys(l).includes(e.account_type),d=null===(t=l[e.account_type])||void 0===t?void 0:t.name,_="".concat(null===(r=l[e.account_type])||void 0===r?void 0:r.icon).concat((0,p.getCFDAccount)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:e.account_type,is_eu:m.root_store.client.is_eu,is_transfer_form:!0})||""),f=e.landing_company_short&&"svg"!==e.landing_company_short&&"bvi"!==e.landing_company_short?(null===(n=e.landing_company_short)||void 0===n?void 0:n.charAt(0).toUpperCase())+(null===(i=e.landing_company_short)||void 0===i?void 0:i.slice(1)):null===(a=e.landing_company_short)||void 0===a?void 0:a.toUpperCase(),b="mt5"===e.account_type?"".concat((0,p.getCFDAccountDisplay)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:e.account_type,is_eu:m.root_store.client.is_eu,product:e.product,shortcode:e.landing_company_short})," ").concat(m.root_store.client.is_eu?"":f):"".concat(d," ").concat((0,p.getCFDAccountDisplay)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:e.account_type,is_eu:m.root_store.client.is_eu,is_transfer_form:!0,product:e.product})||""),v=u?b:(0,p.getCurrencyDisplayCode)("eUSDT"!==e.currency?null===(s=e.currency)||void 0===s?void 0:s.toUpperCase():e.currency),y=null===(c=m.root_store.traders_hub)||void 0===c?void 0:c.combined_cfd_mt5_accounts.find((function(t){return t.login===e.login})),D=null!=y&&y.short_code_and_region?" ".concat(null==y?void 0:y.short_code_and_region):"",w=E({text:u&&e.account_type===p.CFD_PLATFORMS.MT5&&y?"".concat(y.sub_title).concat(D):v,value:e.loginid,balance:e.balance,currency:e.currency,is_crypto:(0,p.isCryptocurrency)(e.currency),is_mt:e.account_type===p.CFD_PLATFORMS.MT5,is_ctrader:e.account_type===p.CFD_PLATFORMS.CTRADER,is_dxtrade:e.account_type===p.CFD_PLATFORMS.DXTRADE},u&&{platform_icon:e.account_type===p.CFD_PLATFORMS.MT5&&y?y.icon:_,status:null==e?void 0:e.status,market_type:(0,p.getCFDAccount)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:e.account_type,is_eu:m.root_store.client.is_eu})});if(e.loginid===m.root_store.client.loginid)L(w.value)&&(w.error=g(w.value,!0)),m.setSelectedFrom(w);else if((0,p.isEmptyObject)(m.selected_to)){var C,A;L(w.value)&&(w.error=g(w.value));var x=null===(C=m.root_store.traders_hub)||void 0===C?void 0:C.selected_account.login,j=null===(A=m.root_store.traders_hub)||void 0===A?void 0:A.selected_account.account_id;o&&![j,x].includes(e.loginid)||m.setSelectedTo(w)}h.push(w)})),this.setAccounts(h);case 52:case"end":return e.stop()}}),e,this)}))),function(e,t,o){return r.apply(this,arguments)})},{key:"setSelectedFrom",value:function(e){this.selected_from=e}},{key:"setSelectedTo",value:function(e){this.selected_to=e}},{key:"setAccounts",value:function(e){this.accounts_list=e}},{key:"setIsTransferConfirm",value:function(e){this.is_transfer_confirm=e}},{key:"setAccountTransferAmount",value:function(e){this.account_transfer_amount=e}},{key:"setIsTransferSuccessful",value:function(e){this.is_transfer_successful=e}},{key:"setIsMT5TransferInProgress",value:function(e){this.is_mt5_transfer_in_progress=e}},{key:"setReceiptTransfer",value:function(e){var t=e.amount;this.receipt={amount_transferred:t}}},{key:"onChangeTransferFrom",value:function(e){var t=this,r=e.target;this.error.setErrorMessage({code:"",message:""}),this.selected_from.error="";var o=this.accounts_list.find((function(e){return e.value===r.value})),n=["is_mt","is_ctrader","is_dxtrade"],i=n.some((function(e){return n.some((function(r){var n;return(null==o?void 0:o[e])&&(null===(n=t.selected_to)||void 0===n?void 0:n[r])}))}));(null==o?void 0:o.value)===this.selected_to.value?this.onChangeTransferTo({target:{value:this.selected_from.value}}):i&&this.onChangeTransferTo({target:{value:this.root_store.client.loginid}}),o&&L(null==o?void 0:o.value)&&(o.error=g(null==o?void 0:o.value,!0)),this.selected_from=o||{},this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit()}},{key:"onChangeTransferTo",value:function(e){var t=e.target;this.error.setErrorMessage({code:"",message:""}),this.selected_to.error="";var r=this.accounts_list;this.selected_to=r.find((function(e){return e.value===t.value}))||{},L(this.selected_to.value)&&(this.selected_to.error=g(this.selected_to.value)),this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit()}},{key:"setTransferPercentageSelectorResult",value:function(e,t){var r=this.root_store.modules.cashier,o=r.crypto_fiat_converter,n=r.general_store,i=this.selected_from.currency,a=this.selected_to.currency;Number(e)>0||0===Number(this.selected_from.balance)?(o.setConverterFromAmount(e),this.validateTransferFromAmount(),o.onChangeConverterFromAmount({target:{value:e}},i,a,t)):o.resetConverter(),o.setIsTimerVisible(!1),n.percentageSelectorSelectionStatus(!1)}},{key:"validateTransferFromAmount",value:function(){var e,t,r=null===(e=this.root_store.modules.cashier)||void 0===e?void 0:e.crypto_fiat_converter.converter_from_amount,o=null===(t=this.root_store.modules.cashier)||void 0===t?void 0:t.crypto_fiat_converter.setConverterFromError;if(r){var n=(0,p.validNumber)(r,{type:"float",decimals:(0,p.getDecimalPlaces)(this.selected_from.currency||""),min:Number(this.transfer_limit.min),max:Number(this.transfer_limit.max)}),i=n.is_ok,a=n.message;i?Number(this.selected_from.balance)<Number(r)?o((0,h.localize)("Insufficient funds")):o(""):o(a||"")}else o((0,h.localize)("This field is required."))}},{key:"validateTransferToAmount",value:function(){var e,t,r=null===(e=this.root_store.modules.cashier)||void 0===e?void 0:e.crypto_fiat_converter.converter_to_amount,o=null===(t=this.root_store.modules.cashier)||void 0===t?void 0:t.crypto_fiat_converter.setConverterToError;if(r){var n=this.selected_to.currency,i=(0,p.validNumber)(r,{type:"float",decimals:(0,p.getDecimalPlaces)(n||"")}),a=i.is_ok,s=i.message;o(a?"":s||"")}}}],t&&T(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,o}();function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function R(){R=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new F(o||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",h="executing",m="completed",f={};function g(){}function b(){}function v(){}var y={};l(y,a,(function(){return this}));var D=Object.getPrototypeOf,w=D&&D(D(k([])));w&&w!==r&&o.call(w,a)&&(y=w);var C=v.prototype=g.prototype=Object.create(y);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(n,i,a,s){var c=d(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==B(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function E(t,r,o){var n=_;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=j(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===_)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?m:p,l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=m,o.method="throw",o.arg=l.arg)}}}function j(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=d(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(B(t)+" is not iterable")}return b.prototype=v,n(C,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new x(u(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;S(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:k(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function M(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function z(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){M(i,o,n,a,s,"next",e)}function s(e){M(i,o,n,a,s,"throw",e)}a(void 0)}))}}function U(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,W(o.key),o)}}function W(e){var t=function(e){if("object"!=B(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(t)?t:t+""}var $=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root_store=t,this.converter_from_amount="",this.converter_to_amount="",this.converter_from_error="",this.converter_to_error="",this.is_timer_visible=!1,(0,_.makeObservable)(this,{converter_from_amount:_.observable,converter_to_amount:_.observable,converter_from_error:_.observable,converter_to_error:_.observable,is_timer_visible:_.observable,setConverterFromAmount:_.action.bound,setConverterToAmount:_.action.bound,setConverterFromError:_.action.bound,setConverterToError:_.action.bound,setIsTimerVisible:_.action.bound,resetTimer:_.action.bound,validateFromAmount:_.action.bound,validateToAmount:_.action.bound,onChangeConverterFromAmount:_.action.bound,onChangeConverterToAmount:_.action.bound,resetConverter:_.action.bound})},t=[{key:"setConverterFromAmount",value:function(e){this.converter_from_amount=e}},{key:"setConverterToAmount",value:function(e){this.converter_to_amount=e}},{key:"setConverterFromError",value:function(e){this.converter_from_error=e}},{key:"setConverterToError",value:function(e){this.converter_to_error=e}},{key:"setIsTimerVisible",value:function(e){this.is_timer_visible=e}},{key:"resetTimer",value:function(){this.setIsTimerVisible(!1)}},{key:"validateFromAmount",value:function(){var e=this.root_store.modules.cashier,t=e.account_transfer,r=e.general_store,o=e.withdraw;"account_transfer"===r.active_container?t.validateTransferFromAmount():o.validateWithdrawFromAmount()}},{key:"validateToAmount",value:function(){var e=this.root_store.modules.cashier,t=e.account_transfer,r=e.general_store,o=e.withdraw;"account_transfer"===r.active_container?t.validateTransferToAmount():o.validateWithdrawToAmount()}},{key:"onChangeConverterFromAmount",value:(o=z(R().mark((function e(t,r,o,n){var i,a,s,c,l,u;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.target,a=this.root_store.modules.cashier,s=a.account_transfer,c=a.general_store,this.resetTimer(),i.value?(this.setConverterFromAmount(i.value),this.validateFromAmount(),c.percentageSelectorSelectionStatus(!0),c.calculatePercentage(),this.converter_from_error?(this.setConverterToAmount(""),this.setConverterToError(""),this.setIsTimerVisible(!1),s.setAccountTransferAmount("")):(l=(0,p.getDecimalPlaces)(o||""),+(u=(null==n?void 0:n.toFixed(l))||"1")||this.converter_from_amount?this.setConverterToAmount(u):this.setConverterToAmount(""),this.validateToAmount(),this.setConverterToError(""),this.setIsTimerVisible(!0),s.setAccountTransferAmount(i.value))):this.resetConverter();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return o.apply(this,arguments)})},{key:"onChangeConverterToAmount",value:(r=z(R().mark((function e(t,r,o,n){var i,a,s,c,l,u;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.target,a=this.root_store.modules.cashier,s=a.account_transfer,c=a.general_store,this.resetTimer(),i.value?(this.setConverterToAmount(i.value),this.validateToAmount(),this.converter_to_error?(this.setConverterFromAmount(""),this.setConverterFromError(""),this.setIsTimerVisible(!1),s.setAccountTransferAmount("")):(l=(0,p.getDecimalPlaces)(o),+(u=(null==n?void 0:n.toFixed(l))||"1")||this.converter_to_amount?this.setConverterFromAmount(u):this.setConverterFromAmount(""),c.percentageSelectorSelectionStatus(!0),c.calculatePercentage(),this.validateFromAmount(),this.converter_from_error?(this.setIsTimerVisible(!1),s.setAccountTransferAmount("")):(this.setConverterFromError(""),this.setIsTimerVisible(!0),s.setAccountTransferAmount(u)))):this.resetConverter();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,o,n){return r.apply(this,arguments)})},{key:"resetConverter",value:function(){var e;this.setConverterFromAmount(""),this.setConverterToAmount(""),this.setConverterFromError(""),this.setConverterToError(""),this.setIsTimerVisible(!1),null===(e=this.root_store.modules.cashier)||void 0===e||e.general_store.percentageSelectorSelectionStatus(!0)}}],t&&U(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,o}();const V={map_action:{withdraw:"payment_withdraw",payment_agent:"payment_agent_withdraw"},icon_payment_methods:{Alipay:["alipay"],Bank:["bank","bankdeposit","banks","banktransfer","bankwire","bankwiretransfer","localbankwire","localbank","localbanks","localbanktransfer"],Bankbri:["bri","bankbri"],Bca:["bca","grupbca"],Bch:["bch"],Bni:["bni"],Bitcoin:["bitcoin","btc"],Card:["card","cards","visa","mastercard"],Cimbniaga:["cimbniaga"],Crypto:["crypto","cryptos","cryptocurrencies","cryptocurrency","weacceptcrypto"],Dai:["dai"],Diamondbank:["diamondbank"],Eth:["eth","ethd","ethereum"],Ewallet:["ewallet","ewallets","ewalletpayment","skrill"],Firstbank:["firstbank"],Gtbank:["gtbank"],Icbc:["icbc"],Libertyreserve:["libertyreserve"],LiteCoin:["ltc","litecoin"],Mandiri:["mandiri"],Mandirisyariah:["mandirisyariah"],Moneygram:["moneygram"],Paypal:["paypal"],PerfectMoney:["perfectmoneyandwebmoney","perfectmoney"],Permatabank:["permatabank"],Tether:["tether"],Verve:["verve"],WebMoney:["perfectmoneyandwebmoney","webmoney"],Wechatpay:["wechatpay"],Zenithbank:["zenithbank"]},payment_methods:{AbokiFX:["AbokiFX","A BOKI FX"],"ABSA Bank":["Absa","ABSA","ABSA Bank","ABSABank","ABSABANK","Absabank","ABSA Bank Transfer","ABSA Cash Send","Absa fund transfer and orange money services","ABSA GHANA LIMITED","Direct deposit FNB and ABSA"],"Access bank":["Access bank","Access Bank","Accessbank","AccessBank","ACCESS BANK","Acess Bank"],"Access forex":["Access Forex","ACCESS FOREX","Access forex"],"Afriland First Bank":["Afriland First Bank","AFRILAND FIRST BANK"],"Airtel Mobile money":["Airtel Mobile money","airtel","Airtel","AIRTEL MOBILE MONEY","airtel money","Airtel money","Airtelmoney","Airtel Money","AirtelMoney","AIRTELMONEY","AIRTEL MONEY","Airtel Tigo","AirtelTigo cash","all mobile money"],Airtm:["airtm","Airtm"],AlfalahBank:["AlfalahBank","bank alfalfa","Alflah Bank"],"All banks":["All banks","All local banks","All local Banks","All local banks ZWL","All Local Bank transfer","bank","Bank","BANK","banks","Banks","local banks","Local banks","Local Banks","Pakistani Local All banks","Local Indian banks","LocalBanks"],Astropay:["astropay","Astropay","Astro Pay"],"ATM transfer":["ATM","ATMDeposits","ATMdeposit","ATM transfer","ATM Transfer","BanktransferATM","FNB ATM deposit"],AzamPesa:["AzamPesa","Azampesa"],"Banco Bradesco":["Banco Bradesco","Bradesco"],"Banco de Pichincha":["Banco de Pichincha","BANCO DE PICHINCHA","Pichincha"],"Banco de Produbanco":["Banco de Produbanco","BANCO DE PRODUBANCO"],"Banco del Pacifico":["Banco del Pacifico","BANCO DE PACIFICO","Pacifico"],"Banco Internacional":["Banco Internacional","BANCO INTERNACIONAL"],"Banco Internacional de Moçambique (BIM)":["Banco Internacional de Moçambique (BIM)","Bim","Transferencia Bim"],"Bancobu Bank eNoti":["Bancobu Bank eNoti","Bancobu e-noti"],"Bank AL Habib":["Bank AL Habib","bank al habib","Bank Alhabib"],"Bank Negara Indonesia (BNI)":["Bank Negara Indonesia (BNI)","BNI","BankBNI"],"Bank Of Ceylon (BOC)":["Bank Of Ceylon (BOC)","Bankofceylon","Boc Peoples Bank"],"Bank Rakyat Indonesia (BRI)":["Bank Rakyat Indonesia (BRI)","BankBri","BankBRI","BRI","BRI dan Ewallet"],"Bank transfer":["All Local Bank payment Accept","All local bank payments","All Local Bank transfer","bank","Bank","BANK","Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Bank and E-wallet","bank deposit","Bank deposit","Bankdeposit","Bank Deposit","Bank deposits","bank ewallet","bank payment","banks","Banks","Bank to Bank account transfer","bank transfer","Bank transfer","Banktransfer","Bank Transfer","BankTransfer","BANK TRANSFER","BANKTRANSFER","bank transfer and all form of E-payments","Bank Transfer and all Forms of E-payments","BanktransferATM","bank transfers","Bank transfers","Bank Transfers","Ban transfer","Depositos direto em conta","Direct deposit FNB and ABSA","E-wallet Bank transfer","Internet Banking","Internet transfer","Internet Transfer","LocalBank","local banks","Local banks","Local Banks","Local bank transfer","Local bank Transfers","Local deposits","Local deposit","local deposits","BANKTRANSFERS","Bank Deposits","Bank deposit and transfer","Bank transfer and e-wallets","BankDeposit","Fiat","LOCALBANK","OnlineTransfer","ZWbanktransfers","localbanktransfer","Bank transfer Bank wire"],"Bank wire":["bank","Bank","BANK","bank payment","banks","Banks","bank wire","bankwire","Bank wire","Bankwire","Bank Wire","BankWire","BANKWIRE","Bank wire and e-wallets","Bank wire and E-wallets","Bank wires","Bankwires","bank wires and e-wallet","Bank wires and e-wallets","BankWire transfer","E-wallets and bank wires","local bank wire","LocalBankWire","LocalBankwire","Wire Bank Transfer","WIRE TRANSFER","Bank Wire transfer","Fiat","OnlineTransfer","Bank transfer Bank wire"],BankABC:["BankABC","BANCABC BANK"],"Bank BTN":["Bank BTN","BTN"],"Bank of the Philippine Islands (BPI)":["Bank of the Philippine Islands (BPI)","BPI"],"BCA bank":["BCA bank","BCA","BankBCA","bca"],"BDO Unibank":["BDO Unibank","BDO"],BHIM:["BHIM","Bhim","Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe"],"BMCE Bank":["BMCE Bank","Bmce Bank"],"CABS Bank":["CABS Bank","Cabs bank","CABS transfer"],Card:["Card","card","cards","Cards","Credit card","Debit Card","Mastercard","MasterCard","visa","Visa","VISA","Visa card","Bank cards","Carteiras Electronicas","Fiat","Master card"],Cash:["cash","Cash","Cash deposit","Cash deposits","Cash in USD or Local","electronic transfers and cash deposits","FNB cash deposit","physical local and foreign bank notes","USD","USD cash","Cash Deposit","Fiat","INR","USDCash","Zwcash"],"Cash send ABSA bank":["Cash send ABSA bank","ABSA Cash Send","Cashsend","Cash Send","CashSend","cash send Absa","Cash send Absa bank"],"Chipper Cash":["Chipper Cash","Chipper","Chippercash","Chipperchash"],"CIH Bank":["CIH Bank","Cih Bank"],CIMB:["CIMB","CIMBNIAGA","NIAGA"],"City Hopper":["City hopper","City Hopper"],"Co-operative Bank of Kenya":["Co-operative Bank of Kenya","cooperativebank"],"Commercial Bank":["Commercial Bank","Commercialbank"],"CRDB Bank":["CRDB Bank","CRDBBANK"],Crypto:["Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","bitcoin","Bitcoin","BITCOIN","bitcoins","Bitcoins","btc","BTC","btc smega","Cripto","crypto","Crypto","Cyptocurrency","cryptocurrencies","Cryptocurrencies","Crypto Currencies","CRYPTOCURRENCIES","cryptocurrency","Cryptocurrency","CRYPTOCURRENCY","Cryptos","ETH","eUSDT","EUSDT","LTC","Tether","TRON","USDC","USDT","UST","We accept Crypto","BCH","Btc","Criptomoedas","Crypto Payment","Crypto transfer","CryptoTransfer","E-Wallets and Crypto","E-wallets and Crypto","Ethereum","Etherium","Litecoin","Skrill Neteller Crypto","SkrillCrypto","Tether ERC20","Tether Omni","Thether","Usdt","cryptos","ethereum","litecoin"],"Diamond Bank":["Diamond bank","Diamond Bank","DiamondBank"],"E-Mola":["E-Mola","E-mola","Emola"],"E-money":["E-money","e money"],"E-payment":["E-payment","all form of E-payments","All form of E-payments","all forms of E-payments","and all other forms of Epayment","bank transfer and all form of E-payments","Bank Transfer and all Forms of E-payments","E-payments","Epayments","All forms of E-Payments","DigitalPayment","OnlineTransfer","all forms of E-Payment"],"E-transfer":["E-transfer","electronic transfers and cash deposits","E-Transfers","OnlineTransfer"],"E-wallet":["Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Bank and E-wallet","bank ewallet","Bank wire and e-wallets","Bank wire and E-wallets","bank wires and e-wallet","Bank wires and e-wallets","Digital Wallets","electronic wallets","e-wallers","e-wallet","ewallet","eWallet","E-wallet","Ewallet","EWALLET","E-wallet Bank transfer","E wallet FNB","E-wallet payment","Ewallet payment","e-wallets","ewallets","e-Wallets","e-WALLETS","E- wallets","E-wallets","Ewallets","E-Wallets","E-wallets and bank wires","fnb ewallet","MY WALLET","wallet","Bank transfer and e-wallets","E-Wallets and Crypto","E-wallets and Crypto","E-Wallet","EWallets","Fiat","OnlineTransfer","ewalllets","ewalltets","local bank wallets and Orange money"],Easypaisa:["easypaisa","Easy paisa","Easypaisa","Easy Paisa","EasyPaisaTransfer"],Ecobank:["Ecobank","Eco Bank","ECO BANK","Eco bank Transfers"],EcoCash:["Eco cash","Ecocash","EcoCash","ECOCASH","Ecocash FCA","Ecocash method","ECOCASH WALLET","Ecocash ZWL","EcocashMobileMoney","Zwecocash"],"Electronic Funds Transfer (EFT)":["Electronic Funds Transfer (EFT)","EFT"],"Equity Bank":["Equity bank","Equity Bank","equitybankmoneytransfer"],"EU Mobile Money":["EU Mobile Money","all mobile money","EU MONEY"],EzyPesa:["EzyPesa","Ezypesa","Ezzy pesa","Ezzy Pesa","EzzyPesa"],FasaPay:["fasapay","Fasa pay","FasaPay"],"Fast Payment":["Fast payment","Fast Payment"],"Faysal Bank":["Faysal Bank","FaysalBank"],"FBC Bank":["FBC Bank","FBC BANK"],"Fidelity Bank":["Fidelity Bank","fidelitybank"],Finbank:["Finbank","Fin bank","FinBank"],"First Bank of Nigeria":["First Bank of Nigeria","First bank","First Bank","FirstBank","FIRST BANK","Firstbank"],"First City Monument Bank (FCMB)":["First City Monument Bank (FCMB)","FCMB","fcmb"],"First MicroFinanceBank (FMFB)":["First MicroFinanceBank (FMFB)","FMFB"],"First National Bank (FNB)":["First National Bank (FNB)","Direct deposit FNB and ABSA","E wallet FNB","First National Bank","fnb","FNB","FNB ATM deposit","Fnbbank","FNB Bank","FNBB Bank Transfer","FNB cash deposit","fnb ewallet","FNB First National Bank","FNB pay2cell","FNB pay to cell","FNB pay to sell","Pay to cell FNB","FNB bank transfer","FNBB","FNBBank","FirNationalBank","First National Bank of Botswana","Firstnationalbank","Fnb"],Gmoney:["Gmoney","GMONEY"],"Google Pay":["Google Pay","Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Google pay","gpay","Gpay","GPay"],"Grup BCA":["Grup BCA","GrupBCA"],"GT bank":["GT bank","Gtb","GTB","Gt Bank","GT Bank","GTBank","GT BANK","Gtbank","Guarantee Trust Bank","GuarantyTrustBank"],Halopesa:["halopesa","Halo pesa","Halopesa","Halo Pesa","HaloPesa","HALOPESA"],"Hatton National Bank":["Hatton National Bank","HattonNationalBank"],HBL:["HBL","HBLMFB","KONNET HBL"],Help2Pay:["Help2Pay","help2pay"],"HNB Bank":["HNB Bank","HNB"],"IMPS Transfer":["imps","Imps","IMPS","IMPS Transfer"],"ING Bank":["ING Bank","ING"],Innbucks:["Innbucks","INNBUCKS"],"Instant Money":["Instant Money","InstantMoney","Instant money stambic bank","Instant money stanbic","Instant money"],"Inter Bank Fund Transfer":["Inter Bank Fund Transfer","InterBankfundtransfer","Interbank Transfer"],"Itau Bank":["Itau Bank","Itau"],IZI:["IZI","Izzy"],JazzCash:["JazzCash","jazzcash","Jazz cash","Jazzcash","Jazz-Cash","JazzCashTransfer"],JENIUS:["JENIUS","Jenius"],Jeton:["Jeton","jeton","JetonWallet"],"Key Stone Bank":["Key Stone Bank","Keystone"],"Kuda Bank":["Kuda Bank","KUDA BANK","Kuda MFB","KudaMFB","KUDA MICROFINANCE BANK 2014563937","Kuda Microfinance","KUDA"],"Luno Wallet":["Luno Wallet","Luno","Luno crypto wallet","Luno e-wallet","Luno ewallet","luno"],"Mandiri Bank":["Mandiri Bank","Mandiri","MANDIRI","MandiriSyariah","BankMandiri"],"Meezan Bank":["Meezan Bank","MeezanBank"],"Millenium Bim Visa":["Millenium Bim Visa","Millenium Bim"],MIX:["mix","Mix","MIX","Mixed"],"Mobile money":["all mobile money","mobile banking","Mobile banking","Mobile money","Mobile Money","MobileMoney","Mobile money MTN","Mobile Money transfer","MOBILE MONEY TRANSFER","Mobile money transfers","Mobilemoneyoption","OnlineTransfer"],"Mojo Mula":["Mojo money","Mojo Mula","MOJO MULA","MoMo pay","Mojo Moolah"],MoMo:["MoMo","MOMO","MoMo pay","MTN MOMO","MTNMOMO"],MoneyGram:["Moneygram","Money Gram","MoneyGram","Money grame"],"M-PESA":["AbesafaricomMpesa Transfers","mpesa","M pesa","M-pesa","Mpesa","M Pesa","M-Pesa","MPesa","M PESA","M-PESA","MPESA","M-Pesa Tigo-Pesa T-Pesa","Pesa","safaricom mpesa","MPESA 0710393947 Albert Kyalo","VodacomMpesa"],"MTN MOMO":["all mobile money","Mobile money MTN","MoMo","MOMO","MTN","MTN mobile money","MTN Mobile money","MTN Mobile Money","MTN MOBILE MONEY","MTNMOBILEMONEY","MTN MOMO","MTNMOMO","MTN MONEY"],"Mukuru money transfers":["Mukuru","Mukuru money transfers","MukuruMoneyTransfer","USDMukurutransfer"],"MyZaka Mascom Money":["MyZaka Mascom Money","mascom","mascom myZaka","Mascom MyZaka","myzaka","My zaka","Myzaka","MyZaka","My zaka mascom money","my Zaka","myzaaka"],Neft:["neft","Neft","NEFT"],Nequi:["Nequi","Nequi o Daviplata al 300 6839026"],Neteller:["neTeller","Neteller","NETELLER","NETelle","Skrill Neteller Crypto","neteller","netteller"],"Nigeria local bank":["Nigeria Local","Nigeria local bank","NIGERIA LOCAL BANK"],"NMB Bank":["NMB Bank","NATIONALMICROFINANCEBANK","Nmb bank"],"One Money":["OM","Onemoney","One Money","One money service","OneMoney","OneMoneyMobileMoney"],Opay:["Opay","OPAY"],"Orange Money Transfer":["Absa fund transfer and orange money services","Orange Cameroon","orange money","orangemoney","Orange money","Orangemoney","Orange Money","OrangeMoney","ORANGE MONEY","Orange Money Transfer","local bank wallets and Orange money"],PalmPay:["PalmPay","PALMPAY"],"Pay safe Card":["paysafecard","Pay safe Card"],Pay2Cell:["FNB pay2cell","FNB pay to cell","FNB pay to sell","Pay2cell","Pay2Cell","PAY2CELL","pay to cell","Pay to cell","Paytocell","Pay to Cell","Pay to cell FNB","PayToCell","pay2cell"],"Payment Checks":["Payment checks","Payment Checks"],PayPal:["Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Paypal","PayPal","PAYPAL","paypal"],PayTM:["Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Paytm","PayTM"],"Perfect Money":["Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","perfect money","perfectmoney","Perfect money","Perfectmoney","Perfect Money","PerfectMoney","PERFECT MONEY","Perfect Money and Webmoney","PM","PERFECTMONEY","PERFECT"],"Permata Bank":["Permata Bank","PermataBank","PERMATA"],PhonePhe:["PhonePhe","Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Phonepay","phonepe","Phonepe","PhonePe","Phone pay","PhonePay"],Pix:["Pix","PIX"],"Polaris Bank":["Polaris Bank","Polaris"],"Ponto 24":["Conta movel","Conta Movel","ContamovelBCI","Ponto 24","Ponto24"],"Pos deposit":["Pos","POS","Pos deposit"],"Postal transfer":["Postal transfer","Egyptian postal transfers"],RIA:["Ria","RIA"],"RTGS Transfers":["RTGS Transfers","rtgs","RTGS","Rtgs bank transfer","RTGS transfers","Rtgs"],Safaricom:["Safaricom","AbesafaricomMpesa Transfers","AbeSafaricomMpesaTransfers","safaricom mpesa"],"Sama Money":["Sama Money","Sama money"],ShopeePay:["ShopeePay","SHOPEEPAY"],Skrill:["Skrill","Skill","Skril","skrill","SKRILL","skrillpayments","Skrll","SkrillCrypto","Skrill Neteller Crypto"],Smega:["btc smega","smega","Smega"],"Standard Bank Namibia":["Standard Bank Namibia","Standard Bank","StandardBank"],"Stanbic Bank":["Instant money stambic bank","Instant money stanbic","stanbic","Stanbic","Stanbic Bank","StanbicBank","Stanbic Bank Transfer","Stanbic Money Transfer","Standbic","Stanbic IBTC","Stanbic bank"],"Standard Charted Bank":["STANCHART","Standard Charted Bank","Standard chartered","Standard chartered bank","Standard Chartered Bank Transfer","Standard Chatterd Bank"],"Steward remit":["Steward remit","Steward Remmitt"],"T-pesa":["M-Pesa Tigo-Pesa T-Pesa","Pesa","T-pesa","Tpesa","T PESA","TTCLpesa"],"Tigo Cash":["Tigo","Tigo Cash","AirtelTigo cash"],"Tigo Mobile Money":["Tigo Mobile Money","Airtel Tigo","all mobile money","Tigo","TIGO MOBILE MONEY","TIGOMOBILEMONEY","AirtelTigo cash"],"Tigo Pesa":["M-Pesa Tigo-Pesa T-Pesa","Pesa","Tigo","tigopesa","Tigo pesa","Tigopesa","Tigo Pesa","TigoPesa","TIGO PESA","TTCLpesa","TIGOPESA"],"Transferencia bancaria":["Transferencia bancaria","Transferencia Eletronica TED","Transferencias bancarias","Ted","Transferencia Bancaria"],"UBA Bank":["UBA","UBA Bank","UBA BANK"],"Union Bank":["Union Bank","Unionbank","Union"],"United Bank Limited (UBL)":["United Bank Limited (UBL)","UBL Bank"],UPI:["All UPI Transfer","Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","upi","UPI","UPI transfer","AmazonUPI","PaytmUPI","Upi"],"USSD code transfer":["USSD code transfer","Or USSD transfer from all Nigeria banks","USSD Code","USSD CODE","Ussd code Transfer from all Nigerian banks","Ussd transfer","USSD transfer","USSD Transfer","ussd transfer"],Vodacom:["Vodacom","VodacomMpesa"],"Vodafone Cash":["Vodafon Cash Methods","Vodafone cash","Vodafone Cash","VODAFONE CASH","VODAFONECASH"],Webmoney:["Perfect Money and Webmoney","Webmoney","WebMoney","Web Money","Web money"],"WeChat Pay":["WeChat Pay","WeChatPay"],"Wema Bank":["Wema Bank","Wema"],WesternUnion:["Western union","Western Union","WesternUnion","westernunion"],Wise:["Wise","transferwise"],"World Remit":["World remit","World Remit","CoinbaseworldRemit"],"Zanaco bank":["ZANACO","Zanaco bank"],"Zenith bank":["Zenith bank","Zenithbank","Zenith Bank","ZenithBank","ZENITH BANK","Zenith","zenithbank"],Zipit:["Zipit","ZIPIT","ZIPIT bank transfers"]}};function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function G(){G=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new F(o||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",h="executing",m="completed",f={};function g(){}function b(){}function v(){}var y={};l(y,a,(function(){return this}));var D=Object.getPrototypeOf,w=D&&D(D(k([])));w&&w!==r&&o.call(w,a)&&(y=w);var C=v.prototype=g.prototype=Object.create(y);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(n,i,a,s){var c=d(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==H(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function E(t,r,o){var n=_;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=j(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===_)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?m:p,l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=m,o.method="throw",o.arg=l.arg)}}}function j(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=d(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(H(t)+" is not iterable")}return b.prototype=v,n(C,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new x(u(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;S(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:k(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function Y(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function K(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,q(o.key),o)}}function q(e){var t=function(e){if("object"!=H(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==H(t)?t:t+""}var J=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client_init_listener=null,this.clientInitDisposer=null,this.root_store=void 0,this.switch_account_listener=null,this.switchAccountDisposer=null,(0,_.makeObservable)(this,{onSwitchAccount:_.action.bound,onClientInit:_.action.bound,disposeSwitchAccount:_.action.bound,onUnmount:_.action.bound});var r=t.root_store;this.root_store=r},(t=[{key:"onSwitchAccount",value:function(e){var t=this;e&&(this.switch_account_listener=e,this.switchAccountDisposer=(0,_.when)((function(){var e;return!(null===(e=t.root_store)||void 0===e||!e.client.switch_broadcast)}),(function(){try{var e,r=null===(e=t.switch_account_listener)||void 0===e?void 0:e.call(t);if(null==r||!r.then||"function"!=typeof r.then)throw new Error("Switching account listeners are required to return a promise.");r.then((function(){var e,r,o;null===(e=t.root_store)||void 0===e||null===(r=(o=e.client).switchEndSignal)||void 0===r||r.call(o),t.onSwitchAccount(t.switch_account_listener)}))}catch(e){(0,p.isProduction)()||console.error(e)}})))}},{key:"onClientInit",value:function(e){var t=this;this.clientInitDisposer=(0,_.when)((function(){var e;return!(null===(e=t.root_store)||void 0===e||!e.client.initialized_broadcast)}),function(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){Y(i,o,n,a,s,"next",e)}function s(e){Y(i,o,n,a,s,"throw",e)}a(void 0)}))}}(G().mark((function e(){var r,o;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==(o=null===(r=t.client_init_listener)||void 0===r?void 0:r.call(t))||!o.then||"function"!=typeof o.then){e.next=6;break}o.then((function(){var e;null===(e=t.root_store)||void 0===e||e.client.setInitialized(!1),t.onClientInit(t.client_init_listener)})),e.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,p.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.client_init_listener=e}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"onUnmount",value:function(){this.disposeSwitchAccount()}}])&&K(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function X(){X=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new F(o||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",h="executing",m="completed",f={};function g(){}function b(){}function v(){}var y={};l(y,a,(function(){return this}));var D=Object.getPrototypeOf,w=D&&D(D(k([])));w&&w!==r&&o.call(w,a)&&(y=w);var C=v.prototype=g.prototype=Object.create(y);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(n,i,a,s){var c=d(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Z(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function E(t,r,o){var n=_;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=j(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===_)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?m:p,l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=m,o.method="throw",o.arg=l.arg)}}}function j(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=d(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Z(t)+" is not iterable")}return b.prototype=v,n(C,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new x(u(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;S(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:k(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function Q(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function ee(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){Q(i,o,n,a,s,"next",e)}function s(e){Q(i,o,n,a,s,"throw",e)}a(void 0)}))}}function te(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,re(o.key),o)}}function re(e){var t=function(e){if("object"!=Z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:t+""}function oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oe=function(){return!!e})()}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}J.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")});var ae=function(e){function t(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t,r){return t=ne(t),function(e,t){if(t&&("object"==Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oe()?Reflect.construct(t,r||[],ne(e).constructor):t.apply(e,r))}(this,t,[{root_store:r}])).WS=e,o.root_store=r,o.active_container="deposit",o.cashier_route_tab_index=0,o.deposit_target="",o.is_cashier_onboarding=!0,o.is_deposit=!1,o.is_loading=!1,o.is_populating_values=!1,o.onRemount=function(){return o},o.percentage=0,o.payment_agent=null,o.should_percentage_reset=!1,o.should_show_all_available_currencies=!1,(0,_.makeObservable)(o,{calculatePercentage:_.action.bound,cashier_route_tab_index:_.observable,deposit_target:_.observable,init:_.action.bound,is_cashier_onboarding:_.observable,is_crypto:_.computed,is_crypto_provider:_.computed,is_deposit:_.observable,is_loading:_.observable,onMountCommon:_.action.bound,onRemount:_.observable,percentage:_.observable,percentageSelectorSelectionStatus:_.action.bound,payment_agent:_.observable,setAccountSwitchListener:_.action.bound,setActiveTab:_.action.bound,setCashierTabIndex:_.action.bound,setDepositTarget:_.action.bound,setIsCashierOnboarding:_.action.bound,setIsDeposit:_.action.bound,setLoading:_.action.bound,setOnRemount:_.action.bound,setShouldShowAllAvailableCurrencies:_.action.bound,should_percentage_reset:_.observable,should_show_all_available_currencies:_.observable}),(0,_.reaction)((function(){return[o.root_store.common.current_language,o.root_store.client.switched,o.root_store.client.is_logged_in,o.root_store.client.currency]}),(function(){o.init()})),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(t,e),r=t,o=[{key:"setOnRemount",value:function(e){this.onRemount=e}},{key:"is_crypto",get:function(){var e=this.root_store.client.currency;return!!e&&(0,p.isCryptocurrency)(e)}},{key:"is_crypto_provider",get:function(){var e=this.root_store.client,t=e.currency,r=e.website_status;return null==r?void 0:r.currencies_config[t].platform.cashier.includes("crypto")}},{key:"calculatePercentage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root_store.modules.cashier.crypto_fiat_converter.converter_from_amount,t=this.root_store,r=t.client,o=t.modules.cashier.account_transfer;"account_transfer"===this.active_container?this.percentage=Number((Number(e)/Number(o.selected_from.balance)*100).toFixed(0)):this.percentage=Number((Number(e)/Number(r.balance)*100).toFixed(0)),isFinite(this.percentage)||(this.percentage=0)}},{key:"percentageSelectorSelectionStatus",value:function(e){this.should_percentage_reset=e,e&&(this.percentage=0)}},{key:"setIsDeposit",value:function(e){this.is_deposit=e}},{key:"setShouldShowAllAvailableCurrencies",value:function(e){this.should_show_all_available_currencies=e}},{key:"setIsCashierOnboarding",value:function(e){this.is_cashier_onboarding=e}},{key:"setDepositTarget",value:function(e){this.deposit_target=e}},{key:"setAccountSwitchListener",value:function(){this.disposeSwitchAccount(),this.onSwitchAccount(this.accountSwitcherListener)}},{key:"init",value:(i=ee(X().mark((function e(){var t,r,o,n,i,a,s,c;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.root_store.modules.cashier){e.next=10;break}return t=this.root_store,r=t.client,o=r.is_logged_in,n=r.switched,i=t.modules,a=i.cashier,s=a.payment_agent,c=a.withdraw,e.next=5,this.WS.wait("get_settings");case 5:if(!o){e.next=10;break}if(n){e.next=10;break}return s.setPaymentAgentList().then((function(){return s.filterPaymentAgentList()})),e.next=10,c.check10kLimit();case 10:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onMountCommon",value:(n=ee(X().mark((function e(t){var r,o,n,i,a,s,c,l,u,d,_;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.root_store,o=r.client,n=r.common,i=r.modules,a=n.is_from_derivgo,s=n.routeTo,c=i.cashier,l=c.account_transfer,u=c.onramp,d=c.payment_agent,_=c.transaction_history,o.is_logged_in&&!this.is_populating_values){e.next=5;break}return e.abrupt("return");case 5:return this.is_populating_values=!0,t&&this.setOnRemount(this.onMountCommon),this.setLoading(!0),e.next=10,d.setPaymentAgentList();case 10:d.filterPaymentAgentList(),this.setLoading(!1),l.accounts_list.length||l.sortAccountsTransfer(null,a),!d.is_payment_agent_visible&&window.location.pathname.endsWith(p.routes.cashier_pa)&&s(p.routes.cashier_deposit),!u.is_onramp_tab_visible&&window.location.pathname.endsWith(p.routes.cashier_onramp)&&s(p.routes.cashier_deposit),!_.is_transactions_crypto_visible&&window.location.pathname.endsWith(p.routes.cashier_transactions_crypto)&&(s(p.routes.cashier_deposit),_.setIsTransactionsCryptoVisible(!0));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setCashierTabIndex",value:function(e){this.cashier_route_tab_index=e}},{key:"setLoading",value:function(e){this.is_loading=e}},{key:"setActiveTab",value:function(e){"payment_agent"===this.active_container&&"payment_agent"!==e&&this.root_store.modules.cashier.payment_agent.resetPaymentAgent(),this.active_container=e}},{key:"accountSwitcherListener",value:function(){var e=this.root_store,t=e.client,r=e.modules.cashier,o=r.iframe,n=r.payment_agent,i=V.map_action[this.active_container];return t.setVerificationCode("",i),o.clearIframe(),this.payment_agent=n,1===n.active_tab_index&&window.location.pathname.endsWith(p.routes.cashier_pa)&&n.setActiveTab(1),this.is_populating_values=!1,this.onRemount(),Promise.resolve()}}],o&&te(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,n,i}(J);function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ce(){ce=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new F(o||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",h="executing",m="completed",f={};function g(){}function b(){}function v(){}var y={};l(y,a,(function(){return this}));var D=Object.getPrototypeOf,w=D&&D(D(k([])));w&&w!==r&&o.call(w,a)&&(y=w);var C=v.prototype=g.prototype=Object.create(y);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(n,i,a,s){var c=d(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==se(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function E(t,r,o){var n=_;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=j(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===_)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?m:p,l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=m,o.method="throw",o.arg=l.arg)}}}function j(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=d(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(se(t)+" is not iterable")}return b.prototype=v,n(C,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new x(u(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;S(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:k(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function le(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function ue(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,de(o.key),o)}}function de(e){var t=function(e){if("object"!=se(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==se(t)?t:t+""}var _e=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root_store=t,this.iframe_height=0,this.iframe_url="",this.is_session_timeout=!0,this.onIframeLoaded=null,this.timeout_session=null,(0,_.makeObservable)(this,{iframe_height:_.observable,iframe_url:_.observable,is_session_timeout:_.observable,timeout_session:_.observable,setSessionTimeout:_.action.bound,checkIframeLoaded:_.action.bound,clearTimeoutCashierUrl:_.action.bound,setTimeoutCashierUrl:_.action.bound,setIframeUrl:_.action.bound,setContainerHeight:_.action.bound,clearIframe:_.action.bound}),this.root_store=t},t=[{key:"setSessionTimeout",value:function(e){this.is_session_timeout=e,e&&this.removeOnIframeLoaded()}},{key:"checkIframeLoaded",value:(r=ce().mark((function e(){var t,r,o,n,i,a=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.root_store,r=t.modules,o=t.ui,n=o.is_mobile,this.removeOnIframeLoaded(),i=["https://cashier.deriv.com","https://cashier.deriv.be","https://cashier.deriv.me","https://doughflow-test.4x.my"],this.onIframeLoaded=function(e){i.includes(e.origin)&&(r.cashier.general_store.setLoading(!1),n?a.setContainerHeight(window.innerHeight-100):a.setContainerHeight(window.innerHeight-190))},window.addEventListener("message",this.onIframeLoaded,!1);case 6:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(o,n){var i=r.apply(e,t);function a(e){le(i,o,n,a,s,"next",e)}function s(e){le(i,o,n,a,s,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"removeOnIframeLoaded",value:function(){this.onIframeLoaded&&(window.removeEventListener("message",this.onIframeLoaded,!1),this.onIframeLoaded=null)}},{key:"clearTimeoutCashierUrl",value:function(){this.timeout_session&&clearTimeout(this.timeout_session)}},{key:"setTimeoutCashierUrl",value:function(e){var t=this;this.clearTimeoutCashierUrl(),e&&(this.timeout_session=setTimeout((function(){t.setSessionTimeout(!0)}),6e4))}},{key:"setIframeUrl",value:function(e){var t=this.root_store.client;if(e){this.iframe_url=e;var r=this.root_store.modules.cashier.general_store.active_container;if(r in V.map_action){var o=r;t.setVerificationCode("",V.map_action[o])}}else this.iframe_url=""}},{key:"setContainerHeight",value:function(e){this.iframe_height=e}},{key:"clearIframe",value:function(){this.setContainerHeight(0),this.setIframeUrl(""),this.clearTimeoutCashierUrl(),this.setSessionTimeout(!0)}}],t&&ue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,o}();const pe=function(e){return{icon:{dark:"IcCashierBanxaDark",light:"IcCashierBanxaLight"},name:"Banxa",getDescription:function(){return(0,h.localize)("A fast and secure fiat-to-crypto payment service. Deposit cryptocurrencies from anywhere in the world using your credit/debit cards and bank transfers.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"},{dark:"IcCashierBpayDark",light:"IcCashierBpayLight"},{dark:"IcCashierSepaDark",light:"IcCashierSepaLight"},{dark:"IcCashierBlueshyftDark",light:"IcCashierBlueshyftLight"},{dark:"IcCashierFlexepinDark",light:"IcCashierFlexepinLight"},{dark:"IcCashierPayIdDark",light:"IcCashierPayIdLight"},{dark:"IcCashierPoliDark",light:"IcCashierPoliLight"},{dark:"IcCashierApplePay",light:"IcCashierApplePay"},{dark:"IcCashierInteracEtransfer",light:"IcCashierInteracEtransfer"},{dark:"IcCashierIdeal",light:"IcCashierIdeal"},{dark:"IcCashierPostBillPayDark",light:"IcCashierPostBillPayLight"},{dark:"IcCashierSofort",light:"IcCashierSofort"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return""},getFromCurrencies:function(){return["*"]},getToCurrencies:function(){return["*"]},getWidgetHtml:function(){return new Promise((function(t,r){e.WS.serviceToken({service_token:1,service:"banxa",referrer:window.location.href}).then((function(e){if(e.error)r(e.error.message);else{var o=e.service_token.banxa.url;if(o){var n=document.createElement("a");n.href=o,n.target="_blank",n.click()}t("")}}))}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}};function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function me(){me=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new F(o||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",h="executing",m="completed",f={};function g(){}function b(){}function v(){}var y={};l(y,a,(function(){return this}));var D=Object.getPrototypeOf,w=D&&D(D(k([])));w&&w!==r&&o.call(w,a)&&(y=w);var C=v.prototype=g.prototype=Object.create(y);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(n,i,a,s){var c=d(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==he(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function E(t,r,o){var n=_;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=j(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===_)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?m:p,l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=m,o.method="throw",o.arg=l.arg)}}}function j(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=d(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(he(t)+" is not iterable")}return b.prototype=v,n(C,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new x(u(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;S(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:k(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function fe(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function ge(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){fe(i,o,n,a,s,"next",e)}function s(e){fe(i,o,n,a,s,"throw",e)}a(void 0)}))}}function be(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,ve(o.key),o)}}function ve(e){var t=function(e){if("object"!=he(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==he(t)?t:t+""}function ye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ye=function(){return!!e})()}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function we(e,t){return we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},we(e,t)}var Ce=function(e){function t(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t,r){return t=De(t),function(e,t){if(t&&("object"==he(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ye()?Reflect.construct(t,r||[],De(e).constructor):t.apply(e,r))}(this,t,[{root_store:r}])).WS=e,o.root_store=r,o.api_error=null,o.deposit_address=null,o.disposeGetWidgetHtmlReaction=null,o.disposeThirdPartyJsReaction=null,o.is_deposit_address_loading=!0,o.is_onramp_modal_open=!1,o.is_requesting_widget_html=!1,o.onramp_providers=[],o.selected_provider=null,o.should_show_widget=!1,o.widget_error=null,o.widget_html=null,(0,_.makeObservable)(o,{api_error:_.observable,deposit_address:_.observable,is_deposit_address_loading:_.observable,is_onramp_modal_open:_.observable,is_requesting_widget_html:_.observable,onramp_providers:_.observable.shallow,selected_provider:_.observable.ref,should_show_widget:_.observable,widget_error:_.observable,widget_html:_.observable,is_onramp_tab_visible:_.computed,filtered_onramp_providers:_.computed,onramp_popup_modal_title:_.computed,should_show_dialog:_.computed,onMountOnramp:_.action.bound,onUnmountOnramp:_.action.bound,onClickDisclaimerContinue:_.action.bound,onClickGoToDepositPage:_.action.bound,pollApiForDepositAddress:_.action.bound,resetPopup:_.action.bound,setApiError:_.action.bound,setDepositAddress:_.action.bound,setIsDepositAddressLoading:_.action.bound,setIsOnRampModalOpen:_.action.bound,setIsRequestingWidgetHtml:_.action.bound,setSelectedProvider:_.action.bound,setShouldShowWidget:_.action.bound,setOnrampProviders:_.action.bound,setWidgetError:_.action.bound,setWidgetHtml:_.action.bound}),o.WS=e,o.onClientInit(ge(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.setOnrampProviders([pe(o)]);case 1:case"end":return e.stop()}}),e)})))),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&we(e,t)}(t,e),r=t,o=[{key:"is_onramp_tab_visible",get:function(){var e=this.root_store.client;return!e.is_virtual&&(0,p.isCryptocurrency)(e.currency)&&this.filtered_onramp_providers.length>0}},{key:"filtered_onramp_providers",get:function(){var e=this.root_store.client;return this.onramp_providers.filter((function(t){var r=t.getToCurrencies();return r.includes("*")||r.includes(e.currency.toLowerCase())})).filter((function(t){var r=t.getAllowedResidencies();return r.includes("*")||r.includes(e.residence)}))}},{key:"onramp_popup_modal_title",get:function(){return this.should_show_widget?(0,h.localize)("Payment channel"):this.selected_provider?this.should_show_dialog?(0,h.localize)("Our server cannot retrieve an address."):" ":void 0}},{key:"should_show_dialog",get:function(){return!!this.api_error}},{key:"onMountOnramp",value:function(){var e=this;this.disposeThirdPartyJsReaction=(0,_.reaction)((function(){return e.selected_provider}),function(){var t=ge(me().mark((function t(r){var o,n,i,a;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:if(0!==(o=r.getScriptDependencies()).length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,u.e("loadjs").then(u.t.bind(u,"../../../node_modules/loadjs/dist/loadjs.umd.js",23));case 7:n=t.sent,i=n.default,a="".concat((0,p.getKebabCase)(r.name),"-onramp"),i.isDefined(a)||i(o,a,{error:function(){var t=ge(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.warn("Dependencies for onramp provider ".concat(r.name," could not be loaded.")),t.next=3,e.setSelectedProvider(null);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.disposeGetWidgetHtmlReaction=(0,_.reaction)((function(){return e.should_show_widget}),(function(t){if(t){var r;if(e.is_requesting_widget_html)return;e.setIsRequestingWidgetHtml(!0),null===(r=e.selected_provider)||void 0===r||r.getWidgetHtml().then((function(t){t?e.setWidgetHtml(t):e.setShouldShowWidget(!1)})).catch((function(t){e.setWidgetError(t)})).finally((function(){return e.setIsRequestingWidgetHtml(!1)}))}}))}},{key:"onUnmountOnramp",value:function(){"function"==typeof this.disposeThirdPartyJsReaction&&this.disposeThirdPartyJsReaction(),"function"==typeof this.disposeGetWidgetHtmlReaction&&this.disposeGetWidgetHtmlReaction()}},{key:"onClickDisclaimerContinue",value:function(){this.setShouldShowWidget(!0)}},{key:"onClickGoToDepositPage",value:(s=ge(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pollApiForDepositAddress(!1);case 2:window.open((0,p.websiteUrl)()+p.routes.cashier_deposit.substring(1));case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"pollApiForDepositAddress",value:(a=ge(me().mark((function e(t){var r,o,n=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setIsDepositAddressLoading(!0),this.setApiError(null),r=setInterval((function(){return o}),3e3),o=function(){var e=ge(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.WS.authorized.cashier("deposit",{provider:"crypto",type:"api"}).then((function(e){var o,i=!1;if(e.error)n.setApiError(e.error),i=!0;else if("string"!=typeof e.cashier&&null!==(o=e.cashier)&&void 0!==o&&o.deposit){var a,s=null===(a=e.cashier)||void 0===a?void 0:a.deposit.address;(s||t)&&(n.setDepositAddress(s),i=!0)}i&&(clearInterval(r),n.setIsDepositAddressLoading(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,o();case 6:setTimeout((function(){clearInterval(r),n.setIsDepositAddressLoading(!1)}),3e4);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"resetPopup",value:(i=ge(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setApiError(null),this.setDepositAddress(null),this.setIsDepositAddressLoading(!0),e.next=5,this.setSelectedProvider(null);case 5:this.setShouldShowWidget(!1),this.setWidgetError(null),this.setWidgetHtml(null);case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"setApiError",value:function(e){this.api_error=e}},{key:"setDepositAddress",value:function(e){this.deposit_address=e}},{key:"setIsDepositAddressLoading",value:function(e){this.is_deposit_address_loading=e}},{key:"setIsOnRampModalOpen",value:function(e){this.is_onramp_modal_open=e}},{key:"setIsRequestingWidgetHtml",value:function(e){this.is_requesting_widget_html=e}},{key:"setSelectedProvider",value:(n=ge(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return this.selected_provider=t,this.setIsOnRampModalOpen(!0),e.next=5,this.pollApiForDepositAddress(!0);case 5:e.next=9;break;case 7:this.setIsOnRampModalOpen(!1),this.selected_provider=null;case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setShouldShowWidget",value:function(e){this.should_show_widget=e}},{key:"setOnrampProviders",value:function(e){this.onramp_providers=e.slice()}},{key:"setWidgetError",value:function(e){this.widget_error=e}},{key:"setWidgetHtml",value:function(e){this.widget_html=e}}],o&&be(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,n,i,a,s}(J);function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var xe=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=r?e.replace(/[' ,-]/g,"").toLowerCase():e,n=Object.entries(t).reduce((function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=i.call(r)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw n}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=r[0];return r[1].some((function(e){return e===o}))?n:e}),"");return r?n:n||e};function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e,t,r){return(t=Ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fe(){Fe=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new F(o||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",h="executing",m="completed",f={};function g(){}function b(){}function v(){}var y={};l(y,a,(function(){return this}));var D=Object.getPrototypeOf,w=D&&D(D(k([])));w&&w!==r&&o.call(w,a)&&(y=w);var C=v.prototype=g.prototype=Object.create(y);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(n,i,a,s){var c=d(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Ee(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function E(t,r,o){var n=_;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=j(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===_)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?m:p,l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=m,o.method="throw",o.arg=l.arg)}}}function j(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=d(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Ee(t)+" is not iterable")}return b.prototype=v,n(C,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new x(u(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;S(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:k(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function ke(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function Pe(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){ke(i,o,n,a,s,"next",e)}function s(e){ke(i,o,n,a,s,"throw",e)}a(void 0)}))}}function Te(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Ne(o.key),o)}}function Ne(e){var t=function(e){if("object"!=Ee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ee(t)?t:t+""}var Le=function(){return e=function e(t,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.WS=t,this.root_store=r,this.list=[],this.agents=[],this.error=new C,this.filtered_list=[],this.is_name_selected=!0,this.is_search_loading=!1,this.is_withdraw=!1,this.is_try_withdraw_successful=!1,this.is_withdraw_successful=!1,this.confirm={},this.receipt={},this.selected_bank=0,this.supported_banks=[],this.active_tab_index=0,this.search_term="",this.has_payment_agent_search_warning=!1,this.onRemount=null,this.resetPaymentAgent=function(){o.root_store.client.setVerificationCode("","payment_agent_withdraw"),o.error.setErrorMessage({code:"",message:""}),o.setIsWithdraw(!1),o.setIsWithdrawSuccessful(!1),o.setIsTryWithdrawSuccessful(!1),o.setActiveTabIndex(0)},(0,_.makeObservable)(this,{list:_.observable,agents:_.observable,error:_.observable,filtered_list:_.observable,is_name_selected:_.observable,is_search_loading:_.observable,is_withdraw:_.observable,is_try_withdraw_successful:_.observable,is_withdraw_successful:_.observable,confirm:_.observable,receipt:_.observable,selected_bank:_.observable,supported_banks:_.observable,active_tab_index:_.observable,search_term:_.observable,has_payment_agent_search_warning:_.observable,setActiveTabIndex:_.action.bound,setActiveTab:_.action.bound,is_payment_agent_visible:_.computed,getPaymentAgentList:_.action.bound,getPaymentAgentDetails:_.action.bound,addSupportedBank:_.action.bound,clearSupportedBanks:_.action.bound,sortSupportedBanks:_.action.bound,setList:_.action.bound,clearList:_.action.bound,setPaymentAgentList:_.action.bound,filterPaymentAgentList:_.action.bound,setSearchTerm:_.action.bound,setIsSearchLoading:_.action.bound,setPaymentAgentSearchWarning:_.action.bound,onChangePaymentMethod:_.action.bound,setIsWithdraw:_.action.bound,setIsTryWithdrawSuccessful:_.action.bound,setIsWithdrawSuccessful:_.action.bound,setConfirmation:_.action.bound,setReceipt:_.action.bound,addPaymentAgent:_.action.bound,onMountPaymentAgentWithdraw:_.action.bound,requestTryPaymentAgentWithdraw:_.action.bound,resetPaymentAgent:_.action.bound,onMountPaymentAgentList:_.action.bound,requestPaymentAgentWithdraw:_.action.bound,onRemount:_.observable,setOnRemount:_.action.bound}),this.root_store=r,this.WS=t},t=[{key:"setActiveTabIndex",value:function(e){this.active_tab_index=e}},{key:"setActiveTab",value:function(e){1===this.active_tab_index&&0===e&&this.resetPaymentAgent(),this.setActiveTabIndex(e)}},{key:"setOnRemount",value:function(e){this.onRemount=e}},{key:"is_payment_agent_visible",get:function(){return!!(this.filtered_list.length||this.agents.length||this.has_payment_agent_search_warning)}},{key:"getPaymentAgentList",value:(c=Pe(Fe().mark((function e(){var t,r,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.wait("get_settings");case 2:return t=this.root_store.client,r=t.residence,o=t.currency,e.abrupt("return",this.WS.authorized.paymentAgentList(r,o));case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getPaymentAgentDetails",value:(s=Pe(Fe().mark((function e(){var t,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.authorized.paymentAgentDetails();case 2:return t=e.sent,r=t.paymentagent_details,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"addSupportedBank",value:function(e){this.supported_banks.find((function(t){return t.value===e.toLowerCase()}))||this.supported_banks.push({text:e,value:e.toLowerCase()})}},{key:"clearSupportedBanks",value:function(){this.supported_banks=[]}},{key:"sortSupportedBanks",value:function(){this.supported_banks.replace(this.supported_banks.slice().sort((function(e,t){return e.value<t.value?-1:e.value>t.value?1:0})))}},{key:"setList",value:function(e){this.list.push(e)}},{key:"clearList",value:function(){this.list=[]}},{key:"setPaymentAgentList",value:(a=Pe(Fe().mark((function e(t){var r,o,n,i=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.root_store.modules.cashier.general_store.setLoading,e.prev=1,e.t0=t,e.t0){e.next=16;break}return e.next=6,this.getPaymentAgentList();case 6:if(e.t2=o=e.sent.paymentagent_list,e.t1=null===e.t2,e.t1){e.next=10;break}e.t1=void 0===o;case 10:if(!e.t1){e.next=14;break}e.t3=void 0,e.next=15;break;case 14:e.t3=o.list;case 15:e.t0=e.t3;case 16:n=e.t0,this.clearList(),this.clearSupportedBanks(),null==n||n.forEach((function(e){i.setList({currency:e.currencies,deposit_commission:e.deposit_commission,email:e.email,further_information:e.further_information,max_withdrawal:e.max_withdrawal,min_withdrawal:e.min_withdrawal,name:e.name,paymentagent_loginid:e.paymentagent_loginid,phone_numbers:e.phone_numbers,supported_banks:e.supported_payment_methods,urls:null==e?void 0:e.urls,withdrawal_commission:e.withdrawal_commission}),(null==e?void 0:e.supported_payment_methods.map((function(e){if(void 0===e.payment_method)return"";var t=xe(e.payment_method,V.payment_methods);return["Neteller","Skrill"].includes(t)?"":t})).filter(Boolean)).forEach((function(e){return i.addSupportedBank(e)}))})),(0,p.shuffleArray)(this.list),e.next=27;break;case 23:e.prev=23,e.t4=e.catch(1),r(!1),console.error(e.t4);case 27:this.sortSupportedBanks();case 28:case"end":return e.stop()}}),e,this,[[1,23]])}))),function(e){return a.apply(this,arguments)})},{key:"filterPaymentAgentList",value:function(e){var t=this;this.setPaymentAgentSearchWarning(!1),this.filtered_list=[],e||this.selected_bank?this.list.forEach((function(r){var o=null==r?void 0:r.supported_banks;o&&-1!==o.map((function(e){return xe(e.payment_method||"",V.payment_methods).toLowerCase()})).indexOf((e||t.selected_bank).toString())&&t.filtered_list.push(r)})):this.filtered_list=this.list,this.search_term&&(this.filtered_list=this.filtered_list.filter((function(e){var r;return null===(r=e.name)||void 0===r?void 0:r.toLocaleLowerCase().includes(t.search_term.toLocaleLowerCase())})),0===this.filtered_list.length&&this.setPaymentAgentSearchWarning(!0)),this.setIsSearchLoading(!1),this.routeToCashierDepositIfAgentVisible()}},{key:"routeToCashierDepositIfAgentVisible",value:function(){var e=this.root_store.common;!this.is_payment_agent_visible&&window.location.pathname.endsWith(p.routes.cashier_pa)&&e.routeTo(p.routes.cashier_deposit)}},{key:"setSearchTerm",value:function(e){this.search_term=e}},{key:"setIsSearchLoading",value:function(e){this.is_search_loading=e}},{key:"setPaymentAgentSearchWarning",value:function(e){this.has_payment_agent_search_warning=e}},{key:"onChangePaymentMethod",value:function(e){var t=e.target,r="0"===t.value?parseInt(t.value):t.value;this.selected_bank=r,this.filterPaymentAgentList(r)}},{key:"setIsWithdraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.is_withdraw;this.is_withdraw=e}},{key:"setIsTryWithdrawSuccessful",value:function(e){this.error.setErrorMessage({code:"",message:""}),this.is_try_withdraw_successful=e}},{key:"setIsWithdrawSuccessful",value:function(e){this.is_withdraw_successful=e}},{key:"setConfirmation",value:function(e){this.confirm=e}},{key:"setReceipt",value:function(e){var t=e.amount_transferred,r=e.payment_agent_email,o=e.payment_agent_id,n=e.payment_agent_name,i=e.payment_agent_phone,a=e.payment_agent_url;this.receipt={amount_transferred:t,payment_agent_email:r,payment_agent_id:o,payment_agent_name:n,payment_agent_phone:i,payment_agent_url:a}}},{key:"addPaymentAgent",value:function(e){this.agents.push({text:e.name,value:e.paymentagent_loginid,max_withdrawal:e.max_withdrawal,min_withdrawal:e.min_withdrawal,email:e.email,phone_numbers:e.phone_numbers,url:e.urls})}},{key:"onMountPaymentAgentWithdraw",value:(i=Pe(Fe().mark((function e(){var t,r,o,n,i,a,s,c,l,u=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.root_store,r=t.common,o=t.modules,n=o.cashier.general_store,i=n.setLoading,a=n.onMountCommon,i(!0),this.setOnRemount((function(){return u.onMountPaymentAgentWithdraw})),e.next=6,a();case 6:if(this.setIsWithdraw(!0),this.setIsWithdrawSuccessful(!1),this.setReceipt({}),this.agents.length){e.next=15;break}return e.next=12,this.getPaymentAgentList();case 12:l=e.sent,null===(s=l.paymentagent_list)||void 0===s||s.list.forEach((function(e){u.addPaymentAgent(e)})),null!==(c=l.paymentagent_list)&&void 0!==c&&c.list.length||!window.location.pathname.endsWith(p.routes.cashier_pa)||r.routeTo(p.routes.cashier_deposit);case 15:i(!1);case 16:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"requestTryPaymentAgentWithdraw",value:(n=Pe(Fe().mark((function e(t){var r,o,n,i,a,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.loginid,o=t.currency,n=t.amount,i=t.verification_code,this.error.setErrorMessage({code:"",message:""}),e.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:r,currency:o,amount:n,verification_code:i,dry_run:1});case 4:a=e.sent,2===Number(a.paymentagent_withdraw)?(s=this.agents.find((function(e){return e.value===r})),this.setConfirmation({amount:n,currency:o,loginid:r,payment_agent_name:(null==s?void 0:s.text)||a.paymentagent_name||""}),this.setIsTryWithdrawSuccessful(!0)):this.error.setErrorMessage(a.error,this.resetPaymentAgent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"onMountPaymentAgentList",value:(o=Pe(Fe().mark((function e(){var t,r,o,n=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.root_store.modules.cashier.general_store,r=t.setLoading,o=t.onMountCommon,r(!0),this.onRemount=function(){return n.onMountPaymentAgentList},e.next=5,o();case 5:return e.next=7,this.getPaymentAgentList();case 7:r(!1);case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"requestPaymentAgentWithdraw",value:(r=Pe(Fe().mark((function e(t){var r,o,n,i,a,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.loginid,o=t.currency,n=t.amount,i=t.verification_code,this.error.setErrorMessage({code:"",message:""}),e.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:r,currency:o,amount:n,verification_code:i});case 4:a=e.sent,1===Number(a.paymentagent_withdraw)?(s=this.agents.find((function(e){return e.value===r})),this.setReceipt(Oe({amount_transferred:(0,p.formatMoney)(o,n,!0)},s&&{payment_agent_email:s.email,payment_agent_id:s.value,payment_agent_name:s.text,payment_agent_phone:s.phone_numbers,payment_agent_url:s.url})),this.setIsWithdrawSuccessful(!0),this.setIsTryWithdrawSuccessful(!1),this.setConfirmation({})):this.error.setErrorMessage(a.error,this.resetPaymentAgent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}],t&&Te(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,o,n,i,a,s,c}();function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Be(){Be=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new F(o||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",h="executing",m="completed",f={};function g(){}function b(){}function v(){}var y={};l(y,a,(function(){return this}));var D=Object.getPrototypeOf,w=D&&D(D(k([])));w&&w!==r&&o.call(w,a)&&(y=w);var C=v.prototype=g.prototype=Object.create(y);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(n,i,a,s){var c=d(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Ie(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function E(t,r,o){var n=_;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=j(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===_)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?m:p,l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=m,o.method="throw",o.arg=l.arg)}}}function j(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=d(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Ie(t)+" is not iterable")}return b.prototype=v,n(C,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new x(u(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;S(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:k(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function Re(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function Me(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){Re(i,o,n,a,s,"next",e)}function s(e){Re(i,o,n,a,s,"throw",e)}a(void 0)}))}}function ze(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Ue(o.key),o)}}function Ue(e){var t=function(e){if("object"!=Ie(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ie(t)?t:t+""}var We=function(){return e=function e(t,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.WS=t,this.root_store=r,this.error=new C,this.is_try_transfer_successful=!1,this.is_transfer_successful=!1,this.confirm={},this.receipt={},this.transfer_limit={},this.onRemount=null,this.requestTryPaymentAgentTransfer=function(){var e=Me(Be().mark((function e(t){var r,n,i,a,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.amount,n=t.currency,i=t.description,a=t.transfer_to,o.error.setErrorMessage({code:"",message:""}),e.next=4,o.WS.authorized.paymentAgentTransfer({amount:r,currency:n,description:i,transfer_to:a,dry_run:1});case 4:return s=e.sent,2===Number(s.paymentagent_transfer)?(o.setConfirmationPaymentAgentTransfer({client_id:a,client_name:s.client_to_full_name,amount:r,description:i}),o.setIsTryTransferSuccessful(!0)):o.error.setErrorMessage(s.error,o.resetPaymentAgentTransfer),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.requestPaymentAgentTransfer=function(){var e=Me(Be().mark((function e(t){var r,n,i,a,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.amount,n=t.currency,i=t.description,a=t.transfer_to,o.error.setErrorMessage({code:"",message:""}),e.next=4,o.WS.authorized.paymentAgentTransfer({amount:r,currency:n,description:i,transfer_to:a});case 4:return s=e.sent,1===Number(s.paymentagent_transfer)?(o.setReceiptPaymentAgentTransfer({amount_transferred:r,client_id:a,client_name:s.client_to_full_name}),o.setIsTransferSuccessful(!0),o.setIsTryTransferSuccessful(!1),o.setConfirmationPaymentAgentTransfer({})):o.error.setErrorMessage(s.error,o.resetPaymentAgentTransfer),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.resetPaymentAgentTransfer=function(){o.setIsTransferSuccessful(!1),o.error.setErrorMessage({code:"",message:""})},(0,_.makeObservable)(this,{error:_.observable,is_try_transfer_successful:_.observable,is_transfer_successful:_.observable,confirm:_.observable,receipt:_.observable,transfer_limit:_.observable,setIsTryTransferSuccessful:_.action.bound,setIsTransferSuccessful:_.action.bound,setConfirmationPaymentAgentTransfer:_.action.bound,setReceiptPaymentAgentTransfer:_.action.bound,setMinMaxPaymentAgentTransfer:_.action.bound,onMountPaymentAgentTransfer:_.action.bound,requestTryPaymentAgentTransfer:_.action.bound,requestPaymentAgentTransfer:_.action.bound,resetPaymentAgentTransfer:_.action.bound}),this.root_store=r,this.WS=t},t=[{key:"setIsTryTransferSuccessful",value:function(e){this.error.setErrorMessage({code:"",message:""}),this.is_try_transfer_successful=e}},{key:"setIsTransferSuccessful",value:function(e){this.is_transfer_successful=e}},{key:"setConfirmationPaymentAgentTransfer",value:function(e){var t=e.amount,r=e.client_id,o=e.client_name,n=e.description;this.confirm={amount:t,client_id:r,client_name:o,description:n}}},{key:"setReceiptPaymentAgentTransfer",value:function(e){var t=e.amount_transferred,r=e.client_id,o=e.client_name;this.receipt={amount_transferred:t,client_id:r,client_name:o}}},{key:"getCurrentPaymentAgent",value:(o=Me(Be().mark((function e(t){var r,o,n,i,a,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.root_store,n=o.client,i=o.modules,a=null===(r=t.paymentagent_list)||void 0===r?void 0:r.list.find((function(e){return e.paymentagent_loginid===n.loginid})),e.t0=a,e.t0){e.next=7;break}return e.next=6,i.cashier.payment_agent.getPaymentAgentDetails();case 6:e.t0=e.sent;case 7:return s=e.t0,e.abrupt("return",null!=s?s:{});case 9:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"setMinMaxPaymentAgentTransfer",value:function(e){var t=e.min_withdrawal,r=e.max_withdrawal;this.transfer_limit={min_withdrawal:t,max_withdrawal:r}}},{key:"onMountPaymentAgentTransfer",value:(r=Me(Be().mark((function e(){var t,r,o,n,i,a,s,c=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.root_store,r=t.client,o=t.modules,n=o.cashier,i=n.general_store,a=n.payment_agent,i.setLoading(!0),this.onRemount=function(){return c.onMountPaymentAgentTransfer},e.next=6,i.onMountCommon();case 6:if(s=function(){var e=Me(Be().mark((function e(){var t,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getPaymentAgentList();case 2:return t=e.sent,e.next=5,c.getCurrentPaymentAgent(t);case 5:r=e.sent,c.setMinMaxPaymentAgentTransfer(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),this.transfer_limit.min_withdrawal){e.next=10;break}return e.next=10,s();case 10:i.setLoading(!1),(0,_.reaction)((function(){return null==r?void 0:r.loginid}),(function(){return s()}));case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],t&&ze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,o}();function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function Ve(){Ve=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new F(o||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",h="executing",m="completed",f={};function g(){}function b(){}function v(){}var y={};l(y,a,(function(){return this}));var D=Object.getPrototypeOf,w=D&&D(D(k([])));w&&w!==r&&o.call(w,a)&&(y=w);var C=v.prototype=g.prototype=Object.create(y);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(n,i,a,s){var c=d(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==$e(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function E(t,r,o){var n=_;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=j(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===_)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?m:p,l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=m,o.method="throw",o.arg=l.arg)}}}function j(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=d(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError($e(t)+" is not iterable")}return b.prototype=v,n(C,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new x(u(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;S(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:k(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function He(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function Ge(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Ye(o.key),o)}}function Ye(e){var t=function(e){if("object"!=$e(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$e(t)?t:t+""}var Ke=function(){return e=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.WS=t,this.root_store=r,this.is_transactions_crypto_cancel_modal_visible=!1,this.is_transactions_crypto_status_modal_visible=!1,this.is_transactions_crypto_visible=!1,this.selected_crypto_transaction_id="",this.selected_crypto_status="",this.selected_crypto_status_description="",(0,_.makeObservable)(this,{is_transactions_crypto_cancel_modal_visible:_.observable,is_transactions_crypto_status_modal_visible:_.observable,is_transactions_crypto_visible:_.observable,selected_crypto_transaction_id:_.observable,selected_crypto_status:_.observable,selected_crypto_status_description:_.observable,cancelCryptoTransaction:_.action.bound,setSelectedCryptoTransactionId:_.action.bound,setIsTransactionsCryptoCancelModalVisible:_.action.bound,showTransactionsCryptoCancelModal:_.action.bound,hideTransactionsCryptoCancelModal:_.action.bound,setSelectedCryptoStatus:_.action.bound,setSelectedCryptoStatusDescription:_.action.bound,setIsTransactionsCryptoStatusModalVisible:_.action.bound,showTransactionsCryptoStatusModal:_.action.bound,hideTransactionsCryptoStatusModal:_.action.bound,setIsTransactionsCryptoVisible:_.action.bound})},t=[{key:"cancelCryptoTransaction",value:(r=Ve().mark((function e(t){var r,o,n=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=(o=this.WS).cancelCryptoTransaction)||void 0===r?void 0:r.call(o,t).then((function(e){return e.error?Promise.reject(e.error):(n.setSelectedCryptoTransactionId(""),n.setIsTransactionsCryptoCancelModalVisible(!1),Promise.resolve(e))}));case 2:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(o,n){var i=r.apply(e,t);function a(e){He(i,o,n,a,s,"next",e)}function s(e){He(i,o,n,a,s,"throw",e)}a(void 0)}))},function(e){return o.apply(this,arguments)})},{key:"setSelectedCryptoTransactionId",value:function(e){this.selected_crypto_transaction_id=e}},{key:"setIsTransactionsCryptoCancelModalVisible",value:function(e){this.is_transactions_crypto_cancel_modal_visible=e}},{key:"showTransactionsCryptoCancelModal",value:function(e){this.setSelectedCryptoTransactionId(e),this.setIsTransactionsCryptoCancelModalVisible(!0)}},{key:"hideTransactionsCryptoCancelModal",value:function(){this.setSelectedCryptoTransactionId(""),this.setIsTransactionsCryptoCancelModalVisible(!1)}},{key:"setSelectedCryptoStatus",value:function(e){this.selected_crypto_status=e}},{key:"setSelectedCryptoStatusDescription",value:function(e){this.selected_crypto_status_description=e}},{key:"setIsTransactionsCryptoStatusModalVisible",value:function(e){this.is_transactions_crypto_status_modal_visible=e}},{key:"showTransactionsCryptoStatusModal",value:function(e,t){this.setSelectedCryptoStatusDescription(e),this.setSelectedCryptoStatus(t),this.setIsTransactionsCryptoStatusModalVisible(!0)}},{key:"hideTransactionsCryptoStatusModal",value:function(){this.setIsTransactionsCryptoStatusModalVisible(!1)}},{key:"setIsTransactionsCryptoVisible",value:function(e){this.is_transactions_crypto_visible=e}}],t&&Ge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,o}();function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Je(){Je=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new F(o||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",h="executing",m="completed",f={};function g(){}function b(){}function v(){}var y={};l(y,a,(function(){return this}));var D=Object.getPrototypeOf,w=D&&D(D(k([])));w&&w!==r&&o.call(w,a)&&(y=w);var C=v.prototype=g.prototype=Object.create(y);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(n,i,a,s){var c=d(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==qe(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function E(t,r,o){var n=_;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=j(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===_)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?m:p,l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=m,o.method="throw",o.arg=l.arg)}}}function j(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=d(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(qe(t)+" is not iterable")}return b.prototype=v,n(C,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new x(u(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;S(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:k(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function Ze(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function Xe(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){Ze(i,o,n,a,s,"next",e)}function s(e){Ze(i,o,n,a,s,"throw",e)}a(void 0)}))}}function Qe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,et(o.key),o)}}function et(e){var t=function(e){if("object"!=qe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qe(t)?t:t+""}var tt=function(){return e=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.WS=t,this.root_store=r,this.blockchain_address="",this.crypto_estimations_fee_unique_id="",this.crypto_estimations_fee=0,this.error=new C,this.is_10k_withdrawal_limit_reached=void 0,this.is_withdraw_confirmed=!1,this.withdraw_amount="",this.max_withdraw_amount=0,this.crypto_config={currencies_config:{}},(0,_.makeObservable)(this,{blockchain_address:_.observable,crypto_estimations_fee_unique_id:_.observable,crypto_estimations_fee:_.observable,error:_.observable,is_10k_withdrawal_limit_reached:_.observable,is_withdraw_confirmed:_.observable,withdraw_amount:_.observable,max_withdraw_amount:_.observable,crypto_config:_.observable,setIsWithdrawConfirmed:_.action.bound,setWithdrawAmount:_.action.bound,requestWithdraw:_.action.bound,saveWithdraw:_.action.bound,resetWithdrawForm:_.action.bound,setBlockchainAddress:_.action.bound,onMountWithdraw:_.action.bound,onMountCryptoWithdraw:_.action.bound,is_withdrawal_locked:_.computed,setMaxWithdrawAmount:_.action.bound,check10kLimit:_.action.bound,set10kLimitation:_.action.bound,setCryptoConfig:_.action.bound,setCryptoEstimationsFeeUniqueId:_.action.bound,setCryptoEstimationsFee:_.action.bound,setWithdrawPercentageSelectorResult:_.action.bound,validateWithdrawFromAmount:_.action.bound,validateWithdrawToAmount:_.action.bound}),this.root_store=r,this.WS=t},t=[{key:"setIsWithdrawConfirmed",value:function(e){var t,r=null===(t=this.root_store.modules.cashier)||void 0===t?void 0:t.crypto_fiat_converter.converter_from_amount;if(this.is_withdraw_confirmed=e,e&&this.setWithdrawAmount(r),!e){var o,n=this.root_store,i=n.client,a=null===(o=n.modules.cashier)||void 0===o?void 0:o.general_store.active_container,s=V.map_action[a];i.setVerificationCode("",s)}}},{key:"setWithdrawAmount",value:function(e){this.withdraw_amount=e}},{key:"setCryptoEstimationsFeeUniqueId",value:function(e){this.crypto_estimations_fee_unique_id=e}},{key:"setCryptoEstimationsFee",value:function(e){this.crypto_estimations_fee=e}},{key:"requestWithdraw",value:(s=Xe(Je().mark((function e(t){var r,o,n,i,a=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.root_store,o=r.client,n=r.modules,i=n.cashier.crypto_fiat_converter,o.is_logged_in){e.next=4;break}return e.abrupt("return");case 4:if(i.converter_from_amount){e.next=7;break}return i.setConverterFromError((0,h.localize)("This field is required.")),e.abrupt("return");case 7:return e.next=9,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+i.converter_from_amount,verification_code:t,estimated_fee_unique_id:this.crypto_estimations_fee_unique_id||void 0,dry_run:1}).then((function(e){e.error?(a.error.setErrorMessage({code:e.error.code,message:e.error.message}),a.setCryptoConfig().then((function(){return a.validateWithdrawFromAmount()}))):a.saveWithdraw(t)}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"saveWithdraw",value:(a=Xe(Je().mark((function e(t){var r,o,n=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(r=this.root_store.modules.cashier)||void 0===r?void 0:r.crypto_fiat_converter.converter_from_amount,this.error.setErrorMessage({code:"",message:""}),e.next=4,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+o,estimated_fee_unique_id:this.crypto_estimations_fee_unique_id||void 0,verification_code:t}).then((function(e){if(e.error){if(n.error.setErrorMessage(e.error),t){var r,o=n.root_store,i=o.client,a=null===(r=o.modules.cashier)||void 0===r?void 0:r.general_store.active_container,s=V.map_action[a];i.setVerificationCode("",s)}n.resetWithdrawForm()}else n.setIsWithdrawConfirmed(!0)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"resetWithdrawForm",value:function(){var e,t,r=null===(e=this.root_store.modules.cashier)||void 0===e?void 0:e.crypto_fiat_converter.setConverterFromAmount,o=null===(t=this.root_store.modules.cashier)||void 0===t?void 0:t.crypto_fiat_converter.setConverterToAmount,n=this.root_store,i=n.client,a=n.modules.cashier.general_store.active_container,s=V.map_action[a];this.setBlockchainAddress(""),this.setCryptoEstimationsFee(0),r(""),o(""),i.setVerificationCode("",s)}},{key:"setBlockchainAddress",value:function(e){this.blockchain_address=e}},{key:"willMountWithdraw",value:function(e){if(this&&this.root_store&&e){var t,r=this.root_store,o=r.client,n=null===(t=r.modules.cashier)||void 0===t?void 0:t.general_store.active_container,i=V.map_action[n];o.setVerificationCode("",i)}}},{key:"onMountWithdraw",value:(i=Xe(Je().mark((function e(t){var r,o,n,i,a,s,c,l,u,d,_,p,h,m,f,g,b,v,y,D,w,C,A,x,E,j;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.root_store,c=s.client,l=s.modules,u=null===(r=l.cashier)||void 0===r?void 0:r.general_store.active_container,d=null===(o=l.cashier)||void 0===o?void 0:o.general_store.is_crypto_provider,_=null===(n=l.cashier)||void 0===n?void 0:n.general_store.onMountCommon,p=null===(i=l.cashier)||void 0===i?void 0:i.general_store.setLoading,h=null===(a=l.cashier)||void 0===a?void 0:a.general_store.setOnRemount,m=l.cashier.iframe,f=m.checkIframeLoaded,g=m.clearTimeoutCashierUrl,b=m.clearIframe,v=m.is_session_timeout,y=m.setContainerHeight,D=m.setIframeUrl,w=m.setSessionTimeout,C=m.setTimeoutCashierUrl,A=c.is_virtual,x=u,h(this.onMountWithdraw),e.next=12,_();case 12:if(this.error.setErrorMessage({code:"",message:""}),y(0),b(),p(!0),v){e.next=19;break}return f(),e.abrupt("return");case 19:if(D(""),t&&!A){e.next=23;break}return p(!1),e.abrupt("return");case 23:return e.next=25,this.WS.authorized.cashier("withdraw",{verification_code:t});case 25:if(E=e.sent,x===u){e.next=29;break}return p(!1),e.abrupt("return");case 29:if(!E.error){e.next=37;break}this.error.handleCashierError(E.error),p(!1),w(!0),g(),t&&(j=V.map_action[u],c.setVerificationCode("",j)),e.next=47;break;case 37:if(!d){e.next=41;break}p(!1),e.next=47;break;case 41:return e.next=43,f();case 43:p(!1),D(E.cashier),w(!1),C(!0);case 47:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"onMountCryptoWithdraw",value:(n=Xe(Je().mark((function e(t){var r,o,n,i,a,s,c,l,u,d,_,p;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.root_store.modules.cashier,n=o.crypto_fiat_converter,i=o.general_store,a=o.iframe,i.setLoading(!0),!/^\w{8,128}$/.test(t)){e.next=9;break}return e.next=6,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+n.converter_from_amount,verification_code:t,dry_run:1});case 6:s=e.sent,e.next=10;break;case 9:s={error:{code:"InvalidToken",message:"Your token has expired or is invalid."}};case 10:if("InvalidToken"!==(null===(r=s.error)||void 0===r?void 0:r.code)){e.next=18;break}this.error.handleCashierError(s.error),i.setLoading(!1),a.setSessionTimeout(!0),a.clearTimeoutCashierUrl(),t&&(l=this.root_store,u=l.client,d=l.modules,_=null===(c=d.cashier)||void 0===c?void 0:c.general_store.active_container,p=V.map_action[_],u.setVerificationCode("",p)),e.next=21;break;case 18:return e.next=20,this.setCryptoConfig();case 20:i.setLoading(!1);case 21:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setCryptoConfig",value:(o=Xe(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.cryptoConfig();case 2:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===t;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=t.crypto_config;case 11:this.crypto_config=e.t2;case 12:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"is_withdrawal_locked",get:function(){var e,t=this.root_store.client,r=((null==t?void 0:t.account_status)||{}).authentication;if(null===(e=t.account_status)||void 0===e||!e.status)return!1;var o=null==r?void 0:r.needs_verification.includes("identity"),n=this.error.is_ask_authentication&&o;return t.is_withdrawal_lock||n||this.error.is_ask_financial_risk_approval}},{key:"setMaxWithdrawAmount",value:function(e){this.max_withdraw_amount=e}},{key:"check10kLimit",value:(r=Xe(Je().mark((function e(){var t,r,o,n,i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.root_store.client,e.next=3,this.WS.wait("get_limits");case 3:o=null===(t=r.account_limits)||void 0===t?void 0:t.remainder,this.setMaxWithdrawAmount(Number(o)),n=Math.pow(10,-(0,p.getDecimalPlaces)(r.currency)),i=(0,p.getMinWithdrawal)(r.currency),a=!!(void 0!==o&&o<("XRP"===r.currency?n:i)),this.set10kLimitation(a);case 9:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"set10kLimitation",value:function(e){this.is_10k_withdrawal_limit_reached=e}},{key:"setWithdrawPercentageSelectorResult",value:function(e,t){var r=this.root_store,o=r.client,n=r.modules.cashier,i=n.crypto_fiat_converter,a=n.general_store,s=o.currency,c=o.current_fiat_currency;Number(e)>0?(i.setConverterFromAmount(e),this.validateWithdrawFromAmount(),i.onChangeConverterFromAmount({target:{value:e}},s,c||"USD",t)):i.resetConverter(),i.setIsTimerVisible(!1),a.percentageSelectorSelectionStatus(!1)}},{key:"validateWithdrawFromAmount",value:function(){var e,t="",r=this.root_store,o=r.client,n=r.modules,i=o.balance,a=o.currency,s=n.cashier.crypto_fiat_converter,c=s.converter_from_amount,l=s.setConverterFromError,u="XRP"===a?Math.pow(10,-(0,p.getDecimalPlaces)(o.currency)):Number(null===(e=this.crypto_config)||void 0===e||null===(e=e.currencies_config)||void 0===e||null===(e=e[a])||void 0===e?void 0:e.minimum_withdrawal),d=Number(this.max_withdraw_amount)>Number(i)?Number(i):Number(this.max_withdraw_amount),_=(0,p.formatMoney)(a,i||"",!0),m=(0,p.formatMoney)(a,u,!0),f=(0,p.formatMoney)(a,d,!0);if(c){var g=(0,p.validNumber)(c,{type:"float",decimals:(0,p.getDecimalPlaces)(a)}),b=g.is_ok,v=g.message;b?Number(i)<Number(c)?t=(0,h.localize)("Insufficient funds"):u&&Number(i)<Number(u)?t=(0,h.localize)("Your balance ({{format_balance}} {{currency}}) is less than the current minimum withdrawal allowed ({{format_min_withdraw_amount}} {{currency}}). Please top up your account to continue with your withdrawal.",{format_balance:_,currency:a,format_min_withdraw_amount:m}):(u&&Number(c)<Number(u)||Number(c)>Number(d))&&(t=(0,h.localize)("The current allowed withdraw amount is {{format_min_withdraw_amount}} to {{format_max_withdraw_amount}} {{currency}}",{format_min_withdraw_amount:m,format_max_withdraw_amount:f,currency:a})):t=v||""}l(t)}},{key:"validateWithdrawToAmount",value:function(){var e,t,r="",o=this.root_store,n=o.client,i=o.modules,a=n.current_fiat_currency,s=null===(e=i.cashier)||void 0===e?void 0:e.crypto_fiat_converter.converter_to_amount,c=null===(t=i.cashier)||void 0===t?void 0:t.crypto_fiat_converter.setConverterToError;if(s){var l=(0,p.validNumber)(s,{type:"float",decimals:(0,p.getDecimalPlaces)(a||"")}),u=l.is_ok,d=l.message;u||(r=d||"")}c(r)}}],t&&Qe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,o,n,i,a,s}();function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function ot(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,nt(o.key),o)}}function nt(e){var t=function(e){if("object"!=rt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rt(t)?t:t+""}var it=function(e,t,r){return t&&ot(e.prototype,t),r&&ot(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root_store=t,this.WS=r,this.account_transfer=void 0,this.crypto_fiat_converter=void 0,this.error=void 0,this.general_store=void 0,this.iframe=void 0,this.onramp=void 0,this.payment_agent_transfer=void 0,this.payment_agent=void 0,this.transaction_history=void 0,this.withdraw=void 0,this.account_transfer=new I(r,t),this.crypto_fiat_converter=new $(t),this.error=new C,this.general_store=new ae(r,t),this.iframe=new _e(t),this.onramp=new Ce(r,t),this.payment_agent=new Le(r,t),this.payment_agent_transfer=new We(r,t),this.transaction_history=new Ke(r,t),this.withdraw=new tt(r,t)}));return d.default})(),e.exports=o(r(504377),r(33118),r(351447),r(286326))},905719:(e,t,r)=>{var o;self,o=(e,t,r)=>(()=>{"use strict";var o={"./src/Stores/Modules/CFD/Helpers/cfd-config.ts":(e,t,r)=>{r.d(t,{bN:()=>a,cY:()=>i});var o=r("@deriv/shared"),n=r("@deriv/translations"),i=function(){var e={account_type:"",leverage:500,short_title:(0,n.localize)("CFDs")},t={account_type:"",leverage:500,short_title:(0,n.localize)("Standard")},r={account_type:"financial",leverage:1e3,short_title:(0,n.localize)("Financial")};return{demo:{all:{dxtrade_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Demo"),short_title:e.short_title},synthetic:{dxtrade_account_type:t.account_type,leverage:t.leverage,title:(0,n.localize)("Demo Standard"),short_title:t.short_title},financial:{dxtrade_account_type:r.account_type,leverage:r.leverage,title:(0,n.localize)("Demo Financial"),short_title:r.short_title}},real:{all:{dxtrade_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Real"),short_title:e.short_title},dxtrade:{mt5_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Real"),short_title:e.short_title},synthetic:{dxtrade_account_type:t.account_type,leverage:t.leverage,title:(0,n.localize)("Standard"),short_title:t.short_title},financial:{dxtrade_account_type:r.account_type,leverage:r.leverage,title:(0,n.localize)("Financial"),short_title:r.short_title}}}},a=function(e,t){var r,i={account_type:"",leverage:100,short_title:"swap_free"===t?(0,n.localize)("Swap-Free"):(0,n.localize)("Zero Spread")},a={account_type:"",leverage:500,short_title:(0,n.localize)("Standard")};switch(t){case o.PRODUCT.STP:r=(0,n.localize)("Financial STP");break;case o.PRODUCT.GOLD:r=(0,n.localize)("Gold");break;default:r=(0,n.localize)("Financial")}var s=t===o.PRODUCT.GOLD?(0,n.localize)("Demo Gold"):(0,n.localize)("Demo Financial"),c=t===o.PRODUCT.GOLD?(0,n.localize)("Demo Gold"):(0,n.localize)("Demo CFDs"),l=t===o.PRODUCT.GOLD?(0,n.localize)("Gold"):(0,n.localize)("Deriv CFDs"),u=t===o.PRODUCT.GOLD?(0,n.localize)("Deriv Gold"):(0,n.localize)("Deriv CFDs"),d={account_type:"financial",leverage:1e3,short_title:e?l:r},_={account_type:"financial_stp",leverage:100,short_title:(0,n.localize)("Financial STP")};return{demo:{all:{mt5_account_type:i.account_type,leverage:i.leverage,title:"swap_free"===t?(0,n.localize)("Demo Swap-Free"):(0,n.localize)("Demo Zero Spread"),short_title:i.short_title},all_swap_free_svg:{mt5_account_type:i.account_type,leverage:i.leverage,title:(0,n.localize)("Demo Swap-Free SVG"),short_title:(0,n.localize)("Swap-Free SVG")},all_zero_spread_bvi:{mt5_account_type:i.account_type,leverage:i.leverage,title:(0,n.localize)("Demo Zero Spread BVI"),short_title:(0,n.localize)("Zero Spread BVI")},ctrader:{mt5_account_type:i.account_type,leverage:"500",title:(0,n.localize)("Demo"),short_title:(0,n.localize)("cTrader")},synthetic:{mt5_account_type:a.account_type,leverage:a.leverage,title:(0,n.localize)("Demo Standard"),short_title:a.short_title},financial:{mt5_account_type:d.account_type,leverage:d.leverage,title:e?c:s,short_title:d.short_title},financial_demo:{mt5_account_type:d.account_type,leverage:d.leverage,title:e?(0,n.localize)("Demo CFDs"):(0,n.localize)("Demo Financial"),short_title:d.short_title},synthetic_svg:{mt5_account_type:a.account_type,leverage:a.leverage,title:(0,n.localize)("Demo Standard SVG"),short_title:a.short_title},financial_svg:{mt5_account_type:d.account_type,leverage:d.leverage,title:e?(0,n.localize)("Demo CFDs"):(0,n.localize)("Demo Financial SVG"),short_title:e?(0,n.localize)("CFDs"):(0,n.localize)("Financial SVG")},financial_stp:{mt5_account_type:_.account_type,leverage:_.leverage,title:(0,n.localize)("Demo Financial STP"),short_title:_.short_title}},real:{all:{mt5_account_type:i.account_type,leverage:i.leverage,title:"swap_free"===t?(0,n.localize)("Swap-Free"):(0,n.localize)("Zero Spread"),short_title:i.short_title},all_swap_free_svg:{mt5_account_type:i.account_type,leverage:i.leverage,title:(0,n.localize)("Swap-Free SVG"),short_title:i.short_title},all_zero_spread_bvi:{mt5_account_type:i.account_type,leverage:i.leverage,title:(0,n.localize)("Zero Spread BVI"),short_title:i.short_title},ctrader:{mt5_account_type:i.account_type,leverage:"500",title:(0,n.localize)("Real"),short_title:(0,n.localize)("cTrader")},dxtrade:{mt5_account_type:i.account_type,leverage:i.leverage,title:(0,n.localize)("Real"),short_title:i.short_title},synthetic:{mt5_account_type:a.account_type,leverage:a.leverage,title:(0,n.localize)("Standard"),short_title:a.short_title},synthetic_svg:{mt5_account_type:a.account_type,leverage:a.leverage,title:(0,n.localize)("Standard SVG"),short_title:a.short_title},synthetic_bvi:{mt5_account_type:a.account_type,leverage:a.leverage,title:(0,n.localize)("Standard BVI"),short_title:a.short_title},synthetic_v:{mt5_account_type:a.account_type,leverage:a.leverage,title:(0,n.localize)("Standard Vanuatu"),short_title:a.short_title},financial:{mt5_account_type:d.account_type,leverage:d.leverage,title:e?u:r,short_title:d.short_title},financial_svg:{mt5_account_type:d.account_type,leverage:d.leverage,title:e?(0,n.localize)("CFDs"):(0,n.localize)("Financial SVG"),short_title:d.short_title},financial_bvi:{mt5_account_type:d.account_type,leverage:d.leverage,title:e?(0,n.localize)("CFDs"):(0,n.localize)("Financial BVI"),short_title:d.short_title},financial_fx:{mt5_account_type:d.account_type,leverage:d.leverage,title:e?(0,n.localize)("CFDs"):(0,n.localize)("Financial Labuan"),short_title:d.short_title},financial_v:{mt5_account_type:d.account_type,leverage:d.leverage,title:e?(0,n.localize)("CFDs"):(0,n.localize)("Financial Vanuatu"),short_title:d.short_title},financial_stp:{mt5_account_type:_.account_type,leverage:_.leverage,title:(0,n.localize)("Financial STP"),short_title:_.short_title}}}}},"@deriv/shared":t=>{t.exports=e},"@deriv/translations":e=>{e.exports=t},mobx:e=>{e.exports=r}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return o[e](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var a={};i.d(a,{default:()=>I});var s=i("mobx"),c=i("@deriv/shared");function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(){u=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function _(e,t,r,o){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=_;var h="suspendedStart",m="suspendedYield",f="executing",g="completed",b={};function v(){}function y(){}function D(){}var w={};d(w,a,(function(){return this}));var C=Object.getPrototypeOf,A=C&&C(C(T([])));A&&A!==r&&o.call(A,a)&&(w=A);var x=D.prototype=v.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(n,i,a,s){var c=p(e[n],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==l(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function O(t,r,o){var n=h;return function(i,a){if(n===f)throw Error("Generator is already running");if(n===g){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=S(s,o);if(c){if(c===b)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===h)throw n=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=f;var l=p(t,r,o);if("normal"===l.type){if(n=o.done?g:m,l.arg===b)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=g,o.method="throw",o.arg=l.arg)}}}function S(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var i=p(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(l(t)+" is not iterable")}return y.prototype=D,n(x,"constructor",{value:D,configurable:!0}),n(D,"constructor",{value:y,configurable:!0}),y.displayName=d(D,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,D):(e.__proto__=D,d(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},E(j.prototype),d(j.prototype,s,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new j(_(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(x),d(x,c,"Generator"),d(x,a,(function(){return this})),d(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;k(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:T(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function d(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){d(i,o,n,a,s,"next",e)}function s(e){d(i,o,n,a,s,"throw",e)}a(void 0)}))}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,g(o.key),o)}}function g(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}var b=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.validation_errors={},this.validation_rules={},this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,this.partial_fetch_time=0,(0,s.makeObservable)(this,{validation_errors:s.observable,validation_rules:s.observable,partial_fetch_time:s.observable,retrieveFromStorage:s.action,setValidationErrorMessages:s.action,setValidationRules:s.action,addRule:s.action,validateProperty:s.action,validateAllProperties:s.action,onSwitchAccount:s.action.bound,onPreSwitchAccount:s.action.bound,onLogout:s.action.bound,onClientInit:s.action.bound,onNetworkStatusChange:s.action.bound,onThemeChange:s.action.bound,onRealAccountSignupEnd:s.action.bound,disposePreSwitchAccount:s.action.bound,disposeSwitchAccount:s.action.bound,disposeLogout:s.action.bound,disposeClientInit:s.action.bound,disposeNetworkStatusChange:s.action.bound,disposeThemeChange:s.action.bound,disposeRealAccountSignupEnd:s.action.bound,onUnmount:s.action.bound,assertHasValidCache:s.action.bound});var o=r.root_store,n=r.local_storage_properties,i=r.session_storage_properties,a=r.validation_rules,c=r.store_name;if(Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0}),n&&n.length||i&&i.length){if(!c)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:c,enumerable:!1,writable:!1})}this.root_store=o,this.local_storage_properties=n||[],this.session_storage_properties=i||[],setTimeout((function(){t.setValidationRules(a),t.setupReactionForLocalStorage(),t.setupReactionForSessionStorage(),t.retrieveFromStorage()}),0)}return t=e,r=[{key:"getSnapshot",value:function(e){var t=(0,s.toJS)(this);return(0,c.isEmptyObject)(this.root_store)||(t.root_store=this.root_store),e&&e.length&&(t=e.reduce((function(e,r){return Object.assign(e,m({},r,t[r]))}),{})),t}},{key:"setupReactionForLocalStorage",value:function(){var t=this;this.local_storage_properties.length&&(0,s.reaction)((function(){return t.local_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.local_storage_properties,e.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var t=this;this.session_storage_properties.length&&(0,s.reaction)((function(){return t.session_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.session_storage_properties,e.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(t,r){var o=JSON.stringify(this.getSnapshot(t),(function(e,t){if(null!==t)return t}));r===e.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,o):r===e.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,o)}},{key:"retrieveFromStorage",value:function(){var e=this,t=JSON.parse(localStorage.getItem(this.store_name,{})),r=JSON.parse(sessionStorage.getItem(this.store_name,{})),o=h(h({},t),r);Object.keys(o).forEach((function(t){return e[t]=o[t]}))}},{key:"setValidationErrorMessages",value:function(e,t){var r=this;this.validation_errors[e]&&!r.validation_errors[e].filter((function(e){return!t.includes(e)})).concat(t.filter((function(t){return!r.validation_errors[e].includes(t)}))).length||(this.validation_errors[e]=t)}},{key:"setValidationRules",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((function(r){e.addRule(r,t[r])}))}},{key:"addRule",value:function(e,t){var r=this;this.validation_rules[e]=t,(0,s.intercept)(this,e,(function(t){return r.validateProperty(e,t.newValue),t}))}},{key:"validateProperty",value:function(e,t){var r=this,o=this.validation_rules[e].trigger,n=m({},e,void 0!==t?t:this[e]),i=m({},e,this.validation_rules[e].rules||[]);o&&Object.hasOwnProperty.call(this,o)&&(n[o]=this[o],i[o]=this.validation_rules[o].rules||[]);var a=new c.Validator(n,i,this);a.isPassed(),Object.keys(n).forEach((function(e){r.setValidationErrorMessages(e,a.errors.get(e))}))}},{key:"validateAllProperties",value:function(){var e=this,t=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);t.forEach((function(t){e.validateProperty(t,e[t])})),r.forEach((function(r){t.includes(r)||delete e.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(e){var t=this;e&&(this.switch_account_listener=e,this.switchAccountDisposer=(0,s.when)((function(){return t.root_store.client.switch_broadcast}),(function(){try{var e=t.switch_account_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Switching account listeners are required to return a promise.");e.then((function(){t.root_store.client.switchEndSignal(),t.onSwitchAccount(t.switch_account_listener)}))}catch(e){(0,c.isProduction)()||console.error(e)}})))}},{key:"onPreSwitchAccount",value:function(e){var t=this;e&&(this.pre_switch_account_listener=e,this.preSwitchAccountDisposer=(0,s.when)((function(){return t.root_store.client.pre_switch_broadcast}),(function(){try{var e,r=null===(e=t.pre_switch_account_listener)||void 0===e?void 0:e.call(t);if(!r||!r.then||"function"!=typeof r.then)throw new Error("Pre-switch account listeners are required to return a promise.");r.then((function(){t.root_store.client.setPreSwitchAccount(!1),t.onPreSwitchAccount(t.pre_switch_account_listener)}))}catch(e){(0,c.isProduction)()||console.error(e)}})))}},{key:"onLogout",value:function(e){var t=this;this.logoutDisposer=(0,s.when)((function(){return t.root_store.client.has_logged_out}),_(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.logout_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.setLogout(!1),t.onLogout(t.logout_listener)})),e.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,c.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.logout_listener=e}},{key:"onClientInit",value:function(e){var t=this;this.clientInitDisposer=(0,s.when)((function(){return t.root_store.client.initialized_broadcast}),_(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.client_init_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.setInitialized(!1),t.onClientInit(t.client_init_listener)})),e.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,c.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.client_init_listener=e}},{key:"onNetworkStatusChange",value:function(e){var t=this;this.networkStatusChangeDisposer=(0,s.reaction)((function(){return t.root_store.common.is_network_online}),(function(e){try{t.network_status_change_listener(e)}catch(e){(0,c.isProduction)()||console.error(e)}})),this.network_status_change_listener=e}},{key:"onThemeChange",value:function(e){var t=this;this.themeChangeDisposer=(0,s.reaction)((function(){return t.root_store.ui.is_dark_mode_on}),(function(e){try{t.theme_change_listener(e)}catch(e){(0,c.isProduction)()||console.error(e)}})),this.theme_change_listener=e}},{key:"onRealAccountSignupEnd",value:function(e){var t=this;this.realAccountSignupEndedDisposer=(0,s.when)((function(){return t.root_store.ui.has_real_account_signup_ended}),(function(){try{var e=t.real_account_signup_ended_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Real account signup listeners are required to return a promise.");e.then((function(){t.root_store.ui.setRealAccountSignupEnd(!1),t.onRealAccountSignupEnd(t.real_account_signup_ended_listener)}))}catch(e){(0,c.isProduction)()||console.error(e)}})),this.real_account_signup_ended_listener=e}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(e){if(this.root_store.client.loginid!==e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];r.forEach((function(e){return e()})),this.partial_fetch_time=!1}}}],r&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}();b.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")});var v=i("./src/Stores/Modules/CFD/Helpers/cfd-config.ts");function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function D(){D=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:O(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",h="executing",m="completed",f={};function g(){}function b(){}function v(){}var w={};l(w,a,(function(){return this}));var C=Object.getPrototypeOf,A=C&&C(C(T([])));A&&A!==r&&o.call(A,a)&&(w=A);var x=v.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(n,i,a,s){var c=d(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==y(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function O(t,r,o){var n=_;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=S(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===_)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?m:p,l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=m,o.method="throw",o.arg=l.arg)}}}function S(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=d(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(y(t)+" is not iterable")}return b.prototype=v,n(x,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},E(j.prototype),l(j.prototype,s,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new j(u(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(x),l(x,c,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;k(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:T(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function w(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){C(i,o,n,a,s,"next",e)}function s(e){C(i,o,n,a,s,"throw",e)}a(void 0)}))}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=i.call(r)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw n}}return s}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return j(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,P(o.key),o)}}function P(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}var I=function(e){function t(e){var r,o=e.root_store;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,r){return t=N(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,T()?Reflect.construct(t,r||[],N(e).constructor):t.apply(e,r))}(this,t,[{root_store:o}])).is_ctrader_transfer_modal_visible=!1,r.is_jurisdiction_modal_visible=!1,r.jurisdiction_selected_shortcode="",r.is_compare_accounts_visible=!1,r.is_mt5_trade_modal_visible=!1,r.product="",r.account_type={category:"",type:""},r.mt5_trade_account={},r.new_account_response={},r.map_type={},r.has_cfd_error=!1,r.error_message="",r.is_sent_email_modal_enabled=!1,r.is_account_being_created=!1,r.is_cfd_success_dialog_enabled=!1,r.is_mt5_financial_stp_modal_open=!1,r.is_cfd_password_modal_enabled=!1,r.is_mt5_password_invalid_format_modal_visible=!1,r.is_mt5_password_changed_modal_visible=!1,r.is_from_mt5_migration_modal=!1,r.is_server_maintenance_modal_visible=!1,r.is_account_unavailable_modal_visible=!1,r.mt5_migration_error="",r.current_account=void 0,r.is_nakala_banner_visible=!1,r.error_type=void 0,r.error_details=void 0,r.dxtrade_tokens={demo:"",real:""},r.ctrader_tokens={demo:"",real:""},r.real_synthetic_accounts_existing_data=[],r.real_financial_accounts_existing_data=[],r.real_swapfree_accounts_existing_data=[],r.real_zerospread_accounts_existing_data=[],r.migrated_mt5_accounts=[],(0,s.makeObservable)(r,{is_compare_accounts_visible:s.observable,is_jurisdiction_modal_visible:s.observable,is_mt5_trade_modal_visible:s.observable,is_ctrader_transfer_modal_visible:s.observable,jurisdiction_selected_shortcode:s.observable,account_type:s.observable,mt5_trade_account:s.observable,mt5_migration_error:s.observable,new_account_response:s.observable,map_type:s.observable,has_cfd_error:s.observable,error_message:s.observable,is_account_being_created:s.observable,is_cfd_success_dialog_enabled:s.observable,is_mt5_financial_stp_modal_open:s.observable,is_cfd_password_modal_enabled:s.observable,is_sent_email_modal_enabled:s.observable,current_account:s.observable,error_type:s.observable,error_details:s.observable,product:s.observable,dxtrade_tokens:s.observable,ctrader_tokens:s.observable,migrated_mt5_accounts:s.observable,is_mt5_password_invalid_format_modal_visible:s.observable,is_mt5_password_changed_modal_visible:s.observable,is_from_mt5_migration_modal:s.observable,is_server_maintenance_modal_visible:s.observable,is_account_unavailable_modal_visible:s.observable,is_nakala_banner_visible:s.observable,account_title:s.computed,current_list:s.computed,onMount:s.action.bound,onUnmount:s.override,checkShouldOpenAccount:s.action.bound,realAccountSignupEndListener:s.action.bound,resetFormErrors:s.action.bound,clearCFDError:s.action.bound,createCFDAccount:s.action.bound,disableCFDPasswordModal:s.action.bound,enableCFDPasswordModal:s.action.bound,getName:s.action.bound,migrateMT5Accounts:s.action.bound,openMT5Account:s.action.bound,openCFDAccount:s.action.bound,beginRealSignupForMt5:s.action.bound,enableMt5FinancialStpModal:s.action.bound,setAccountType:s.action.bound,setProduct:s.action.bound,setCurrentAccount:s.action.bound,setMT5TradeAccount:s.action.bound,setIsAccountBeingCreated:s.action.bound,setError:s.action.bound,setCFDNewAccount:s.action.bound,setCFDSuccessDialog:s.action.bound,setMT5MigrationError:s.action.bound,setMigratedMT5Accounts:s.action.bound,setSentEmailModalStatus:s.action.bound,setIsFromMt5MigrationModal:s.action.bound,setServerMaintenanceModal:s.action.bound,setAccountUnavailableModal:s.action.bound,setNakalaBannerVisible:s.action.bound,getAccountStatus:s.action.bound,creatMT5Password:s.action.bound,submitMt5Password:s.action.bound,createCFDPassword:s.action.bound,submitCFDPassword:s.action.bound,toggleCompareAccountsModal:s.action.bound,toggleCTraderTransferModal:s.action.bound,getRealSyntheticAccountsExistingData:s.action.bound,getRealFinancialAccountsExistingData:s.action.bound,getRealSwapfreeAccountsExistingData:s.action.bound,toggleJurisdictionModal:s.action.bound,toggleMT5TradeModal:s.action.bound,disableMt5FinancialStpModal:s.action.bound,topUpVirtual:s.action.bound,sendVerifyEmail:s.action.bound,setJurisdictionSelectedShortcode:s.action.bound,setDxtradeToken:s.action.bound,setCTraderToken:s.action.bound,loadDxtradeTokens:s.action.bound,loadCTraderTokens:s.action.bound,setIsMt5PasswordInvalidFormatModalVisible:s.action.bound,setIsMt5PasswordChangedModalVisible:s.action.bound}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(t,e),r=t,o=[{key:"account_title",get:function(){return this.account_type.category?(0,v.bN)(this.root_store.traders_hub.show_eu_related_content,this.product)[this.account_type.category][this.account_type.type].title:""}},{key:"current_list",get:function(){var e={},t=this.root_store.traders_hub.show_eu_related_content;return this.root_store.client.mt5_login_list.filter((function(e){return t?"maltainvest"===e.landing_company_short:"maltainvest"!==e.landing_company_short})).forEach((function(t){e[(0,c.getAccountListKey)(t,c.CFD_PLATFORMS.MT5,t.landing_company_short)]=S({},t)})),this.root_store.client.dxtrade_accounts_list.forEach((function(t){e[(0,c.getAccountListKey)(t,c.CFD_PLATFORMS.DXTRADE)]=S({},t)})),this.root_store.client.ctrader_accounts_list.forEach((function(t){e[(0,c.getAccountListKey)(t,c.CFD_PLATFORMS.CTRADER)]=S({},t)})),e}},{key:"mt5_companies",get:function(){return(0,v.bN)(this.root_store.client.is_eu,this.product)}},{key:"dxtrade_companies",get:function(){return(0,v.cY)()}},{key:"onMount",value:function(){this.checkShouldOpenAccount(),this.onRealAccountSignupEnd(this.realAccountSignupEndListener),this.root_store.ui.is_cfd_page=!0}},{key:"onUnmount",value:function(){this.disposeRealAccountSignupEnd(),this.root_store.ui.is_cfd_page=!1}},{key:"checkShouldOpenAccount",value:function(){var e=sessionStorage.getItem("open_cfd_account_type");if(e){var t=x(e.split("."),4),r=t[0],o=t[1],n=t[2],i=t[3];this.createCFDAccount({category:r,platform:o,type:n,set_password:i}),sessionStorage.removeItem("open_cfd_account_type")}}},{key:"setIsAccountBeingCreated",value:function(e){this.is_account_being_created=e}},{key:"realAccountSignupEndListener",value:function(){var e=JSON.parse(sessionStorage.getItem("post_real_account_signup"));return e&&e.category&&e.type&&(sessionStorage.removeItem("post_real_account_signup"),this.enableCFDPasswordModal()),Promise.resolve()}},{key:"resetFormErrors",value:function(){this.error_message="",this.error_type=void 0,this.error_details=void 0,this.has_cfd_error=!1}},{key:"clearCFDError",value:function(){this.resetFormErrors(),this.is_cfd_password_modal_enabled=!1}},{key:"createCFDAccount",value:(m=A(D().mark((function e(t){var r,o,n,i,a,s,l,u;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.category,o=t.platform,n=t.type,i=t.set_password,this.clearCFDError(),this.setAccountType({category:r,type:n}),o!==c.CFD_PLATFORMS.DXTRADE){e.next=7;break}"real"===r?this.realCFDSignup(i):this.demoCFDSignup(),e.next=38;break;case 7:if(o!==c.CFD_PLATFORMS.CTRADER){e.next=37;break}return(0,c.startPerformanceEventTimer)("create_ctrader_account_time"),this.root_store.client.setIsLandingCompanyLoaded(!1),this.setJurisdictionSelectedShortcode("svg"),"demo"===this.account_type.category&&this.setIsAccountBeingCreated(!0),a={platform:o,account_type:this.account_type.category,market_type:this.account_type.type,company:this.jurisdiction_selected_shortcode},e.next=15,this.openCFDAccount(a);case 15:if((s=e.sent).error){e.next=32;break}return this.setError(!1),l={echo_req:s.echo_req,trading_platform_accounts:[].concat(w(this.root_store.client.ctrader_accounts_list),[s.trading_platform_new_account])},this.root_store.client.responseTradingPlatformAccountsList(l),c.WS.transferBetweenAccounts(),e.next=23,c.WS.tradingPlatformAvailableAccounts(c.CFD_PLATFORMS.CTRADER);case 23:u=e.sent,this.root_store.client.responseCTraderTradingPlatformAvailableAccounts(u),this.setCFDSuccessDialog(!0),window.sessionStorage.setItem("cfd_transfer_to_login_id",s.trading_platform_new_account.account_id),this.setIsAccountBeingCreated(!1),c.WS.tradingPlatformAccountsList(c.CFD_PLATFORMS.CTRADER),(0,c.setPerformanceValue)("create_ctrader_account_time"),e.next=34;break;case 32:this.setError(!0,s.error),this.setIsAccountBeingCreated(!1);case 34:this.root_store.client.setIsLandingCompanyLoaded(!0),e.next=38;break;case 37:o===c.CFD_PLATFORMS.MT5&&("real"===r?this.toggleJurisdictionModal():(this.root_store.traders_hub.show_eu_related_content?this.setJurisdictionSelectedShortcode(c.Jurisdiction.MALTA_INVEST):this.setJurisdictionSelectedShortcode(c.Jurisdiction.SVG),this.demoCFDSignup()));case 38:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"demoCFDSignup",value:function(){this.enableCFDPasswordModal()}},{key:"disableCFDPasswordModal",value:function(){this.is_cfd_password_modal_enabled=!1}},{key:"enableCFDPasswordModal",value:function(){this.is_cfd_password_modal_enabled=!0}},{key:"setSentEmailModalStatus",value:function(e){this.is_sent_email_modal_enabled=e}},{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.account_type,t=(this.root_store.client.account_settings&&this.root_store.client.account_settings).first_name,r=this.mt5_companies[null==e?void 0:e.category][null==e?void 0:e.type].title;return t?[t,r].join(" "):r}},{key:"migrateMT5Accounts",value:(h=A(D().mark((function e(t,r){var o,n,i,a,s,l,u,d,_,p=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==r||r.setSubmitting(!0),o=this.root_store.client.mt5_login_list.filter((function(e){return e.landing_company_short===c.Jurisdiction.SVG&&!!e.eligible_to_migrate})),n=o.map((function(e){var r=e.eligible_to_migrate,o=x(Object.entries(r)[0],2),n=o[0],i=o[1],a={category:"real",type:n};return p.setMigratedMT5Accounts([].concat(w(p.migrated_mt5_accounts),[{login_id:e.login,to_account:S({},null!=r?r:{})}])),p.requestMigrateAccount(t,i,a)})),this.root_store.ui.setMT5MigrationModalEnabled(!0),e.prev=4,e.next=7,Promise.all(n);case 7:if(a=e.sent,s=a.find((function(e){return e.error})),l=null==s||null===(i=s.error)||void 0===i?void 0:i.code,this.is_mt5_password_changed_modal_visible&&this.setIsMt5PasswordChangedModalVisible(!1),s){e.next=29;break}return null==r||r.setStatus({error_message:""}),this.setError(!1),this.setCFDSuccessDialog(!0),e.next=17,this.getAccountStatus(c.CFD_PLATFORMS.MT5);case 17:return e.next=19,c.WS.authorized.mt5LoginList();case 19:return u=e.sent,this.root_store.client.responseMt5LoginList(u),c.WS.transferBetweenAccounts(),e.t0=this.root_store.client,e.next=25,c.WS.tradingServers(c.CFD_PLATFORMS.MT5);case 25:e.t1=e.sent,e.t0.responseMT5TradingServers.call(e.t0,e.t1),e.next=42;break;case 29:if(!["IncorrectMT5PasswordFormat","InvalidTradingPlatformPasswordFormat"].includes(l)){e.next=35;break}this.setError(!0,null==s?void 0:s.error),this.setMigratedMT5Accounts([]),this.setMT5MigrationError(""),e.next=42;break;case 35:return this.setMT5MigrationError(null==s||null===(d=s.error)||void 0===d?void 0:d.message),null==r||r.setStatus({error_message:null==s||null===(_=s.error)||void 0===_?void 0:_.message}),e.next=39,this.getAccountStatus(c.CFD_PLATFORMS.MT5);case 39:this.clearCFDError(),this.root_store.ui.toggleMT5MigrationModal(!0),this.setMigratedMT5Accounts([]);case 42:e.next=50;break;case 44:e.prev=44,e.t2=e.catch(4),console.warn("One or more MT5 migration requests failed:",e.t2),null==r||r.setStatus({error_message:null===e.t2||void 0===e.t2?void 0:e.t2.message}),this.setMT5MigrationError(e.t2),this.setMigratedMT5Accounts([]);case 50:return e.prev=50,null==r||r.setSubmitting(!1),e.finish(50);case 53:case"end":return e.stop()}}),e,this,[[4,44,50,53]])}))),function(e,t){return h.apply(this,arguments)})},{key:"requestMigrateAccount",value:function(e,t,r){var o=this.getName(r),n=this.mt5_companies[r.category][r.type].leverage,i=(0,c.getAccountTypeFields)(r),a=this.root_store.client.account_settings,s=a.address_line_1,l=a.address_line_2,u=a.address_postcode,d=a.address_city,_=a.address_state,p=a.country_code,h=a.phone;return c.WS.mt5NewAccount(S(S(S({mainPassword:e.password,email:this.root_store.client.email_address,leverage:n,name:o,address:s||l,city:d,country:p,phone:h,state:_,zipCode:u,migrate:1},e.server?{server:e.server}:{}),t?{company:t}:{}),t!==c.Jurisdiction.LABUAN?i:{account_type:c.JURISDICTION_MARKET_TYPES.FINANCIAL,mt5_account_type:"financial_stp"}))}},{key:"openMT5Account",value:function(e){var t=this.getName(),r=this.mt5_companies[this.account_type.category][this.account_type.type].leverage,o=(0,c.getAccountTypeFields)(this.account_type),n=this.root_store.client.account_settings,i=n.address_line_1,a=n.address_line_2,s=n.address_postcode,l=n.address_city,u=n.address_state,d=n.country_code,_=n.phone;return c.WS.mt5NewAccount(S(S(S({mainPassword:e.password,email:this.root_store.client.email_address,leverage:r,name:t,address:i||a,city:l,country:d,phone:_,state:u,zipCode:s,product:this.product},e.server?{server:e.server}:{}),this.jurisdiction_selected_shortcode&&"real"===this.account_type.category?{company:this.jurisdiction_selected_shortcode}:{}),this.jurisdiction_selected_shortcode!==c.Jurisdiction.LABUAN?o:{account_type:"financial",mt5_account_type:"financial_stp"}))}},{key:"openCFDAccount",value:function(e){return c.WS.tradingPlatformNewAccount({password:c.CFD_PLATFORMS.DXTRADE?e.password:"",platform:e.platform,account_type:this.account_type.category,market_type:"dxtrade"===this.account_type.type||"cTrader"===this.account_type.type?"all":this.account_type.type,company:e.company})}},{key:"beginRealSignupForMt5",value:function(){sessionStorage.setItem("post_real_account_signup",JSON.stringify(this.account_type)),this.root_store.ui.openRealAccountSignup("svg")}},{key:"realCFDSignup",value:function(e){switch(this.account_type.type){case"financial":case"synthetic":case"dxtrade":case"all":this.enableCFDPasswordModal();break;case"financial_stp":this.root_store.client.fetchResidenceList(),this.root_store.client.fetchStatesList(),this.root_store.client.fetchAccountSettings(),e?this.enableCFDPasswordModal():this.enableMt5FinancialStpModal();break;default:throw new Error("Cannot determine mt5 account signup.")}}},{key:"enableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!0}},{key:"setAccountType",value:function(e){this.account_type=e}},{key:"setProduct",value:function(e){this.product=e}},{key:"setCurrentAccount",value:function(e,t){this.current_account=S(S({},t),e)}},{key:"setIsMt5PasswordInvalidFormatModalVisible",value:function(e){this.is_mt5_password_invalid_format_modal_visible=e}},{key:"setIsMt5PasswordChangedModalVisible",value:function(e){this.is_mt5_password_changed_modal_visible=e}},{key:"setMT5TradeAccount",value:function(e){this.mt5_trade_account=e}},{key:"setError",value:function(e,t){var r,o;this.has_cfd_error=e,this.error_message=t?t.message:"",this.error_type=null!==(r=null==t?void 0:t.code)&&void 0!==r?r:void 0,this.error_details=null!==(o=null==t?void 0:t.details)&&void 0!==o?o:void 0}},{key:"setCFDNewAccount",value:function(e){this.new_account_response=e}},{key:"setCFDSuccessDialog",value:function(e){this.is_cfd_success_dialog_enabled=!!e}},{key:"setMT5MigrationError",value:function(e){this.mt5_migration_error=e}},{key:"getAccountStatus",value:(p=A(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t===c.CFD_PLATFORMS.MT5&&this.root_store.client.is_mt5_password_not_set||t===c.CFD_PLATFORMS.DXTRADE&&this.root_store.client.is_dxtrade_password_not_set)){e.next=4;break}return e.next=4,c.WS.getAccountStatus();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"creatMT5Password",value:(_=A(D().mark((function e(t,r){var o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.WS.tradingPlatformPasswordChange({new_password:t.password,platform:c.CFD_PLATFORMS.MT5});case 2:if(!(o=e.sent).error){e.next=9;break}return this.setError(!0,o.error),r.resetForm({}),r.setSubmitting(!1),r.setStatus({success:!1}),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"submitMt5Password",value:(d=A(D().mark((function e(t,r){var o,n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,c.startPerformanceEventTimer)("create_mt5_account_time"),!this.root_store.client.is_mt5_password_not_set){e.next=7;break}return e.next=4,this.creatMT5Password(t,r);case 4:if(!e.sent){e.next=7;break}return e.abrupt("return");case 7:if(this.resetFormErrors(),!this.root_store.ui.is_mt5_migration_modal_enabled&&!this.is_from_mt5_migration_modal){e.next=13;break}return e.next=11,this.migrateMT5Accounts(t,r);case 11:e.next=45;break;case 13:return e.next=15,this.openMT5Account(t);case 15:if((o=e.sent).error){e.next=39;break}return null==r||r.setStatus({success:!0}),null==r||r.setSubmitting(!1),this.setError(!1),this.setIsMt5PasswordChangedModalVisible(!1),window.sessionStorage.setItem("cfd_transfer_to_login_id",o.mt5_new_account.login),this.setCFDSuccessDialog(!0),e.next=25,this.getAccountStatus(c.CFD_PLATFORMS.MT5);case 25:return e.next=27,c.WS.authorized.mt5LoginList();case 27:return n=e.sent,this.root_store.client.responseMt5LoginList(n),c.WS.transferBetweenAccounts(),e.t0=this.root_store.client,e.next=33,c.WS.tradingServers(c.CFD_PLATFORMS.MT5);case 33:e.t1=e.sent,e.t0.responseMT5TradingServers.call(e.t0,e.t1),this.setCFDNewAccount(o.mt5_new_account),(0,c.setPerformanceValue)("create_mt5_account_time"),e.next=45;break;case 39:return e.next=41,this.getAccountStatus(c.CFD_PLATFORMS.MT5);case 41:this.setError(!0,o.error),null==r||r.resetForm({}),null==r||r.setSubmitting(!1),null==r||r.setStatus({success:!1});case 45:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"createCFDPassword",value:(u=A(D().mark((function e(t,r){var o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.WS.tradingPlatformPasswordChange({new_password:t.password,platform:c.CFD_PLATFORMS.DXTRADE});case 2:if(!(o=e.sent).error){e.next=9;break}return this.setError(!0,o.error),r.resetForm({}),r.setSubmitting(!1),r.setStatus({success:!1}),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"submitCFDPassword",value:(l=A(D().mark((function e(t,r){var o,n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,c.startPerformanceEventTimer)("create_dxtrade_account_time"),!c.CFD_PLATFORMS.DXTRADE||!this.root_store.client.is_dxtrade_password_not_set){e.next=7;break}return e.next=4,this.createCFDPassword(t,r);case 4:if(!e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.openCFDAccount(t);case 9:if(!(o=e.sent).error){e.next=18;break}return e.next=13,this.getAccountStatus(c.CFD_PLATFORMS.DXTRADE);case 13:return this.setError(!0,o.error),r.resetForm({}),r.setSubmitting(!1),r.setStatus({success:!1}),e.abrupt("return");case 18:return r.setStatus({success:!0}),r.setSubmitting(!1),this.setError(!1),this.setCFDSuccessDialog(!0),window.sessionStorage.setItem("cfd_transfer_to_login_id",o.trading_platform_new_account.account_id),e.next=25,this.getAccountStatus(c.CFD_PLATFORMS.DXTRADE);case 25:return e.next=27,c.WS.tradingPlatformAccountsList(t.platform);case 27:n=e.sent,this.root_store.client.responseTradingPlatformAccountsList(n),c.WS.transferBetweenAccounts(),this.setCFDNewAccount(o.trading_platform_new_account),(0,c.setPerformanceValue)("create_dxtrade_account_time");case 32:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"toggleCompareAccountsModal",value:function(){this.is_compare_accounts_visible=!this.is_compare_accounts_visible}},{key:"toggleCTraderTransferModal",value:function(){this.is_ctrader_transfer_modal_visible=!this.is_ctrader_transfer_modal_visible}},{key:"getRealSyntheticAccountsExistingData",value:function(e){this.real_synthetic_accounts_existing_data=e}},{key:"getRealFinancialAccountsExistingData",value:function(e){this.real_financial_accounts_existing_data=e}},{key:"getRealSwapfreeAccountsExistingData",value:function(e){this.real_swapfree_accounts_existing_data=e}},{key:"toggleJurisdictionModal",value:function(){this.is_jurisdiction_modal_visible=!this.is_jurisdiction_modal_visible}},{key:"toggleMT5TradeModal",value:function(){this.is_nakala_banner_visible=!1,this.is_mt5_trade_modal_visible=!this.is_mt5_trade_modal_visible}},{key:"disableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!1}},{key:"topUpVirtual",value:(a=A(D().mark((function e(t){var r,o,n,i,a,l=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.root_store.ui.setTopUpInProgress(!0),e.t0=t,e.next=e.t0===c.CFD_PLATFORMS.DXTRADE?4:e.t0===c.CFD_PLATFORMS.CTRADER?8:e.t0===c.CFD_PLATFORMS.MT5?12:16;break;case 4:return e.next=6,c.WS.authorized.send({trading_platform_deposit:1,platform:t,to_account:this.current_account.account_id});case 6:return r=e.sent,e.abrupt("break",18);case 8:return e.next=10,c.WS.authorized.send({trading_platform_deposit:1,platform:c.CFD_PLATFORMS.CTRADER,to_account:this.current_account.account_id});case 10:return r=e.sent,e.abrupt("break",18);case 12:return e.next=14,c.WS.authorized.mt5Deposit({to_mt5:this.current_account.login});case 14:return r=e.sent,e.abrupt("break",18);case 16:return r.error="Invalid platform",e.abrupt("break",18);case 18:if(r.error){e.next=39;break}e.t1=t,e.next=e.t1===c.CFD_PLATFORMS.DXTRADE?22:e.t1===c.CFD_PLATFORMS.CTRADER?26:e.t1===c.CFD_PLATFORMS.MT5?30:34;break;case 22:return e.next=24,c.WS.authorized.tradingPlatformAccountsList(c.CFD_PLATFORMS.DXTRADE).then(this.root_store.client.responseTradingPlatformAccountsList);case 24:return o=null===(n=this.root_store.client.dxtrade_accounts_list.find((function(e){return e.account_id===l.current_account.account_id})))||void 0===n?void 0:n.balance,e.abrupt("break",35);case 26:return e.next=28,c.WS.authorized.tradingPlatformAccountsList(c.CFD_PLATFORMS.CTRADER).then(this.root_store.client.responseTradingPlatformAccountsList);case 28:return o=null===(i=this.root_store.client.ctrader_accounts_list.find((function(e){return e.account_id===l.current_account.account_id})))||void 0===i?void 0:i.balance,e.abrupt("break",35);case 30:return e.next=32,c.WS.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList);case 32:return o=null===(a=this.root_store.client.mt5_login_list.find((function(e){return e.login===l.current_account.login})))||void 0===a?void 0:a.balance,e.abrupt("break",35);case 34:return e.abrupt("break",35);case 35:(0,s.runInAction)((function(){l.root_store.ui.is_top_up_virtual_open=!1,l.current_account.balance=o})),setTimeout((function(){(0,s.runInAction)((function(){l.root_store.ui.is_top_up_virtual_success=!0}))}),250),e.next=40;break;case 39:console.error(r);case 40:this.root_store.ui.setTopUpInProgress(!1);case 41:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"sendVerifyEmail",value:function(){return c.WS.verifyEmail(this.root_store.client.email,"trading_platform_investor_password_reset")}},{key:"setDxtradeToken",value:function(e,t){if(!e.error){var r=e.service_token.dxtrade;this.dxtrade_tokens[t]=r.token}}},{key:"setCTraderToken",value:function(e,t){if(!e.error){var r=e.service_token.ctrader;this.ctrader_tokens[t]=r.token}}},{key:"loadDxtradeTokens",value:function(){var e=this;["demo","real"].forEach((function(t){var r=e.root_store.client.dxtrade_accounts_list.some((function(e){return e.account_type===t}));!e.dxtrade_tokens[t]&&r&&c.WS.getServiceToken(c.CFD_PLATFORMS.DXTRADE,t).then((function(r){return e.setDxtradeToken(r,t)}))}))}},{key:"loadCTraderTokens",value:function(e,t){var r=this;this.root_store.client.ctrader_accounts_list.some((function(e){return e.account_type===t}))&&c.WS.getServiceToken(c.CFD_PLATFORMS.CTRADER,t).then((function(o){return r.setCTraderToken(o,t),window.open("".concat(e,"?token=").concat(o.service_token.ctrader.token),"_blank")})).catch((function(){return window.open("".concat(e),"_blank")}))}},{key:"setJurisdictionSelectedShortcode",value:function(e){this.jurisdiction_selected_shortcode=e}},{key:"setMigratedMT5Accounts",value:function(e){this.migrated_mt5_accounts=e}},{key:"setIsFromMt5MigrationModal",value:function(e){this.is_from_mt5_migration_modal=e}},{key:"setServerMaintenanceModal",value:function(e){this.is_server_maintenance_modal_visible=e}},{key:"setAccountUnavailableModal",value:function(e){this.is_account_unavailable_modal_visible=e}},{key:"setNakalaBannerVisible",value:function(e){this.is_nakala_banner_visible=e}}],n=[{key:"changePassword",value:(i=A(D().mark((function e(t){var r,o,n,i,a,s;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.login,i=t.old_password,a=t.new_password,"investor"!==t.password_type){e.next=7;break}return e.next=4,c.WS.authorized.tradingPlatformInvestorPasswordChange({account_id:n,old_password:i,new_password:a,platform:c.CFD_PLATFORMS.MT5});case 4:s=e.sent,e.next=10;break;case 7:return e.next=9,c.WS.authorized.tradingPlatformPasswordChange({account_id:n,old_password:i,new_password:a,platform:c.CFD_PLATFORMS.MT5});case 9:s=e.sent;case 10:return e.abrupt("return",null===(r=s)||void 0===r||null===(o=r.error)||void 0===o?void 0:o.message);case 11:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})}],o&&k(r.prototype,o),n&&k(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,n,i,a,l,u,d,_,p,h,m}(b);return a.default})(),e.exports=o(r(504377),r(33118),r(351447))},106501:e=>{e.exports={getEnglishCharacters:e=>e.normalize("NFD").split("").filter((e=>/^[a-z ]*$/i.test(e))).join(""),getFileNameFromPath:e=>e.match(/([^/]*)\/*$/)[1].replace(".svg",""),getKebabCase:e=>e?e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/[\s]+/g,"-").toLowerCase():e,getPascalCase:e=>e?String(e).replace(/^[^A-Za-z0-9]*|[^A-Za-z0-9]*$/g,"$").replace(/[^_A-Za-z0-9]+/g,"$").replace(/([a-z])([A-Z])/g,((e,t,r)=>`${t}$${r}`)).replace(/(\$)(\w?)/g,((e,t,r)=>r.toUpperCase())):"",getSnakeCase:e=>e?e.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/[\s]+/g,"_").toLowerCase():e}},438295:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>D,C:()=>f,xH:()=>y});var o=r(286326),n=r(475236),i=r.n(n),a=r(504377),s=r(386002),c=r(348932),l=r(809478),u=r(836870);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=(0,o.createContext)(null),m=()=>`wss://${(0,a.getSocketURL)()}/websockets/v3?app_id=${(0,a.getAppId)()}&l=${localStorage.getItem("i18n_language")}&brand=deriv`,f=()=>{var e;const t=m();return null===(e=window)||void 0===e||null===(e=e.WSConnections)||void 0===e?void 0:e[t]},g=e=>{var t,r,o;window.DerivAPI||(window.DerivAPI={});const n=m(),a=((e,t)=>{window.WSConnections||(window.WSConnections={});const r=window.WSConnections[e];return r&&r instanceof WebSocket&&![2,3].includes(r.readyState)||(window.WSConnections[e]=new WebSocket(e),window.WSConnections[e].addEventListener("close",(()=>{"function"==typeof t&&t()}))),window.WSConnections[e]})(n,e);return(null===(t=window.DerivAPI)||void 0===t||!t[n]||null!==(r=window.DerivAPI)&&void 0!==r&&r[n].isConnectionClosed())&&(window.DerivAPI[n]=new(i())({connection:a})),null===(o=window.DerivAPI)||void 0===o?void 0:o[n]},b=(window.ReactQueryClient||(window.ReactQueryClient=new s.E),window.ReactQueryClient),v=e=>window.localStorage.getItem("config.server_url")?"custom":e&&!/^(VRT|VRW)/.test(e)?"real":"demo",y=()=>{const e=(0,o.useContext)(h);if(!e)throw new Error("useAPIContext must be used within APIProvider");return e},D=({children:e,standalone:t=!1})=>{const r=(0,a.useWS)(),[n,i]=(0,o.useState)(!1),s=window.sessionStorage.getItem("active_loginid")||window.localStorage.getItem("active_loginid"),[d,p]=(0,o.useState)(v(s)),m=(0,o.useRef)(t?g((()=>i(!0))):null),f=(0,o.useRef)();(0,o.useEffect)((()=>{const e=m.current,t=f.current;return()=>{t&&Object.keys(t).forEach((e=>{t[e].unsubscribe()})),e&&1===e.connection.readyState&&e.disconnect()}}),[]);const y=(0,o.useCallback)((e=>{if(!t)return;const r=v(e);"custom"!==r&&r!==d&&p(r)}),[d,t]);return(0,o.useEffect)((()=>{let e;return t&&(e=setInterval((()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.send({ping:1})}),1e4)),()=>clearInterval(e)}),[t]),(0,o.useEffect)((()=>{let e;return(t||n)&&(m.current=g((()=>{e=setTimeout((()=>i(!0)),500)})),i(!1)),()=>clearTimeout(e)}),[d,n,t]),(0,u.jsx)(h.Provider,{value:{derivAPI:t?m.current:r,switchEnvironment:y,send:(e,t)=>{var r;return null===(r=m.current)||void 0===r?void 0:r.send(_({[e]:1},t))},subscribe:async(e,t)=>{var r,o,n;const i=await(0,l.w)({name:e,payload:t}),a=null===(r=f.current)||void 0===r?void 0:r[i];if(a)return{id:i,subscription:a};const{payload:s}=null!=t?t:{},c=null===(o=m.current)||void 0===o?void 0:o.subscribe(_({[e]:1,subscribe:1},null!=s?s:{}));return f.current=_(_({},null!==(n=f.current)&&void 0!==n?n:{}),{[i]:c}),{id:i,subscription:c}},unsubscribe:e=>{var t;const r=null===(t=f.current)||void 0===t?void 0:t[e];r&&r.unsubscribe()},queryClient:b},children:(0,u.jsx)(c.Ht,{client:b,children:e})})}},8531:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(286326),n=r(294035);const i=JSON.parse('{"cs_chat_livechat":true,"cs_chat_whatsapp":true,"hub_enabled_country_list":[],"marketing_growthbook":true,"passkeys":true,"tracking_GTM":true,"tracking_datadog":true,"tracking_hotjar":true,"tracking_rudderstack":true}');const a=function(e=!1){const[t,r]=(0,o.useState)(i),a=(0,o.useRef)(!1);return(0,o.useEffect)((()=>(a.current=!0,()=>{a.current=!1})),[]),(0,o.useEffect)((()=>{e&&async function(){const e=await fetch("https://app-config-prod.firebaseio.com/remote_config/deriv-app.json");if(!e.ok)throw new Error("Remote Config Server is out of reach!");return e.json()}().then((async e=>{await n.BF.hashObject(e)!==await n.BF.hashObject(t)&&a.current&&r(e)})).catch((e=>{console.log("Remote Config error: ",e)}))}),[e,t]),{data:t}}},93219:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var o=r(286326),n=r(438295);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=()=>{const{derivAPI:e}=(0,n.xH)();return{send:(0,o.useCallback)((async(t,r)=>{const o=await(null==e?void 0:e.send(a({[t]:1},r||{})));if(o.error)throw o.error;return o}),[e]),subscribe:(0,o.useCallback)(((t,r)=>null==e?void 0:e.subscribe(a({[t]:1,subscribe:1},r||{}))),[e])}}},773835:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(892321),n=r(93219),i=r(488854);const a=(e,...t)=>{const r=null==t?void 0:t[0],a=r&&"payload"in r?r.payload:void 0,s=r&&"options"in r?r.options:void 0,{send:c}=(0,n.A)();return(0,o.I)((0,i.d)(e,a),(()=>c(e,a)),s)}},961946:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(286326),n=r(93219);const i=(e,t=5e3)=>{const[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(!1),[c,l]=(0,o.useState)(!1),[u,d]=(0,o.useState)(),[_,p]=(0,o.useState)(),h=(0,o.useRef)(),m=(0,o.useRef)(),{subscribe:f}=(0,n.A)(),g=(0,o.useCallback)(((...r)=>{const o=null==r?void 0:r[0],n=o&&"payload"in o?o.payload:void 0;i(!0),s(!0),l(!1),m.current=setTimeout((()=>{l(!0),i(!1)}),t);try{h.current=f(e,n).subscribe((e=>{p(e),i(!1)}),(e=>{d(e.error),i(!1)}))}catch(e){d(e)}}),[f,e,t]),b=(0,o.useCallback)((()=>{var e,t;null===(e=h.current)||void 0===e||null===(t=e.unsubscribe)||void 0===t||t.call(e),s(!1)}),[]);return(0,o.useEffect)((()=>()=>{b()}),[b]),(0,o.useEffect)((()=>()=>{m.current&&clearTimeout(m.current)}),[_]),{subscribe:g,unsubscribe:b,isIdle:c,isLoading:r,isSubscribed:a,error:u,data:_}}},809478:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});const o=async e=>{const t=(new TextEncoder).encode(JSON.stringify(e)),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map((e=>`00${e.toString(16)}`.slice(-2))).join("")}},488854:(e,t,r)=>{"use strict";r.d(t,{d:()=>o});const o=(e,t)=>{if(!t)return[e];if(delete t.req_id,e&&1===t[e]&&delete t[e],0===Object.keys(t).length)return[e];const r=Object.keys(t).sort(((e,t)=>e.localeCompare(t))).reduce(((e,r)=>(e[r]=t[r],e)),{});return[e,JSON.stringify(r)]}},922124:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var o=r(255530),n=r.n(o),i=r(286326),a=r(504377),s=r(37087),c=r(836870);const l=i.forwardRef((({className:e,color:t,custom_color:r,data_testid:o,height:i,icon:l,id:u,onClick:d,onMouseDown:_,onMouseEnter:p,onMouseLeave:h,onTouchStart:m,size:f=16,width:g,description:b},v)=>{if(!l)return null;let y="common";const D=new RegExp(`^Ic(${Object.keys(s).join("|")})`,"gi").exec(l);null!=D&&D[1]&&(y=(0,a.getKebabCase)(D[1]));const w=l.startsWith("IcUnderlying")?`ic-underlying-${l.split("IcUnderlying")[1].toUpperCase()}`:(0,a.getKebabCase)(l),C=s[y];return(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:n()("dc-icon",e,{"dc-icon--active":"active"===t,"dc-icon--disabled":"disabled"===t,"dc-icon--green":"green"===t||"IcProfit"===l,"dc-icon--red":"red"===t||"IcLoss"===l,"dc-icon--secondary":"secondary"===t,"dc-icon--brand":"brand"===t,"dc-icon--black":"black"===t,"dc-icon--orange":"orange"===t}),"data-testid":o,height:i||f,id:u,width:g||f,onClick:d,onMouseDown:_,onMouseEnter:p,onMouseLeave:h,onTouchStart:m,ref:v,style:r?{"--fill-color1":r}:void 0,children:[(0,c.jsx)("desc",{children:b}),(0,c.jsx)("use",{xlinkHref:`${(0,a.getUrlBase)(`/public/sprites/${C}.svg`)}#${w}`})]})}));l.displayName="Icon";const u=i.memo(l)},37087:e=>{e.exports={appstore:"appstore.5a470024a4aa63f11ecd86f82357d649",brand:"brand.7f96e89d0492cab745afec00efbc00eb",cashier:"cashier.bd4595decf98fec30aeb1172bd999274",common:"common.226f76480892ffe08b082668e3aadef4",contract:"contract.ce9d310321a5d689d0bd48d128b9419b",ctrader:"ctrader.73bbece8f969d364ec881d9ecb9916e4",currency:"currency.b6a4f2ec93b217af3473968ece58b84d",dxtrade:"dxtrade.c6c96ca6b12f6f3ebd3468830fad6d95",mt5:"mt5.d806cad8d33f582a5297c27ec8b24880",option:"option.ec57f5f82f8f18b5aa736d52d7ad3ac0",rebranding:"rebranding.d53ebab7f118a214a2a81a57303e5afe",stock:"stock.73b654850474ad787a20d6770b5a69fa",tradetype:"tradetype.0206953eda59bd6033621c304f834771",underlying:"underlying.956b843fb1f3c9c886dfb1a3e07572b7",wallet:"wallet.72b63907ec4384c55e60bd38b975324f"}},592353:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Accordion:()=>P,AmountInput:()=>J,AppLinkedWithWalletIcon:()=>Ru,ArrowIndicator:()=>X,AutoHeightWrapper:()=>re,AutoSizer:()=>Se,Autocomplete:()=>je,Badge:()=>at,Button:()=>Qe,ButtonLink:()=>lt,ButtonToggle:()=>vt,CFDCompareAccountsCarousel:()=>_r,Calendar:()=>Vt,Card:()=>tr,Carousel:()=>lr,Checkbox:()=>Cr,Checklist:()=>Er,CircularProgress:()=>jr,Clipboard:()=>fr,Collapsible:()=>zr,CompositeCheckbox:()=>Zr,ContentExpander:()=>Vr,ContractCard:()=>Nn,ContractCardSell:()=>Sn,Counter:()=>Hr,CurrencyBadge:()=>fo,DataList:()=>Ci,DataTable:()=>Ni,DateOfBirthPicker:()=>ni,DatePicker:()=>ti,DesktopWrapper:()=>lo,Dialog:()=>Ii,Div100vhContainer:()=>Ho,Drawer:()=>zi,Dropdown:()=>Xi,EmptyState:()=>Qi,ErrorModal:()=>ca,ExpansionPanel:()=>ra,FadeWrapper:()=>pa,Field:()=>N,FileDropzone:()=>Da,FilterDropdown:()=>Fa,FormCancelButton:()=>Ha,FormProgress:()=>Pa,FormSubmitButton:()=>Ra,FormSubmitErrorMessage:()=>Ma,GradientBackground:()=>Ga,GradientBackgroundTwoPoint:()=>Ya,HintBox:()=>Ka,HorizontalSwipe:()=>Xa,Icon:()=>F,IconTradeTypes:()=>no,InfiniteDataList:()=>ts,InformationBanner:()=>Pu,InlineMessage:()=>ns,Input:()=>Y,InputField:()=>No,InputWithCheckbox:()=>Mo,Label:()=>ss,LinearProgress:()=>us,Loading:()=>ds,MAX_MOBILE_WIDTH:()=>d,MAX_TABLET_WIDTH:()=>_,MessageList:()=>kl,MobileDialog:()=>Yo,MobileDrawer:()=>ws,MobileFullPageModal:()=>js,MobileWrapper:()=>uo,Modal:()=>aa,Money:()=>bo,MultiStep:()=>Ss,NewsTicker:()=>Ps,Numpad:()=>Ws,OpenLiveChatLink:()=>Vs,PageError:()=>Hs,PageErrorContainer:()=>Zs,PageOverlay:()=>Xs,PasswordInput:()=>oc,PasswordMeter:()=>ic,Popover:()=>Et,PopoverMessageCheckbox:()=>vc,Popup:()=>bc,PositionsDrawerCard:()=>sc,ProgressBar:()=>Dc,ProgressBarTracker:()=>wc,ProgressIndicator:()=>Cc,ProgressSlider:()=>co,ProgressSliderMobile:()=>Ao,RadioGroup:()=>Fc,ReadMore:()=>kc,RelativeDatepicker:()=>il,RemainingTime:()=>so,RouteWithSubroutes:()=>Lc,SearchBox:()=>dl,SelectNative:()=>Ic,SendEmailTemplate:()=>Wc,SideNote:()=>Vc,Skeleton:()=>Ie,SpanButton:()=>et,StaticUrl:()=>Uc,StatusBadge:()=>Hc,SwipeableNotification:()=>Xc,SwipeableWrapper:()=>nl,Table:()=>Dl,Tabs:()=>pc,Text:()=>K,ThemedScrollbars:()=>Go,TickPicker:()=>Bl,TickProgress:()=>wo,Timeline:()=>Gl,Toast:()=>wl,ToggleSwitch:()=>Cl,Tooltip:()=>Po,UILoader:()=>Yl,UnhandledErrorModal:()=>Ys,VARIANT:()=>Le,VerticalTab:()=>lu,VideoPlayer:()=>Fu,WalletCard:()=>Iu,WalletIcon:()=>Nu,Wizard:()=>_u,useBlockScroll:()=>a,useConstructor:()=>E,useCopyToClipboard:()=>O,useDebounce:()=>l,useDeepEffect:()=>A,useDevice:()=>p,useHover:()=>h,useHoverCallback:()=>m,useInterval:()=>f,useLongPress:()=>y,useOnClickOutside:()=>v,usePreventIOSZoom:()=>w,usePrevious:()=>D,useSafeState:()=>j,useStateCallback:()=>x});var o=r(255530),n=r.n(o),i=r(286326);const a=e=>{i.useEffect((()=>{if(!e)return;const t=e=>e?e.classList.contains("dc-themed-scrollbars")&&e.scrollHeight>e.clientHeight?e:t(e.parentElement):null,r=t(e.current),o=navigator.userAgent.indexOf("Firefox")>-1?"100%":"calc(100% - 5px)";return r&&(r.style.overflow="hidden",r.style.width=o),()=>{r&&(r.style.removeProperty("overflow"),r.style.removeProperty("width"))}}),[e])};var s=r(862051),c=r.n(s);const l=(e,t)=>{const r=i.useMemo((()=>c()(e,t)),[]);return i.useEffect((()=>r.cancel),[]),r};var u=r(592129);const d=767,_=1024,p=()=>{const{width:e}=(0,u.lW)();return{is_desktop:e>_,is_mobile:e>0&&e<=d,is_tablet:e>d&&e<=_}},h=(e,t)=>{const[r,o]=i.useState(!1),n=i.useRef(null),a=e||n,s=()=>o(!0),c=()=>o(!1);return i.useEffect((()=>{const e=a.current;if(e)return t?(e.addEventListener("mouseenter",s),e.addEventListener("mouseleave",c)):(e.addEventListener("mouseover",s),e.addEventListener("mouseout",c)),()=>{t?(e.removeEventListener("mouseenter",s),e.removeEventListener("mouseleave",c)):(e.removeEventListener("mouseover",s),e.removeEventListener("mouseout",c))}}),[a,t]),[a,r]},m=()=>{const[e,t]=i.useState(!1),r=i.useCallback((()=>t(!0)),[]),o=i.useCallback((()=>t(!1)),[]),n=i.useRef(null);return[i.useCallback((e=>{n.current&&(n.current.removeEventListener("mouseover",r),n.current.removeEventListener("mouseout",o)),n.current=e,n.current&&(n.current.addEventListener("mouseover",r),n.current.addEventListener("mouseout",o))}),[r,o]),e]},f=(e,t)=>{const r=i.useRef();i.useEffect((()=>{r.current=e}),[e]),i.useEffect((()=>{if(null!==t){const e=setInterval((function(){var e;null===(e=r.current)||void 0===e||e.call(r)}),t);return()=>clearInterval(e)}}),[t])},g="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;const b=function(e,t,r,o){const n=(0,i.useRef)(t);g((()=>{n.current=t}),[t]),(0,i.useEffect)((()=>{let t,i;var a,s;return t=null!==(a=null==r?void 0:r.current)&&void 0!==a?a:window,i=e=>n.current(e),null!==(s=t)&&void 0!==s&&s.addEventListener&&t.addEventListener(e,i,o),()=>{var r;null===(r=t)||void 0===r||r.removeEventListener(e,i,o)}}),[e,r,o])};function v(e,t,r,o="mousedown"){b(o,(o=>{const n=null==e?void 0:e.current;n&&!n.contains(o.target)&&(r&&!r(o)||t(o))}))}const y=(e=()=>{},t=300)=>{const[r,o]=i.useState(!1);return i.useEffect((()=>{let o;return r?o=setTimeout(e,t):o&&clearTimeout(o),()=>{clearTimeout(o)}}),[r]),{onMouseDown:e=>{(e=>{e.preventDefault(),e.stopPropagation()})(e),o(!0)},onMouseUp:()=>o(!1),onMouseLeave:()=>o(!1),onTouchStart:()=>o(!0),onTouchEnd:()=>o(!1)}},D=e=>{const t=i.useRef();return i.useEffect((()=>{t.current=e}),[e]),t.current},w=()=>{i.useEffect((()=>{const e=e=>{e.touches.length>1&&(e.preventDefault(),e.stopPropagation())};return document.addEventListener("touchstart",(t=>e(t)),{passive:!1}),()=>{document.removeEventListener("touchstart",(t=>e(t)))}}),[])};var C=r(504377);const A=(e,t)=>{const r=i.useRef(null);(0,C.isDeepEqual)(r,t)||(r.current=t,e())},x=e=>{const[t,r]=i.useState(e),o=i.useRef(null),n=i.useCallback(((e,t)=>{o.current=t,r(e)}),[]);return i.useEffect((()=>{o.current&&(o.current(t),o.current=null)}),[t]),[t,n]},E=(e=()=>{})=>{const t=i.useRef(!1);t.current||(e(),t.current=!0)},j=(e,t)=>{const[r,o]=i.useState(e),n=i.useRef(!1);i.useLayoutEffect((()=>(n.current=!0,()=>{n.current=!1})),[]);return[r,e=>{(t&&"function"==typeof t?t():!0===n.current)&&o(e)}]},O=()=>{const[e,t]=i.useState(!1);return[e,async e=>{var r;if(null===(r=navigator)||void 0===r||!r.clipboard)return!1;try{return await navigator.clipboard.writeText(e),t(!0),!0}catch(e){return t(!1),!1}},t]};var S=r(922124);const F=S.default;var k=r(836870);const P=({className:e,icon_close:t,icon_open:r,list:o})=>{const[a,s]=i.useState(null),c=D(o);i.useEffect((()=>{c!==o&&s(null)}),[o,c]);return(0,k.jsx)("div",{className:n()("dc-accordion__wrapper",e),children:o.map(((e,i)=>(0,k.jsxs)("div",{className:n()("dc-accordion__item","dc-accordion__item--"+(a===i?"open":"close"),{["dc-accordion__item--"+(0===i?"first":"last")]:0===i||i===o.length-1}),children:[(0,k.jsxs)("div",{className:"dc-accordion__item-header",onClick:()=>{return s((e=i)===a?null:e);var e},children:[e.header,(0,k.jsx)("div",{className:"dc-accordion__item-header-icon-wrapper",children:a===i?(0,k.jsx)(F,{icon:r||"IcMinus",className:"dc-accordion__item-header-icon"}):(0,k.jsx)(F,{icon:t||"IcAdd",className:"dc-accordion__item-header-icon"})})]}),(0,k.jsx)("div",{className:"dc-accordion__item-content",children:e.content})]},i)))})},T=({message:e,className:t,type:r})=>(0,k.jsx)("div",{className:n()("dc-field",t,{"dc-field--error":"error"===r,"dc-field--warn":"warn"===r}),children:e}),N=T,L=["children","size","color","align","weight","line_height","as","className","styles"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const M=e=>{let{children:t,size:r="s",color:o="general",align:a="left",weight:s="normal",line_height:c="m",as:l,className:u,styles:d}=e,_=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,L);const p={"--text-size":`var(--text-size-${r})`,"--text-color":`var(--text-${o})`,"--text-lh":`var(--text-lh-${c})`,"--text-weight":`var(--text-weight-${s})`,"--text-align":`var(--text-align-${a})`},[h,m]=i.useState(p);i.useEffect((()=>{if((0,C.isEmptyObject)(d))m(p);else{const e=B(B({},p),d);m(e)}}),[r,o,c,s,a]);const f=n()("dc-text",u);return i.createElement(l||"span",B({className:f,style:h},_),t)},z=["bottom_label","className","classNameError","classNameHint","classNameWarn","disabled","error","field_className","has_character_counter","hint","initial_character_count","input_id","is_relative_hint","label_className","label","leading_icon","max_characters","trailing_icon","warn","data_testId","maxLength","placeholder"];function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const V=({children:e,has_footer:t})=>t?(0,k.jsx)("div",{className:"dc-input__wrapper",children:e}):(0,k.jsx)(i.Fragment,{children:e}),H=i.forwardRef(((e,t)=>{let{bottom_label:r,className:o,classNameError:a,classNameHint:s,classNameWarn:c,disabled:l=!1,error:u,field_className:d,has_character_counter:_,hint:p,initial_character_count:h,input_id:m,is_relative_hint:f,label_className:g,label:b,leading_icon:v,max_characters:y,trailing_icon:D,warn:w,data_testId:C,maxLength:A,placeholder:x}=e,E=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,z);const[j,O]=i.useState(0);i.useEffect((()=>{(h||0===h)&&O(h)}),[h]);const S=!!_||!!p&&!!f,F=b?"":x;return(0,k.jsxs)(V,{has_footer:S,children:[(0,k.jsxs)("div",{className:n()("dc-input",o,{"dc-input--disabled":l,"dc-input--error":u,"dc-input--hint":p,"dc-input--bottom-label-active":r}),children:[(0,k.jsxs)("div",{className:n()("dc-input__container",{"dc-input__container--disabled":l,"dc-input__container--error":u}),children:[v&&i.cloneElement(v,{className:n()("dc-input__leading-icon",v.props.className)}),"textarea"===E.type?(0,k.jsx)("textarea",W(W({ref:t,"data-testid":C},E),{},{className:n()("dc-input__field dc-input__textarea",{"dc-input__field--placeholder-visible":!b&&x}),onChange:e=>{var t;let r=e.target.value;y&&r.length>=y&&(r=r.slice(0,y)),O(r.length),e.target.value=r,null===(t=E.onChange)||void 0===t||t.call(E,e)},disabled:l,id:m,maxLength:A,placeholder:F})):(0,k.jsx)("input",W(W({ref:t,"data-testid":C},E),{},{className:n()("dc-input__field",d,{"dc-input__field--placeholder-visible":!b&&x}),onFocus:E.onFocus,onBlur:E.onBlur,onChange:E.onChange,onKeyDown:E.onKeyDown,onMouseDown:E.onMouseDown,onMouseUp:E.onMouseUp,onPaste:E.onPaste,disabled:l,"data-lpignore":"password"!==E.type||void 0,id:m,"aria-label":b,maxLength:A,placeholder:F})),D&&i.cloneElement(D,{className:n()("dc-input__trailing-icon",D.props.className)}),b&&(0,k.jsx)("label",{className:n()("dc-input__label",g),htmlFor:E.id,children:b})]}),(0,k.jsx)("div",{children:!S&&(0,k.jsxs)(i.Fragment,{children:[u&&(0,k.jsx)(N,{className:a,message:u,type:"error"}),w&&(0,k.jsx)(N,{className:c,message:w,type:"warn"}),!u&&p&&!f&&(0,k.jsx)("div",{className:"dc-input__hint",children:(0,k.jsx)(M,{as:"p",color:"less-prominent",size:"xxs",className:s,children:p})})]})})]}),S&&(0,k.jsxs)("div",{className:"dc-input__footer",children:[u&&(0,k.jsx)(N,{className:a,message:u,type:"error"}),w&&(0,k.jsx)(N,{className:c,message:w,type:"warn"}),!u&&p&&(0,k.jsx)("div",{className:"dc-input__hint dc-input__hint--relative",children:(0,k.jsx)(M,{color:"less-prominent","line-height":"m",size:"xxs",children:p})}),_&&(0,k.jsx)("div",{className:"dc-input__counter",children:(0,k.jsxs)(M,{color:"less-prominent","line-height":"m",size:"xxs",children:[j,y?`/${y}`:""]})})]}),r&&!u&&(0,k.jsx)("div",{className:"dc-input__bottom-label",children:(0,k.jsx)(M,{size:"xs",color:"less-prominent",children:r})})]})}));H.displayName="Input";const G=H,Y=G,K=M,q=({currency:e,decimal_places:t=2,disabled:r=!1,has_error:o,initial_value:a=0,label:s,locale:c,max_digits:l=8,onChange:u})=>{const[d,_]=(0,i.useState)(a),[p,h]=(0,i.useState)(!1),[m,f]=(0,i.useState)(!1),[g,b]=(0,i.useState)(0),[v,y]=(0,i.useState)({selectionStart:0,selectionEnd:0}),[D,w]=(0,i.useState)(),A=(0,i.useCallback)((e=>e.toLocaleString(c,{minimumFractionDigits:t})),[t,c]);(0,i.useEffect)((()=>{_(a)}),[a]),(0,i.useEffect)((()=>{const e=A(d).length-g;null==D||D.setSelectionRange(e,e),y({selectionStart:e,selectionEnd:e})}),[d,D,A]);const x=e=>{null!==e.currentTarget.selectionStart&&null!==e.currentTarget.selectionEnd&&(b(e.currentTarget.value.length-e.currentTarget.selectionEnd),y({selectionStart:e.currentTarget.selectionStart,selectionEnd:e.currentTarget.selectionEnd}))};return(0,k.jsxs)("div",{className:"amount-input-wrapper",children:[(0,k.jsx)(K,{size:(0,C.isMobile)()?"xxs":"xs",children:s}),(0,k.jsxs)("div",{className:n()("amount-input-container",{"amount-input-container--error":o,"amount-input-container--disabled":r}),children:[(0,k.jsx)(Y,{className:"amount-input",disabled:r||p,type:"text",inputMode:"numeric",value:`${A(d)} ${e}`,onChange:()=>{}}),(0,k.jsx)(Y,{className:"amount-input","data-testid":"dt_amount-input",disabled:r,onFocus:()=>h(!0),onBlur:()=>h(!1),onChange:e=>{D||w(e.target);let r=d;if(m){const o=v.selectionEnd-v.selectionStart,n=e.target.value.length+o-A(d).length,i=e.target.value.substring(v.selectionStart,v.selectionStart+n),a=e.target.value.replace(/[^\d.,]/g,""),s=i.replace(/[^\d.,]/g,"").replace(/[,.](?=.*[,.])/g,"").replace(",",".");s.replace(".","")&&(0===d&&0===g||o===A(d).length?r=Number(s.substring(0,s.includes(".")?l+1:l-t)):a.replace(/[.,]/g,"").replace(/^0+/g,"").length<=l&&(r=Number(a.replace(/[.,]/g,""))/Math.pow(10,t)))}else{const o=e.target.value.replace(/[^\d.,]/g,"");o.replace(/[.,]/g,"").replace(/^0+/g,"").length<=l&&(r=Number(o.replace(/[.,]/g,""))/Math.pow(10,t))}_(r),f(!1),null==u||u(r)},onKeyDown:x,onMouseDown:x,onMouseUp:x,onPaste:()=>f(!0),type:"text",inputMode:"numeric",value:A(d)})]})]})},J=q,Z=({className:e,value:t})=>{const[r,o]=i.useState(!1),[n,a]=i.useState({icon:"",previous_icon:""}),{icon:s,previous_icon:c,previous_value:l}=n,u=!isNaN(Number(n.value))&&!isNaN(Number(t)),d=i.useRef();return i.useEffect((()=>(o(!0),a((e=>{const r=Number(e.value)<Number(t);return{icon:u?r?"IcProfit":"IcLoss":"",previous_icon:e.icon,previous_value:e.value,value:t}})),clearTimeout(d.current),d.current=setTimeout((()=>{o(!1)}),3e3),()=>clearTimeout(d.current))),[t]),(0,k.jsx)("div",{className:e,"data-testid":"dt_arrow_indicator",children:u&&r?(0,k.jsx)(S.default,{icon:l===Number(t)?c:s}):null})},X=i.memo(Z);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const re=e=>{const[t,r]=i.useState(e.default_height),o=i.useRef(0),n=i.useRef(!1),a=D(o.current);i.useEffect((()=>(n.current=!0,window.addEventListener("resize",s),()=>{n.current=!1,window.removeEventListener("resize",s)})),[]);const s=()=>{e.default_height&&n.current&&r(o.current>e.default_height?o.current-(e.height_offset||0):e.default_height)};return e.children(ee(ee({},e),{},{height:t,setRef:e=>{Number.isInteger(null==e?void 0:e.clientHeight)&&(null==e?void 0:e.clientHeight)!==a&&(o.current=Number(null==e?void 0:e.clientHeight),setTimeout(s,0))}}))};var oe=r(735623),ne=r(557344);function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ce=({autohide:e=!0,children:t,className:r,has_horizontal:o,height:a,is_bypassed:s,is_only_horizontal:c,is_only_horizontal_overlay:l,is_scrollbar_hidden:u,testId:d="dt_themed_scrollbars",onScroll:_,refSetter:p=null,style:m={},scroll_height:f,should_scroll_to_selected:g=!1,width:b})=>{const[v,y]=h(p,!1);return i.useEffect((()=>{var e;g&&f&&(null==v||null===(e=v.current)||void 0===e||e.scrollTo(0,f))}),[f,v,g]),s?t:(0,k.jsx)("div",{"data-testid":d,ref:v,className:n()("dc-themed-scrollbars",r,{"dc-themed-scrollbars__autohide":e,"dc-themed-scrollbars__autohide--is-hovered":e&&y,"dc-themed-scrollbars--has-horizontal":o,"dc-themed-scrollbars--only-horizontal":c,"dc-themed-scrollbars--only-horizontal-overlay":l,"dc-themed-scrollbars--hidden-scrollbar":u}),style:ae({maxHeight:a||"100%",maxWidth:b||"none"},m),onScroll:_,children:t})},le=({is_active:e,is_disabled:t,index:r,item:o,child_ref:i,onItemSelection:a,setActiveIndex:s})=>(0,k.jsx)("div",{ref:i,onMouseDown:e=>{e.stopPropagation(),a(o),s(r)},className:n()("dc-dropdown-list__item",{"dc-dropdown-list__item--active":e,"dc-dropdown-list__item--disabled":t}),children:"object"==typeof o?o.component||o.text:o}),ue=i.forwardRef(((e,t)=>{const{active_index:r,list_items:o,is_object_list:n,onItemSelection:a,setActiveIndex:s,not_found_text:c}=e;if(null==o?void 0:o.some((e=>"object"==typeof e&&!!e.group))){const e={};o.forEach((t=>{const r="object"==typeof t&&t.group||"?";e[r]||(e[r]=[]),e[r].push(t)}));const c=Object.keys(e);let l=-1;return(0,k.jsx)(k.Fragment,{children:c.map(((o,u)=>{const d=e[o],_=!!c[u+1];return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)("div",{className:"dc-dropdown-list__group-header",children:o}),d.map((e=>(l++,(0,k.jsx)(le,{item:e,index:l,is_active:l===r,onItemSelection:a,setActiveIndex:s,is_object_list:n,is_disabled:"object"==typeof e&&"DISABLED"===e.disabled,child_ref:l===r?t:null},l)))),_&&(0,k.jsx)("div",{className:"dc-dropdown-list__separator"})]},`group${u}`)}))})}return(0,k.jsx)(k.Fragment,{children:null!=o&&o.length?o.map(((e,o)=>(0,k.jsx)(le,{item:e,index:o,is_active:o===r,onItemSelection:a,is_object_list:n,setActiveIndex:s,child_ref:o===r?t:null},o))):(0,k.jsx)("div",{className:"dc-dropdown-list__item dc-dropdown-list__item--not-found",children:c})})}));ue.displayName="ListItems";const de=e=>{const{dropdown_ref:t,list_item_ref:r,list_wrapper_ref:o}=e.dropdown_refs||{},{active_index:n,is_visible:i,list_items:a,list_height:s,onScrollStop:c,onItemSelection:l,setActiveIndex:u,style:d,not_found_text:_,portal_id:p}=e;if(null!=a&&a.length&&"string"!=typeof a[0]&&"object"!=typeof a[0])throw Error("Dropdown received wrong data structure");const h=!Array.isArray(a)&&"object"==typeof a,m=(null==a?void 0:a.length)&&"string"==typeof a[0],f=(0,k.jsx)(ne.A,{appear:i,in:i,timeout:100,classNames:{enter:"dc-dropdown-list--enter",enterDone:"dc-dropdown-list--enter-done",exit:"dc-dropdown-list--exit"},unmountOnExit:!0,children:(0,k.jsx)("div",{style:d,className:"dc-dropdown-list",ref:o,children:(0,k.jsx)(ce,{height:s||"220px",refSetter:t,onScroll:c,children:h?Object.keys(a).map(((e,t)=>(0,k.jsx)(ue,{not_found_text:_,active_index:n,list_items:a[e],ref:r,onItemSelection:l,setActiveIndex:u},t))):(0,k.jsx)(ue,{not_found_text:_,active_index:n,list_items:a,ref:r,onItemSelection:l,is_object_list:!m,setActiveIndex:u})})})});if(p){const e=document.getElementById(p);return e&&oe.createPortal(f,e)}return f};de.displayName="DropdownList";const _e=de;var pe=r(106501),he=r(33118);const me=["autoComplete","className","data_testid","dropdown_offset","error","has_updating_list","hide_list","historyValue","input_id","is_alignment_top","is_list_visible","list_items","list_portal_id","not_found_text","onHideDropdownList","onItemSelection","onSearch","onScrollStop","onShowDropdownList","should_filter_by_char","show_list","value"];function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){be(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ve=13,ye=27,De=9,we=40,Ce=38,Ae=e=>"string"==typeof e,xe=(e,t,r=!1)=>{const o=e.toLowerCase();return t.filter((e=>(Ae(e)?e.toLowerCase():(e.text||"").toLowerCase()).includes(o))).sort(((e,t)=>(Ae(e)?e:e.text||"").toLowerCase().indexOf(o)-(Ae(t)?t:t.text||"").toLowerCase().indexOf(o))).filter((t=>{const o=Ae(t)?t:t.text||"",n=o.toLowerCase(),i=(0,pe.getEnglishCharacters)(n);return r?(0,C.matchStringByChar)(o,e):i.includes(e)||n.includes(e)}))},Ee=i.memo((e=>{const t=(0,he.localize)("No results found"),{autoComplete:r,className:o,data_testid:s,dropdown_offset:c,error:l,has_updating_list:u=!0,hide_list:d=!1,historyValue:_,input_id:p,is_alignment_top:h,is_list_visible:m=!1,list_items:f,list_portal_id:g,not_found_text:b=t,onHideDropdownList:v,onItemSelection:y,onSearch:D,onScrollStop:w,onShowDropdownList:A,should_filter_by_char:x,show_list:E=!1,value:j}=e,O=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,me),S=i.useRef(null),P=i.useRef(null),T=i.useRef(null),N=i.useRef(null),[L,I]=i.useState(!1),[B,R]=i.useState(""),[M,z]=i.useState(-1),[U,W]=i.useState(f),[$,V]=i.useState({});let H;a(g&&L?N:void 0);let G=null;i.useEffect((()=>{if(u){let e=[];if(e=m?"function"==typeof D?D(j.toLowerCase(),f):xe(j.toLowerCase(),f):f,W(e),_){const t=e.findIndex((e=>("object"==typeof e?e.text:e)===_));R(_),z(t)}else R(""),z(-1)}}),[f,u,_]),i.useEffect((()=>{if(m){const e=U.findIndex((e=>("object"==typeof e?e.text:e)===_));z(e)}}),[U]),i.useEffect((()=>{if(E&&X(),d&&Q(),L&&T.current){var e;const t=T.current.offsetTop;null===(e=S.current)||void 0===e||e.scrollTo({top:t,behavior:"smooth"})}}),[E,d,L,T]),i.useEffect((()=>{if(P.current&&g&&L){const e=(0,C.getPosition)({preferred_alignment:h?"top":"bottom",parent_el:N.current,child_el:P.current});V(e.style)}}),[L,h,g,null==U?void 0:U.length]);const K=()=>{if(-1!==M){const a=M-1;if(a<0){var e,t;const r=null===(e=S.current)||void 0===e?void 0:e.clientHeight;z(U.length-1),null===(t=S.current)||void 0===t||t.scrollTo({top:r,behavior:"smooth"})}else{var r,o;const e=Number(null===(r=T.current)||void 0===r?void 0:r.getBoundingClientRect().height),t=Math.floor(Number(null===(o=T.current)||void 0===o||null===(o=o.getBoundingClientRect())||void 0===o?void 0:o.top))-e;if(!q(t)){var n,i;const t=Number(null===(n=T.current)||void 0===n?void 0:n.offsetTop)-e;null===(i=S.current)||void 0===i||i.scrollTo({top:t,behavior:"smooth"})}z(a)}}},q=e=>{var t,r,o;const n=Number(null===(t=S.current)||void 0===t?void 0:t.clientHeight),i=Math.floor(Number(null===(r=P.current)||void 0===r?void 0:r.getBoundingClientRect().top));return!(e>=Math.floor(Number(null===(o=P.current)||void 0===o?void 0:o.getBoundingClientRect().top))+n)&&e>i},J=()=>{if(-1!==M&&T.current){if("number"==typeof M){const n=M+1;if(n>=U.length){var e;z(0),null===(e=S.current)||void 0===e||e.scrollTo({top:0,behavior:"smooth"})}else{var t;const e=T.current.getBoundingClientRect().height,i=Math.floor(T.current.getBoundingClientRect().top)+e+e/2,a=Number(null===(t=S.current)||void 0===t?void 0:t.clientHeight);if(!q(i)){var r,o;const t=a/e-2,n=T.current.offsetTop-t*e;null===(r=S.current)||void 0===r||null===(o=r.scrollTo)||void 0===o||o.call(r,{top:n,behavior:"smooth"})}z(n)}}}else z(0)},Z=e=>{e&&(R(("object"==typeof e?e.text:e)||""),null==y||y(e))},X=()=>{I(!0),null==A||A()},Q=()=>{I(!1),null==v||v()};return(0,k.jsxs)("div",{"data-testid":s,className:n()("dc-autocomplete",o),children:[(0,k.jsx)("div",{ref:N,className:"dc-autocomplete__input-field",children:(0,k.jsx)(Y,ge(ge({},O),{},{className:"dc-autocomplete__field",error:l,autoComplete:r,onKeyDown:e=>{switch(e.keyCode){case ve:e.preventDefault(),Q(),Z(U[M]);break;case De:L&&(Q(),Z(U[M]));break;case ye:e.preventDefault(),Q();break;case we:L||X(),J();break;case Ce:L?K():X();break;default:L||X()}},onInput:e=>{const t=e.target.value.toLowerCase();let r=[];r="function"==typeof D?D(t,f):xe(t,f,x),r.length||R(""),W(r)},input_id:p,onClick:()=>{L?Q():X()},onBlur:e=>{e.preventDefault(),Q(),m||W(f),""===B&&(null==y||y({text:b,value:""})),"function"==typeof O.onBlur&&O.onBlur(e)},value:"function"==typeof y?j:B,trailing_icon:O.trailing_icon?O.trailing_icon:(0,k.jsx)(F,{icon:"IcChevronDown",className:{"dc-autocomplete__trailing-icon":!0,"dc-autocomplete__trailing-icon--opened":L,"dc-autocomplete__trailing-icon--disabled":O.disabled}})}))}),(0,k.jsx)(_e,{dropdown_refs:{dropdown_ref:S,list_item_ref:T,list_wrapper_ref:P},active_index:M,style:ge({width:N.current?`${N.current.offsetWidth}px`:"100%"},$||{marginTop:c?`calc(-${c} + 8px)`:"8px"}),is_visible:L||m,list_items:U,list_height:O.list_height,onItemSelection:Z,setActiveIndex:z,onScrollStop:e=>{if(!w)return;const t=e.currentTarget;G=t.scrollTop,G===t.scrollTop&&clearTimeout(H),H=setTimeout((()=>{null==w||w()}),150)},not_found_text:b,portal_id:g})]})}));Ee.displayName="Autocomplete";const je=Ee;var Oe=r(711126);const Se=Oe.t$;var Fe=r(237064);const ke=["animated","className","gap","height","rows","width","variant"];function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ne(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Le={ICON:"icon",PARAGRAPH:"paragraph"},Ie=e=>{let{animated:t=!0,className:r,gap:o,height:n,rows:i,width:a,variant:s}=e,c=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,ke);return Le.PARAGRAPH&&i?(0,k.jsx)("div",{className:"skeleton-paragraph","data-testid":"dt_skeleton_paragraph",style:{gap:null!=o?o:8},children:[...new Array(i)].map(((e,o)=>(0,k.jsx)("div",{className:(0,Fe.A)(r,"skeleton",t&&"animated"),"data-testid":"dt_skeleton",style:{width:o===i-1?96:a,height:n}},o)))}):(0,k.jsx)("div",{className:(0,Fe.A)(r,"skeleton",t&&"animated",s),"data-testid":"dt_skeleton",style:Te({width:a,height:n},c)})},Be=({initial_app_loading:e,is_closed_tab:t})=>(0,k.jsxs)("div",{className:"loading-dtrader-v2__positions","data-testid":"dt_positions_loader",children:[e&&(0,k.jsx)("div",{className:"skeleton-box__tabs","data-testid":"dt_tabs_skeleton",children:[...new Array(2)].map(((e,t)=>(0,k.jsx)(Ie,{width:56,height:22},t)))}),(0,k.jsx)("div",{className:"skeleton-box__filters",children:(0,k.jsx)(Ie,{width:144,height:32})}),(0,k.jsx)("div",{className:"skeleton-box__total-pnl-or-date",children:[...new Array(t?1:2)].map(((e,t)=>(0,k.jsx)(Ie,{width:0===t?112:68,height:22},t)))}),(0,k.jsx)("div",{className:"skeleton-box__contract-cards",children:[...new Array(7)].map(((e,t)=>(0,k.jsx)(Ie,{height:104},t)))})]}),Re=()=>(0,k.jsxs)("div",{className:"loading-dtrader-v2__contract-card","data-testid":"dt_contract_card_loader",children:[(0,k.jsxs)("div",{className:"details",children:[(0,k.jsx)(Ie,{variant:Le.ICON}),(0,k.jsxs)("div",{className:"title",children:[(0,k.jsx)(Ie,{width:88,height:18}),(0,k.jsx)(Ie,{width:128,height:18})]}),(0,k.jsx)(Ie,{className:"stake",width:56,height:18})]}),(0,k.jsxs)("div",{className:"status-and-profit",children:[(0,k.jsx)(Ie,{width:96,height:24}),(0,k.jsx)(Ie,{width:72,height:22})]})]}),Me=()=>(0,k.jsxs)("div",{className:"loading-dtrader-v2__contract-details","data-testid":"dt_contract_details_loader",children:[(0,k.jsx)(Re,{}),(0,k.jsx)("div",{className:"skeleton-box__chart",children:(0,k.jsx)(Ie,{})}),(0,k.jsxs)("div",{className:"skeleton-box__details",children:[(0,k.jsx)(Ie,{width:136,height:24}),(0,k.jsx)("div",{children:[...new Array(4)].map(((e,t)=>(0,k.jsxs)("div",{className:"skeleton-box__details-row",children:[(0,k.jsx)(Ie,{width:88,height:22}),(0,k.jsx)(Ie,{width:128,height:22})]},t)))})]}),(0,k.jsxs)("div",{className:"skeleton-box__details",children:[(0,k.jsx)(Ie,{width:136,height:24}),(0,k.jsx)(Ie,{variant:Le.PARAGRAPH,rows:2,height:18})]}),(0,k.jsxs)("div",{className:"skeleton-box__details",children:[(0,k.jsx)(Ie,{width:136,height:24}),(0,k.jsx)("div",{children:[...new Array(2)].map(((e,t)=>(0,k.jsxs)("div",{className:"skeleton-box__details-row",children:[(0,k.jsx)(Ie,{width:88,height:18}),(0,k.jsxs)("div",{className:"skeleton-box__details-column",children:[(0,k.jsx)(Ie,{width:88,height:22}),[...new Array(0===t?1:2)].map(((e,t)=>(0,k.jsx)(Ie,{width:72,height:16},t)))]})]},t)))})]})]}),ze=()=>(0,k.jsxs)("div",{className:"loading-dtrader-v2__trade","data-testid":"dt_trade_loader",children:[(0,k.jsx)("div",{className:"skeleton-box__trade-types",children:[...new Array(6)].map(((e,t)=>(0,k.jsx)(Ie,{width:88,height:32},t)))}),(0,k.jsx)("div",{className:"skeleton-box__market",children:(0,k.jsx)(Ie,{width:200,height:42})}),(0,k.jsxs)("div",{className:"skeleton-box__trade-params",children:[(0,k.jsxs)("div",{className:"skeleton-box__trade-params-row",children:[(0,k.jsx)(Ie,{width:96,height:24}),(0,k.jsx)(Ie,{width:96,height:32})]}),(0,k.jsx)("div",{className:"skeleton-box__trade-params-column",children:[...new Array(3)].map(((e,t)=>(0,k.jsx)(Ie,{height:56},t)))})]}),(0,k.jsx)("div",{className:"skeleton-box__chart",children:(0,k.jsx)(Ie,{})})]}),Ue=({className:e,id:t,is_fullscreen:r=!0,is_slow_loading:o,status:i,theme:a})=>{const s=a?`barspinner-${a}`:"barspinner-light";return(0,k.jsxs)("div",{"data-testid":"dt_initial_loader",className:n()("initial-loader",{"initial-loader--fullscreen":r},e),children:[(0,k.jsx)("div",{id:t,className:n()("initial-loader__barspinner","barspinner",s),children:Array.from(new Array(5)).map(((e,t)=>(0,k.jsx)("div",{className:`initial-loader__barspinner--rect barspinner__rect barspinner__rect--${t+1} rect${t+1}`},t)))}),o&&(null==i?void 0:i.map(((e,t)=>(0,k.jsx)(M,{as:"h3",color:"prominent",size:"xs",align:"center",children:e},t))))]})};Ue.DTraderV2=({initial_app_loading:e,is_closed_tab:t,is_contract_details:r,is_positions:o})=>o?(0,k.jsx)(Be,{initial_app_loading:e,is_closed_tab:t}):r?(0,k.jsx)(Me,{}):(0,k.jsx)(ze,{});const We=Ue;function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){He(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ge=e=>(0,k.jsx)(We,Ve(Ve({},e),{},{is_fullscreen:!1,className:"initial-loader--btn"})),Ye=["black","blue","children","className","classNameSpan","green","has_effect","icon","id","is_disabled","is_loading","is_submit_success","is_button_toggle","is_circle","is_circular","is_plus","large","medium","onClick","rounded","tabIndex","text","wrapperClassName","type","primary","primary_light","secondary","alternate","transparent","small","tertiary","wide","renderText"];function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){Je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Je(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ze=e=>{let{black:t,blue:r,children:o,className:i="",classNameSpan:a,green:s,has_effect:c,icon:l,id:u,is_disabled:d,is_loading:_,is_submit_success:p,is_button_toggle:h,is_circle:m,is_circular:f,is_plus:g,large:b,medium:v,onClick:y,rounded:D,tabIndex:w=0,text:C,wrapperClassName:A,type:x,primary:E,primary_light:j,secondary:O,alternate:S,transparent:P,small:T,tertiary:N,wide:L,renderText:I}=e,B=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Ye);const R=n()("dc-btn",{"dc-btn__effect":c,"dc-btn--primary":E,"dc-btn--black":t,"dc-btn--blue":r,"dc-btn--secondary":O,"dc-btn--tertiary":N,"dc-btn--primary__light":j,"dc-btn--primary__blue":r&&E,"dc-btn--tertiary__blue":r&&N,"dc-btn--alternate":S,"dc-btn--green":s,"dc-btn__rounded":D,"dc-btn__large":b,"dc-btn__medium":v,"dc-btn__small":T,"dc-btn__toggle":h,"dc-btn__wide":L,"dc-btn--plus":g,"dc-btn--circle":m,"dc-btn--circular":f,"dc-btn--transparent":P},i),M=(0,k.jsxs)("button",qe(qe({id:u,className:R,onClick:y,disabled:d,tabIndex:w,type:p?"button":x||"submit"},B),{},{children:[l&&(0,k.jsx)("div",{className:n()("dc-btn__icon",{"dc-btn__icon--circle":m}),children:l}),C&&!(_||p)&&("function"==typeof I&&I(C[0].toUpperCase()+C.substr(1))||(0,k.jsx)(K,{size:"xs",weight:"bold",align:"center",className:n()("dc-btn__text",a),children:C[0].toUpperCase()+C.substr(1)})),_&&(0,k.jsx)(Ge,{}),p&&(0,k.jsx)(F,{icon:"IcCheckmark",color:"active",size:24}),g&&(0,k.jsx)(F,{icon:"IcAddBold",color:"black",size:18}),!C&&!_&&o&&(0,k.jsx)(K,{size:"xs",weight:"bold",align:"center",className:n()("dc-btn__text",a),children:o})]}));return A?(0,k.jsx)("div",{className:A,children:M}):M};Ze.Group=({children:e,className:t})=>(0,k.jsx)("div",{className:n()("dc-btn__group",t),children:e});const Xe=Ze,Qe=Xe,et=({blue:e,children:t,className:r="",green:o,has_effect:i,is_button_toggle:a,is_circle:s,is_circular:c,is_plus:l,large:u,medium:d,onClick:_,rounded:p,text:h,primary:m,primary_light:f,secondary:g,alternate:b,transparent:v,small:y,tertiary:D})=>{const w=n()("dc-btn",{"dc-btn__effect":i,"dc-btn--primary":m,"dc-btn--blue":e,"dc-btn--secondary":g,"dc-btn--tertiary":D,"dc-btn--primary__light":f,"dc-btn--primary__blue":e&&m,"dc-btn--tertiary__blue":e&&D,"dc-btn--alternate":b,"dc-btn--green":o,"dc-btn__rounded":p,"dc-btn__large":u,"dc-btn__medium":d,"dc-btn__small":y,"dc-btn__toggle":a,"dc-btn--plus":l,"dc-btn--circle":s,"dc-btn--circular":c,"dc-btn--transparent":v},r);return(0,k.jsxs)("span",{className:w,onClick:_,children:[h&&(0,k.jsx)(K,{size:"xs",weight:"bold",align:"center",className:"dc-btn__text",children:h[0].toUpperCase()+h.substr(1)}),!h&&t&&(0,k.jsx)(K,{size:"xs",weight:"bold",align:"center",className:"dc-btn__text",children:t})]})},tt=["className","custom_color","label","rounded_corners","size","type","weight"];function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const it=e=>{const{className:t,custom_color:r,label:o,rounded_corners:a=4,size:s="medium",type:c,weight:l="bold"}=e,u=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,tt),d="contained"===c,_="bordered"===c,p=i.useMemo((()=>"large"===s?{height:(0,C.isMobile)()?"1.6rem":"2.2rem",paddingInline:"0.8rem"}:{height:(0,C.isMobile)()?"1.2rem":"1.4rem",paddingInline:"0.4rem"}),[s]),h=i.useMemo((()=>n()("dc-badge",{"dc-badge--contained":d,"dc-badge--bordered":_,"dc-badge--blue":d&&"blue"===e.background_color,"dc-badge--orange":d&&"orange"===e.background_color,"dc-badge--red":d&&"red"===e.background_color,"dc-badge--gray":d&&"gray"===e.background_color,"dc-badge--full-rounded":4===a,"dc-badge--two-rounded":2===a},t)),[t,_,d,d&&e.background_color,a]);return o?(0,k.jsx)(K,ot(ot({as:"span",className:h,color:r,size:(0,C.isMobile)()?"xxxxs":"xxxs",styles:p,weight:l},u),{},{children:o})):null},at=it;var st=r(822833);const ct=({children:e,className:t,to:r,onClick:o,size:i="medium"})=>(0,k.jsx)(st.Link,{className:n()("dc-btn dc-btn--primary",t,"effect",`dc-btn__${i}`),to:r,onClick:o,children:e}),lt=ct,ut=({has_rounded_button:e,highlight_color:t="var(--button-toggle-secondary)",left:r,width:o})=>{const n="4px",i={backgroundColor:t,left:0,transform:`translate3d(${r}px, 0, 0)`,width:o,borderRadius:"0"};return e?i.borderRadius="4px":Object.assign(i,{borderTopLeftRadius:0===r?n:0,borderTopRightRadius:0===r?0:n,borderBottomLeftRadius:0===r?n:0,borderBottomRightRadius:0===r?0:n}),(0,k.jsx)("span",{"data-testid":"dt_highlight"+(e?"_rounded":""),style:i,className:"dc-button-menu--highlight"})},dt=["children","className","has_rounded_button"];function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach((function(t){ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ht(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const mt="dc-button-menu__button--active",ft=e=>{let{children:t,className:r,has_rounded_button:o}=e,a=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,dt);const[s,c]=i.useState(0),l=i.useRef(null);i.useEffect((()=>{if(l.current){var e;const t=null==l||null===(e=l.current)||void 0===e||null===(e=e.getElementsByClassName(mt))||void 0===e?void 0:e.item(0);d(t)}return()=>u()}),[]),i.useEffect((()=>{var e;const t=null==l||null===(e=l.current)||void 0===e||null===(e=e.getElementsByClassName(mt))||void 0===e?void 0:e.item(0);t?d(t):0!==s&&u()}));const u=()=>c(0),d=e=>{if(!e)return;const{offsetLeft:t}=e;s!==t&&c(t)},_=pt({className:n()("dc-button-menu__wrapper",r)},a),p=(100/(Array.isArray(t)&&(null==t?void 0:t.length)||1)).toFixed(2);return(0,k.jsxs)("div",pt(pt({ref:l},_),{},{children:[i.Children.map(t,(e=>i.cloneElement(e,{onClick:t=>((e,t)=>{e.target&&(d(e.target.closest("button")),null==t||t())})(t,e.props.onClick)}))),(0,k.jsx)(ut,{has_rounded_button:o||!1,highlight_color:a.highlight_color,left:s,width:`${p}%`})]}))},gt=i.memo(ft),bt=({className:e,count:t})=>(0,k.jsx)("div",{className:n()("dc-counter",e),children:t}),vt=({buttons_arr:e,className:t,has_rounded_button:r=!1,id:o,is_traders_hub:a=!1,is_animated:s=!1,name:c,onChange:l,value:u})=>{const d=a?"__toggle":"__button",_=i.useMemo((()=>e.map(((e,t)=>{var r,o;const i=n()(`dc-button-menu${d}`,{"dc-button-menu__button--active":e.value===u&&!a,"dc-button-menu__toggle--active":e.value===u&&a});return(0,k.jsxs)(Xe,{id:`dc_${e.value}_toggle_item`,onClick:()=>{return t=e.value.toString(),void(u!==t&&l({target:{value:t,name:c}}));var t},className:i,is_button_toggle:!0,children:[`${null===(r=e.text)||void 0===r?void 0:r.toString().charAt(0).toUpperCase()}${null===(o=e.text)||void 0===o?void 0:o.toString().slice(1)}`,!!e.count&&(0,k.jsx)(bt,{className:"dc-button-menu__counter",count:e.count})]},t)}))),[e]);return(0,k.jsx)("div",{id:o,className:n()("dc-button-menu",t),children:s?(0,k.jsx)(gt,{has_rounded_button:r,children:_}):(0,k.jsx)(i.Fragment,{children:_})})};var yt=r(364185),Dt=r(919796);function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){At(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function At(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const xt=({alignment:e,children:t,className:r,classNameBubble:o,classNameTarget:a,classNameTargetIcon:s,counter:c,disable_message_icon:l,disable_target_icon:u,has_error:d,icon:_,id:p,is_open:f,is_bubble_hover_enabled:g,margin:b=0,message:v,onBubbleClose:y,onBubbleOpen:D,onClick:w=()=>{},relative_render:C=!1,should_disable_pointer_events:A=!1,should_show_cursor:x,zIndex:E="1",data_testid:j,arrow_styles:O,is_inline_block:S,arrow_color:P,background_color:T})=>{const N=i.useRef(),[L,I]=i.useState(void 0),[B,R]=i.useState(!1),{isDesktop:M}=(0,Dt.Y)(),[z,U]=h(null,!0),[W,$]=m(),V=i.useMemo((()=>!M&&void 0===f),[M,f]);i.useEffect((()=>{N.current&&I(N.current)}),[d]),i.useEffect((()=>{!U&&V&&R(!1)}),[U,V]);const H=()=>{D&&D()},G=()=>{y&&y()},Y=n()(s,_),q=U&&v&&(!V||B);return(0,k.jsxs)("div",{ref:z,className:n()({"dc-popover__wrapper":C}),onClick:e=>{w(e),V&&R(!B)},style:S?{display:"inline-block"}:void 0,"data-testid":"dt_popover_wrapper",children:[C&&(0,k.jsx)("div",{className:"dc-popover__container",style:{zIndex:E},children:(0,k.jsx)("div",{ref:N,className:"dc-popover__container-relative","data-testid":"dt_popover_relative_container"})}),(L||!C)&&(0,k.jsx)(yt.Popover,Ct(Ct({isOpen:null!=f?f:q||g&&$,positions:[e],padding:b+8,containerClassName:n()({"react-tiny-popover-container--disabled-pointer-event":A,"react-tiny-popover-cursor-option":x})},C?{parentElement:L,contentLocation:({childRect:t,popoverRect:r,nudgedLeft:o})=>{const n=document.body.clientWidth,i=t.right+(r.width-t.width/2);let a=0,s=0;switch(e){case"left":s=-1*Math.abs((r.height>r.width?o:r.width)+b),a=t.height>r.height?(t.height-r.height)/2:(r.height-t.height)/2*-1;break;case"right":s=r.width+b,a=t.height>r.height?(t.height-r.height)/2:(r.height-t.height)/2*-1;break;case"top":s=i>n?-1*Math.abs(i-n):0,a=-1*Math.abs(r.height+b);break;case"bottom":s=i>n?-1*Math.abs(i-n):0,a=t.height+b}return{top:a,left:s}}}:{containerStyle:{zIndex:E}}),{},{content:({position:e,childRect:t,popoverRect:r})=>(0,k.jsx)(yt.ArrowContainer,{position:e,childRect:t,popoverRect:r,arrowColor:d?"var(--status-danger)":P||"var(--general-active)",arrowSize:5,arrowStyle:C?{borderTop:"10px solid transparent",borderLeft:"10px solid transparent",borderRight:"10px solid "+(d?"var(--status-danger)":"var(--general-active)"),transform:"rotate(315deg)",right:"0px",top:"5px",height:"10px",margin:"auto",bottom:"0px"}:Ct({},O),children:(0,k.jsxs)("div",{id:p,onMouseEnter:H,onMouseLeave:G,className:n()(o,"dc-popover__bubble",{"dc-popover__bubble--error":d}),style:T?{backgroundColor:T}:void 0,ref:W,children:[!l&&"info"===_&&(0,k.jsx)("i",{className:"dc-popover__bubble__icon",children:(0,k.jsx)(F,{icon:"IcInfoBlue"})}),d&&(0,k.jsx)(K,{size:"xxs",color:"colored-background",children:v})||(0,k.jsx)(K,{line_height:"m",size:"xxs",className:"dc-popover__bubble__text",children:v})]})}),children:(0,k.jsx)("div",{"data-testid":j,className:n()("dc-popover",r),id:p,children:(0,k.jsxs)("div",{className:n()(a,"dc-popover__target"),children:[!u&&(0,k.jsxs)("i",{className:v?"dc-popover__target__icon":"dc-popover__target__icon--disabled",children:["info"===_&&(0,k.jsx)(F,{icon:"IcInfoOutline",className:Y}),"question"===_&&(0,k.jsx)(F,{icon:"IcUnknown",className:Y}),"dot"===_&&(0,k.jsx)(F,{icon:"IcCircle",className:Y,size:4}),"counter"===_&&(0,k.jsx)("span",{className:Y,children:c})]}),t]})})}))]})},Et=xt,jt={Monday:"M",Tuesday:"T",Wednesday:"W",Thursday:"T",Friday:"F",Saturday:"S",Sunday:"S"},Ot=e=>{const t=(0,C.toMoment)(e).year(),r=t-t%10+1;return`${r}-${r+9}`},St=e=>{const t=(0,C.toMoment)(e).year(),r=t-t%10+1;return`${r}-${r+99}`},Ft=({calendar_date:e,isPeriodDisabled:t,selected_date:r,updateSelected:o})=>{const i=(0,C.toMoment)(e),a=(0,C.toMoment)(r),s=a.isSame(i,"year"),c=Number(a.clone().format("M")),l=[...Array(12).keys()];return(0,k.jsx)("div",{className:"dc-calendar__body dc-calendar__body--month",children:l.map((e=>{const r=i.clone().month(e),a=s&&c===e+1,l=t(r,"month");return(0,k.jsx)("span",{className:n()("dc-calendar__cell",{"dc-calendar__cell--active":a,"dc-calendar__cell--disabled":l}),onClick:l?void 0:e=>o(e,"month"),"data-month":e,children:r.format("MMM")},e)}))})},kt=({calendar_date:e,isPeriodDisabled:t,selected_date:r,updateSelected:o})=>{const i=(0,C.toMoment)(r),a=(0,C.toMoment)(e),[s,c]=Ot(a).split("-"),l=[];for(let e=+s-1;e<=+c+1;e++)l.push(e);return(0,k.jsx)("div",{className:"dc-calendar__body dc-calendar__body--year",children:l.map(((e,r)=>{const s=0===r||11===r,c=t(a.clone().year(e),"year");return(0,k.jsx)("span",{className:n()("dc-calendar__cell",{"dc-calendar__cell--active":e===i.year(),"dc-calendar__cell--other":s,"dc-calendar__cell--disabled":c}),onClick:c?void 0:e=>o(e,"year"),"data-year":e,children:e},r)}))})},Pt=({calendar_date:e,isPeriodDisabled:t,selected_date:r,updateSelected:o})=>{const i=(0,C.toMoment)(r),a=(0,C.toMoment)(e),s=[];let c=+St(a).split("-")[0]-10;for(let e=0;e<12;e++){const e=Ot((0,C.toMoment)().year(c));s.push(e),c=+e.split("-")[1]+1}return(0,k.jsx)("div",{className:"dc-calendar__body dc-calendar__body--decade",children:s.map(((e,r)=>{const[s,c]=e.split("-"),l=+s===i.year(),u=t(a.clone().year(+s),"year")&&t(a.clone().year(+c),"year"),d=0===r||11===r;return(0,k.jsx)("span",{className:n()("dc-calendar__cell",{"dc-calendar__cell--active":l,"dc-calendar__cell--disabled":u,"dc-calendar__cell--other":d}),onClick:u?void 0:e=>o(e,"years"),"data-years":e,children:e},r)}))})},Tt=({children:e})=>(0,k.jsx)(k.Fragment,{children:e});Tt.Days=e=>{const t=(({calendar_date:e,date_format:t,has_range_selection:r,hide_others:o,events:i=[],isPeriodDisabled:a,start_date:s,selected_date:c,updateSelected:l,disabled_days:u=[],onMouseOver:d,onMouseLeave:_,should_show_today:p=!0})=>{const h=[],m=[],f=(0,C.toMoment)().startOf("day"),g=(0,C.toMoment)(e),b=g.daysInMonth()+1,v=g.clone().startOf("month"),y=g.clone().endOf("month"),D="number"==typeof c?(0,C.epochToMoment)(c).startOf("day"):(0,C.toMoment)(c).startOf("day");for(let e=(0,C.subMonths)(g,1).endOf("month").day();e>0;e--)h.push((0,C.subDays)(v,e).format(t));for(let e=1;e<b;e+=1)h.push(g.clone().format(t.replace("DD",(0,C.padLeft)(e.toString(),2,"0"))));const w=(0,C.addMonths)(g,1).startOf("month").day();if(w-1>0||h.length<=28)for(let e=1;e<=7-w+1;e++)h.push((0,C.addDays)(y,e).format(t));else w||h.push((0,C.addDays)(y,1).format(t));const A=(0,C.toMoment)(s).startOf("day");return h.forEach((e=>{const t=(0,C.toMoment)(e).startOf("day"),h=c&&t.isSame(D),b=t.isSame(f,"day"),v=i.filter((t=>t.dates.find((t=>({Mondays:1,Tuesdays:2,Wednesdays:3,Thursdays:4,Fridays:5,Saturdays:6,Sundays:0}[t]===(0,C.toMoment)(e).day()))))),y=!!v.length,w=v.map((e=>!!e.descrip.match(/Closes early|Opens late/)))[0],x=v.map((e=>e.descrip))[0]||"",E=(0,C.daysFromTodayTo)(e),j=t.isBetween(f,D),O=a(t,"day"),S=O||s&&t.isBefore(A)||u.some((t=>(0,C.toMoment)(e).day()===t))||y&&!w,F=t.month()!==g.month();m.push((0,k.jsxs)("span",{className:n()("dc-calendar__cell",{"dc-calendar__cell--active":h,"dc-calendar__cell--today":p&&b,"dc-calendar__cell--active-duration":h&&r&&!b,"dc-calendar__cell--today-duration":b&&r,"dc-calendar__cell--disabled":S,"dc-calendar__cell--is-hidden":F&&o,"dc-calendar__cell--other":F,"dc-calendar__cell--between":j&&r}),onClick:S?void 0:e=>l(e,"day"),"data-date":e,"data-duration":`${E} ${1===E?"Day":"Days"}`,onMouseOver:d,onMouseLeave:_,children:[(y||w)&&!F&&!O&&(0,k.jsx)(Et,{alignment:"top",classNameTarget:"dc-calendar__cell-tooltip",classNameTargetIcon:"dc-calendar__cell-tooltip-icon",icon:"dot",is_bubble_hover_enabled:!0,message:x,zIndex:"9999",should_show_cursor:!0}),t.date()]},e))})),m})(e).map((e=>e));return(0,k.jsxs)("div",{className:"dc-calendar__body dc-calendar__body--date",children:[Object.keys(jt).map(((e,t)=>(0,k.jsx)(K,{size:"xxs",align:"center",weight:"bold",children:jt[e]},t))),t]})},Tt.Months=Ft,Tt.Years=kt,Tt.Decades=Pt;const Nt=Tt;function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach((function(t){Bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Rt=e=>{const t={date:(0,k.jsx)(Nt.Days,It({},e)),month:(0,k.jsx)(Nt.Months,It({},e)),year:(0,k.jsx)(Nt.Years,It({},e)),years:(0,k.jsx)(Nt.Decades,It({},e))};return(0,k.jsx)(i.Fragment,{children:t[e.calendar_view]})},Mt=({children:e,className:t,is_disabled:r,is_hidden:o,icon:a,label:s,onClick:c})=>(0,k.jsx)(i.Fragment,{children:!o&&(0,k.jsxs)("span",{className:n()("dc-calendar__btn",t,{"dc-calendar__btn--disabled":r,"dc-calendar__btn--is-hidden":o}),onClick:c,children:[s,a&&(0,k.jsx)(F,{data_testid:`dt_calendar_icon_${a}`,icon:a,className:"dc-calendar__icon",color:r?"disabled":void 0}),e]})}),zt=e=>e||"IcCalendarToday",Ut=({footer:e,has_today_btn:t,onClick:r,use_icon:o,has_clear_btn:n,clear_text:a,onClear:s})=>(0,k.jsx)(i.Fragment,{children:(t||e||n)&&(0,k.jsxs)("div",{className:"dc-calendar__footer",children:[e&&(0,k.jsx)(K,{size:"xxs",align:"center",children:e}),t&&(0,k.jsx)(Mt,{className:"dc-calendar__btn--today",icon:zt(o),onClick:r}),n&&(0,k.jsx)(Mt,{secondary:!0,small:!0,className:"dc-calendar__btn",onClick:s,text:a})]})}),Wt=({calendar_date:e,calendar_view:t,disable_month_selector:r,disable_year_selector:o,hide_disabled_periods:n,isPeriodDisabled:i,navigateTo:a,switchView:s})=>{const c="date"===t,l="month"===t,u="year"===t,d="years"===t,_=(0,C.toMoment)(e);let p=1;u&&(p=10),d&&(p=100);const h=St(_.clone()),m=Ot(_.clone()),f=+(u?m:h).split("-")[1],g=i((0,C.subMonths)(_,1),"month"),b=i((0,C.subYears)(_,p),"month"),v=i((0,C.addMonths)(_,1),"month"),y=i((0,C.addYears)(_,p),"month"),D=i(_.clone().year(f),"year")||o,w=v&&n,A=g&&n,x=b&&n,E=y&&n,j=b||x?void 0:()=>a((0,C.subYears)(e,p)),O=y||E?void 0:()=>a((0,C.addYears)(e,p)),S=g||A?void 0:()=>a((0,C.subMonths)(e,1)),F=v||w?void 0:()=>a((0,C.addMonths)(e,1));return(0,k.jsxs)("div",{className:"dc-calendar__header",children:[(0,k.jsx)(Mt,{className:"dc-calendar__btn--prev-year",icon:"IcChevronDoubleLeft",is_disabled:b,is_hidden:x,onClick:j}),(0,k.jsx)(Mt,{className:"dc-calendar__btn--prev-month",icon:"IcChevronLeft",is_disabled:g,is_hidden:!c||A,onClick:S}),(0,k.jsxs)(k.Fragment,{children:[c&&(0,k.jsx)(Mt,{className:"dc-calendar__btn--select",is_hidden:!c,label:_.format("MMM"),onClick:()=>r||null==s?void 0:s("month")}),(c||l)&&(0,k.jsx)(Mt,{className:"dc-calendar__btn--select",is_disabled:D,label:_.format("YYYY"),onClick:()=>D||null==s?void 0:s("year")}),(u||d)&&(0,k.jsxs)(Mt,{className:"dc-calendar__btn--select",is_disabled:D,onClick:D?void 0:()=>null==s?void 0:s("years"),children:[u&&`${m}`,d&&`${h}`]})]}),(0,k.jsx)(Mt,{className:"dc-calendar__btn--next-month",icon:"IcChevronRight",is_disabled:v,is_hidden:!c||w,onClick:F}),(0,k.jsx)(Mt,{className:"dc-calendar__btn--next-year",icon:"IcChevronDoubleRight",is_disabled:y,is_hidden:E,onClick:O})]})},$t=i.memo(i.forwardRef((({calendar_view:e,calendar_el_ref:t,date_format:r="YYYY-MM-DD",disabled_days:o,events:n,footer:a="",has_today_btn:s,has_range_selection:c,keep_open:l,max_date:u=(0,C.toMoment)().add(120,"y").format("YYYY-MM-DD"),min_date:d="1970-01-01",onChangeCalendarMonth:_,onHover:p,onSelect:h,start_date:m="",value:f,should_show_today:g},b)=>{const[v,y]=i.useState((0,C.toMoment)(f||m).format(r)),[D,w]=i.useState(f),[A,x]=i.useState(e||"date"),[E,j]=i.useState("");i.useImperativeHandle(b,(()=>({setSelectedDate:e=>{const t=(0,C.toMoment)(e).startOf("day").format(r);y(t),w(t)}})));const O=(e,t)=>{const r=(0,C.toMoment)(e).clone().startOf(t);return(0,C.toMoment)(e).clone().endOf(t).isBefore((0,C.toMoment)(d))||r.isAfter((0,C.toMoment)(u))};return(0,k.jsxs)("div",{ref:t,className:"dc-calendar","data-value":D,children:[(0,k.jsx)(Wt,{calendar_date:v,calendar_view:A,isPeriodDisabled:O,navigateTo:e=>{if(y((0,C.toMoment)(e).format(r)),_){const t=(0,C.getStartOfMonth)(e);_(t)}},switchView:x}),(0,k.jsx)(Rt,{calendar_date:v,calendar_view:A,date_format:r,disabled_days:o,isPeriodDisabled:O,start_date:m,selected_date:D,updateSelected:(e,t)=>{if(e&&e.stopPropagation(),"day"===t)return void(e=>{const t=(0,C.toMoment)(e.currentTarget.dataset.date).startOf("day"),o=t.isBefore((0,C.toMoment)(d)),n=t.isAfter((0,C.toMoment)(u));if(o||n)return;const i=t.format(r);y(i),w(i),h&&h(i,!!l)})(e);let o="";if(t){var n,i;const a=(null==e||null===(n=e.currentTarget)||void 0===n||null===(n=n.dataset)||void 0===n||null===(n=n[t])||void 0===n||null===(i=n.split)||void 0===i||null===(i=i.call(n,"-"))||void 0===i?void 0:i[0])||0;o=((e,t,r,o)=>{switch(t){case"year":case"y":case"years":return e.year(o).format(r);case"month":case"months":case"M":return e.month(o).format(r);case"week":case"w":return e.week(o).format(r);case"weeks":return e.weeks(o).format(r);case"day":case"d":default:return e.day(o).format(r);case"days":return e.days(o).format(r);case"hour":case"h":return e.hour(o).format(r);case"hours":return e.hours(o).format(r);case"minute":case"m":return e.minute(o).format(r);case"minutes":return e.minutes(o).format(r);case"second":case"s":return e.second(o).format(r);case"seconds":return e.seconds(o).format(r);case"millisecond":case"ms":return e.millisecond(o).format(r);case"milliseconds":return e.milliseconds(o).format(r);case"quarter":case"Q":return e.quarter(o).format(r);case"quarters":return e.quarters(o).format(r);case"isoWeek":case"W":return e.isoWeek(o).format(r);case"isoWeeks":return e.isoWeeks(o).format(r);case"date":case"dates":case"D":return e.date(o).format(r)}})((0,C.toMoment)(v),t,r,+a)}if(!O(o,t)&&(y(o),x({month:"date",year:"month",years:"year"}[t||""]),_)){const e=(0,C.getStartOfMonth)(o);_(e)}},events:n,has_range_selection:c,hovered_date:E,onMouseOver:e=>{const t=e.currentTarget;if(!t.classList.contains("dc-calendar__cell--disabled")&&!t.classList.contains("dc-calendar__cell--hover")){t.className+=" dc-calendar__cell--hover";const e=t.getAttribute("data-date");j(e),p&&p(e)}},onMouseLeave:e=>{const t=e.currentTarget;t.classList.contains("dc-calendar__cell--hover")&&(t.classList.remove("dc-calendar__cell--hover"),j(null),p&&p(D))},should_show_today:!!g}),(0,k.jsx)(Ut,{footer:a,has_today_btn:s,onClick:()=>{const e=(0,C.toMoment)().format(r);y(e),w(e),x("date"),h&&h(e,!0)}})]})})));$t.displayName="Calendar",$t.Body=Rt,$t.Header=Wt,$t.Footer=Ut;const Vt=$t,Ht=["children","className"],Gt=["className","header","content","footer","renderHeader","renderContent","renderFooter"];function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach((function(t){qt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jt(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const Zt=e=>{let{children:t,className:r}=e,o=Jt(e,Ht);return(0,k.jsx)("div",Kt(Kt({className:n()("dc-card__wrapper",r)},o),{},{children:t}))},Xt=({children:e})=>(0,k.jsx)("div",{className:"dc-card__header-wrapper",children:e}),Qt=({children:e})=>(0,k.jsx)("div",{className:"dc-card__content-wrapper",children:e}),er=({children:e})=>(0,k.jsx)("div",{className:"dc-card__footer-wrapper",children:e}),tr=e=>{let{className:t,header:r,content:o,footer:i,renderHeader:a,renderContent:s,renderFooter:c}=e,l=Jt(e,Gt);return(0,k.jsxs)(Zt,Kt(Kt({className:n()("dc-card",t)},l),{},{children:[a?a():!!r&&(0,k.jsx)(Xt,{children:r}),s?s():!!o&&(0,k.jsx)(Qt,{children:o}),c?c():!!i&&(0,k.jsx)(er,{children:i})]}))};var rr=r(905974);const or=({children:e,width:t})=>(0,k.jsx)("div",{className:"dc-carousel__card",style:{width:`${t}px`},children:e}),nr=({active_index:e,active_bullet_color:t,bullet_color:r,className:o,handleNextClick:i,handlePrevClick:a,handleNavigationClick:s,list:c,show_bullet:l,show_nav:u,item_per_window:d})=>l||u?(0,k.jsxs)("nav",{id:"dt_components_carousel-nav_nav-tag",className:n()("dc-carousel__nav",o),children:[u&&(0,k.jsx)("span",{id:"dt_contract_info_left_nav",className:"dc-carousel__icon",onClick:a,children:(0,k.jsx)(F,{icon:"IcChevronLeft"})}),l&&(0,k.jsxs)("ul",{className:"dc-carousel__nav-list",children:[(0,k.jsx)("li",{className:n()("dc-carousel__nav-item","dc-carousel__nav-item--active"),style:{transform:`translate3d(${24*e}px, 0, 0)`,backgroundColor:t}}),c.slice(d-1).map(((e,t)=>(0,k.jsx)("li",{className:"dc-carousel__nav-item",style:{backgroundColor:r},onClick:()=>s(t)},t)))]}),u&&(0,k.jsx)("span",{id:"dt_contract_info_right_nav",className:"dc-carousel__icon",onClick:i,children:(0,k.jsx)(F,{icon:"IcChevronRight"})})]}):null,ir=i.memo(nr);function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){cr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const lr=({active_bullet_color:e="var(--text-prominent)",autoplay_time:t=null,bullet_color:r="var(--text-less-prominent)",bullet_position:o="bottom",className:a,disable_swipe:s=!1,initial_index:c=0,is_mt5:l,item_per_window:u=1,list:d,nav_position:_="bottom",onItemSelect:p,show_bullet:h=!0,show_nav:m=!0,width:g=400})=>{const[b,v]=i.useState(c),y=i.useMemo((()=>Math.min(u,d.length)),[u,d]),D=d.slice(y-1).length;i.useEffect((()=>{d.slice(y-1).length<=1&&v(0)}),[d,y]);const w=()=>{const e=b+1,t=e===d.length-y+1;v(t?0:e)},C=()=>{const e=b-1;v(e>-1?e:d.length-y)};f(w,t),i.useEffect((()=>{p&&p(b)}),[b,p]);const A=(0,rr.useSwipeable)({onSwipedLeft:w,onSwipedRight:C});return(0,k.jsx)("div",sr(sr({},s?{}:A),{},{className:a,children:(0,k.jsxs)("div",{className:n()("dc-carousel",{"dc-carousel--mt5":l}),children:[D>1&&(0,k.jsx)(ir,{active_index:b,bullet_color:r,active_bullet_color:e,className:"dc-carousel__nav--upper",handleNextClick:w,handlePrevClick:C,handleNavigationClick:v,show_bullet:h&&"top"===o,show_nav:m&&"top"===_,list:d,item_per_window:y}),(0,k.jsxs)("div",{className:"dc-carousel__container",children:[m&&"middle"===_&&D>1&&(0,k.jsx)(Xe,{className:n()("dc-carousel__icon",{"dc-carousel__icon--mt5":l}),onClick:C,icon:(0,k.jsx)(F,{icon:l?"IcChevronLeftBoldMt5":"IcChevronLeft",size:l?"28":"24"})}),(0,k.jsx)("div",{className:n()("dc-carousel__box",{"dc-carousel__box--mt5":l&&D>1}),style:{width:y*g+"px"},children:(0,k.jsx)("div",{className:n()("dc-carousel__wrapper",{"dc-carousel__wrapper--mt5":l}),style:{transform:`translate3d(-${g*b}px, 0, 0)`},children:d.map(((e,t)=>(0,k.jsx)(or,{width:g,children:d[t]},t)))})}),m&&"middle"===_&&D>1&&(0,k.jsx)(Xe,{className:n()("dc-carousel__icon",{"dc-carousel__icon--mt5":l}),onClick:w,icon:(0,k.jsx)(F,{icon:l?"IcChevronRightBoldMt5":"IcChevronRight",size:l?"28":"24"})})]}),D>1&&(0,k.jsx)(ir,{active_index:b,bullet_color:r,active_bullet_color:e,className:n()({"dc-carousel__nav--lower":d.length<5}),handleNextClick:w,handlePrevClick:C,handleNavigationClick:v,show_bullet:h&&"bottom"===o,show_nav:m&&"bottom"===_,list:d,item_per_window:y})]})}))};var ur=r(945260);const dr=e=>{const{enabled:t,onClick:r,isNext:o=!1,isRtl:i=!1}=e,a=i?"IcChevronLeftBold":"IcChevronRightBold",s=i?"IcChevronRightBold":"IcChevronLeftBold";return(0,k.jsx)("button",{className:n()("cfd-compare-accounts-carousel__button",{"cfd-compare-accounts-carousel__button--prev":!o,"cfd-compare-accounts-carousel__button--next":o}),onClick:r,disabled:!t,children:(0,k.jsx)(F,{icon:o?a:s,className:"cfd-compare-accounts-carousel__button__svg"})})},_r=({children:e,isRtl:t=!1})=>{const r={align:0,containScroll:"trimSnaps",direction:t?"rtl":"ltr"},[o,n]=(0,ur.A)(r),[a,s]=i.useState(!1),[c,l]=i.useState(!1),u=i.useCallback((()=>n&&n.scrollPrev()),[n]),d=i.useCallback((()=>n&&n.scrollNext()),[n]),_=i.useCallback((e=>{s(e.canScrollPrev()),l(e.canScrollNext())}),[]);return i.useEffect((()=>{n&&(_(n),n.on("reInit",_),n.on("select",_))}),[n,_]),(0,k.jsxs)("div",{className:"cfd-compare-accounts-carousel",children:[(0,k.jsx)("div",{className:"cfd-compare-accounts-carousel__viewport",ref:o,children:(0,k.jsx)("div",{className:"cfd-compare-accounts-carousel__container",children:e})}),(0,k.jsx)(dr,{onClick:u,enabled:a,isRtl:t}),(0,k.jsx)(dr,{onClick:d,isNext:!0,enabled:c,isRtl:t})]})};function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(r),!0).forEach((function(t){mr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const fr=({text_copy:e,info_message:t,icon:r,success_message:o,className:a,onClickHandler:s,popoverClassName:c,popover_props:l={},popoverAlignment:u="bottom",size:d="16"})=>{const[_,p,h]=O(),m=(0,C.useIsMounted)();let f;return i.useEffect((()=>()=>clearTimeout(f)),[]),(0,k.jsx)(Et,hr(hr({alignment:u,classNameBubble:n()("dc-clipboard__popover",c),message:_?o:t},l),{},{zIndex:"9999",children:_?(0,k.jsx)(F,{icon:"IcCheckmarkCircle",custom_color:"var(--status-success)",className:n()("dc-clipboard",a)}):(0,k.jsx)(F,{icon:r||"IcClipboard",custom_color:"var(--text-less-prominent)",className:n()("dc-clipboard",a),onClick:t=>{p(e),f=setTimeout((()=>{m()&&h(!1)}),2e3),t.stopPropagation(),null==s||s()},size:d})}))},gr=["className","classNameLabel","disabled","id","label","label_font_size","label_line_height","defaultChecked","onChange","value","withTabIndex","greyDisabled","has_error"];function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){yr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Dr=i.forwardRef(((e,t)=>{let{className:r,classNameLabel:o,disabled:a=!1,id:s,label:c,label_font_size:l="xs",label_line_height:u="unset",defaultChecked:d,onChange:_,value:p=!1,withTabIndex:h=0,greyDisabled:m=!1,has_error:f=!1}=e,g=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,gr);const[b,v]=i.useState(d||p);i.useEffect((()=>{v(d||p)}),[p,d]);return(0,k.jsxs)("label",{htmlFor:s,onClick:e=>e.stopPropagation(),className:n()("dc-checkbox",r,{"dc-checkbox--disabled":a}),children:[(0,k.jsxs)("span",{children:[(0,k.jsx)("input",vr({className:"dc-checkbox__input",type:"checkbox",id:s,ref:t,disabled:a,onChange:e=>{e.persist(),v(!b),null==_||_(e)},checked:b},g)),(0,k.jsx)("span",{className:n()("dc-checkbox__box",{"dc-checkbox__box--active":b,"dc-checkbox__box--disabled":a,"dc-checkbox--grey-disabled":a&&m}),tabIndex:h,onKeyDown:e=>{a||"Enter"!==e.key&&32!==e.keyCode||(null==_||_(e),v(!b))},children:!!b&&(0,k.jsx)(F,{icon:"IcCheckmark",color:"active"})})]}),(0,k.jsx)(K,{size:l,line_height:u,className:n()("dc-checkbox__label",o,{"dc-checkbox__label--error":f}),children:c})]})}));Dr.displayName="Checkbox";const wr=Dr,Cr=wr,Ar=({status:e,onClick:t,button_text:r})=>{const o=e=>{e.stopPropagation(),t()};switch(e){case"done":return(0,k.jsx)("div",{className:"dc-checklist__item-status--done",children:(0,k.jsx)(F,{icon:"IcCheckmark",color:"green",size:16})});case"button-action":return(0,k.jsx)(Qe,{primary:!0,color:"active",text:r,onClick:o});default:return(0,k.jsx)("div",{className:"dc-checklist__item-status--action","data-testid":"dt_checklist_item_status_action",onClick:o,children:(0,k.jsx)(F,{icon:"IcArrowRightBold",color:"active"})})}},xr=({items:e,className:t,itemClassName:r})=>(0,k.jsx)("div",{className:n()("dc-checklist",t),children:e.map(((e,t)=>(0,k.jsxs)("div",{className:n()("dc-checklist__item",r,{"dc-checklist__item--disabled":e.is_disabled}),onClick:e.onClick,children:[(0,k.jsx)("div",{className:"dc-checklist__item-text",children:e.content}),(0,k.jsx)("div",{className:n()("dc-checklist__item-status",{"dc-checklist__item-status--disabled":e.is_disabled,"dc-checklist__item-status--button":"button-action"===e.status}),children:(0,k.jsx)(Ar,{status:e.status,onClick:e.onClick,button_text:e.button_text})})]},t)))}),Er=xr,jr=({className:e,danger_limit:t=20,icon:r="",is_clockwise:o=!1,progress:i=0,radius:a=22,stroke:s=3,warning_limit:c=50})=>{const l=a-s/2,u=2*l*Math.PI,d=u-i/100*u;return(0,k.jsxs)("div",{className:n()("dc-circular-progress",e),children:[(0,k.jsx)(S.default,{icon:r,className:"dc-circular-progress__icon"}),(0,k.jsx)("svg",{height:2*a,width:2*a,children:(0,k.jsx)("circle",{className:n()("dc-circular-progress__bar",{"dc-circular-progress--clockwise":o,"dc-circular-progress__bar--warning":i<=c&&i>t,"dc-circular-progress__bar--danger":i<=t}),cx:a,cy:a,fill:"transparent",r:l,strokeDasharray:`${u} ${u}`,strokeWidth:s,style:{strokeDashoffset:d}})})]})},Or=["title"];function Sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(r),!0).forEach((function(t){kr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Pr=({className:e})=>(0,k.jsx)(F,{width:30,height:9,icon:"IcChevronUp",className:e}),Tr=e=>{let{title:t}=e,r=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Or);return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)(K,{size:"xs",weight:"bold",color:"prominent",className:"dc-collapsible__title",children:t}),(0,k.jsx)(F,Fr({icon:"IcChevronDown"},r))]})},Nr=({is_collapsed:e=!1,position:t,onClick:r,title:o,handle_button:a=!1,show_collapsible_button:s=!0})=>{const[c,l]=i.useState(!e),u=()=>{l(!c),"function"==typeof r&&r()};let d;if(i.useEffect((()=>{l(e)}),[e]),"top"===t)d=o?(0,k.jsx)(Tr,{title:o,className:n()("dc-collapsible__icon",{"dc-collapsible__icon--top":!0,"dc-collapsible__icon--is-open":c})}):(0,k.jsx)(Pr,{className:n()("dc-collapsible__icon",{"dc-collapsible__icon--top":!0,"dc-collapsible__icon--is-open":c})});else d=o?(0,k.jsx)(Tr,{title:o,className:n()("dc-collapsible__icon",{"dc-collapsible__icon--bottom":!0,"dc-collapsible__icon--is-open":c})}):(0,k.jsx)(Pr,{className:n()("dc-collapsible__icon",{"dc-collapsible__icon--bottom":!0,"dc-collapsible__icon--is-open":c})});return a&&(d=(0,k.jsx)("div",{className:"dc-collapsible__icon--handle","data-testid":"icon_handle"})),(0,k.jsx)("div",{className:n()("dc-collapsible__button",{"dc-collapsible__button--handle":a}),onClick:u,onKeyDown:u,"data-testid":"dt_handle_button",children:s&&d})};function Lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(r),!0).forEach((function(t){Br(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Br(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Rr={delta:10,trackTouch:!0,trackMouse:!0},Mr=({as:e,is_collapsed:t,position:r="top",children:o,onClick:a,title:s,handle_button:c,is_non_interactive:l=!1})=>{const[u,d]=i.useState(!t),[_,p]=i.useState(!1),h=()=>{if(l)return;const e=!u;d(e),"function"==typeof a&&a(e)};i.useEffect((()=>{d(!t),p(i.Children.toArray(o).some((({props:e})=>"data-collapsible"in e)))}),[o,t]),i.useEffect((()=>p(i.Children.toArray(o).some((({props:e})=>"data-collapsible"in e))||l)),[o,l]);const m=(0,rr.useSwipeable)(Ir({onSwipedUp:()=>!u&&_&&h(),onSwipedDown:()=>u&&_&&h()},Rr)),f=(0,k.jsx)(Nr,{is_collapsed:!u,position:r,onClick:h,title:s,handle_button:c,show_collapsible_button:!l}),g=e||"div";return(0,k.jsxs)(g,Ir(Ir({},m),{},{className:n()("dc-collapsible",{"dc-collapsible--is-expanded":u,"dc-collapsible--is-collapsed":!u,"dc-collapsible--has-collapsible-btn":_,"dc-collapsible--has-title":s}),"data-testid":"dt_collapsible",children:[_&&"top"===r&&f,(0,k.jsx)("div",{className:"dc-collapsible__content",children:i.Children.map(o,(e=>{if(i.isValidElement(e)){const t=n()("dc-collapsible__item",e.props.className,{"dc-collapsible__item--collapsed":"data-collapsible"in e.props&&!u}),r=Ir({},e.props);"data-collapsible"in r&&delete r["data-collapsible"];const o=Ir(Ir({},r),{},{className:t});return i.cloneElement(e,o)}return e}))}),_&&"bottom"===r&&f]}))};Mr.displayName="Collapsible",Mr.ArrowButton=Nr;const zr=Mr;function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){$r(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Vr=({children:e,className:t,has_fade_in:r,is_arrow_inverted:o,is_expanded:a,is_title_spaced:s,title:c,title_style:l,title_className:u,wrapper_className:d,onToggle:_,measure:p})=>{const[h,m]=i.useState(a),f=i.useCallback((()=>{m(!h),_&&_()}),[h,_,m]);return i.useEffect((()=>{p&&p()}),[h,p]),i.useEffect((()=>{m(a)}),[a]),(0,k.jsxs)("div",{className:n()("dc-content-expander__wrapper",d),children:[(0,k.jsxs)("div",{className:n()("dc-content-expander",{"dc-content-expander--expanded":h},t),onClick:f,children:[(0,k.jsx)("div",{className:n()("dc-content-expander__title",{"dc-content-expander__title--spaced":s},u),children:"string"==typeof c?(0,k.jsx)(M,Wr(Wr({size:(null==l?void 0:l.size)||"xs",weight:(null==l?void 0:l.weight)||"bold",color:(null==l?void 0:l.color)||"prominent"},l),{},{children:c})):c}),(0,k.jsx)(S.default,{icon:"IcChevronDown",className:n()("dc-content-expander__select-arrow",{"dc-content-expander__select-arrow--invert":o})})]}),r?(0,k.jsx)(ne.A,{in:h,timeout:250,classNames:{enter:"dc-content-expander__content--enter",enterDone:"dc-content-expander__content--enter-done",exit:"dc-content-expander__content--exit"},unmountOnExit:!0,children:(0,k.jsx)("div",{className:"dc-content-expander__content",children:e})}):h&&(0,k.jsx)("div",{className:"dc-content-expander__content",children:e})]})},Hr=bt,Gr=["name","value","onChange","className","label","id","description","children"];function Yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(r),!0).forEach((function(t){qr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Jr=e=>{let{name:t,value:r,onChange:o,className:i,label:a,id:s,description:c,children:l}=e,u=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Gr);return(0,k.jsxs)("div",{className:n()("composite-checkbox",i,{"composite-checkbox--active":!!r}),onClick:e=>{e.stopPropagation(),e.preventDefault(),o({target:{value:!r}})},children:[(0,k.jsx)(wr,Kr({id:s,label:a,name:t,value:r,onChange:o},u)),(0,k.jsx)(K,{as:"p",size:"xxxs",line_height:"s",className:n()("composite-checkbox__description",`${i}__description`),children:c}),l]})},Zr=Jr;var Xr=r(10578);const Qr=({speed:e})=>(0,k.jsxs)(Xr.Ay,{height:173,width:218,speed:e,children:[(0,k.jsx)("rect",{x:"43",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),(0,k.jsx)("rect",{x:"147",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),(0,k.jsx)("rect",{x:"12",y:"50",rx:"0",ry:"0",width:"44",height:"8"}),(0,k.jsx)("rect",{x:"13",y:"68",rx:"0",ry:"0",width:"192",height:"8"}),(0,k.jsx)("rect",{x:"5",y:"89",rx:"0",ry:"0",width:"208",height:"1"}),(0,k.jsx)("rect",{x:"12",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),(0,k.jsx)("rect",{x:"12",y:"9",rx:"0",ry:"0",width:"24",height:"24"}),(0,k.jsx)("rect",{x:"116",y:"11",rx:"0",ry:"0",width:"24",height:"24"}),(0,k.jsx)("rect",{x:"12",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),(0,k.jsx)("rect",{x:"116",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),(0,k.jsx)("rect",{x:"116",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),(0,k.jsx)("rect",{x:"12",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),(0,k.jsx)("rect",{x:"12",y:"153",rx:"0",ry:"0",width:"88",height:"8"}),(0,k.jsx)("rect",{x:"116",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),(0,k.jsx)("rect",{x:"116",y:"153",rx:"0",ry:"0",width:"88",height:"8"})]}),eo=["type","className"];function to(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?to(Object(r),!0).forEach((function(t){oo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):to(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const no=e=>{let{type:t,className:r}=e,o=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,eo);switch(t.toUpperCase()){case C.CONTRACT_TYPES.ACCUMULATOR:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeAccu",className:r,color:"brand"},o));case C.CONTRACT_TYPES.ASIAN.DOWN:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeAsiand",className:r,color:"brand"},o));case C.CONTRACT_TYPES.ASIAN.UP:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeAsianu",className:r,color:"brand"},o));case C.CONTRACT_TYPES.CALL_BARRIER:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeCallBarrier",className:r,color:"brand"},o));case C.CONTRACT_TYPES.CALLE:case C.CONTRACT_TYPES.CALL:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeCall",className:r,color:"brand"},o));case C.CONTRACT_TYPES.CALL_PUT_SPREAD.CALL:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeCallspread",className:r,color:"brand"},o));case C.CONTRACT_TYPES.CALL_PUT_SPREAD.PUT:return(0,k.jsx)(S.default,ro({icon:"IcTradetypePutsread",className:r,color:"brand"},o));case C.CONTRACT_TYPES.MATCH_DIFF.DIFF:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeDigitdiff",className:r,color:"brand"},o));case C.CONTRACT_TYPES.EVEN_ODD.EVEN:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeDigiteven",className:r,color:"brand"},o));case C.CONTRACT_TYPES.MATCH_DIFF.MATCH:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeDigitmatch",className:r,color:"brand"},o));case C.CONTRACT_TYPES.EVEN_ODD.ODD:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeDigitodd",className:r,color:"brand"},o));case C.CONTRACT_TYPES.OVER_UNDER.OVER:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeDigitover",className:r,color:"brand"},o));case C.CONTRACT_TYPES.OVER_UNDER.UNDER:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeDigitunder",className:r,color:"brand"},o));case C.CONTRACT_TYPES.END.OUT:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeExpirymiss",className:r,color:"brand"},o));case C.CONTRACT_TYPES.EXPIRYRANGEE:case C.CONTRACT_TYPES.END.IN:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeExpiryrange",className:r,color:"brand"},o));case C.CONTRACT_TYPES.LB_CALL:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeLbcall",className:r,color:"brand"},o));case C.CONTRACT_TYPES.LB_PUT:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeLbput",className:r,color:"brand"},o));case C.CONTRACT_TYPES.LB_HIGH_LOW:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeLbhighlow",className:r,color:"brand"},o));case C.CONTRACT_TYPES.MULTIPLIER.DOWN:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeMultdown",className:r,color:"brand"},o));case C.CONTRACT_TYPES.MULTIPLIER.UP:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeMultup",className:r,color:"brand"},o));case C.CONTRACT_TYPES.TOUCH.NO_TOUCH:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeNotouch",className:r,color:"brand"},o));case C.CONTRACT_TYPES.TOUCH.ONE_TOUCH:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeOnetouch",className:r,color:"brand"},o));case C.CONTRACT_TYPES.PUT_BARRIER:return(0,k.jsx)(S.default,ro({icon:"IcTradetypePutBarrier",className:r,color:"brand"},o));case C.CONTRACT_TYPES.PUTE:case C.CONTRACT_TYPES.PUT:return(0,k.jsx)(S.default,ro({icon:"IcTradetypePut",className:r,color:"brand"},o));case C.CONTRACT_TYPES.STAY.IN:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeRange",className:r,color:"brand"},o));case C.CONTRACT_TYPES.RESET.CALL:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeResetcall",className:r,color:"brand"},o));case C.CONTRACT_TYPES.RESET.PUT:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeResetput",className:r,color:"brand"},o));case C.CONTRACT_TYPES.RUN_HIGH_LOW.HIGH:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeRunhigh",className:r,color:"brand"},o));case C.CONTRACT_TYPES.RUN_HIGH_LOW.LOW:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeRunlow",className:r,color:"brand"},o));case C.CONTRACT_TYPES.TICK_HIGH_LOW.HIGH:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeTickhigh",className:r,color:"brand"},o));case C.CONTRACT_TYPES.TICK_HIGH_LOW.LOW:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeTicklow",className:r,color:"brand"},o));case C.CONTRACT_TYPES.TURBOS.LONG:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeTurboslong",className:r,color:"brand"},o));case C.CONTRACT_TYPES.TURBOS.SHORT:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeTurbosshort",className:r,color:"brand"},o));case C.CONTRACT_TYPES.STAY.OUT:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeUpordown",className:r,color:"brand"},o));case C.CONTRACT_TYPES.VANILLA.CALL:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeVanillaLongCall",className:r,color:"brand"},o));case C.CONTRACT_TYPES.VANILLA.PUT:return(0,k.jsx)(S.default,ro({icon:"IcTradetypeVanillaLongPut",className:r,color:"brand"},o));default:return(0,k.jsx)(S.default,ro({icon:"IcUnknown",className:r},o))}},io=({displayed_trade_param:e,getContractTypeDisplay:t,is_high_low:r,is_multipliers:o,is_turbos:i,type:a=""})=>(0,k.jsxs)("div",{className:"dc-contract-type",children:[(0,k.jsx)("div",{className:"dc-contract-type__type-wrapper",children:(0,k.jsx)(no,{type:r&&!(0,C.isVanillaContract)(a)?`${a.toLowerCase()}_barrier`:a.toLowerCase(),className:"category-type",size:24})}),(0,k.jsxs)("div",{className:n()("dc-contract-type__type-label",{"dc-contract-type__type-label--smarttrader-contract":(0,C.isSmartTraderContract)(a),"dc-contract-type__type-label--lookbacks-contract":(0,C.isLookBacksContract)(a),"dc-contract-type__type-label--multipliers":o}),children:[(0,k.jsx)("div",{children:t(a,{isHighLow:r,showMainTitle:o||i})||""}),e&&(0,k.jsx)("div",{className:"dc-contract-type__type-label-trade-param",children:e})]})]}),ao=({current_tick:e,getCardLabels:t,ticks_count:r})=>{const o=Array.from(Array(r).keys());return(0,k.jsxs)("div",{className:"dc-progress-slider__ticks",children:[(0,k.jsxs)(K,{styles:{lineHeight:"18px"},size:"xxs",className:"dc-progress-slider__ticks-caption",children:[t().TICK," ",e]}),(0,k.jsx)("div",{className:"dc-progress-slider__ticks-wrapper",children:o.map((t=>(0,k.jsx)("div",{className:n()("dc-progress-slider__ticks-step",{"dc-progress-slider__ticks-step--marked":t+1<=Number(e)})},t)))})]})},so=({as:e="div",end_time:t,format:r,getCardLabels:o,start_time:n,className:a="dc-remaining-time"})=>{const s=e;if(!t||n.unix()>+t)return(0,k.jsx)(i.Fragment,{children:""});const{days:c,timestamp:l}=(0,C.formatDuration)((0,C.getDiffDuration)(n.unix(),t),r);let u=l;c>0&&(u=`${c} ${c>1?o().DAYS:o().DAY} ${l}`);const d=/^00:00$/.test(u);return(0,k.jsx)(i.Fragment,{children:!d&&(0,k.jsx)(s,{className:a,children:u})})},co=({className:e,current_tick:t,expiry_time:r,getCardLabels:o,is_loading:a,server_time:s,start_time:c,ticks_count:l})=>{const u=(0,C.getTimePercentage)(s,Number(c),Number(r));return(0,k.jsx)("div",{className:n()("dc-progress-slider",e),children:l?(0,k.jsx)(ao,{current_tick:t,getCardLabels:o,ticks_count:l}):(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)(K,{size:"xxxs",className:"dc-progress-slider__remaining-time",children:(0,k.jsx)(so,{end_time:r,getCardLabels:o,start_time:s})}),a||u<1?(0,k.jsx)("div",{className:"dc-progress-slider__infinite-loader",children:(0,k.jsx)("div",{className:"dc-progress-slider__infinite-loader--indeterminate"})}):(0,k.jsx)("div",{className:"dc-progress-slider__track",children:(0,k.jsx)("div",{className:n()("dc-progress-slider__line",{"dc-progress-slider__line--green":u>=50,"dc-progress-slider__line--yellow":u<50&&u>=20,"dc-progress-slider__line--red":u<20}),style:{width:`${u}%`}})})]})})},lo=({children:e})=>(0,C.isDesktop)()?(0,k.jsx)(i.Fragment,{children:e}):null,uo=({children:e})=>(0,C.isMobile)()?(0,k.jsx)(i.Fragment,{children:e}):null,_o=({current_tick:e,label:t})=>(0,k.jsx)("div",{className:"dc-tick-counter-bar__container",children:(0,k.jsx)("div",{className:"dc-tick-counter-bar__track",children:(0,k.jsx)(K,{size:"xxs",weight:"bold",align:"center",color:"profit-success",className:"dc-tick-counter-bar__text",children:`${e} ${t}`})})}),po=i.memo(_o),ho=({contract_info:e,display_name:t,getCardLabels:r,getContractTypeDisplay:o,has_progress_slider:a,id:s,is_sell_requested:c,is_sold:l,is_valid_to_sell:u,onClickSell:d,server_time:_})=>{var p;const h=e.tick_count?(0,C.getCurrentTick)(e):null,{growth_rate:m,underlying:f,multiplier:g,contract_type:b,shortcode:v,purchase_time:y,date_expiry:D,tick_count:w,tick_passed:A}=e,x=(0,C.isBot)(),E=!!e.is_sold||l,j=(0,C.isAccumulatorContract)(b),O=(0,C.isSmartTraderContract)(b),S=(0,C.isMobile)(),P=(0,C.isTurbosContract)(b),T=(0,C.isMultiplierContract)(b),N=(0,C.isHighLow)({shortcode:v}),L=(null===(p=i.useMemo((()=>[{is_param_displayed:T,displayed_param:`${o(null!=b?b:"",{isHighLow:N})} x${g}`.trim()},{is_param_displayed:j,displayed_param:`${(0,C.getGrowthRatePercentage)(m||0)}%`},{is_param_displayed:P,displayed_param:(0,C.getLocalizedTurbosSubtype)(b)}]),[b,m,g,j,T,P,N]).find((e=>e.is_param_displayed)))||void 0===p?void 0:p.displayed_param)||"";return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)("div",{className:n()("dc-contract-card__grid","dc-contract-card__grid-underlying-trade",{"dc-contract-card__grid-underlying-trade--trader":!x,"dc-contract-card__grid-underlying-trade--trader--accumulator":!(S||x)&&j,"dc-contract-card__grid-underlying-trade--trader--sold":(j||P||T)&&E}),children:[(0,k.jsxs)("div",{id:"dc-contract_card_underlying_label",className:n()("dc-contract-card__underlying-name",{"dc-contract-card__underlying-name--accumulator":j}),children:[(0,k.jsx)(F,{icon:f?`IcUnderlying${f}`:"IcUnknown",width:j?46:40,size:32}),(0,k.jsx)(K,{size:"xxs",className:n()("dc-contract-card__symbol",{"dc-contract-card__symbol--smarttrader-contract":O}),weight:"bold",children:t||e.display_name})]}),(0,k.jsx)("div",{id:"dc-contract_card_type_label",className:n()("dc-contract-card__type",{"dc-contract-card__type--accumulators":j}),children:(0,k.jsx)(io,{displayed_trade_param:L,getContractTypeDisplay:o,is_high_low:N,is_multipliers:T,is_turbos:P,type:b})}),(0,k.jsx)(uo,{children:u?(0,k.jsx)(ne.A,{in:!!u,timeout:250,classNames:{enter:"dc-contract-card__sell-button--enter",enterDone:"dc-contract-card__sell-button--enter-done",exit:"dc-contract-card__sell-button--exit"},unmountOnExit:!0,children:(0,k.jsx)("div",{className:"dc-contract-card__sell-button-mobile",children:(0,k.jsx)(Qe,{id:`dc_contract_card_${s}_button`,className:n()("dc-btn--sell",{"dc-btn--loading":c}),is_disabled:!u||c,text:r().SELL,onClick:()=>d(s),secondary:!0})})}):null})]}),!E&&j&&(0,k.jsx)(po,{current_tick:A,label:r().TICKS}),(0,k.jsx)(uo,{children:(0,k.jsx)("div",{className:"dc-progress-slider--completed"})}),(0,k.jsxs)(lo,{children:[(!a||!!E)&&(0,k.jsx)("div",{className:"dc-progress-slider--completed"}),a&&!E&&!j&&(0,k.jsx)(co,{current_tick:h,expiry_time:D,getCardLabels:r,is_loading:!1,server_time:_,start_time:y,ticks_count:w})]})]})},mo=({className:e,children:t,header:r,is_crypto:o,is_loss:i,is_won:a})=>(0,k.jsxs)("div",{className:n()("dc-contract-card-item",e),children:[(0,k.jsx)("div",{className:"dc-contract-card-item__header",children:r}),(0,k.jsx)("div",{className:n()("dc-contract-card-item__body",{"dc-contract-card-item__body--crypto":o,"dc-contract-card-item__body--loss":i,"dc-contract-card-item__body--profit":a}),children:t})]}),fo=({currency:e})=>(0,k.jsx)(K,{className:"dc-currency-badge",color:"colored-background",line_height:"unset",size:"xxxs",weight:"bold",children:(0,C.getCurrencyDisplayCode)(e)}),go=({amount:e=0,className:t,currency:r="USD",has_sign:o,should_format:n=!0,show_currency:a=!1})=>{let s="";Number(e)&&(Number(e)<0||o)&&(s=Number(e)>0?"+":"-");const c=o||n?Math.abs(Number(e)):e,l=n?(0,C.formatMoney)(r,c,!0,0,0):c;return(0,k.jsxs)(i.Fragment,{children:[o&&s,(0,k.jsxs)("span",{"data-testid":"dt_span",className:t,children:[l," ",a&&(0,C.getCurrencyDisplayCode)(r)]})]})},bo=i.memo(go),vo=({getCardLabels:e,is_contract_won:t})=>(0,k.jsxs)("span",{className:n()("dc-result__caption",{"dc-result__caption--won":t,"dc-result__caption--lost":!t}),children:[(0,k.jsx)(F,{icon:"IcPositionClosed",className:"dc-result__icon",color:t?"green":"red"}),e().CLOSED]}),yo=({currency:e,contract_id:t,getCardLabels:r,getContractPath:o,is_positions:a,is_visible:s,onClickRemove:c,payout_info:l,result:u})=>{const d="won"===u;return(0,k.jsx)(i.Fragment,{children:(0,k.jsx)(ne.A,{in:s,timeout:250,classNames:{enter:"dc-contract-card__result--enter",enterDone:"dc-contract-card__result--enter-done",exit:"dc-contract-card__result--exit"},unmountOnExit:!0,children:(0,k.jsxs)("div",{id:`dc_contract_card_${t}_result`,className:n()("dc-contract-card__result",{"dc-result__positions-overlay":a,"dc-contract-card__result--won":d,"dc-contract-card__result--lost":!d}),children:[a&&(0,k.jsx)("span",{id:`dc_contract_card_${t}_result_close_icon`,className:"dc-result__close-btn",onClick:()=>{t&&(null==c||c(t))}}),o&&(0,k.jsx)(st.NavLink,{className:"dc-result__caption-wrapper",to:o(t)}),(0,k.jsxs)("div",{className:"dc-result__content",children:[(0,k.jsx)(vo,{getCardLabels:r,is_contract_won:d}),(0,k.jsx)(K,{weight:"bold",size:"s",line_height:"xxl",color:d?"profit-success":"loss-danger",children:(0,k.jsx)(bo,{amount:l,currency:e,has_sign:!0,show_currency:!0})})]})]})})})},Do=({is_on:e})=>(0,k.jsx)("div",{className:n()("dc-tick-progress__tick",{"dc-tick-progress__tick--on":e})}),wo=({className:e,rows:t=2,columns:r=5,size:o=10,value:i=0})=>(0,k.jsx)("div",{className:n()("dc-tick-progress",e),style:{gridTemplateRows:`repeat(${t}, 1fr)`,gridTemplateColumns:`repeat(${r}, 1fr)`},children:new Array(o).fill(null).map(((e,t)=>(0,k.jsx)(Do,{is_on:t<Number(i)},t)))}),Co=({current_tick:e,getCardLabels:t,ticks_count:r})=>(0,k.jsxs)("div",{className:"dc-progress-slider__ticks",children:[(0,k.jsxs)(K,{styles:{lineHeight:"18px"},size:"xxs",className:"dc-progress-slider__ticks-caption",children:[t().TICK," ",e]}),(0,k.jsx)(wo,{columns:5,rows:r>5?2:1,size:r,value:e})]}),Ao=({className:e,current_tick:t,getCardLabels:r,is_loading:o,start_time:a,expiry_time:s,server_time:c,ticks_count:l})=>{const u=(0,C.getTimePercentage)(c,Number(a),Number(s));return(0,k.jsx)("div",{className:n()("dc-progress-slider-mobile",e),"data-testid":"dt_progress_slider_mobile",children:l?(0,k.jsx)(Co,{current_tick:t,getCardLabels:r,ticks_count:l}):(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)(K,{size:"xxs",children:(0,k.jsx)(so,{end_time:s,getCardLabels:r,start_time:c})}),o||u<1?(0,k.jsx)("div",{className:"dc-progress-slider-mobile__infinite-loader",children:(0,k.jsx)("div",{className:"dc-progress-slider-mobile__infinite-loader--indeterminate"})}):(0,k.jsx)(jr,{className:"dc-progress-slider-mobile__timer",danger_limit:20,icon:"IcClockOutline",progress:u,warning_limit:50})]})})},xo=i.forwardRef((({children:e,is_visible:t,left:r,toggleDialog:o,toggle_ref:n,top:i},a)=>{v(a,o,(e=>{var r;return t&&!(null!=n&&null!==(r=n.current)&&void 0!==r&&r.contains(e.target))}));const s=(0,k.jsx)(ne.A,{in:t,classNames:{enter:"dc-contract-card-dialog--enter",enterDone:"dc-contract-card-dialog--enter-done",exit:"dc-contract-card-dialog--exit"},timeout:150,unmountOnExit:!0,children:(0,k.jsx)("div",{ref:a,className:"dc-contract-card-dialog",style:{top:i,left:`calc(${r}px + 32px)`},children:e})}),c=document.getElementById("deriv_app");return oe.createPortal(s,c||document.body)}));xo.displayName="ContractCardDialog";const Eo=xo;function jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(r),!0).forEach((function(t){So(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function So(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Fo=({decrementValue:e,id:t,incrementValue:r,max_is_disabled:o,min_is_disabled:a,is_incrementable_on_long_press:s,onLongPressEnd:c,type:l})=>{const u=i.useRef(),d=i.useRef(),_=i.useRef(!1),p=e=>t=>{d.current=setTimeout((()=>{_.current=!0;let r=1;e(t,r),u.current=setInterval((()=>{e(t,++r)}),50)}),300)},h=()=>{clearInterval(u.current),clearTimeout(d.current),c&&_.current&&c(),_.current=!1},m=e=>s?{onContextMenu:e=>e.preventDefault(),onTouchStart:p(e),onTouchEnd:h,onMouseDown:p(e),onMouseUp:h}:{};return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)(Qe,Oo(Oo({id:`${t}_add`,className:n()("dc-input-wrapper__button dc-input-wrapper__button--increment",{"dc-input-wrapper__button--disabled":!!o}),is_disabled:!!o,onClick:r,tabIndex:-1,"aria-label":"Increment value",type:l},m(r)),{},{children:(0,k.jsx)(F,{icon:"IcAdd",className:"dc-input-wrapper__icon dc-input-wrapper__icon--plus",color:o?"disabled":void 0})})),(0,k.jsx)(Qe,Oo(Oo({id:`${t}_sub`,className:n()("dc-input-wrapper__button dc-input-wrapper__button--decrement",{"dc-input-wrapper__button--disabled":!!a}),is_disabled:!!a,onClick:e,tabIndex:-1,"aria-label":"Decrement value",type:l},m(e)),{},{children:(0,k.jsx)(F,{icon:"IcMinus",className:"dc-input-wrapper__icon dc-input-wrapper__icon--minus",color:a?"disabled":void 0})}))]})},ko=({ariaLabel:e,changeValue:t,checked:r,className:o,classNameDynamicSuffix:a,classNameInlinePrefix:s,current_focus:c,data_testid:l,data_tip:u,data_value:d,display_value:_,fractional_digits:p,id:h,inline_prefix:m,inputmode:f,is_autocomplete_disabled:g,is_disabled:b,is_hj_whitelisted:v,is_incrementable:y,is_read_only:D,max_length:w,name:A,onBlur:x,onClick:E,onKeyPressed:j,placeholder:O,required:S,setCurrentFocus:F,type:P})=>{const T=i.useRef(null);i.useEffect((()=>{var e;c===A&&(null==T||null===(e=T.current)||void 0===e||e.focus())}),[c,A]);return(0,k.jsxs)("div",{className:a,children:[m?(0,k.jsx)("div",{className:s,children:(0,k.jsx)(K,{className:n()(s?`${s}--symbol`:"",{disabled:!!b}),size:"xs",children:"UST"===m?(0,C.getCurrencyDisplayCode)(m):m})}):null,(0,k.jsx)("input",{autoComplete:g?"off":void 0,checked:r,className:n()(o),"data-for":`error_tooltip_${A}`,"data-hj-whitelist":v,"data-tip":u,"data-testid":l,"data-value":d,disabled:!!b,id:h,maxLength:p&&w?w+p+1:w,name:A,onBlur:e=>{null==F||F(null),null==x||x(e)},onChange:e=>{if(-1!==navigator.userAgent.indexOf("Safari")&&"checkbox"!==P){const r=e.target.selectionStart;t(e,(e=>{e.target.selectionEnd=r}))}else t(e)},onClick:E,onFocus:()=>null==F?void 0:F(A),onKeyDown:y?j:void 0,placeholder:O||void 0,readOnly:D,ref:T,required:S||void 0,inputMode:f,type:"number"===P?"text":P,value:null!=_?_:"","aria-label":e,"data-lpignore":"password"!==P})]})},Po=({alignment:e,children:t,className:r,classNameIcon:o,has_error:a,icon:s,message:c})=>{const[l,u]=h(),d=n()(o,s);return(0,k.jsxs)("span",{className:n()(r,"dc-tooltip",{"dc-tooltip--error":a}),"data-tooltip":c||void 0,"data-tooltip-pos":e,children:["info"===s&&(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)(F,{icon:"IcInfoOutline",className:d,ref:l}),(0,k.jsx)(F,{icon:"IcInfoBlue",className:n()(`${o}-balloon-icon`,"dc-tooltip__balloon-icon",{"dc-tooltip__balloon-icon--show":u})})]}),"question"===s&&(0,k.jsx)(F,{icon:"IcUnknown",className:d}),"dot"===s&&(0,k.jsx)(F,{icon:"IcCircle",className:d,size:4}),t]})},To=({ariaLabel:e,checked:t,className:r,classNameDynamicSuffix:o,classNameInlinePrefix:a,classNameInput:s,classNamePrefix:c,classNameWrapper:l,currency:u,current_focus:d,data_tip:_,data_value:p,decimal_point_change:h,error_messages:m,error_message_alignment:f,fractional_digits:g,helper:b,icon:v,id:y,inline_prefix:D,is_autocomplete_disabled:w,is_disabled:A,is_error_tooltip_hidden:x=!1,is_float:E,is_hj_whitelisted:j=!1,is_incrementable:O,is_incrementable_on_long_press:S,is_negative_disabled:F,is_read_only:P=!1,is_signed:T=!1,is_unit_at_right:N=!1,inputmode:L,increment_button_type:I,label:B,max_length:R,max_value:M,min_value:z,name:U="",format:W,onBlur:$,onChange:V,onClick:H,onClickInputWrapper:G,placeholder:Y,prefix:q,required:J,setCurrentFocus:Z,type:X="",unit:Q,value:ee,data_testid:te})=>{const[re,oe]=i.useState(),ne=v,ie=m&&!!m.length&&!x,ae=M&&(+ee>=+M||Number(re)>=+M),se=z&&(+ee<=+z||Number(re)<=+z);let ce=!0;const le=e=>{const t="string"==typeof e?e.split("."):e.toString().split(".");return t&&t.length>1?t[1].length:0},ue=e=>{let t=e;return z&&(t=Math.max(t,z)),M&&(t=Math.min(t,M)),t},de=(e,t)=>{if(ae)return;let r;const o=re||ee.toString(),n=o?le(o):0,i=!!u&&(0,C.isCryptocurrency)(u);if(t){const e=Math.min(t,Math.max(t,10))/10,i=+ee*e/100,a=parseFloat(o||"0")+Math.abs(i);r=parseFloat(ue(a).toString()).toFixed(n)}else if(i||!u&&E){const e=parseFloat(o||"0")+parseFloat((1*10**(0-(h||n))).toString());r=parseFloat(e.toString()).toFixed(h||n)}else r=parseFloat(((+o||0)+1).toString()).toFixed(n);he(r,!!t)},_e=e=>{let t;const r=re||(null==ee?void 0:ee.toString()),o=r?le(r):0,n=!!u&&(0,C.isCryptocurrency)(u);if(e){const n=Math.min(e,Math.max(e,10))/10,i=+ee*n/100,a=parseFloat(r||"0")-Math.abs(i);t=parseFloat(ue(a).toString()).toFixed(o)}else if(n||!u&&E){const e=parseFloat(r||"0")-parseFloat((1*10**(0-(h||o))).toString());t=parseFloat(e.toString()).toFixed(h||o)}else t=parseFloat(((+r||0)-1).toString()).toFixed(o);return t},pe=(e,t)=>{if(se)return;const r=_e(t);F&&+r<0||he(r,!!t)},he=(e,t)=>{let r=W?W(e):e;t?oe(r):(T&&/^\d+/.test(r)&&+r>0&&(r=`+${r}`),null==V||V({target:{value:r,name:U}}))};let me=re||ee;Q&&(me=N?`${ee} ${Q}`:`${Q} ${ee}`);const fe=O&&("number"===X||"tel"===X),ge=(0,k.jsx)(ko,{ariaLabel:e,changeValue:(e,t)=>{if(Q&&(e.target.value=e.target.value.replace(Q,"").trim()),e.target.value!==ee||"checkbox"===X){if("number"===X||"tel"===X){const t=!e.target.value||""===e.target.value||"  "===e.target.value,r=T?"^([+-.0-9])":"^";e.target.value=e.target.value.replace(",",".");const o=new RegExp(`${r}(\\d*)?${E?"(\\.\\d+)?":""}$`).test(e.target.value),n=E&&new RegExp(`${r}(\\.|\\d+\\.)?$`).test(e.target.value),i=new RegExp(`${r}(\\d+)?\\.(\\d+)?[0]+$`).test(e.target.value),a=/e/.test(""+ +e.target.value);if(R&&(g||0===g)&&(ce=new RegExp(`${r}(\\d{0,${R}})(\\${g&&"."}\\d{0,${g}})?$`).test(e.target.value)),(o||t)&&ce)e.target.value=t||T||i||a||"tel"===X?e.target.value:+e.target.value;else if(!n)return void(e.target.value=ee)}null==V||V(e),t&&t(e)}},checked:t,current_focus:d,className:n()(fe?"dc-input-wrapper__input":"",D?"input--has-inline-prefix":"","input",{"input--error":m&&!!m.length},s),classNameDynamicSuffix:o,classNameInlinePrefix:a,data_tip:_,data_testid:te,data_value:p,display_value:me,fractional_digits:g,has_error:ie,id:y,inline_prefix:D,is_autocomplete_disabled:w,is_disabled:A,is_hj_whitelisted:j,is_incrementable:fe,is_read_only:P,max_length:R,name:U,onBlur:$,onClick:H,onKeyPressed:e=>{38===e.keyCode&&de(),40===e.keyCode&&pe()},placeholder:Y,required:J,setCurrentFocus:Z,type:X,inputmode:L}),be=(0,k.jsx)(Fo,{id:y,max_is_disabled:ae||!!A,incrementValue:de,min_is_disabled:se||F&&+_e()<0||!!A,decrementValue:pe,onLongPressEnd:()=>{const e=re,t=W?W(e):e;null==V||V({target:{value:t||"",name:U}}),oe("")},is_incrementable_on_long_press:S,type:I}),ve=(0,k.jsxs)(Po,{className:n()("trade-container__tooltip",{"dc-tooltip--with-label":B}),alignment:f||"left",message:ie?m[0]:null,has_error:ie,children:[!!B&&(0,k.jsx)("label",{htmlFor:U,className:"dc-input-field__label",children:B}),!!b&&(0,k.jsx)(K,{size:"xxs",color:"less-prominent",weight:"lighter",children:b}),fe?(0,k.jsxs)("div",{className:n()("dc-input-wrapper",{"dc-input-wrapper--disabled":!!A},l),children:[be,ge]}):ge]});return(0,k.jsxs)(i.Fragment,{children:[!!q&&(0,k.jsx)("div",{className:c,children:(0,k.jsx)("span",{className:n()(`${c}--symbol`,"symbols"),children:(0,C.getCurrencyDisplayCode)(u)})}),(0,k.jsxs)("div",{className:n()("dc-input-field",r),onClick:G,children:[v&&(0,k.jsx)(ne,{onClick:H}),ve]})]})},No=To;function Lo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(r),!0).forEach((function(t){Bo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ro=({addToast:e,checkbox_tooltip_label:t,classNameBubble:r,classNameInlinePrefix:o,classNameInput:n,className:a,currency:s,current_focus:c,defaultChecked:l,error_message_alignment:u,error_messages:d,is_disabled:_,is_single_currency:p,is_negative_disabled:h,is_input_hidden:m,label:f,max_value:g,name:b,onChange:v,removeToast:y,setCurrentFocus:D,tooltip_alignment:w,tooltip_label:A,value:x})=>{const E=i.useRef(null),j=i.useRef(null),[O,S]=i.useState(l),{isDesktop:F}=(0,Dt.Y)(),P=`has_${b}`;i.useEffect((()=>{S(l)}),[l]),i.useEffect((()=>{if(!F){const t=()=>{"function"==typeof e&&e({key:`${b}__error`,content:String(d),type:"error"})},r=()=>{"function"==typeof y&&y(`${b}__error`)};if(void 0!==(null==d?void 0:d.length)&&(null==d?void 0:d.length)>0)return t(),()=>{r()}}}),[d,e,y,b,F]);const T=()=>{setTimeout((()=>{var e,t,r;const o=null===(e=j.current)||void 0===e||null===(e=e.nextSibling)||void 0===e||null===(t=e.querySelector)||void 0===t?void 0:t.call(e,"input.dc-input-wrapper__input");null==o||null===(r=o.focus)||void 0===r||r.call(o)}))},N=(0,k.jsx)(No,{className:a,classNameInlinePrefix:o,classNameInput:n,currency:s,current_focus:c||"",error_messages:d,error_message_alignment:u,is_error_tooltip_hidden:!F,is_disabled:!!_,fractional_digits:(0,C.getDecimalPlaces)(s),id:`dc_${b}_input`,inline_prefix:p?s:void 0,is_autocomplete_disabled:!0,is_float:(0,C.getDecimalPlaces)(s)>0,is_hj_whitelisted:!0,is_incrementable:!0,is_negative_disabled:h,max_length:10,max_value:g,name:b,onChange:v,onClickInputWrapper:_?void 0:()=>{O||(S(!0),null==v||v({target:{name:P,value:!0}}),T())},type:"number",ariaLabel:"",inputmode:"decimal",value:x,setCurrentFocus:D}),L=(0,k.jsx)(Cr,{className:`${b}-checkbox__input`,ref:E,id:`dc_${b}-checkbox_input`,onChange:()=>{const e=!O;null==v||v({target:{name:P,value:e}}),e&&T()},name:P,label:f,classNameLabel:`${b}-checkbox__label`,defaultChecked:l,disabled:_});return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)("div",{ref:j,className:"dc-input-wrapper--inline",children:[t?(0,k.jsx)(Et,{alignment:"left",classNameBubble:"trade-container__popover",is_bubble_hover_enabled:!0,margin:2,message:t,relative_render:!0,children:L}):(0,k.jsx)(i.Fragment,{children:L}),A&&(0,k.jsx)(Et,Io({alignment:w||"left",classNameBubble:r,icon:"info",id:`dc_${b}-checkbox__tooltip`,is_bubble_hover_enabled:!0,message:A,margin:F&&"right"!==w?216:0,zIndex:"9999"},F?{relative_render:"left"===w}:{}))]}),!m&&N]})},Mo=Ro;function zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(r),!0).forEach((function(t){Wo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const $o=e=>{const{addToast:t,contract:r,current_focus:o,error_message_alignment:a,getCardLabels:s,is_turbos:c,is_accumulator:l,onMouseLeave:u,removeToast:d,setCurrentFocus:_,toggleDialog:p,totalProfit:h}=e,{isDesktop:m}=(0,Dt.Y)();i.useEffect((()=>()=>r.clearContractUpdateConfigValues()),[r]);const{contract_info:f,contract_update_take_profit:g,has_contract_update_take_profit:b,contract_update_stop_loss:v,has_contract_update_stop_loss:y,updateLimitOrder:D,validation_errors:w}=r,[A,x]=i.useState({contract_update_take_profit:g,contract_update_stop_loss:v}),{buy_price:E,currency:j="",is_valid_to_cancel:O,is_sold:S}=f,{stop_loss:F,take_profit:P}=(0,C.getLimitOrderAmount)(f.limit_order),{contract_update_stop_loss:T,contract_update_take_profit:N}=w,L={take_profit:b?N:void 0,stop_loss:y?T:void 0},I=Object.keys(L).some((e=>{var t;return null===(t=L[e])||void 0===t?void 0:t.length})),B=e=>!(null==e),R=(0,C.isMultiplierContract)(f.contract_type||""),M=b?+g>0:B(R?F:P),z=y?+v>0:B(P),U=R?!O&&!(!M&&!z):!!M,W=e=>{const t=["has_contract_update_take_profit","has_contract_update_stop_loss",e.has_contract_update_take_profit&&"contract_update_take_profit",e.has_contract_update_stop_loss&&"contract_update_stop_loss"];return(0,C.pick)(e,t)},$=e=>{var t;const{name:o,value:n}=e.target;x(Uo(Uo({},A),{},{[o]:n})),null===(t=r.onChange)||void 0===t||t.call(r,{name:o,value:n})},V=(0,k.jsx)(Mo,{addToast:t,removeToast:d,current_focus:o,classNameBubble:"dc-popover__trade-params",classNameInlinePrefix:"dc-contract-card-dialog__input--currency",currency:j,error_messages:L.take_profit,is_input_hidden:!m&&!b,is_single_currency:!0,is_negative_disabled:!0,defaultChecked:b,label:s().TAKE_PROFIT,name:"contract_update_take_profit",onChange:$,error_message_alignment:a||"right",value:A.contract_update_take_profit,is_disabled:R&&!!O,setCurrentFocus:_,tooltip_alignment:m?"right":"left",tooltip_label:(0,k.jsx)(he.Localize,{i18n_default_text:"When your profit reaches or exceeds this amount, your trade will be closed automatically."})}),H=(0,C.getCancellationPrice)(f),G=(0,k.jsx)(Mo,{addToast:t,removeToast:d,current_focus:o,classNameBubble:"dc-popover__trade-params",classNameInlinePrefix:"dc-contract-card-dialog__input--currency",currency:j,defaultChecked:y,error_messages:L.stop_loss,is_input_hidden:!m&&!y,is_single_currency:!0,is_negative_disabled:!0,label:s().STOP_LOSS,max_value:Number(E)-H,name:"contract_update_stop_loss",onChange:$,error_message_alignment:a||"right",value:A.contract_update_stop_loss,is_disabled:!!O,setCurrentFocus:_,tooltip_alignment:m?"right":"left",tooltip_label:(0,k.jsx)(he.Localize,{i18n_default_text:"When your loss reaches or exceeds this amount, your trade will be closed automatically."})});return(0,k.jsxs)(i.Fragment,{children:[!m&&(0,k.jsxs)("div",{className:"dc-contract-card-dialog__total-profit",children:[(0,k.jsx)(K,{color:"less-prominent",size:"xs",weight:"bold",children:s().TOTAL_PROFIT_LOSS}),(0,k.jsxs)("div",{className:n()("dc-contract-card__profit-loss dc-contract-card-item__total-profit-loss-value",{"dc-contract-card__profit-loss--is-crypto":(0,C.isCryptocurrency)(j),"dc-contract-card__profit-loss--negative":h<0,"dc-contract-card__profit-loss--positive":h>0}),children:[(0,k.jsx)(bo,{amount:h,currency:j,show_currency:!0}),!S&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:h})]})]}),(0,k.jsxs)("div",{className:n()("dc-contract-card-dialog__form",{"dc-contract-card-dialog__form--no-stop-loss":l||c}),children:[(0,k.jsx)("div",{className:"dc-contract-card-dialog__input",children:V}),R&&(0,k.jsx)("div",{className:"dc-contract-card-dialog__input",children:G}),(0,k.jsx)("div",{className:"dc-contract-card-dialog__button",children:(0,k.jsx)(Qe,{text:s().APPLY,onClick:e=>{D(),p(e),null==u||u()},primary:!0,is_disabled:I||!U||(0,C.isDeepEqual)(W((0,C.getContractUpdateConfig)(f)),W(e.contract))})})]})]})};var Vo=r(629528);const Ho=({children:e,className:t,is_bypassed:r=!1,is_disabled:o=!1,id:n,height_offset:a,max_autoheight_offset:s})=>{const c={height:s?"":a?`calc(100rvh - ${a})`:"calc(100rvh)",maxHeight:s?`calc(100rvh - ${s})`:""};return i.useEffect((()=>{window.dispatchEvent(new Event("resize"))}),[a]),r?e:(0,k.jsx)(Vo.A,{id:n,className:t,style:o?{}:c,"data-testid":"dt_div_100_vh",children:e})},Go=ce,Yo=e=>{const{children:t,footer:r,has_close_icon:o=!0,has_full_height:a,header_classname:s,info_banner:c,portal_element_id:l,renderTitle:u,title:d,visible:_,wrapper_classname:p,footer_classname:h,learn_more_banner:m}=e,f=i.useRef(null),[g,b]=i.useState(0);i.useLayoutEffect((()=>{f.current&&!g&&b(f.current.offsetHeight)}),[r,g]);const v=document.getElementById(l);return e.visible?(document.body.style.overflow="hidden",v&&(v.style.overflow="hidden")):(document.body.style.overflow="unset",v&&(v.style.overflow="unset")),v?oe.createPortal((0,k.jsx)(ne.A,{appear:!0,in:_,timeout:250,classNames:{enter:"dc-mobile-dialog--enter",enterDone:"dc-mobile-dialog--enter-done",exit:"dc-mobile-dialog--exit"},unmountOnExit:!0,children:(0,k.jsx)("div",{"data-testid":"dt_mobile_dialog",className:"dc-mobile-dialog",onClick:e=>{const t=e.target;if("A"!==t.tagName&&e.stopPropagation(),"INPUT"===t.tagName&&"number"===t.type){const r=()=>((e,t)=>{const r=t.getBoundingClientRect();if(r.top+t.clientHeight+20>window.innerHeight){const o=(window.innerHeight-t.clientHeight)/2;e.scrollTop+=r.top-o}})(e.currentTarget,t);window.addEventListener("resize",r,!1),window.setTimeout((()=>{window.removeEventListener("resize",r,!1)}),2e3)}},children:(0,k.jsxs)(Ho,{className:n()("dc-mobile-dialog__container",{"dc-mobile-dialog__container--has-scroll":e.has_content_scroll,"dc-mobile-dialog__container--has-info-banner":c||m}),height_offset:e.content_height_offset||"8px",children:[(0,k.jsxs)(Go,{is_bypassed:!c&&!m,is_scrollbar_hidden:!0,className:c||m?n()("dc-mobile-dialog__header-wrapper",s):"",children:[(0,k.jsxs)("div",{className:n()("dc-mobile-dialog__header",!c&&!m&&s),children:[(0,k.jsx)(M,{as:"h2",size:"xs",color:"prominent",weight:"bold",line_height:"unset",className:"dc-mobile-dialog__title",children:u?u():d}),o&&(0,k.jsx)("div",{"data-testid":"dt_dc_mobile_dialog_close_btn",className:"icons dc-btn-close dc-mobile-dialog__close-btn",onClick:e.onClose,children:(0,k.jsx)(S.default,{icon:"IcCross",className:"dc-mobile-dialog__close-btn-icon"})})]}),c,m]}),(0,k.jsx)("div",{className:n()("dc-mobile-dialog__content",{"dc-mobile-dialog__content--is-full-height":a}),style:g?{height:`calc(100% - ${g}px)`}:void 0,children:(0,k.jsx)("div",{className:n()({[`dc-mobile-dialog__${p}`]:p}),children:t})}),r&&(0,k.jsx)("div",{ref:f,className:n()("dc-mobile-dialog__footer",h),children:r})]})})}),v):null},Ko=["addToast","contract_id","getCardLabels","getContractById","is_risk_management_edition_disabled","is_accumulator","should_show_warning","toggleCancellationWarning"];function qo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(r),!0).forEach((function(t){Zo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Xo=e=>{let{addToast:t,contract_id:r,getCardLabels:o,getContractById:a,is_risk_management_edition_disabled:s,is_accumulator:c,should_show_warning:l,toggleCancellationWarning:u}=e,d=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Ko);const[_,p]=i.useState(!1),[h,m]=i.useState(0),[f,g]=i.useState(0),{isDesktop:b}=(0,Dt.Y)(),v=i.useRef(null),y=i.useRef(null),D=a(Number(r)),w=l&&s;i.useEffect((()=>{if(_&&null!=v&&v.current&&null!=y&&y.current){const e=v.current.getBoundingClientRect(),t=y.current.getBoundingClientRect(),r=document.body.getBoundingClientRect();let{top:o}=e;const{right:n}=e;o+(null==t?void 0:t.height)>r.height&&(o-=(null==t?void 0:t.height)-e.height),n+(null==t?void 0:t.width)>r.width?g(n-(null==t?void 0:t.width)-16):g(n-16),m(o)}}),[_]);const C=o()[c?"TAKE_PROFIT_IS_NOT_AVAILABLE":"TAKE_PROFIT_LOSS_NOT_AVAILABLE"],A=e=>{e.preventDefault(),e.stopPropagation(),!b&&w&&t({key:"risk_management_is_disabled",content:C,type:"error"}),s||p(!_)},x=i.useCallback(A,[A]),E=(0,k.jsx)(F,{className:"dc-contract-card-dialog-toggle__icon",icon:"IcEdit",color:s?"disabled":"",size:12});return(0,k.jsxs)("div",{onClick:e=>{e.stopPropagation()},children:[w&&b?(0,k.jsx)(Et,{alignment:"right",classNameBubble:"dc-contract-card-dialog__popover-bubble",className:n()("dc-contract-card-dialog__popover",{"dc-contract-card-dialog__popover--accumulator":c}),is_bubble_hover_enabled:!0,margin:2,zIndex:"2",message:C,onBubbleClose:()=>{null==u||u()},children:(0,k.jsx)("button",{ref:v,className:"dc-contract-card-dialog-toggle",onClick:x,disabled:w,children:E})}):(0,k.jsx)("button",{ref:v,className:n()("dc-contract-card-dialog-toggle",{"dc-contract-card-dialog-toggle--disabled":w}),onClick:x,children:E}),b?(0,k.jsx)(Eo,{ref:y,is_visible:_,left:f,top:h,toggle_ref:v,toggleDialog:x,children:(0,k.jsx)($o,Jo({addToast:t,contract:D,getCardLabels:o,getContractById:a,toggleDialog:x},d))}):(0,k.jsx)(Yo,{portal_element_id:"modal_root",visible:_,onClose:x,wrapper_classname:"contract-update",children:(0,k.jsx)(Ho,{className:"contract-update__wrapper",height_offset:"40px",children:(0,k.jsx)($o,Jo({addToast:t,contract:D,getCardLabels:o,getContractById:a,isMobile:!0,toggleDialog:x},d))})})]})};Xo.displayName="ToggleCardDialog";const Qo=i.memo(Xo),en=["contract_info","contract_update","currency","getCardLabels","indicative","is_sold","is_positions","toggleCancellationWarning"];function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(r),!0).forEach((function(t){on(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function on(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const nn=e=>{let{contract_info:t,contract_update:r,currency:o,getCardLabels:a,indicative:s,is_sold:c,is_positions:l,toggleCancellationWarning:u}=e,d=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,en);const{buy_price:_,profit:p,limit_order:h,sell_price:m}=t,{take_profit:f}=(0,C.getLimitOrderAmount)(r||h),g=(0,C.isValidToSell)(t),{CONTRACT_VALUE:b,STAKE:v,TAKE_PROFIT:y,TOTAL_PROFIT_LOSS:D}=a();let w,A;return p&&(w=+p>0,A=+p<0),(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)("div",{className:"dc-contract-card-items-wrapper",children:[(0,k.jsx)(mo,{header:v,className:"dc-contract-card__stake",children:(0,k.jsx)(bo,{amount:_,currency:o})}),(0,k.jsxs)(mo,{header:b,className:"dc-contract-card__current-stake",children:[(0,k.jsx)("div",{className:n()({"dc-contract-card--profit":w,"dc-contract-card--loss":A}),children:(0,k.jsx)(bo,{amount:m||s,currency:o})}),!c&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:m||s})]}),(0,k.jsxs)(mo,{header:D,is_crypto:(0,C.isCryptocurrency)(o),is_loss:A,is_won:w,children:[(0,k.jsx)(bo,{amount:p,currency:o}),!c&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:p})]}),(0,k.jsxs)("div",{className:"dc-contract-card__take-profit",children:[(0,k.jsx)(mo,{header:y,children:f?(0,k.jsx)(bo,{amount:f,currency:o}):(0,k.jsx)("strong",{children:"-"})}),g&&(0,k.jsx)(Qo,rn({contract_id:t.contract_id,getCardLabels:a,is_risk_management_edition_disabled:!0,should_show_warning:!0,toggleCancellationWarning:u,is_accumulator:!0},d))]})]}),!!c&&(0,k.jsx)(uo,{children:(0,k.jsx)("div",{className:n()("dc-contract-card__status",{"dc-contract-card__status--accumulator-mobile-positions":l}),children:(0,k.jsx)(vo,{getCardLabels:a,is_contract_won:w})})})]})},an=i.memo(nn);var sn=r(597598),cn=r.n(sn);const ln=["contract_info","contract_update","currency","getCardLabels","has_progress_slider","progress_slider","is_mobile","is_sold","should_show_cancellation_warning","toggleCancellationWarning"];function un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?un(Object(r),!0).forEach((function(t){_n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const pn=e=>{let{contract_info:t,contract_update:r,currency:o,getCardLabels:a,has_progress_slider:s,progress_slider:c,is_mobile:l,is_sold:u,should_show_cancellation_warning:d,toggleCancellationWarning:_}=e,p=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,ln);const{buy_price:h,bid_price:m,limit_order:f}=t,{take_profit:g,stop_loss:b}=(0,C.getLimitOrderAmount)(r||f),v=(0,C.getCancellationPrice)(t),y=(0,C.isValidToCancel)(t),D=(0,C.isValidToSell)(t),w=(0,C.getTotalProfit)(t),{CONTRACT_COST:A,CONTRACT_VALUE:x,DEAL_CANCEL_FEE:E,STAKE:j,STOP_LOSS:O,TAKE_PROFIT:S,TOTAL_PROFIT_LOSS:F}=a();return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)("div",{className:n()({"dc-contract-card-items-wrapper--mobile":l,"dc-contract-card-items-wrapper":!l,"dc-contract-card-items-wrapper--has-progress-slider":s&&!u}),"data-testid":"dt_multiplier_card_body",children:[(0,k.jsx)(mo,{header:A,className:"dc-contract-card__stake",children:(0,k.jsx)(bo,{amount:h-v,currency:o})}),(0,k.jsxs)(mo,{header:x,className:"dc-contract-card__current-stake",children:[(0,k.jsx)("div",{className:n()({"dc-contract-card--profit":w>0,"dc-contract-card--loss":w<0}),children:(0,k.jsx)(bo,{amount:m,currency:o})}),!u&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:w})]}),(0,k.jsx)(mo,{header:E,className:n()("dc-contract-card__deal-cancel-fee",{"dc-contract-card__deal-cancel-fee__disabled":!v}),children:v?(0,k.jsx)(bo,{amount:v,currency:o}):(0,k.jsx)(i.Fragment,{children:"-"})}),(0,k.jsx)(mo,{header:j,className:"dc-contract-card__buy-price",children:(0,k.jsx)(bo,{amount:h,currency:o})}),s&&l&&!u&&(0,k.jsx)(mo,{className:"dc-contract-card__date-expiry",children:c}),(0,k.jsxs)("div",{className:"dc-contract-card__limit-order-info",children:[(0,k.jsx)(mo,{header:S,className:"dc-contract-card__take-profit",children:g?(0,k.jsx)(bo,{amount:g,currency:o}):(0,k.jsx)("strong",{children:"-"})}),(0,k.jsx)(mo,{header:O,className:"dc-contract-card__stop-loss",children:b?(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)("strong",{children:"-"}),(0,k.jsx)(bo,{amount:b,currency:o})]}):(0,k.jsx)("strong",{children:"-"})}),(D||y)&&(0,k.jsx)(Qo,dn({contract_id:t.contract_id,getCardLabels:a,is_risk_management_edition_disabled:y,should_show_warning:d,toggleCancellationWarning:_},p))]})]}),(0,k.jsxs)(mo,{className:"dc-contract-card-item__total-profit-loss",header:F,is_crypto:(0,C.isCryptocurrency)(o),is_loss:w<0,is_won:w>0,children:[(0,k.jsx)(bo,{amount:Math.abs(w),currency:o}),!u&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:w})]})]})};pn.propTypes={addToast:cn().func,contract_info:cn().object,contract_update:cn().object,currency:cn().string,current_focus:cn().string,error_message_alignment:cn().string,getCardLabels:cn().func,getContractById:cn().func,is_mobile:cn().bool,is_sold:cn().bool,onMouseLeave:cn().func,progress_slider:cn().node,removeToast:cn().func,setCurrentFocus:cn().func,should_show_cancellation_warning:cn().bool,toggleCancellationWarning:cn().func,totalProfit:cn().number.isRequired,has_progress_slider:cn().bool};const hn=i.memo(pn),mn=["contract_info","contract_update","currency","getCardLabels","is_sold","progress_slider_mobile_el"];function fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(r),!0).forEach((function(t){bn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const vn=e=>{let{contract_info:t,contract_update:r,currency:o,getCardLabels:a,is_sold:s,progress_slider_mobile_el:c}=e,l=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,mn);const{bid_price:u,buy_price:d,profit:_,barrier:p,entry_spot_display_value:h,limit_order:m={},sell_price:f}=t,{take_profit:g}=(0,C.getLimitOrderAmount)(r||m),b=(0,C.isValidToSell)(t),v=s?f:u,{BARRIER:y,CONTRACT_VALUE:D,ENTRY_SPOT:w,TAKE_PROFIT:A,TOTAL_PROFIT_LOSS:x,STAKE:E}=a();return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)("div",{className:n()("dc-contract-card-items-wrapper dc-contract-card--turbos"),children:[(0,k.jsx)(mo,{className:"dc-contract-card__buy-price",is_crypto:(0,C.isCryptocurrency)(o),header:E,children:(0,k.jsx)(bo,{amount:d,currency:o})}),(0,k.jsxs)(mo,{header:D,className:"dc-contract-card__contract-value",children:[(0,k.jsx)("div",{className:n()({"dc-contract-card--profit":Number(_)>0,"dc-contract-card--loss":Number(_)<0}),children:(0,k.jsx)(bo,{amount:v,currency:o})}),!s&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:f||v})]}),(0,k.jsx)(mo,{header:w,is_crypto:(0,C.isCryptocurrency)(o),className:"dc-contract-card__entry-spot",children:(0,C.addComma)(h)}),(0,k.jsx)("div",{className:"dc-contract-card__limit-order-info",children:(0,k.jsxs)(mo,{header:A,className:"dc-contract-card__take-profit",children:[g?(0,k.jsx)(bo,{amount:g,currency:o}):(0,k.jsx)("strong",{children:"-"}),b&&(0,k.jsx)(Qo,gn({contract_id:t.contract_id,getCardLabels:a,is_turbos:!0},l))]})}),(0,k.jsx)(mo,{header:y,className:"dc-contract-card__barrier-level",children:(0,C.addComma)(p)}),(0,k.jsx)(uo,{children:(0,k.jsx)("div",{className:"dc-contract-card__status",children:s?(0,k.jsx)(vo,{getCardLabels:a,is_contract_won:!!_&&_>0}):c})})]}),(0,k.jsxs)(mo,{className:"dc-contract-card-item__total-profit-loss",header:x,is_crypto:(0,C.isCryptocurrency)(o),is_loss:Number(_)<0,is_won:Number(_)>0,children:[(0,k.jsx)(bo,{amount:_,currency:o}),!s&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:_})]})]})},yn=i.memo(vn),Dn=({contract_info:e,currency:t,getCardLabels:r,is_sold:o,progress_slider:a})=>{const{buy_price:s,bid_price:c,entry_spot_display_value:l,barrier:u,sell_price:d,profit:_}=e,p=o?d:c,{CONTRACT_VALUE:h,ENTRY_SPOT:m,STAKE:f,STRIKE:g,TOTAL_PROFIT_LOSS:b}=r();return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)(lo,{children:[(0,k.jsxs)("div",{className:"dc-contract-card-items-wrapper",children:[(0,k.jsx)(mo,{header:f,children:(0,k.jsx)(bo,{amount:s,currency:t})}),(0,k.jsxs)(mo,{className:"dc-contract-card-item__contract-value",header:h,children:[(0,k.jsx)("div",{className:n()({"dc-contract-card--profit":Number(_)>0,"dc-contract-card--loss":Number(_)<0}),children:(0,k.jsx)(bo,{amount:p,currency:t})}),!o&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:d||p})]}),(0,k.jsx)(mo,{header:m,children:l&&(0,C.addComma)(l)}),(0,k.jsx)(mo,{header:g,children:u&&(0,C.addComma)(u)})]}),(0,k.jsxs)(mo,{className:"dc-contract-card-item__total-profit-loss",header:b,is_crypto:(0,C.isCryptocurrency)(t),is_loss:Number(_)<0,is_won:Number(_)>0,children:[(0,k.jsx)(bo,{amount:_,currency:t}),!o&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:_})]})]}),(0,k.jsx)(uo,{children:(0,k.jsxs)("div",{className:"dc-contract-card-items-wrapper--mobile",children:[(0,k.jsxs)("div",{className:"dc-contract-card-items-wrapper-group",children:[(0,k.jsx)(mo,{header:f,children:(0,k.jsx)(bo,{amount:s,currency:t})}),(0,k.jsx)(mo,{header:m,children:l&&(0,C.addComma)(l)})]}),(0,k.jsxs)("div",{className:"dc-contract-card-items-wrapper-group",children:[(0,k.jsxs)(mo,{header:h,children:[(0,k.jsx)("div",{className:n()({"dc-contract-card--profit":Number(_)>0,"dc-contract-card--loss":Number(_)<0}),children:(0,k.jsx)(bo,{amount:p,currency:t})}),!o&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:d||p})]}),(0,k.jsx)(mo,{header:g,children:u&&(0,C.addComma)(u)})]}),o?(0,k.jsx)(vo,{getCardLabels:r,is_contract_won:"won"===(0,C.getDisplayStatus)(e)}):a,(0,k.jsxs)(mo,{className:"dc-contract-card-item__total-profit-loss",header:b,is_crypto:(0,C.isCryptocurrency)(t),is_loss:Number(_)<0,is_won:Number(_)>0,children:[(0,k.jsx)(bo,{amount:_,currency:t}),!o&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:_})]})]})})]})},wn=i.memo(Dn),Cn=({contract_info:e,currency:t,is_sold:r,indicative:o,progress_slider_mobile_el:n})=>{const{buy_price:a,contract_type:s,sell_price:c,profit:l,multiplier:u}=e,{INDICATIVE_PRICE:d,MULTIPLIER:_,PROFIT_LOSS:p,POTENTIAL_PROFIT_LOSS:h,PAYOUT:m,PURCHASE_PRICE:f}=(0,C.getCardLabels)();return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)("div",{className:"dc-contract-card-items-wrapper dc-contract-card--lookbacks",children:[(0,k.jsxs)(mo,{header:r?p:h,is_crypto:(0,C.isCryptocurrency)(t),is_loss:Number(l)<0,is_won:Number(l)>0,children:[(0,k.jsx)(bo,{amount:l,currency:t}),!r&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:l})]}),(0,k.jsxs)(mo,{header:r?m:d,children:[(0,k.jsx)(bo,{currency:t,amount:Number(c||o)}),!r&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:Number(c||o)})]}),(0,k.jsx)(mo,{header:f,children:(0,k.jsx)(bo,{amount:a,currency:t})}),(0,k.jsx)(mo,{header:_,children:`x${u}`}),(0,k.jsx)(uo,{children:(0,k.jsx)("div",{className:"dc-contract-card__status",children:r?(0,k.jsx)(vo,{getCardLabels:C.getCardLabels,is_contract_won:"won"===(0,C.getDisplayStatus)(e)}):n})})]}),(0,k.jsx)(mo,{className:"dc-contract-card-item__payout-limit",children:(0,k.jsx)(K,{align:"center",line_height:"l",size:"xxs",children:((e,t)=>{let r="";return e===C.CONTRACT_TYPES.LB_PUT?r=(0,k.jsx)(he.Localize,{i18n_default_text:"(High - Close)"}):e===C.CONTRACT_TYPES.LB_CALL?r=(0,k.jsx)(he.Localize,{i18n_default_text:"(Close - Low)"}):e===C.CONTRACT_TYPES.LB_HIGH_LOW&&(r=(0,k.jsx)(he.Localize,{i18n_default_text:"(High - Low)"})),(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)(he.Localize,{i18n_default_text:"Payout limit: {{multiplier}} x ",values:{multiplier:t}}),r]})})(s,u)})})]})},An=i.memo(Cn);function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){jn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const On=({addToast:e,contract_info:t,contract_update:r,currency:o,current_focus:a,error_message_alignment:s,getCardLabels:c,getContractById:l,has_progress_slider:u,is_accumulator:d,is_mobile:_,is_multiplier:p,is_positions:h,is_sold:m,is_turbos:f,is_vanilla:g,is_lookbacks:b,onMouseLeave:v,removeToast:y,server_time:D,setCurrentFocus:w,should_show_cancellation_warning:A,toggleCancellationWarning:x})=>{const E=(0,C.getIndicativePrice)(t),{buy_price:j,sell_price:O,payout:S,profit:F,tick_count:P,date_expiry:T,purchase_time:N}=t,L=P?(0,C.getCurrentTick)(t):null,{CONTRACT_VALUE:I,POTENTIAL_PAYOUT:B,TOTAL_PROFIT_LOSS:R,STAKE:M}=c(),z=(0,k.jsx)(Ao,{current_tick:L,expiry_time:T,getCardLabels:c,is_loading:!1,server_time:D,start_time:N,ticks_count:P}),U={addToast:e,current_focus:a,error_message_alignment:s,getContractById:l,onMouseLeave:v,removeToast:y,setCurrentFocus:w,totalProfit:p&&!isNaN(Number(F))?(0,C.getTotalProfit)(t):Number(F)};let W;return W=p?(0,k.jsx)(hn,En({contract_info:t,contract_update:r,currency:o,getCardLabels:c,has_progress_slider:u,progress_slider:z,is_mobile:_,is_sold:m,should_show_cancellation_warning:A,toggleCancellationWarning:x},U)):d?(0,k.jsx)(an,En({contract_info:t,contract_update:r,currency:o,getCardLabels:c,indicative:E,is_sold:m,is_positions:h,toggleCancellationWarning:x},U)):f?(0,k.jsx)(yn,En({contract_info:t,contract_update:r,currency:o,getCardLabels:c,is_sold:m,progress_slider_mobile_el:z},U)):g?(0,k.jsx)(wn,{contract_info:t,currency:o,getCardLabels:c,is_sold:m,progress_slider:z}):b?(0,k.jsx)(An,{contract_info:t,currency:o,is_sold:m,indicative:E,progress_slider_mobile_el:z}):(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)("div",{className:"dc-contract-card-items-wrapper",children:[(0,k.jsxs)(mo,{header:R,is_crypto:(0,C.isCryptocurrency)(o),is_loss:Number(F)<0,is_won:Number(F)>0,children:[(0,k.jsx)(bo,{amount:F,currency:o}),!m&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:F})]}),(0,k.jsxs)(mo,{header:I,children:[(0,k.jsx)("div",{className:n()({"dc-contract-card--profit":Number(F)>0,"dc-contract-card--loss":Number(F)<0}),children:(0,k.jsx)(bo,{currency:o,amount:Number(O||E)})}),!m&&(0,k.jsx)(X,{className:"dc-contract-card__indicative--movement",value:Number(O||E)})]}),(0,k.jsx)(mo,{header:M,children:(0,k.jsx)(bo,{amount:j,currency:o})}),(0,k.jsx)(mo,{header:B,children:(0,k.jsx)(bo,{currency:o,amount:S})})]}),(0,k.jsx)(uo,{children:(0,k.jsx)("div",{className:"dc-contract-card__status",children:m?(0,k.jsx)(vo,{getCardLabels:c,is_contract_won:"won"===(0,C.getDisplayStatus)(t)}):z})})]}),(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)(fo,{currency:o}),(0,k.jsx)(lo,{children:W}),(0,k.jsx)(uo,{children:(0,k.jsx)("div",{className:n()("dc-contract-card__separatorclass",{"dc-contract-card__body-wrapper":!p&&!f&&!b}),children:W})})]})},Sn=({contract_info:e,getCardLabels:t,is_sell_requested:r,onClickSell:o})=>{var a;const s=(0,C.isValidToSell)(e);return((0,C.hasContractEntered)(e)||(0,C.isForwardStarting)(null!==(a=null==e?void 0:e.shortcode)&&void 0!==a?a:"",null==e?void 0:e.purchase_time))&&(0,C.isOpen)(e)?(0,k.jsx)(i.Fragment,{children:s?(0,k.jsx)(Qe,{className:n()("dc-btn--sell",{"dc-btn--loading":r}),"data-testid":"dt_contract_card_sell",is_disabled:r,text:t().SELL,onClick:t=>{null==o||o(e.contract_id),t.stopPropagation(),t.preventDefault()},secondary:!0}):(0,k.jsx)("div",{className:"dc-contract-card__no-resale-msg",children:t().RESALE_NOT_OFFERED})}):null},Fn=({className:e,contract_info:t,getCardLabels:r,is_sell_requested:o,onClickCancel:a,onClickSell:s,server_time:c})=>{const{contract_id:l,cancellation:{date_expiry:u}={},profit:d}=t,_=(0,C.isValidToCancel)(t);return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)(Qe,{id:`dc_contract_card_${l}_button`,className:n()(e,{"dc-btn--loading":o}),is_disabled:o||Number(d)<0&&_,text:r().CLOSE,onClick:e=>{s(l),e.stopPropagation(),e.preventDefault()},secondary:!0}),_&&(0,k.jsxs)(Qe,{id:`dc_contract_card_${l}_cancel_button`,className:"dc-btn--cancel",is_disabled:Number(d)>=0,onClick:e=>{a(l),e.stopPropagation(),e.preventDefault()},secondary:!0,children:[r().CANCEL,u&&(0,k.jsx)(so,{end_time:u,format:"mm:ss",getCardLabels:r,start_time:c})]})]})},kn=({contract_info:e,getCardLabels:t,is_multiplier:r,is_positions:o,is_sell_requested:a,is_lookbacks:s,onClickCancel:c,onClickSell:l,onFooterEntered:u,server_time:d,should_show_transition:_})=>{const{in_prop:p}=(0,C.useNewRowTransition)(!!_),h=(0,C.isValidToCancel)(e),m=(0,C.hasContractEntered)(e)&&(0,C.isOpen)(e),f=s&&(0,C.isValidToSell)(e)&&m;return m?(0,k.jsx)(ne.A,{in:p,timeout:_?250:0,classNames:_?{enter:"dc-contract-card__sell-button--enter",enterDone:"dc-contract-card__sell-button--enter-done",exit:"dc-contract-card__sell-button--exit"}:{},onEntered:u,unmountOnExit:!0,children:(0,k.jsx)("div",{className:"dc-contract-card-item__footer",children:r?(0,k.jsx)("div",{className:n()("dc-contract-card__sell-button",{"dc-contract-card__sell-button--has-cancel-btn":h,"dc-contract-card__sell-button--positions":o}),children:(0,k.jsx)(Fn,{className:"dc-btn--sell",contract_info:e,getCardLabels:t,is_sell_requested:a,onClickCancel:c,onClickSell:l,server_time:d})}):(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)("div",{className:n()("dc-contract-card__sell-button",{"dc-contract-card__sell-button--positions":o}),children:(0,k.jsx)(Sn,{contract_info:e,is_sell_requested:a,getCardLabels:t,onClickSell:l})}),f&&(0,k.jsx)(K,{as:"div",size:"xxxs",color:"less-prominent",line_height:"s",className:"lookbacks--note",children:(0,k.jsx)(he.Localize,{i18n_default_text:"<0>Note:</0> Contract will be sold at the prevailing market price when the request is received by our servers. This price may differ from the indicated price.",components:[(0,k.jsx)("strong",{},0)]})})]})})}):null},Pn=yo,Tn=({children:e,contract_info:t,getCardLabels:r,getContractPath:o,is_multiplier:n,is_positions:a,onClickRemove:s,profit_loss:c,result:l,should_show_result_overlay:u})=>{const d=c>=0?"won":"lost",_=n?(0,C.getTotalProfit)(t):c;return(0,k.jsxs)(i.Fragment,{children:[u&&(0,k.jsx)(lo,{children:(0,k.jsx)(Pn,{contract_id:t.contract_id,currency:t.currency,getCardLabels:r,getContractPath:o,is_multiplier:n,is_visible:!!t.is_sold,onClickRemove:s,payout_info:_,result:l||d,is_positions:a})}),e]})};Tn.Header=ho,Tn.Body=On,Tn.Footer=kn,Tn.Loader=Qr,Tn.ContractTypeCell=io,Tn.MultiplierCloseActions=Fn,Tn.Sell=Sn;const Nn=Tn,Ln=["icon"],In=["className","disabled","error","id","is_placeholder_visible","name","label","show_leading_icon","placeholder","is_clearable","onChangeInput","onClickClear","onClick","onBlur","readOnly","value","required"];function Bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(r),!0).forEach((function(t){Mn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zn(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const Un=e=>{let{icon:t}=e,r=zn(e,Ln);return(0,k.jsx)(F,Rn({className:"dc-datepicker__icon",icon:t},r))},Wn=e=>{let{className:t,disabled:r,error:o,id:a,is_placeholder_visible:s,name:c,label:l,show_leading_icon:u,placeholder:d,is_clearable:_,onChangeInput:p,onClickClear:h,onClick:m,onBlur:f,readOnly:g,value:b,required:v}=e,y=zn(e,In);const[D,w]=i.useState(!1),C=(0,k.jsx)(Un,Rn({className:n()({"dc-datepicker__icon":"function"==typeof m}),icon:"IcCalendar"},r?{color:"disabled"}:{onClick:m})),A=_&&D&&!r?(0,k.jsx)(Un,{icon:"IcCloseCircle",onClick:h,color:"secondary"}):C;return(0,k.jsx)(Y,Rn({className:n()("dc-datepicker__input",t,{"dc-datepicker__input--has-leading-icon":u}),"data-lpignore":"true",disabled:r,error:o,id:a?`${a}_input`:void 0,autoComplete:"off",is_autocomplete_disabled:"true",is_hj_whitelisted:"true",label:l,name:c,onChange:p,onClick:m,placeholder:d,readOnly:g,leading_icon:u?C:void 0,trailing_icon:u?void 0:A,type:g?"text":"number",value:s||!b?"":b,onMouseEnter:()=>{_&&w(!0)},onMouseLeave:()=>{w(!1)},onBlur:f,required:v},y))},$n=["alignment","is_datepicker_visible","parent_ref","portal_id","style","placement"];function Vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(r),!0).forEach((function(t){Gn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Yn=i.forwardRef(((e,t)=>{let{alignment:r,is_datepicker_visible:o,parent_ref:i,portal_id:s,style:c,placement:l}=e,u=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,$n);const d={enter:n()("dc-datepicker__picker--enter",{[`dc-datepicker__picker--${r}-enter`]:r}),enterDone:n()("dc-datepicker__picker--enter-done",{[`dc-datepicker__picker--${l||r}-enter-done`]:l||r}),exit:n()("dc-datepicker__picker--exit",{[`dc-datepicker__picker--${r}-exit`]:r})},_=(0,k.jsx)(ne.A,{in:o,timeout:100,classNames:d,unmountOnExit:!0,children:(0,k.jsx)("div",{className:n()("dc-datepicker__picker",{"dc-datepicker__picker--left":"left"===r}),style:s?{top:c.top,bottom:c.bottom,left:c.left}:{top:0},children:(0,k.jsx)(Vt,Hn({ref:t},u))})});if(a(s&&o?i:void 0),s){const e=document.getElementById(s);if(e)return oe.createPortal(_,e)}return _}));Yn.displayName="DatePickerCalendar";const Kn=Yn,qn=({id:e,disabled:t,display_format:r,name:o,error:a,hint:s,label:c,max_date:l,min_date:u,placeholder:d,onBlur:_,onFocus:p,onSelect:h,value:m,data_testid:f})=>{const[g,b]=i.useState(!1),v=i.useRef(null);i.useEffect((()=>{v.current&&(v.current.value=m||"")}),[m]);return(0,k.jsxs)("div",{className:n()("dc-input",{"dc-input--disabled":t,"dc-input--error":a,"dc-input--hint dc-datepicker--hint":s}),children:[(0,k.jsxs)("div",{className:n()("dc-datepicker__container",{"dc-datepicker__container--error":a,"dc-datepicker__container--disabled":t}),children:[(0,k.jsx)("div",{className:"dc-datepicker__display",children:m&&(0,k.jsx)(K,{size:"xs",color:t?"disabled":"prominent",className:n()("dc-datepicker__display-text",{"dc-datepicker__display-text--disabled":t}),children:(0,C.toMoment)(m).format(r)})}),(0,k.jsx)("label",{className:n()("dc-datepicker__placeholder",{"dc-datepicker__placeholder--has-value":!!m,"dc-datepicker__placeholder--has-error":a,"dc-datepicker__placeholder--is-focused":g}),htmlFor:e,children:c||!m&&d}),(0,k.jsx)(F,{icon:"IcCalendar",className:"dc-datepicker__calendar-icon",color:t?"disabled":void 0}),(0,k.jsx)("input",{ref:v,id:e,name:o,className:"dc-datepicker__native",type:"date",max:l&&(0,C.toMoment)(l).format("YYYY-MM-DD"),min:u&&(0,C.toMoment)(u).format("YYYY-MM-DD"),required:!0,onBlur:e=>{b(!1),"function"==typeof _&&_(e)},onFocus:e=>{b(!0),"function"==typeof p&&p(e)},disabled:t,"data-testid":f,onChange:e=>{let t=e.target.value;const r=(0,C.toMoment)(t);if(u){const e=(0,C.toMoment)(u);t=e.diff(r,"days")>0?e.format("YYYY-MM-DD"):t}if(l){const e=(0,C.toMoment)(l);t=e.diff(r,"days")<0?e.format("YYYY-MM-DD"):t}v.current&&(v.current.value=t),h(t)}})]}),a&&(0,k.jsx)(K,{size:"xxs",styles:{color:"var(--brand-red-coral)"},className:"dc-datepicker__error",children:a}),!a&&s&&(0,k.jsx)("div",{className:"dc-datepicker__hint",children:(0,k.jsx)(K,{as:"p",color:"less-prominent",size:"xxs",children:s})})]})},Jn=["alignment","keep_open","date_format","disabled","display_format","error","footer","id","label","has_range_selection","has_today_btn","mode","max_date","min_date","start_date","name","onBlur","onChange","onFocus","onChangeCalendarMonth","portal_id","placeholder","required","type","value","data_testid"];function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(r),!0).forEach((function(t){Qn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ei=i.memo((e=>{const{alignment:t="bottom",keep_open:r=!1,date_format:o="YYYY-MM-DD",disabled:n,display_format:a="DD MMM YYYY",error:s,footer:c,id:l,label:u,has_range_selection:d,has_today_btn:_,mode:p="date",max_date:h,min_date:m,start_date:f,name:g="",onBlur:b,onChange:y,onFocus:D,onChangeCalendarMonth:w,portal_id:A,placeholder:x,required:E,type:j,value:O,data_testid:S}=e,F=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Jn),P=i.useRef(null),T=i.useRef(null),N=i.useRef(null),[L,I]=i.useState(""),[B,R]=i.useState({}),[M,z]=i.useState(O?(0,C.toMoment)(O).format(a):""),[U,W]=i.useState((0,C.daysFromTodayTo)(O)),[$,V]=i.useState(!1),[H,G]=i.useState(!!x&&!O),{isMobile:Y,isTablet:K}=(0,Dt.Y)();v(P,(()=>{$&&V(!1)}),(e=>{var t;return!(null!==(t=N.current)&&void 0!==t&&t.contains(e.target))})),i.useEffect((()=>{if($&&P.current&&N.current&&A){const e=(0,C.getPosition)({preferred_alignment:"bottom",parent_el:P.current,child_el:N.current,should_consider_parent_height:!1});R(e.style),I(e.placement)}}),[$,A]),i.useEffect((()=>{G(!(!x||O))}),[O,x]),i.useEffect((()=>{O&&z((0,C.toMoment)(O).format(a))}),[O,a,z]),i.useEffect((()=>{U!==O&&W((0,C.daysFromTodayTo)(O))}),[O]);const q=e=>{const t=e?(0,C.toMoment)(e).format(a):"";z(t),"function"==typeof y&&y({target:{name:g,value:J(t,U)}})},J=(e,t)=>{const r=X(e)&&(0,C.toMoment)(X(e));return"duration"===p?t:r},Z=()=>"duration"===p?U||0:M,X=e=>e?(0,C.convertDateFormat)(e,a,o):Y||K?null:(0,C.toMoment)(f||h).format(o),Q=Xn({date_format:o,display_format:a,error:s,footer:c,label:u,mode:p,max_date:h,min_date:m,onChange:y,portal_id:A,placeholder:x},F);return Y||K?(0,k.jsx)(qn,Xn({id:l,name:g,onBlur:b,onFocus:D,onSelect:q,value:X(M),disabled:n,data_testid:S},Q)):(0,k.jsx)("div",{id:l,className:"dc-datepicker","data-value":Z(),children:(0,k.jsxs)("div",{ref:P,children:[(0,k.jsx)(Wn,Xn(Xn({},Q),{},{disabled:n,name:g,onClick:()=>{V(!$)},onChangeInput:e=>{const t=(0,C.addDays)((0,C.toMoment)(),isNaN(Number(e.target.value))?0:Number(e.target.value)).format(a),r="duration"===p?e.target.value:"";z(t),W(r),V(!0),G(!1),"function"==typeof y&&y({date:t,duration:r,target:{name:g,value:J(t,r)}})},is_placeholder_visible:H,onBlur:b,required:E,type:j,value:Z(),"data-testid":S})),(0,k.jsx)(Kn,Xn({ref:T,calendar_el_ref:N,parent_ref:P,keep_open:r,alignment:t,is_datepicker_visible:$,onHover:d?e=>{"function"==typeof y&&y({date:(0,C.toMoment)(e).format(a),duration:"duration"===p?(0,C.daysFromTodayTo)(null==e?void 0:e.toString()):null})}:void 0,onSelect:(e,t=!0)=>{const r=(0,C.toMoment)(e).format(a),o="duration"===p?(0,C.daysFromTodayTo)(e):null;z(r),W(o),V(t),G(!1),"function"==typeof y&&y({date:r,duration:o,target:{name:g,value:J(r,o||"")}})},onChangeCalendarMonth:w,has_today_btn:_,placement:L,style:B,value:X(M)||"",start_date:"",has_range_selection:d},Q))]})})}));ei.displayName="DatePicker";const ti=ei;function ri(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function oi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ni=e=>(0,k.jsx)(ti,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(r),!0).forEach((function(t){oi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ri(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({calendar_view:"year",readOnly:!0,display_format:"DD-MM-YYYY",max_date:(0,C.toMoment)().subtract(18,"years"),min_date:(0,C.toMoment)().subtract(100,"years")},e));var ii=r(766712);const ai=({className:e,column:t,is_footer:r,passthrough:o,row:i})=>{var a,s;if(!t)return null;const{col_index:c,title:l}=t,u=null==i?void 0:i[c],d=(0,C.isTurbosContract)(null==i||null===(a=i.contract_info)||void 0===a?void 0:a.contract_type),_=(0,C.isVanillaContract)(null==i||null===(s=i.contract_info)||void 0===s?void 0:s.contract_type);return(0,k.jsxs)("div",{className:n()(e,t.col_index),children:[!r&&(0,k.jsx)("div",{className:n()(`${t.col_index}__row-title`,"data-list__row-title"),children:t.renderHeader?t.renderHeader({title:l,is_vanilla:_}):l}),(0,k.jsx)("div",{className:"data-list__row-content",children:t.renderCellContent?t.renderCellContent({cell_value:u,is_footer:r,passthrough:o,row_obj:i,is_vanilla:_,is_turbos:d}):u})]})},si=i.memo(ai),ci=["action_desc","destination_link","row_gap","row_key","rowRenderer","measure","is_dynamic_height"];function li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?li(Object(r),!0).forEach((function(t){di(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function di(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const _i=e=>{let{action_desc:t,destination_link:r,row_gap:o,row_key:a,rowRenderer:s,measure:c,is_dynamic_height:u}=e,d=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,ci);const[_,p]=i.useState(!1),h=(0,C.useIsMounted)(),m=l((()=>p(!1)),5e3),f=()=>{t&&(p(!_),m())},g=e=>{(0,C.clickAndKeyEventHandler)(f,e)};return i.useEffect((()=>{h()&&u&&(null==c||c())}),[_,u,c]),(0,k.jsx)("div",{className:"data-list__row--wrapper",style:{paddingBottom:`${o||0}px`},children:r?(0,k.jsx)(st.NavLink,{className:"data-list__item--wrapper",id:`dt_reports_contract_${a}`,to:{pathname:r,state:{from_table_row:!0}},children:(0,k.jsx)("div",{className:"data-list__item",children:s(ui({measure:c},d))})}):(0,k.jsx)("div",{className:n()("data-list__item--wrapper",{"data-list__item--dynamic-height-wrapper":u}),children:t?(0,k.jsx)("div",{className:"data-list__item",onClick:g,onKeyDown:g,children:_?(0,k.jsx)("div",{className:"data-list__desc--wrapper",children:t.component&&(0,k.jsx)("div",{children:t.component})}):s(ui({measure:c},d))}):(0,k.jsx)("div",{className:"data-list__item",children:s(ui({measure:c},d))})})})},pi=i.memo(_i),hi=["children","className","data_source","footer","getRowSize","keyMapper","onRowsRendered","onScroll","setListRef","overscanRowCount"];function mi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(r),!0).forEach((function(t){gi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const bi=Oe.B8,vi=Oe.t$,yi=Oe.dl,Di=i.memo((e=>{let{children:t,className:r,data_source:o,footer:a,getRowSize:s,keyMapper:c,onRowsRendered:l,onScroll:u,setListRef:d,overscanRowCount:_}=e,p=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,hi);const[h,m]=i.useState(!0),[f,g]=i.useState(!1),[b,v]=i.useState(0),y=i.useRef(),D=i.useRef(null),w=i.useRef({}),A=i.useRef(null);A.current=o;const x=!s,E=i.useCallback((()=>{o.forEach(((e,t)=>{const r=(null==c?void 0:c(e))||`${t}-0`;w.current[r]=!0}))}),[o,c]);i.useEffect((()=>{x&&(y.current=new Oe.jS({fixedWidth:!0,keyMapper:e=>null!=A&&A.current&&e<(null==A?void 0:A.current.length)&&(null==c?void 0:c(A.current[e]))||e})),E(),m(!1)}),[]),i.useEffect((()=>{var e,t;x&&(null===(e=D.current)||void 0===e||null===(t=e.recomputeGridSize)||void 0===t||t.call(e,{columnIndex:0,rowIndex:0}));E()}),[o,x,E]);const j=({style:e,index:t,key:r,parent:n})=>{const{getRowAction:i,passthrough:a,row_gap:s}=p;let l=o[t];const{action_type:u,shortcode:d,purchase_time:_,transaction_time:h,id:m}=l;if((0,C.isForwardStartingBuyTransaction)(u,d,_||h)){const e=!(null==o||!o.find((e=>"sell"===e.action_type&&e.id===m)));l=fi(fi({},l),{},{is_sold:e})}const g=i&&i(l),b="string"==typeof g?g:void 0,v="object"==typeof g?g:void 0,D=(null==c?void 0:c(l))||r,A=({measure:e}={})=>(0,k.jsx)(pi,{action_desc:v,destination_link:b,is_new_row:!w.current[D],is_scrolling:f,measure:e,passthrough:a,row_gap:s,row_key:D,row:l,rowRenderer:p.rowRenderer,is_dynamic_height:x});return x&&y.current?(0,k.jsx)(yi,{cache:y.current,columnIndex:0,rowIndex:t,parent:n,children:({measure:t})=>(0,k.jsx)("div",{style:e,children:A({measure:t})})},D):(0,k.jsx)("div",{style:e,children:A()},D)},O=e=>{let t;clearTimeout(t),f||g(!0),t=setTimeout((()=>{h||g(!1)}),200),v(e.target.scrollTop),"function"==typeof u&&u(e)};return h?(0,k.jsx)("div",{}):(0,k.jsxs)("div",{"data-testid":"dt_data_list",className:n()(r,"data-list",{[`${r}__data-list`]:r}),children:[(0,k.jsxs)("div",{className:"data-list__body-wrapper",children:[(0,k.jsx)("div",{className:n()("data-list__body",{[`${r}__data-list-body`]:r}),children:(0,k.jsx)(vi,{children:({width:e,height:t})=>{var n,i;return(0,k.jsx)(ii.A,{style:{height:t,width:e},children:(0,k.jsx)(Go,{onScroll:O,autohide:!0,is_bypassed:(0,C.isMobile)(),children:(0,k.jsx)(bi,fi({className:r,deferredMeasurementCache:null==y?void 0:y.current,height:t,onRowsRendered:l,overscanRowCount:_||1,ref:e=>(e=>{D.current=e,null==d||d(e)})(e),rowCount:o.length,rowHeight:x&&null!=y&&null!==(n=y.current)&&void 0!==n&&n.rowHeight?null==y||null===(i=y.current)||void 0===i?void 0:i.rowHeight:s||0,rowRenderer:j,scrollingResetTimeInterval:0,width:e},(0,C.isDesktop)()?{scrollTop:b,autoHeight:!0}:{onScroll:e=>O({target:e})}))})})}})}),t]}),a&&(0,k.jsx)("div",{className:n()("data-list__footer",{[`${r}__data-list-footer`]:r}),children:(0,k.jsx)(i.Fragment,{children:p.rowRenderer({row:a,is_footer:!0})})})]})}));Di.displayName="DataList",Di.Cell=si;const wi=Di,Ci=wi,Ai=({col_index:e,children:t})=>(0,k.jsx)("div",{className:n()("table__cell",e),children:t}),xi=({replace:e,is_footer:t,cells:r,className:o,is_dynamic_height:a,measure:s})=>{const[c,u]=i.useState(!1),d=l((()=>u(!1)),5e3),_=()=>{e&&(u(!c),d())},p=e=>{(0,C.clickAndKeyEventHandler)(_,e)};return i.useEffect((()=>{a&&(null==s||s())}),[c,a,s]),a?(0,k.jsx)("div",{onClick:t||!e?void 0:p,onKeyDown:t||!e?void 0:p,className:n()(o,{"statement__row--detail":c}),children:c&&"object"==typeof e?(0,k.jsx)("div",{children:null==e?void 0:e.component}):r}):(0,k.jsx)("div",{onClick:t||!e?void 0:p,onKeyDown:t||!e?void 0:p,className:n()(o,{"statement__row--detail":c}),children:c&&"object"==typeof e?(0,k.jsx)(Go,{height:"80px",children:(0,k.jsx)("div",{children:null==e?void 0:e.component})}):r})},Ei=({className:e,columns:t,content_loader:r,getActionColumns:o,id:i,is_footer:a,is_header:s,passthrough:c,replace:l,row_obj:u={},show_preloader:d=!1,to:_,measure:p,is_dynamic_height:h})=>{const m=o&&o({row_obj:u,is_header:s,is_footer:a}),f=t.map((({col_index:e,renderCellContent:t,title:r,key:o})=>{let n=r;if(!s){const r=u[e]||"";n=t?t({cell_value:r,col_index:e,row_obj:u,is_footer:a,passthrough:c}):r}return(0,k.jsx)(Ai,{col_index:e,children:n},o||e)})),g=n()("table__row",{"table__row-link":_||l},{[`${e}__row`]:e}),b=r;return a||s||!d?_?(0,k.jsxs)("div",{className:`${e}__row_wrapper`,children:[(0,k.jsx)(st.NavLink,{id:`dt_reports_contract_${i}`,className:g,to:{pathname:_,state:{from_table_row:!0}},children:f}),m]}):(0,k.jsxs)("div",{className:`${e}__row_wrapper`,children:[(0,k.jsx)(xi,{className:g,cells:f,replace:l,is_footer:a,is_dynamic_height:h,measure:p}),m]}):(0,k.jsx)("div",{className:"table__row--preloader",children:r?(0,k.jsx)(b,{}):null})};function ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(r),!0).forEach((function(t){Si(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ji(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Si(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Fi=Oe.B8,ki=Oe.t$,Pi=Oe.dl,Ti=({children:e,className:t,columns:r,content_loader:o,data_source:a,footer:s,getActionColumns:c,getRowAction:l,getRowSize:u,id:d,keyMapper:_,onScroll:p,passthrough:h,preloaderCheck:m})=>{const f=i.useRef(),g=i.useRef(),b=!u,[v,y]=i.useState(0),[D,w]=i.useState(!0);i.useEffect((()=>{b&&(f.current=new Oe.jS({fixedWidth:!0,keyMapper:e=>a&&e<a.length&&(null==_?void 0:_(a[e]))||e})),w(!1)}),[]),i.useEffect((()=>{var e;b&&(null==g||null===(e=g.current)||void 0===e||e.recomputeGridSize({columnIndex:0,rowIndex:0}))}),[a,b]);const A=e=>{y(e.target.scrollTop),"function"==typeof p&&p(e)},x=({style:e,index:n,key:i,parent:s})=>{var u,p;let g=null==a?void 0:a[n];const{action_type:v,shortcode:y,purchase_time:D,transaction_time:w}=g||{};if(g&&(0,C.isForwardStartingBuyTransaction)(v,y,D||w)){const e=!(null==a||!a.find((e=>{var t;return"sell"===e.action_type&&e.id===(null===(t=g)||void 0===t?void 0:t.id)})));g=Oi(Oi({},g),{},{is_sold:e})}const A=(null===(u=g)||void 0===u?void 0:u.contract_id)||(null===(p=g)||void 0===p?void 0:p.id);let x,E;g&&(x=l&&l(g),E=(null==_?void 0:_(g))||i);const j=({measure:e})=>(0,k.jsx)(Ei,{className:t,columns:r,content_loader:o,getActionColumns:c,id:A,measure:e,passthrough:h,replace:"object"==typeof x?x:void 0,row_obj:g,show_preloader:!("function"!=typeof m||!g)&&m(g),to:"string"==typeof x?x:void 0,is_dynamic_height:b,is_footer:!1,is_header:!1},d);return b?(0,k.jsx)(Pi,{cache:f.current,columnIndex:0,rowIndex:n,parent:s,children:({measure:t})=>(0,k.jsx)("div",{style:e,children:j({measure:t})})},E):(0,k.jsx)("div",{style:e,children:j({})},E)};return D?(0,k.jsx)("div",{}):(0,k.jsxs)("div",{"data-testid":"dt_data_table",className:n()("table",{[`${t}`]:t,[`${t}__table`]:t,[`${t}__content`]:t}),children:[(0,k.jsx)("div",{className:"table__head",children:(0,k.jsx)(Ei,{className:t,columns:r,content_loader:o,getActionColumns:c,is_header:!0,is_footer:!1,is_dynamic_height:!1})}),(0,k.jsx)("div",{className:"table__body",children:(0,k.jsx)(ki,{children:({width:r,height:o})=>{var n,i;return(0,k.jsxs)("div",{className:"dc-data-table",style:{height:o,width:r},children:[(0,k.jsx)(Go,{autohide:!0,onScroll:A,children:(0,k.jsx)(Fi,{autoHeight:!0,className:t,deferredMeasurementCache:f.current,height:o,overscanRowCount:1,ref:e=>g.current=e,rowCount:(null==a?void 0:a.length)||0,rowHeight:b&&null!=f&&null!==(n=f.current)&&void 0!==n&&n.rowHeight?null==f||null===(i=f.current)||void 0===i?void 0:i.rowHeight:u||0,rowRenderer:x,scrollingResetTimeInterval:0,scrollTop:v,width:r})}),e]})}})}),s&&(0,k.jsx)("div",{className:"table__foot",children:(0,k.jsx)(Ei,{className:t,columns:r,content_loader:o,getActionColumns:c,is_footer:!0,row_obj:s,is_dynamic_height:!1})})]})};Ti.TableRow=Ei,Ti.TableRowInfo=xi,Ti.TableCell=Ai;const Ni=Ti,Li=["disableApp","dismissable","enableApp","is_closed_on_cancel","is_closed_on_confirm","is_visible","onCancel","onClose","onConfirm","onEscapeButtonCancel"];const Ii=e=>{var t;let{disableApp:r,dismissable:o,enableApp:a,is_closed_on_cancel:s=!0,is_closed_on_confirm:c=!0,is_visible:l,onCancel:u,onClose:d,onConfirm:_,onEscapeButtonCancel:p}=e,h=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Li);const{cancel_button_text:m,className:f,children:g,confirm_button_text:b,is_loading:y,is_mobile_full_width:D=!0,is_content_centered:w,portal_element_id:C,title:A,has_close_icon:x}=h,E=i.useRef();i.useEffect((()=>{l&&r&&r()}),[l,r]),i.useEffect((()=>{const e=e=>{"Escape"===e.key&&(null==p||p())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const j=()=>{s&&a&&a(),null==u||u()},O=()=>{c&&a&&a(),_()},F=()=>{d?d():u?j():O()};v(E,F,(()=>!!o||!!(x&&l&&s)));const P=n()("dc-dialog__content",{"dc-dialog__content--centered":w}),T="string"==typeof g||i.isValidElement(g)&&"string"==typeof(null==g||null===(t=g.props)||void 0===t?void 0:t.i18n_default_text),N=(0,k.jsx)(ne.A,{appear:!0,in:l&&!y,timeout:50,classNames:{appear:"dc-dialog__wrapper--enter",enter:"dc-dialog__wrapper--enter",enterDone:"dc-dialog__wrapper--enter-done",exit:"dc-dialog__wrapper--exit"},unmountOnExit:!0,children:(0,k.jsx)("div",{className:n()("dc-dialog__wrapper",f,{"dc-dialog__wrapper--has-portal":!!C}),children:(0,k.jsxs)("div",{className:n()("dc-dialog__dialog",{"dc-dialog__dialog--has-margin":!D}),role:"dialog",ref:E,children:[(A||x)&&(0,k.jsxs)("div",{className:n()("dc-dialog__header-wrapper",{"dc-dialog__header-wrapper--end":!A}),children:[!!A&&(0,k.jsx)(K,{as:"h1",color:"prominent",weight:"bold",className:"dc-dialog__header--title",children:A}),x&&(0,k.jsx)("div",{onClick:F,className:"dc-dialog__header--close",children:(0,k.jsx)(S.default,{icon:"IcCross"})})]}),T?(0,k.jsx)(K,{as:"p",size:"xs",styles:{lineHeight:"1.43"},className:P,children:g}):(0,k.jsx)("div",{className:P,children:g}),(0,k.jsxs)("div",{className:"dc-dialog__footer",children:[!!u&&(0,k.jsx)(Xe,{className:"dc-dialog__button",has_effect:!0,text:m,onClick:j,secondary:!0,large:!0}),!!b&&(0,k.jsx)(Xe,{className:"dc-dialog__button",has_effect:!0,text:b,onClick:O,primary:!0,large:!0})]})]})})});if(C){const e=document.getElementById(C);if(e)return oe.createPortal(N,e)}return N};var Bi=r(414646);const Ri=["anchor","children","className","contentClassName","footer","header","width","zIndex"];const Mi=({className:e})=>(0,k.jsx)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:(0,k.jsx)("path",{fill:"var(--text-less-prominent)",fillRule:"nonzero",d:"M8.87 2.164l5 5.5a.5.5 0 0 1 0 .672l-5 5.5a.5.5 0 0 1-.74-.672L12.824 8 8.13 2.836a.5.5 0 0 1 .74-.672zm-5 0l5 5.5a.5.5 0 0 1 0 .672l-5 5.5a.5.5 0 0 1-.74-.672L7.824 8 3.13 2.836a.5.5 0 1 1 .74-.672z"})}),zi=e=>{let{anchor:t="left",children:r,className:o,contentClassName:a,footer:s,header:c,width:l=250,zIndex:u=4}=e,d=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Ri);const[_,p]=i.useState(d.is_open),{ui:h}=(0,Bi.A)(),{is_desktop:m}=h;i.useEffect((()=>{p(d.is_open)}),[d.is_open]);return(0,k.jsxs)("div",{"data-testid":"drawer",className:n()("dc-drawer",o,{[`dc-drawer--${t}`]:m,"dc-drawer--open":_}),style:{zIndex:u,transform:_&&m?"left"===t?`translateX(calc(${l}px - 16px))`:`translateX(calc(-${l}px + 16px))`:void 0},children:[(0,k.jsx)("div",{className:n()("dc-drawer__toggle",{"dc-drawer__toggle--open":_}),onClick:()=>{p(!_),d.toggleDrawer&&d.toggleDrawer(!_)},children:m?(0,k.jsx)(Mi,{className:n()("dc-drawer__toggle-icon",{[`dc-drawer__toggle-icon--${t}`]:m})}):(0,k.jsx)(F,{icon:"IcChevronUp",className:"dc-drawer__toggle-icon"})}),(0,k.jsxs)("div",{className:n()("dc-drawer__container",{[`dc-drawer__container--${t}`]:m}),children:[c&&(0,k.jsx)("div",{className:"dc-drawer__header",children:c}),(0,k.jsx)("div",{className:n()("dc-drawer__content",a),children:r}),s&&(0,k.jsx)("div",{className:"dc-drawer__footer",children:s})]})]})},Ui=(e,t)=>{const r=e=>(e.find((e=>e.value===t))||{}).text;let o="";return Array.isArray(e)?o=r(e)||"":Object.keys(e).some((t=>(o=r(e[t])||"",o))),o},Wi=e=>e?e.attributes.tabIndex?e:Wi(e.nextSibling):null,$i=e=>e?e.attributes.tabIndex?e:$i(e.previousSibling):null,Vi=["items"];function Hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Gi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Yi=({onKeyPressed:e,value:t,item:r,handleSelect:o,nodes:a,has_symbol:s,is_align_text_left:c,className:l,setScrollHeight:u})=>{const d=i.useRef(null),_=r.text&&"string"==typeof r.text?`symbols--${r.text.toLowerCase()}`:null,p=t===r.value;return i.useEffect((()=>{const t=()=>{var t;null==a||a.delete(r.value),null==d||null===(t=d.current)||void 0===t||t.removeEventListener("keydown",e)};if(r.disabled)t();else{var o;const t=t=>e(t,r);null==d||null===(o=d.current)||void 0===o||o.addEventListener("keydown",t),null==a||a.set(r.value.toString(),d.current)}return()=>t()}),[r,a,e]),i.useEffect((()=>{u&&d.current&&p&&u(d.current.offsetTop-d.current.scrollHeight)}),[d,u,p]),(0,k.jsxs)("div",{className:n()("dc-list__item",{"dc-list__item--selected":p},{"dc-list__item--disabled":r.disabled}),"data-testid":"dti_list_item",onClick:r.disabled?void 0:o.bind(null,r),ref:d,tabIndex:r.disabled?void 0:0,id:r.value,children:[!!s&&r.has_tooltip&&(0,k.jsx)(Et,{alignment:"left",message:(0,C.getCurrencyDisplayCode)(r.text),children:(0,k.jsx)(K,{size:"xs",line_height:"s",align:"center",className:n()("dc-list__item-symbol",_)})}),!!s&&!r.has_tooltip&&(0,k.jsx)(K,{size:"xs",line_height:"s",className:n()("dc-list__item-text",_)}),!s&&(0,k.jsx)(K,{size:"xs",line_height:"s",className:n()("dc-list__item-text",{"dc-list__item-text--left":c},l),children:r.text})]})},Ki=e=>{let{items:t}=e,r=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Vi);return(0,k.jsx)(k.Fragment,{children:t.map(((e,t)=>(0,k.jsx)(Yi,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(r),!0).forEach((function(t){Gi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({item:e},r),t)))})},qi=({className:e,has_symbol:t,list:r,is_align_text_left:o,placeholder:a,name:s,value:c})=>{const l=c&&t?`symbols--${c.toString().toLowerCase()}`:null;return(0,k.jsxs)(i.Fragment,{children:[t?(0,k.jsx)("span",{className:n()("symbols dc-dropdown__display-symbol",l,e)}):(0,k.jsx)(K,{size:"xs",color:"prominent",align:"center",className:n()("dc-dropdown__display-text",e),name:s,value:c,children:Ui(r,c)}),a&&(0,k.jsx)("div",{className:n()("dc-dropdown__display-placeholder",{"dc-dropdown__display-placeholder--is-title":c,"dc-dropdown__display-placeholder--is-left-text":o}),children:(0,k.jsx)(K,{size:"xs",color:"grey",line_height:"unset",className:n()("dc-dropdown__display-placeholder-text",{"dc-dropdown__display-placeholder-text-limit-fit":!c&&a.length>45}),children:a})})]})},Ji=i.forwardRef(((e,t)=>{const{classNameItems:r,classNameLabel:o,handleSelect:a,has_symbol:s,initial_offset:c,initial_height_offset:l,is_align_text_left:u,is_alignment_left:d,is_alignment_top:_,is_large:p,is_list_visible:h,list:m,nodes:f,onKeyPressed:g,parent_ref:b,portal_id:v,suffix_icon:y,suffix_icon_size:D=16,should_scroll_to_selected:w,should_autohide:A,value:x}=e,[E,j]=i.useState([c,0]),[O,S]=i.useState({}),[F,P]=i.useState(),T=!!v;i.useEffect((()=>{if(b.current&&v&&h){const e=(0,C.getPosition)({preferred_alignment:_?"top":"bottom",parent_el:b.current,child_el:t.current,should_consider_parent_height:!0});S(e.style)}}),[h,_,v,m.length,b,t]);const N=(0,k.jsx)(ne.A,{in:h,timeout:100,classNames:{enter:"dc-dropdown__list--enter"+(d?" dc-dropdown__list--left--enter":""),enterDone:"dc-dropdown__list--enter-done"+(d?" dc-dropdown__list--left--enter-done":""),exit:"dc-dropdown__list--exit"+(d?" dc-dropdown__list--left--exit":"")},onEntered:()=>j([c||t.current.offsetWidth,l||t.current.offsetHeight]),unmountOnExit:!0,children:(0,k.jsx)("div",{style:O,className:n()("dc-dropdown__list",{"dc-dropdown__list--left":d&&!T,"dc-dropdown__list--top":_&&!T,"dc-dropdown__list--portal":T}),children:(0,k.jsx)("div",{className:n()("dc-list",{"dc-list--left":d,"dc-list--large":p,"dc-list--has-suffix-icon":y}),style:(()=>{if(!T)return d?{transform:`translate3d(calc(-${E[0]}px - 12px), 0, 0px)`}:_?{transform:`translate3d(0, calc(-${E[1]}px - 16px), 0px)`}:void 0})(),"aria-expanded":h,role:"list",ref:t,children:(0,k.jsx)(ce,{height:E[1]&&E[1]>200?E[1]:"200px",scroll_height:F,should_scroll_to_selected:w,autohide:A,children:Array.isArray(m)?(0,k.jsx)(Ki,{onKeyPressed:g,className:r,handleSelect:a,has_symbol:s,items:m,is_align_text_left:u,value:x,nodes:f.current,setScrollHeight:P}):Object.keys(m).map(((e,t)=>(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)("div",{className:n()("dc-list__label",o),children:e}),(0,k.jsx)(Ki,{onKeyPressed:g,className:r,handleSelect:a,has_symbol:s,items:m[e],is_align_text_left:u,value:x,nodes:f.current}),t!==Object.keys(m).length-1&&(0,k.jsx)("span",{className:"dc-list__separator"})]},e)))})})})});return v?oe.createPortal(N,document.getElementById(v)):N}));Ji.displayName="DropdownList";const Zi=({className:e,classNameDisplay:t,classNameHint:r,classNameItems:o,classNameLabel:s,disabled:c,error:l,handleBlur:u,has_symbol:d,hint:_,initial_offset:p=0,initial_height_offset:h=0,is_align_text_left:m,is_alignment_left:f,is_alignment_top:g,is_large:b,is_nativepicker_visible:y,is_nativepicker:D,label:w,list_portal_id:A,list:x,name:E,no_border:j,onChange:O,onClick:F,placeholder:P,suffix_icon:T,should_animate_suffix_icon:N=!1,suffix_icon_size:L=16,should_open_on_hover:I=!1,should_scroll_to_selected:B,should_auto_close_dropdown_list:R,should_autohide:z,test_id:U,value:W,classNameIcon:$})=>{const V=i.useRef(null),H=i.useRef(null),G=i.useRef(null),Y=i.useRef(new Map),K=i.useRef(null),q=!!A,[J,Z]=i.useState(!!y),X=i.useRef(!0);a(A&&J?V:void 0);v(G,(e=>{var t;q&&null!==(t=K.current)&&void 0!==t&&t.contains(e.target)||("function"==typeof u&&u({target:{name:E}}),Z(!1))}),(()=>J));const Q=()=>x.length<2;i.useEffect((()=>{R&&Z(!1)}),[R]),i.useEffect((()=>{D&&!y&&J&&Z(!1)}),[D,y,J]),i.useEffect((()=>{var e;X.current||J||!W||null==V||null===(e=V.current)||void 0===e||e.focus()}),[J]);const ee=e=>{e.value!==W&&(null==O||O({target:{name:E||"",value:e.value}})),te()},te=e=>{if(e&&["mouseover","mouseleave"].includes(e.type)){if(!I)return;"mouseover"===e.type?Z(!0):Z(!1)}else if("function"!=typeof F)if(D&&!J){var t;if("iOS"===(0,C.mobileOSDetect)())null==H||null===(t=H.current)||void 0===t||t.focus();Z(!0)}else Z(!J);else F()},re=(e,t)=>{if(!Q()&&(9!==e.keyCode||J)){switch(e.preventDefault(),e.stopPropagation(),e.keyCode){case 27:J&&te();break;case 9:case 13:case 32:if(!t)return;ee(t);break;case 38:case 40:J?oe(e.keyCode):f||te();break;case 37:case 39:f&&te()}if(1===e.key.length&&x.length){const t=e.key.toLowerCase(),r=x.find((e=>e.value&&e.value[0].toLowerCase()===t));if(!r)return;const o=Y.current.get(r.value);o&&o.focus()}}},oe=e=>{const{activeElement:t}=document;if("dropdown-display"===(null==t?void 0:t.id)){const e=Array.from(Y.current.values())[0];e&&e.focus instanceof Function&&e.focus()}else{const r=Y.current.get(null==t?void 0:t.id);if(r){if(40===e){const e=Wi(r.nextSibling);e&&e.focus()}if(38===e){const e=$i(r.previousSibling);e&&e.focus()}}}};return i.useEffect((()=>{X.current&&(X.current=!1)}),[]),(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)("input",{className:"dc-dropdown__inner",autoComplete:"off",name:E,readOnly:!0,type:"hidden","data-testid":U,value:W||0}),(0,k.jsxs)("div",{ref:G,className:n()("dc-dropdown-container",e,{"dc-dropdown--has-placeholder":P,"dc-dropdown--left":f,"dc-dropdown--show":J,"dc-dropdown--disabled":Q()||c,"dc-dropdown--error":l,"dc-dropdown--has-suffix-icon":T}),onMouseOver:te,onFocus:()=>null,onMouseLeave:te,children:[(0,k.jsxs)("div",{className:n()("dc-dropdown__container",{"dc-dropdown__container--suffix-icon":T}),"data-testid":"dt_dropdown_container",children:[w&&(0,k.jsx)("span",{className:n()("dc-dropdown__label",{"dc-dropdown__label--clicked":J}),children:w}),(0,k.jsxs)("div",{className:n()("dc-dropdown__display",t,{"dc-dropdown__display--clicked":J,"dc-dropdown__display--has-symbol":d,"dc-dropdown__display--no-border":j,"dc-dropdown__display--is-left-text":m}),"data-testid":"dt_dropdown_display",tabIndex:Q()?-1:0,onClick:te,onKeyDown:re,id:"dropdown-display",ref:V,children:[!!T&&(0,k.jsx)(S.default,{className:n()("suffix-icon",{"suffix-icon--flip":J&&N}),icon:T,size:L}),(0,k.jsx)(qi,{className:n()({"dc-dropdown__display--has-suffix-icon-text":T}),has_symbol:d,name:E,is_align_text_left:m,placeholder:P,value:null!=W?W:0,list:x})]}),!(Q()||T)&&(0,k.jsx)(S.default,{icon:f?"IcChevronLeft":"IcChevronDown",className:n()("dc-dropdown__select-arrow",$,{"dc-dropdown__select-arrow--left":f,"dc-dropdown__select-arrow--up":J,"dc-dropdown__select-arrow--error":l||_})}),l&&(0,k.jsx)(M,{as:"p",size:"xxs",color:"loss-danger",className:"dc-field--error",children:l}),(0,k.jsx)(Ji,{classNameItems:o,classNameLabel:s,handleSelect:ee,has_symbol:d,initial_offset:p,initial_height_offset:h,is_align_text_left:m,is_alignment_left:f,is_alignment_top:g,is_large:b,is_list_visible:J,list:x,nodes:Y,onKeyPressed:re,parent_ref:V,portal_id:A,ref:K,suffix_icon:T,suffix_icon_size:L,should_scroll_to_selected:B,should_autohide:z,value:W})]}),!l&&_&&(0,k.jsx)(M,{as:"p",color:"less-prominent",size:"xxs",className:n()("dc-dropdown__hint",r),children:_})]})]})},Xi=Zi,Qi=({icon:e,title:t,description:r,action:o})=>(0,k.jsxs)("div",{className:"empty-state",children:[e&&(0,k.jsx)(F,{icon:e,size:128}),(0,k.jsxs)("div",{className:"empty-state__content",children:[t&&(0,k.jsx)(K,{weight:"bold",align:"center","data-testid":"dt_empty_state_title",size:(0,C.isMobile)()?"xs":"s",children:t}),r&&(0,k.jsx)(K,{align:"center","data-testid":"dt_empty_state_description",size:(0,C.isMobile)()?"xs":"s",children:r})]}),o&&(0,k.jsx)(Qe,{large:!0,has_effect:!0,text:o.label,onClick:o.onClick,primary:o.primary||!0,tertiary:o.tertiary,is_disabled:o.disabled,className:"empty-state__action","data-testid":"dt_empty_state_action"})]}),ea=({array:e,open_ids:t,setOpenIds:r})=>(0,k.jsx)(i.Fragment,{children:e.map(((e,o)=>{var i;return Array.isArray(null==e?void 0:e.value)?(0,k.jsxs)("div",{className:"dc-expansion-panel__content-array",children:[(0,k.jsxs)("div",{className:n()("dc-expansion-panel__content-array",{"dc-expansion-panel__content-active":t.includes(e.id)}),children:[(0,k.jsx)("span",{className:"dc-expansion-panel__content-array-item-index",children:`${o+1}: `}),"(",`${e.value.length}`,")",(0,k.jsx)(F,{className:"dc-expansion-panel__content-chevron-icon",icon:"IcChevronRight",onClick:()=>{return o=e.id,void(t.includes(o)?r(t.filter((e=>e!==o))):r([...t,o]));var o}})]}),t.includes(e.id)?(0,k.jsx)(ea,{array:e.value,open_ids:t,setOpenIds:r}):null]},o):(0,k.jsxs)("div",{className:"dc-expansion-panel__content-array",children:[(0,k.jsx)("span",{className:"dc-expansion-panel__content-array-item-index",children:`${o+1}: `}),null==e||null===(i=e.value)||void 0===i?void 0:i.toString()]},o)}))}),ta=ea,ra=({message:e,onResize:t})=>{const[r,o]=i.useState([]),[a,s]=i.useState(!1);i.useEffect((()=>{"function"==typeof t&&t()}),[a,t]);return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)("div",{className:n()("dc-expansion-panel__header-container",{"dc-expansion-panel__header-active":a}),children:[e.header,(0,k.jsx)(F,{icon:"IcChevronDown",className:"dc-expansion-panel__header-chevron-icon",onClick:()=>{s(!a)}})]}),a&&(Array.isArray(e.content)?(0,k.jsx)(ta,{array:e.content,open_ids:r,setOpenIds:o}):e.content)]})},oa=({children:e,className:t,has_separator:r,is_bypassed:o})=>o?(0,k.jsx)(i.Fragment,{children:e}):(0,k.jsx)("div",{"data-testid":"dt_modal_footer",className:n()("dc-modal-footer",{"dc-modal-footer--separator":r},t),children:e}),na=({children:e,className:t,close_icon_color:r,elements_to_ignore:o,has_close_icon:a=!0,has_return_icon:s=!1,header:c,header_background_color:l,height:u,id:d,is_confirmation_modal:_,is_open:p,is_risk_warning_visible:h,is_title_centered:m,is_vertical_bottom:f,is_vertical_centered:g,is_vertical_top:b,onMount:y,onReturn:D,onUnmount:w,portalId:C,renderTitle:A,should_close_on_click_outside:x,should_header_stick_body:E=!0,small:j,title:O,toggleModal:F,width:P})=>{const T=i.useRef(document.createElement("div")),N=C&&document.getElementById(C),L=i.useRef(N||document.getElementById("modal_root")),I=i.useRef(null),B=[".dc-datepicker__picker",".dc-mobile-dialog",".dc-dropdown-list",".dc-dropdown__list"];v(I,(()=>{p&&(null==F||F())}),(e=>{var t,r,n;const i=null===(t=document.getElementById("popup_root"))||void 0===t?void 0:t.hasChildNodes(),s=null!==(r=e.path)&&void 0!==r?r:null===(n=e.composedPath)||void 0===n?void 0:n.call(e);return x||a&&!(null===(c=L.current)||void 0===c?void 0:c.querySelectorAll(B.join(", ")).length)&&p&&!i&&!(o&&null!=s&&s.find((e=>o.includes(e))));var c})),i.useEffect((()=>{var e,t;const r=T,o=L;return r.current.classList.add("dc-modal"),null==o||null===(e=o.current)||void 0===e||null===(t=e.appendChild)||void 0===t||t.call(e,r.current),null==y||y(),()=>{var e,t;null==o||null===(e=o.current)||void 0===e||null===(t=e.removeChild)||void 0===t||t.call(e,r.current),null==w||w()}}),[]);const R=i.useCallback((e=>{"Escape"===e.key&&(null==F||F())}),[F]);i.useEffect((()=>(window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R))),[R]);const z=A?A():null;return oe.createPortal((0,k.jsxs)("div",{ref:I,id:d,className:n()("dc-modal__container",{[`dc-modal__container_${t}`]:t,"dc-modal__container--risk-message":h,"dc-modal__container--small":j,"dc-modal__container--is-vertical-centered":g,"dc-modal__container--is-vertical-bottom":f,"dc-modal__container--is-vertical-top":b,"dc-modal__container--is-confirmation-modal":_}),style:{height:u||"auto",width:P||"auto"},children:[!h&&(c||O||z)&&(0,k.jsxs)("div",{className:n()("dc-modal-header",{"dc-modal-header__border-bottom":!E,[`dc-modal-header--${t}`]:t,"dc-modal-header--is-title-centered":m}),style:{background:l},children:[z&&(0,k.jsx)(M,{as:"h3",color:"prominent",weight:"bold",styles:{lineHeight:"2.4rem"},className:n()("dc-modal-header__title",{[`dc-modal-header__title--${t}`]:t}),children:z}),O&&(0,k.jsxs)(M,{as:"h3",color:"prominent",weight:"bold",styles:{lineHeight:"2.4rem"},className:n()("dc-modal-header__title",{[`dc-modal-header__title--${t}`]:t}),children:[s&&(0,k.jsx)(S.default,{icon:"IcArrowLeftBold",onClick:D,className:"dc-modal-header__icon"}),O]}),c&&(0,k.jsx)("div",{className:n()("dc-modal-header__section",{[`dc-modal-header__section--${t}`]:t}),children:c}),a&&(0,k.jsx)("div",{onClick:F,className:"dc-modal-header__close",role:"button",children:(0,k.jsx)(S.default,{icon:"IcCross",color:r,data_testid:"dt_modal_close_icon"})})]}),e]}),T.current)},ia=({children:e,className:t,close_icon_color:r,elements_to_ignore:o,exit_classname:n,has_close_icon:i=!0,has_return_icon:a=!1,header:s,header_background_color:c,height:l,id:u,is_confirmation_modal:d,is_open:_,is_risk_warning_visible:p,is_title_centered:h,is_vertical_bottom:m,is_vertical_centered:f,is_vertical_top:g,onEntered:b,onExited:v,onMount:y,onReturn:D,onUnmount:w,portalId:C,renderTitle:A,should_close_on_click_outside:x=!1,should_header_stick_body:E=!0,small:j,title:O,transition_timeout:S,toggleModal:F,width:P})=>(0,k.jsx)(ne.A,{appear:!0,in:_,timeout:S||250,classNames:{appear:"dc-modal__container--enter",enter:"dc-modal__container--enter",enterDone:"dc-modal__container--enter-done",exit:n||"dc-modal__container--exit"},unmountOnExit:!0,onEntered:b,onExited:v,children:(0,k.jsx)(na,{className:t,close_icon_color:r,should_header_stick_body:E,has_return_icon:a,header:s,header_background_color:c,id:u,is_open:_,is_risk_warning_visible:p,is_confirmation_modal:d,is_vertical_bottom:m,is_vertical_centered:f,is_vertical_top:g,is_title_centered:h,title:O,toggleModal:F,has_close_icon:i,height:l,onMount:y,onReturn:D,onUnmount:w,portalId:C,renderTitle:A,should_close_on_click_outside:x,small:j,width:P,elements_to_ignore:o,children:e})});ia.Body=({children:e,className:t})=>(0,k.jsx)("div",{className:n()("dc-modal-body",t),children:e}),ia.Footer=oa;const aa=ia,sa=({error_message:e})=>(0,k.jsxs)("div",{className:"unhandled-error",children:[(0,k.jsx)(F,{icon:"IcAccountError",size:96}),(0,k.jsx)(K,{className:"da-icon-with-message__text",as:"p",line_height:"xxl",align:"center",weight:"bold",children:(0,k.jsx)(he.Localize,{i18n_default_text:"Sorry for the interruption"})}),(0,k.jsx)(K,{className:"da-icon-with-message__text__desc",as:"p",size:"xs",line_height:"xxs",align:"center",children:e}),(0,k.jsx)(Qe,{onClick:()=>location.reload(),has_effect:!0,primary:!0,large:!0,children:(0,k.jsx)(he.Localize,{i18n_default_text:"Refresh"})})]}),ca=({messages:e})=>{var t;const[r,o]=i.useState(!1),n=null==e||null===(t=e[0])||void 0===t?void 0:t.toString();i.useEffect((()=>{o(!0)}),[]);const a=()=>{o(!r)};return(0,k.jsxs)(aa,{has_close_icon:!0,width:"440px",height:"284px",is_open:r,toggleModal:a,children:[(0,k.jsx)(lo,{children:(0,k.jsx)(aa.Body,{children:(0,k.jsx)(sa,{error_message:n})})}),(0,k.jsx)(uo,{children:(0,k.jsx)(Yo,{portal_element_id:"modal_root",has_close_icon:!0,visible:r,onClose:a,children:(0,k.jsx)(aa.Body,{children:(0,k.jsx)(sa,{error_message:n})})})})]})};var la=r(859413);const ua={initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:250,delay:.3}},da={initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.25,delay:.3}},_a={initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},pa=({children:e,className:t,is_visible:r,keyname:o,type:n})=>"top"===n?(0,k.jsx)(k.Fragment,{children:r&&(0,k.jsx)(la.P.div,{animate:ua.animate,initial:ua.initial,transition:ua.transition,className:t,children:e},o)}):"bottom"===n?(0,k.jsx)(k.Fragment,{children:r&&(0,k.jsx)(la.P.div,{animate:da.animate,initial:da.initial,transition:da.transition,className:t,children:e},o)}):(0,k.jsx)(k.Fragment,{children:r&&(0,k.jsx)(la.P.div,{animate:_a.animate,initial:_a.initial,transition:_a.transition,className:t,children:e},o)});var ha=r(117399);const ma=["className","noClick"];function fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(r),!0).forEach((function(t){ba(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ba(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const va=({is_visible:e,color:t,children:r,key:o,timeout:n,no_text:i})=>(0,k.jsx)(ne.A,{appear:!0,in:e,timeout:n,classNames:{appear:"dc-file-dropzone__message--enter",enter:"dc-file-dropzone__message--enter",enterActive:"dc-file-dropzone__message--enter-active",enterDone:"dc-file-dropzone__message--enter-done",exit:"dc-file-dropzone__message--exit",exitActive:"dc-file-dropzone__message--exit-active"},unmountOnExit:!0,children:i?(0,k.jsx)("div",{className:"dc-file-dropzone__message",children:r}):(0,k.jsx)(K,{align:"center",color:t||"general",size:"xxs",line_height:"m",weight:"normal",className:"dc-file-dropzone__message",children:r})},o),ya=e=>{var t;return e.preview_single?(0,k.jsx)("div",{className:"dc-file-dropzone__message",children:e.preview_single}):(0,k.jsx)(K,{size:"xxs",weight:"bold",align:"center",className:"dc-file-dropzone__filename",styles:{maxWidth:`calc(${(null===(t=e.dropzone_ref.current)||void 0===t?void 0:t.offsetWidth)||365}px - 3.2rem)`},children:e.filename_limit?(0,C.truncateFileName)(e.value[0],e.filename_limit):e.value[0].name})},Da=e=>{let{className:t,noClick:r=!1}=e,o=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,ma);const{validation_error_message:a,message:s}=o,c=i.useCallback((({open:e})=>r&&"function"==typeof s?(0,k.jsx)(k.Fragment,{children:s(e)}):(0,k.jsx)(k.Fragment,{children:s})),[s,r]),l=i.useCallback((({open:e})=>"function"==typeof a?(0,k.jsx)(k.Fragment,{children:a(e)}):(0,k.jsx)(k.Fragment,{children:a})),[a]),u=i.useRef(null);return(0,k.jsx)(ha.A,{onDropAccepted:o.onDropAccepted,onDropRejected:o.onDropRejected,multiple:o.multiple||!1,accept:o.accept,maxSize:o.max_size,noClick:r,children:({getRootProps:e,getInputProps:i,isDragAccept:d,isDragActive:_,isDragReject:p,open:h})=>(0,k.jsxs)("div",ga(ga({},e()),{},{className:n()("dc-file-dropzone",t,{"dc-file-dropzone--is-active":_,"dc-file-dropzone--has-file":_||o.value.length>0,"dc-file-dropzone--has-error":(p||!!a)&&!d,"dc-file-dropzone--is-noclick":r}),ref:u,children:[(0,k.jsx)("input",ga(ga({},i()),{},{"data-testid":"dt_file_upload_input"})),(0,k.jsxs)("div",{className:"dc-file-dropzone__content",children:[(0,k.jsx)(va,{is_visible:!_&&!!s&&o.value.length<1&&!a,timeout:150,no_text:r,children:(0,k.jsx)(c,{open:h})}),(0,k.jsx)(va,{is_visible:_&&!p,timeout:150,children:o.hover_message}),o.multiple&&o.value.length>0&&!a?o.value.map(((e,t)=>(0,k.jsx)(K,{size:"xxs",weight:"bold",align:"center",className:"dc-file-dropzone__filename",children:o.filename_limit?(0,C.truncateFileName)(e,o.filename_limit):e.name},t))):o.value[0]&&!_&&!a&&(0,k.jsx)(ya,ga({dropzone_ref:u},o)),(0,k.jsx)(va,{is_visible:p,timeout:150,color:"loss-danger",children:o.error_message}),(0,k.jsx)(va,{is_visible:!!a&&!_,timeout:150,color:"loss-danger",children:(0,k.jsx)(l,{open:h})})]})]}))})},wa=["className","classNameDisplay","classNameHint","disabled","error","hide_selected_value","hint","label","list_items","placeholder","is_country_code_dropdown","should_hide_disabled_options","should_show_empty_option","suffix_icon","use_text","value","data_testid","hide_top_placeholder"];function Ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(r),!0).forEach((function(t){xa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ca(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ea=(e,t)=>{const r=(Array.isArray(e)?e:[].concat(...Object.values(e))).find((e=>"string"!=typeof e.value?e.value===t:e.value.toLowerCase()===t.toLowerCase()));return r?r.text:""},ja=({list_items:e,should_hide_disabled_options:t,use_text:r})=>{var o;const n=t?e.filter((e=>!e.disabled)):e;if(Array.isArray(e)&&!(null===(o=e[0])||void 0===o||!o.group)){const e=n.reduce(((e,t)=>{if(t.group){const r=t.group;e[r]=e[r]||[],e[r].push(t)}return e}),{}),t=Object.keys(e);return(0,k.jsx)(i.Fragment,{children:t.map((t=>(0,k.jsx)("optgroup",{label:t,children:e[t].map((e=>(0,k.jsx)("option",{value:r?e.text:e.value,children:e.nativepicker_text||e.text},e.id||e.value)))},t)))})}return(0,k.jsx)(i.Fragment,{children:n.map((e=>(0,k.jsx)("option",{value:r?e.text:e.value,children:e.nativepicker_text||e.text},e.id||e.value)))})},Oa=e=>{let{className:t,classNameDisplay:r,classNameHint:o,disabled:a,error:s,hide_selected_value:c,hint:l,label:u,list_items:d,placeholder:_,is_country_code_dropdown:p,should_hide_disabled_options:h=!0,should_show_empty_option:m=!0,suffix_icon:f,use_text:g,value:b,data_testid:v,hide_top_placeholder:y=!1}=e,D=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,wa);return(0,k.jsxs)("div",{className:n()(t,"dc-select-native",{"dc-select-native--disabled":a,"dc-select-native--error":s,"dc-select-native--hide-selected-value":c}),children:[(0,k.jsx)("div",{className:"dc-select-native__wrapper",children:(0,k.jsxs)("div",{className:n()("dc-input",{"dc-input--disabled":a,"dc-input--error":s}),children:[(0,k.jsxs)("div",{className:n()("dc-select-native__container",{"dc-select-native__container--error":s,"dc-select-native__container--disabled":a}),children:[(0,k.jsx)("div",{className:"dc-select-native__display",children:d&&b&&(0,k.jsx)("div",{className:n()("dc-select-native__display-text",r),"data-testid":"selected_value",children:!c&&(g?b:Ea(d,b))})}),(0,k.jsx)("div",{className:n()("dc-select-native__placeholder",{"dc-select-native__placeholder--has-value":b,"dc-select-native__placeholder--hide-top-placeholder":b&&y,"dc-select-native__placeholder--disabled":a}),children:u}),f?(0,k.jsx)(S.default,{className:"dc-select-native__suffix-icon",icon:f}):(0,k.jsx)(S.default,{icon:"IcChevronDown",className:"dc-select-native__arrow"}),(0,k.jsx)("select",Aa(Aa({className:"dc-select-native__picker",value:b,disabled:a,"data-testid":v},D),{},{id:"dt_components_select-native_select-tag",children:Array.isArray(d)?(0,k.jsxs)(i.Fragment,{children:[m&&(0,k.jsx)("option",{value:"",children:_}),(0,k.jsx)(ja,{list_items:d,should_hide_disabled_options:h,use_text:g&&!p})]}):Object.keys(d).map((e=>(h?d[e].filter((e=>!e.disabled)):d[e]).length>0?(0,k.jsx)("optgroup",{label:e,children:(0,k.jsx)(ja,{list_items:d[e],should_hide_disabled_options:h,use_text:g})},e):null))}))]}),s&&(0,k.jsx)(T,{message:s,type:"error"})]})}),!s&&l&&(0,k.jsx)(M,{as:"p",color:"less-prominent",size:"xxs",line_height:"l",className:n()("dc-select-native__hint",o),children:l})]})},Sa=({dropdown_className:e,dropdown_display_className:t,filter_list:r,handleFilterChange:o,initial_selected_filter:n,label:a,hide_top_placeholder:s})=>{var c;const{isDesktop:l}=(0,Dt.Y)(),[u,d]=i.useState(null!=n?n:null==r||null===(c=r[0])||void 0===c?void 0:c.value),_=e=>{d(e.target.value),"function"==typeof o&&o(e.target.value)};return l?(0,k.jsx)(Zi,{list:r,value:u,name:"dc-filter-dropdown",className:e,classNameDisplay:t,suffix_icon:"IcFilter",onChange:_}):(0,k.jsx)(Oa,{list_items:r,value:u,hide_selected_value:!0,suffix_icon:"IcFilter",should_show_empty_option:!1,onChange:_,label:a,hide_top_placeholder:s})},Fa=Sa,ka=({steps:e=[],current_step:t,sub_section_index:r})=>{const{isDesktop:o}=(0,Dt.Y)();i.useEffect((()=>{s()}));const a=i.useRef(null),s=()=>{var o;const n=(null===(o=e[t])||void 0===o?void 0:o.sub_step_count)||null,i=document.querySelector(".identifier")||{offsetLeft:0,clientWidth:1},s=100/e.length,c=n?Math.ceil(s/n):0;a.current&&(a.current.style.width=t*s+r*c+"%",a.current.style.transform=`translateX(${i.offsetLeft+i.clientWidth/2}px)`)};let c=!1;return(0,k.jsx)(i.Fragment,{children:o?(0,k.jsx)("div",{className:"dc-form-progress",children:(0,k.jsxs)("div",{className:"dc-form-progress__header",children:[(0,k.jsx)(K,{as:"h2",color:"prominent",weight:"bold",line_height:"unset",children:e[t].header.active_title}),(0,k.jsxs)("div",{className:"dc-form-progress__steps",children:[(0,k.jsx)("div",{className:"dc-form-progress__steps--before",style:{width:`calc(100% * ${e.length-1} / ${e.length})`}}),e.map(((e,r)=>(0,k.jsxs)(i.Fragment,{children:[c=r===t,(0,k.jsxs)("div",{className:"dc-form-progress__step",children:[(0,k.jsx)(K,{align:"center",size:"xs",weight:"bold",color:"colored-background",className:n()("identifier",{"identifier--active":r<=t}),children:r+1}),(0,k.jsx)(K,{as:"p",align:"center",size:"xxs",weight:c?"bold":"unset",color:c?"loss-danger":"prominent",children:e.header.title})]})]},e.header.title))),(0,k.jsx)("div",{ref:a,className:"dc-form-progress__steps--after"})]})]})}):(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{ref:a,className:"dc-form-progress__steps--after"}),(0,k.jsx)("div",{className:"dc-form-progress--initial"})]})})},Pa=i.memo(ka),Ta=["cancel_label","className","has_cancel","form_error","cancel_icon","is_center","is_disabled","is_absolute","is_loading","label","onCancel"];function Na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(r),!0).forEach((function(t){Ia(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Na(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ia(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ba=e=>{let{cancel_label:t,className:r,has_cancel:o=!1,form_error:i="",cancel_icon:a,is_center:s=!1,is_disabled:c=!1,is_absolute:l=!1,is_loading:u,label:d,onCancel:_}=e,p=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Ta);return(0,k.jsxs)("div",{className:n()("dc-form-submit-button",r,{"dc-form-submit-button--absolute":l,"dc-form-submit-button--center":!!s,"dc-form-submit-button--relative":!l}),children:[!!i&&(0,k.jsx)(K,{as:"p",size:"xs",styles:{color:"var(--brand-red-coral)"},className:"dc-form-submit-button--error",children:i}),o&&(0,k.jsx)(Xe,{has_effect:!0,onClick:_,text:t,type:"button",secondary:!0,large:!0,icon:a}),(0,k.jsx)(Xe,La({has_effect:!0,is_disabled:c,type:"submit",text:d,is_loading:u,large:!0,primary:!0},p))]})},Ra=Ba,Ma=({className:e,message:t,text_color:r="prominent",weight:o="bold"})=>(0,k.jsxs)("div",{className:n()("dc-form-submit-error-message",e),children:[(0,k.jsx)(S.default,{icon:"IcAlertDanger",data_testid:"form_submit_error"}),(0,k.jsx)(K,{as:"p",size:"xxs",weight:o,color:r,children:t})]}),za=["className","is_center","is_absolute","label","onCancel"];function Ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(r),!0).forEach((function(t){$a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Va=e=>{let{className:t,is_center:r=!1,is_absolute:o=!1,label:i,onCancel:a}=e,s=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,za);return(0,k.jsx)("div",{className:n()("dc-form-cancel-button",t,{"dc-form-cancel-button--absolute":o,"dc-form-cancel-button--center":r,"dc-form-cancel-button--relative":!o}),children:(0,k.jsx)(Xe,Wa({has_effect:!0,onClick:a,text:i,type:"button",tertiary:!0,large:!0},s))})},Ha=Va,Ga=({children:e,color:t,primary:r,secondary:o,tertiary:n})=>(0,k.jsxs)("div",{className:"gradient-background",style:{backgroundColor:t},children:[(0,k.jsxs)("div",{className:"gradient-background__container",children:[(0,k.jsx)("div",{className:"gradient-background__primary",style:{background:r}}),(0,k.jsx)("div",{className:"gradient-background__secondary",style:{background:o}}),(0,k.jsx)("div",{className:"gradient-background__tertiary",style:{background:n}})]}),e&&(0,k.jsx)("div",{className:"gradient-background__children",children:e})]}),Ya=({children:e,blur_radius:t=48,background_color:r,primary_color:o,secondary_color:n})=>(0,k.jsxs)("div",{className:"gradient-background-two-point",style:{backgroundColor:r},children:[(0,k.jsx)("div",{className:"gradient-background-two-point__primary",style:{filter:`blur(${t}px)`,background:o}}),(0,k.jsx)("div",{className:"gradient-background-two-point__secondary",style:{filter:`blur(${t}px)`,background:n}}),e&&(0,k.jsx)("div",{className:"gradient-background-two-point__children",children:e})]}),Ka=({className:e,icon:t,is_info:r,is_warn:o,is_danger:i,is_inline:a,icon_height:s,icon_width:c,message:l,id:u})=>(0,k.jsxs)("div",{className:n()("dc-hint-box",{"dc-hint-box--info":r,"dc-hint-box--warn":o,"dc-hint-box--danger":i,"dc-hint-box--inline":a},e),id:u,children:[(0,k.jsx)(S.default,{className:n()("dc-hint-box__icon",{"dc-hint-box--inline-icon":a}),custom_color:r?"var(--status-info)":void 0,icon:t,height:s,width:c,size:s&&c?0:16}),(0,k.jsx)("div",{className:n()("dc-hint-box__message",{"dc-hint-box--inline-message":a}),children:l})]});function qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(r),!0).forEach((function(t){Za(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Za(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Xa=({is_left_swipe:e,is_left_swipe_disabled:t,is_right_swipe:r,is_right_swipe_disabled:o,left_hidden_component:n,left_hidden_component_width:a="7rem",right_hidden_component:s,right_hidden_component_width:c="7rem",visible_component:l})=>{var u,d;const[_,p]=i.useState(!1),[h,m]=i.useState(!1),f=i.useRef(null),g=Ja(Ja({},_&&{transform:`translate(${a})`}),h&&{transform:`translate(-${c})`}),b=(0,rr.useSwipeable)({onSwipedLeft:()=>{if(!t){if(e&&h||r&&!_)return;e&&!h&&m(!0),r&&_&&p(!1)}},onSwipedRight:()=>{if(!o){if(e&&!h||r&&_)return;e&&h&&m(!1),r&&!_&&p(!0)}}});return(0,k.jsx)("div",Ja(Ja({},b),{},{children:(0,k.jsxs)("div",{className:"dc-horizontal-swipe",children:[f&&(0,k.jsx)("div",{className:"dc-horizontal-swipe--left",style:{height:null===(u=f.current)||void 0===u?void 0:u.clientHeight,width:`${a}`},children:n}),(0,k.jsx)("div",{className:"dc-horizontal-swipe--main",ref:f,style:g,children:l}),f&&(0,k.jsx)("div",{className:"dc-horizontal-swipe--right",style:{height:`${null===(d=f.current)||void 0===d?void 0:d.clientHeight}px`,width:`${c}`},children:s})]})}))},Qa=Oe.wK,es=({className:e,data_list_className:t,has_filler:r,has_more_items_to_load:o,items:n,keyMapperFn:i,loadMoreRowsFn:a,onScroll:s,rowRenderer:c,overscanRowCount:l,getRowSize:u})=>{const d=r?n.length-1:n.length,_=o?d+1:d;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(Qa,{className:e,isRowLoaded:({index:e})=>{const t=r?n.slice(1):n;return e<t.length&&!!t[e]},loadMoreRows:a,rowCount:_,children:({onRowsRendered:e,registerChild:r})=>(0,k.jsx)(wi,{className:t,data_source:n,getRowSize:u,keyMapper:i,onRowsRendered:e,onScroll:s,overscanRowCount:l,rowRenderer:c,setListRef:r})})})},ts=es,rs={warning:"IcAlertWarning",information:"IcAlertInfo",announcement:"IcAlertAnnounce",error:"IcAlertDanger"},os={xs:(0,C.isMobile)()?"xxxxs":"xxxs",sm:(0,C.isMobile)()?"xxxs":"xxs",md:(0,C.isMobile)()?"xxs":"xs",lg:(0,C.isMobile)()?"xs":"s"},ns=({type:e="warning",size:t="xs",title:r,message:o,children:n,className:i,id:a})=>{const s=rs[e],c="lg"!==t||(0,C.isMobile)()?16:24,l=os[t];return(0,k.jsxs)("div",{className:`inline-message inline-message__${e} inline-message__${t} ${i}`,id:a,children:[(0,k.jsx)(S.default,{size:c,icon:s,className:`inline-message__icon__${t}`}),(0,k.jsxs)(K,{size:l,className:`inline-message__messages inline-message__messages__${t}`,children:[r&&(0,k.jsx)("strong",{children:r}),o&&(0,k.jsx)("span",{children:o}),n]})]})},is=["adjustment","default","success","warn","danger","info","transfer","default-invert","success-invert","warn-invert"],as=["regular","large"],ss=({mode:e,children:t,size:r="regular",className:o})=>{const i=is.some((t=>t===e))?e:"default",a=as.some((e=>e===r))?r:"regular";return(0,k.jsx)("span",{className:n()("dc-label",o,{[`dc-label--general--${a}`]:a,[`dc-label--general--${i}`]:i}),children:t})},cs=({progress:e,className:t})=>(0,k.jsx)("div",{className:n()("dc-linear-progress",t),children:(0,k.jsx)("div",{className:"dc-linear-progress__bar",style:{width:`${e}%`}})}),ls=i.forwardRef((({timeout:e,action:t,render:r,className:o,should_store_in_session:n,session_id:a},s)=>{const c=Number(sessionStorage.getItem(`linear_progress_timeout_${a}`)),l=c?Number(c):e/1e3,[u,d]=i.useState(l),_=100-u/(e/1e3)*100,p=()=>_,h=()=>{d((e=>e-1))};if(i.useImperativeHandle(s,(()=>({removeTimeoutSession(){n&&sessionStorage.removeItem(`linear_progress_timeout_${a}`)}}))),i.useEffect((()=>{n&&sessionStorage.setItem(`linear_progress_timeout_${a}`,String(u))}),[u,n,a]),i.useEffect((()=>{const e=setInterval(h,1e3);return()=>{clearInterval(e)}}),[]),i.useEffect((()=>{p()>100&&t()})),c<=0)sessionStorage.removeItem(`linear_progress_timeout_${a}`);else{if(!(c>0))return null;sessionStorage.setItem(`linear_progress_timeout_${a}`,String(u))}return e?(0,k.jsxs)("div",{className:"dc-linear-progress-container",children:[(0,k.jsx)("div",{className:"dc-linear-progress__countdown",children:r(u>0?u:0)}),(0,k.jsx)(cs,{className:o,progress:p()})]}):null}));ls.displayName="LinearProgressContainer";const us=ls,ds=We,_s=({children:e,className:t})=>(0,k.jsx)("div",{className:n()("dc-mobile-drawer__body",t),children:e}),ps=({children:e,className:t})=>(0,k.jsx)("div",{className:n()("dc-mobile-drawer__footer",t),children:e}),hs=({className:e,children:t})=>(0,k.jsx)("div",{className:n()("dc-mobile-drawer__subheader",e),children:t}),ms=({className:e,children:t,onClick:r})=>(0,k.jsx)("div",{className:n()("dc-mobile-drawer__item",e),onClick:r,children:t}),fs=({children:e,collapse:t,has_subheader:r,is_expanded:o,submenu_title:i})=>(0,k.jsx)(ne.A,{in:o,classNames:{enter:"dc-mobile-drawer__submenu-list--enter",enterDone:"dc-mobile-drawer__submenu-list--enter-done",exit:"dc-mobile-drawer__submenu-list--exit"},timeout:250,unmountOnExit:!0,children:(0,k.jsxs)("div",{className:n()("dc-mobile-drawer__submenu-list",{"dc-mobile-drawer__submenu-list--has-subheader":r}),children:[(0,k.jsxs)("div",{className:"dc-mobile-drawer__submenu-list-title",onClick:t,children:[(0,k.jsx)("div",{className:"dc-mobile-drawer__submenu-back",children:(0,k.jsx)(S.default,{className:"dc-mobile-drawer__submenu-back-icon",icon:"IcChevronLeft"})}),i&&(0,k.jsx)(M,{as:"h3",weight:"bold",color:"prominent",children:i})]}),e]})}),gs=({children:e,has_subheader:t,onToggle:r,submenu_toggle_class:o,submenu_icon:a,submenu_title:s,submenu_suffix_icon:c,route_config_path:l,is_expanded:u=!1})=>{const[d,_]=i.useState(u),p=()=>{const e=!d;_(e),r&&r(e)};return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)("div",{className:n()("dc-mobile-drawer__submenu-toggle",o),onClick:p,children:[a&&(0,k.jsx)(S.default,{className:"dc-mobile-drawer__submenu-toggle-icon",icon:a}),s&&(0,k.jsx)(M,{as:"h3",size:"xs",weight:l&&window.location.pathname.startsWith(l)?"bold":"",children:s}),c&&(0,k.jsx)(S.default,{className:"dc-mobile-drawer__submenu-toggle-suffix-icon",icon:c})]}),(0,k.jsx)(fs,{collapse:p,has_subheader:t,is_expanded:d,submenu_title:s,children:e})]})},bs=["submenu_toggle_class","section_title","section_icon","children"];const vs=e=>{let{submenu_toggle_class:t,section_title:r,section_icon:o,children:i}=e;!function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}}(e,bs);return(0,k.jsxs)("div",{className:n()("dc-mobile-drawer__submenu-section",t),children:[(0,k.jsxs)("div",{className:"dc-mobile-drawer__submenu-section-title",children:[o&&(0,k.jsx)(S.default,{className:"dc-mobile-drawer__submenu-section-title-icon",icon:o}),r&&(0,k.jsx)(M,{as:"h3",size:"xs",weight:"bold",className:"dc-mobile-drawer__submenu-section-title-text",children:r})]}),(0,k.jsx)("div",{className:"dc-mobile-drawer__submenu-section-content",children:i})]})},ys=i.memo(vs),Ds=({className:e,id:t,height:r,width:o,alignment:i,is_open:a,transitionExit:s,title:c,toggle:l,children:u,livechat:d})=>a?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"dc-mobile-drawer__overlay "+(s?"exit":""),onClick:e=>{e.stopPropagation(),l()}}),(0,k.jsx)("div",{className:"dc-mobile-drawer "+(s?"exit":""),children:(0,k.jsxs)("div",{id:t,className:n()("dc-mobile-drawer__container",{[`dc-mobile-drawer__container_${e}`]:e}),style:{height:r||"auto",width:o||"auto"},children:[(0,k.jsxs)("div",{className:n()("dc-mobile-drawer__header",{"dc-mobile-drawer__header--right":"right"===i,[`dc-mobile-drawer__header--${e}`]:e}),children:[(0,k.jsx)("div",{onClick:l,className:"dc-mobile-drawer__header-close",children:(0,k.jsx)(S.default,{icon:"IcCross"})}),(0,k.jsxs)("div",{className:"dc-mobile-drawer__header-wrapper",children:[c&&(0,k.jsx)(M,{as:"h3",color:"prominent",weight:"bold",className:n()("dc-mobile-drawer__header-title",{[`dc-mobile-drawer-header__title--${e}`]:e}),children:c}),d]})]}),u]})})]}):(0,k.jsx)(k.Fragment,{});Ds.Body=_s,Ds.Footer=ps,Ds.Item=ms,Ds.SubHeader=hs,Ds.SubMenu=gs,Ds.SubMenuSection=ys;const ws=Ds,Cs=({children:e,header:t,id:r,is_from_app:o=!1,is_from_derivp2p:a=!1,is_open:s,onClickClose:c,portal_id:l,header_classname:u,has_return_icon:d,onReturn:_,is_from_tradershub_os:p=!1})=>{const h=i.useRef(null),m=()=>{var e;window.location.href=null!==(e=C.platforms.tradershub_os.url)&&void 0!==e?e:""},f=()=>{var e;window.location.href=null!==(e=C.platforms.p2p_v2.url)&&void 0!==e?e:""},g=()=>(0,k.jsx)("div",{"data-testid":"dt_page_overlay_header_close",className:"dc-page-overlay__header-close",onClick:a?f:p?m:c||window.history.back,children:(0,k.jsx)(S.default,{icon:"IcCross"})}),b=(0,k.jsxs)("div",{ref:h,id:r,className:n()("dc-page-overlay",{"dc-page-overlay-portal":!!l}),children:[t&&(0,k.jsx)("div",{className:n()("dc-page-overlay__header",{"dc-page-app__header":o,"dc-page-overlay__header-tradershub":p}),children:(0,k.jsxs)("div",{className:"dc-page-overlay__header-wrapper",children:[(0,k.jsxs)("div",{className:n()("dc-page-overlay__header-title",u),children:[d&&(0,k.jsx)(S.default,{icon:"IcArrowLeftBold",onClick:_,className:"dc-modal-header__icon"}),t]}),!o&&(0,k.jsx)(g,{})]})}),(0,k.jsx)("div",{className:"dc-page-overlay__content",children:e})]});return l?oe.createPortal((0,k.jsx)(ne.A,{appear:!0,in:s,timeout:250,classNames:{appear:"dc-page-overlay--enter",enter:"dc-page-overlay--enter",enterDone:"dc-page-overlay--enter-done",exit:"dc-page-overlay--exit"},unmountOnExit:!0,children:b}),document.getElementById(l)):(0,k.jsx)(i.Fragment,{children:b})};function As(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?As(Object(r),!0).forEach((function(t){Es(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):As(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Es(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const js=({body_className:e,className:t,should_header_stick_body:r,header:o,header_background_color:a,height_offset:s="0px",is_flex:c,is_popup:l,is_modal_open:u,onClickClose:d,renderPageFooterChildren:_,page_footer_className:p,page_footer_parent:h,page_footer_parent_className:m,page_header_className:f,page_header_text:g,renderPageHeaderTrailingIcon:b,pageHeaderReturnFn:v,renderPageHeader:y,renderPageHeaderElement:D,children:w,container_children:C})=>(0,k.jsx)(pa,{is_visible:u,className:n()("dc-mobile-full-page-modal",t),keyname:`${t}__wrapper`,children:(0,k.jsx)(Cs,{header:o,onClickClose:d,children:(0,k.jsxs)(Ho,{className:n()("dc-mobile-full-page-modal",{"dc-mobile-full-page-modal--flex":c,"dc-mobile-full-page-modal--popup":l}),height_offset:s,children:[(y||g||D)&&(0,k.jsxs)("div",{className:n()("dc-mobile-full-page-modal__header",xs({"dc-mobile-full-page-modal__header--border-bottom":!r},f?{[f]:!!f}:{})),style:{background:a},children:[v&&(0,k.jsx)("div",{className:"dc-mobile-full-page-modal__header-return",children:(0,k.jsx)(S.default,{icon:"IcArrowLeftBold",onClick:v,data_testid:"dt_mobile_full_page_return_icon"})}),y&&y(),(0,k.jsx)("div",{className:"dc-mobile-full-page-modal__header-text",children:null!=D?D:(0,k.jsx)(M,{as:"p",color:"prominent",line_height:"m",size:"s",weight:"bold",children:g})}),b&&(0,k.jsx)("div",{className:"dc-mobile-full-page-modal__header-trailing-icon",children:b()})]}),(0,k.jsx)("div",{className:n()("dc-mobile-full-page-modal__body",e),children:w}),_&&(0,k.jsxs)(i.Fragment,{children:[h&&(0,k.jsx)("div",{className:n()("dc-mobile-full-page-modal__footer-parent",m),children:h}),(0,k.jsx)("div",{className:n()("dc-mobile-full-page-modal__footer",p),children:_()})]}),C]})})}),Os=i.forwardRef((({className:e,lbl_previous:t,steps:r},o)=>{const[a,s]=i.useState(0),[c,l]=i.useState(r[0].component);i.useEffect((()=>{l(r[a].component)}),[a,r]),i.useImperativeHandle(o,(()=>({goNextStep:u,goPrevStep:d})));const u=()=>s(a+1),d=()=>s(a-1),_=(0,k.jsx)("div",{className:"multi-step__header",children:(0,k.jsxs)("a",{onClick:d,className:"multi-step__btn",children:[(0,k.jsx)(F,{icon:"IcArrowLeftBold",className:"multi-step__btn-icon"}),t]})});return(0,k.jsxs)("div",{className:n()("multi-step",e),children:[0!==a&&t&&_,(0,k.jsx)("div",{className:"multi-step__component",children:c})]})}));Os.displayName="MultiStep";const Ss=Os,Fs=({animation_duration:e,is_exceeding_parent:t,is_second_container:r,react_children:o})=>(0,k.jsx)("div",{className:"dc-news-ticker__children",style:t?{animationDuration:`${e}s`,animationDelay:r?`-${e}s`:`-${e/2}s`}:void 0,children:i.Children.map(o,((e,t)=>(0,k.jsx)("div",{className:"dc-news-ticker__item",children:e},`news-ticker-item-${t}`)))});Fs.displayName="NewsTickerChildren";const ks=Fs,Ps=({children:e,className:t,speed:r})=>{const[o,a]=i.useState(-1),[s,c]=i.useState(!1),l=o/r;return(0,k.jsxs)("div",{className:n()("dc-news-ticker",t),ref:e=>{e&&(c(e.scrollWidth>e.clientWidth),-1===o&&a(e.scrollWidth))},children:[(0,k.jsx)(ks,{animation_duration:l,is_exceeding_parent:s,react_children:e}),s&&(0,k.jsx)(ks,{animation_duration:l,is_exceeding_parent:s,is_second_container:!0,react_children:e})]})},Ts=({onSelect:e,className:t,number:r})=>(0,k.jsx)(Xe,{className:n()("dc-numpad__number",t,{"dc-numpad__number--zero":0===r,"dc-numpad__number--r3":r>6&&r<10,"dc-numpad__number--r2":r>3&&r<7,"dc-numpad__number--r1":r>0&&r<4}),type:"button",classNameSpan:"dc-numpad__number--is-left-aligned",has_effect:!0,onClick:()=>e(r),text:String(r),renderText:e=>(0,k.jsx)(K,{styles:{fontSize:"1.8rem"},weight:"bold",align:"center",children:e})}),Ns=({onSelect:e})=>(0,k.jsx)(i.Fragment,{children:Array.from(new Array(10),((e,t)=>t)).map((t=>(0,k.jsx)(Ts,{number:t,onSelect:e},t)))}),Ls=e=>{const t="string"==typeof e?e.split("."):e.toString().split(".");return t&&t.length>1?t[1].length:0},Is=({className:e,max:t,min:r,value:o,onChange:a,render:s,pip_size:c=0,currency:l})=>{const u=(()=>{const e=!!l&&(0,C.isCryptocurrency)(l),t=Number.isFinite(+o)?Ls(o):0;return e||!l&&t?parseFloat(String(1*10**(0-t))):1})(),d=Number.isFinite(+t)&&+o+u>+t,_=Number.isFinite(+r)&&+o-u<+r;return(0,k.jsxs)("div",{className:"dc-numpad__input-area",children:[(0,k.jsx)(Xe,{text:"+",className:"dc-numpad__increment",onClick:()=>{if(d)return;const e=parseFloat(o.toString());let t;if(Number.isNaN(e))t=r;else{const r=Number.isFinite(+o)?Ls(o):0;if(!!l&&(0,C.isCryptocurrency)(l)||!l&&r){const e=parseFloat(o.toString())+parseFloat(String(1*10**(0-r)));t=parseFloat(e.toString()).toFixed(r)}else t=e+1}a(t,c)},is_disabled:d}),(0,k.jsx)(i.Fragment,{children:s&&s({value:o.toString(),className:n()("dc-numpad__input-field",e)})}),!s&&(0,k.jsx)(G,{className:"dc-numpad__input-field",name:"amount",value:o,readOnly:!0}),(0,k.jsx)(Xe,{text:"-",className:"dc-numpad__decrement",onClick:()=>{if(_)return;const e=parseFloat(o.toString());let t;if(Number.isNaN(e))t=r;else{const r=Number.isFinite(+o)?Ls(o):0;if(!!l&&(0,C.isCryptocurrency)(l)||!l&&r){const e=parseFloat(o.toString())-parseFloat(String(1*10**(0-r)));t=parseFloat(e.toString()).toFixed(r)}else t=e-1}a(t,c)},is_disabled:_})]})};function Bs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(r),!0).forEach((function(t){Ms(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ms(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const zs=(e,t)=>t.toString().concat(e.toString()),Us=({className:e,currency:t,is_regular:r,is_currency:o,is_submit_disabled:a,label:s,reset_press_interval:c,reset_value:l,max:u=9999999,min:d=0,pip_size:_,onSubmit:p,render:h,submit_label:m="OK",value:f,format:g,onValueChange:b,onValidate:v})=>{const D=e=>"function"==typeof g?g(e.toString()):e,w=e=>new RegExp(/\./).test(String(e)),C=D(f),[A,x]=i.useState(w(C)),[E,j]=i.useState(C),[O,S]=i.useState(!1);i.useEffect((()=>{C!==D(E)&&(F(f),x(w(f)))}),[f]),i.useEffect((()=>{const e=!v(E)||"error"===v(E);S(e)}),[E,f]);const F=e=>{j(e),b&&b(e)},P=e=>{switch(e){case-1:T();break;case".":if(A)break;x(!0),0===E.toString().length?F(zs(e,"0")):F(zs(e,E));break;default:if("0"===String(E))F(zs(e,""));else{const t=/(?:^\d{0,35}\.)(\d{0,35})$/.exec(String(E));null!==t&&A?t.forEach(((t,r)=>{1===r&&t.length<_&&A&&F(zs(e,E))})):+zs(e,E)<=u&&F(zs(e,E))}}},T=()=>{"."===E.toString().slice(-1)&&x(!1),F(E.toString().slice(0,-1))},N=![!!r,!!o].includes(!0);i.useEffect((()=>{o&&void 0===_&&console.error("Warning: property pip_size is required when using currency type <Numpad pip_size='2' />")}));const L=!E.toString().length,I=y((()=>{A&&x(!1),F(l||"")}),c),B=a||!E.toString().length||Boolean(d&&+D(E)<d);return(0,k.jsxs)("div",{className:n()("dc-numpad",e,{"dc-numpad--is-regular":r||N,"dc-numpad--is-currency":o&&!N}),children:[(0,k.jsx)(Is,{className:O?"dc-numpad__input-field--has-error":"",currency:t,pip_size:_,value:E,render:h,onChange:e=>{const t=Number(e).toFixed((e=>{const t="string"==typeof e?e.split("."):e.toString().split(".");return t&&t.length>1?t[1].length:0})(E));x(w(t)),F(t)},min:d,max:u,label:s}),(0,k.jsx)(Ns,{onSelect:P,number:0}),o&&(0,k.jsx)(Xe,{type:"button",className:"dc-numpad__number",has_effect:!0,onClick:()=>P("."),text:".",renderText:e=>(0,k.jsx)(K,{styles:{fontSize:"1.8rem"},weight:"bold",align:"center",children:e})}),(0,k.jsx)("div",{className:"dc-numpad__bkspace",children:(0,k.jsx)(Xe,Rs(Rs({},I),{},{type:"button",has_effect:!0,className:"dc-numpad__number",onClick:()=>{P(-1)},is_disabled:L,text:"⌫",renderText:e=>(0,k.jsx)(K,{weight:"bold",align:"center",color:L?"disabled":"general",children:e})}))}),(0,k.jsx)("div",{className:"dc-numpad__ok",children:(0,k.jsx)(Xe,{type:"button",has_effect:!0,className:n()("dc-numpad__number",{"dc-numpad__number--is-disabled":a||!E.toString().length||d&&+D(E)<d}),onClick:()=>{E.toString().length&&(d&&+D(E)<d||p(D(E)))},is_disabled:B,text:m,renderText:e=>(0,k.jsx)(K,{styles:{fontSize:"1.8rem"},weight:"bold",align:"center",color:B?"disabled":"general",children:e})})})]})},Ws=Us;var $s=r(978513);const Vs=({children:e,text_size:t,className:r})=>(0,k.jsx)("button",{type:"button",className:(0,Fe.A)("open-livechat__link",r),onClick:$s.Chat.open,children:(0,k.jsx)(K,{size:t||"xs",weight:"bold",color:"brand-red-coral",children:e||(0,k.jsx)(he.Localize,{i18n_default_text:"live chat"})})}),Hs=({buttonOnClick:e,buttonSize:t="large",classNameImage:r,header:o,image_url:i,messages:a,redirect_labels:s,redirect_urls:c,should_clear_error_on_click:l,setError:u,should_redirect:d=!0})=>{var _;const p=()=>{l?null==u||u(!1,null):null==e||e()},h=(0,C.isMobile)();return(0,k.jsxs)("div",{className:"dc-page-error__container",children:[!!i&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(lo,{children:(0,k.jsx)("img",{className:r,src:i,alt:"404",loading:"lazy",width:"607px",height:"366px"})}),(0,k.jsx)(uo,{children:(0,k.jsx)("img",{className:r,src:i,alt:"404",loading:"lazy",width:"328px",height:"200px"})})]}),(0,k.jsxs)("div",{className:n()("dc-page-error__box",{"dc-page-error__box--left":!!i}),children:[(0,k.jsx)(M,{as:"h3",size:h?"s":"l",align:"center",weight:"bold",line_height:"s",color:"prominent",children:o}),(0,k.jsx)("div",{className:n()("dc-page-error__message-wrapper",{"dc-page-error__message-wrapper--left":!!i}),children:(0,k.jsx)(M,{color:"prominent",className:n()("dc-page-error__message",{"dc-page-error__message--left":!!i}),children:a.map(((e,t)=>null!=e&&e.has_html?(0,k.jsx)(M,{as:"p",size:h?"xxs":"s",align:h?"center":"left",line_height:"x",className:"dc-page-error__message-paragraph",dangerouslySetInnerHTML:{__html:null==e?void 0:e.message}},t):(0,k.jsx)(M,{as:"p",size:h?"xxs":"s",align:h?"center":"left",line_height:"x",className:"dc-page-error__message-paragraph",children:e},t)))})}),(0,k.jsxs)("div",{className:"dc-page-error__btn-wrapper","data-testid":"dc-page-error__btn-wrapper",children:[d&&0!==s.length&&(null==c||null===(_=c.map)||void 0===_?void 0:_.call(c,((e,r)=>(0,k.jsx)(ct,{className:"dc-page-error__btn",to:e,onClick:p,size:t,children:(0,k.jsx)(M,{weight:"bold",size:h?"xs":"s",className:"dc-page-error__btn-text dc-btn__text",children:s[r]})},r)))),!d&&(0,k.jsx)(Qe,{type:"button",className:"dc-page-error__btn--no-redirect",onClick:p,primary:!0,large:!h,medium:h,children:(0,k.jsx)(M,{weight:"bold",size:h?"xs":"s",className:"dc-page-error__btn-text dc-btn__text",children:s[0]})})]})]})]})},Gs=()=>(0,k.jsxs)("div",{className:"unhandled-error",children:[(0,k.jsx)(F,{icon:"IcAccountError",size:96}),(0,k.jsx)(K,{className:"da-icon-with-message__text",as:"p",size:"s",color:"general",line_height:"xxl",align:"center",weight:"bold",children:(0,C.getDefaultError)().header}),(0,k.jsx)(K,{className:"da-icon-with-message__text__desc",as:"p",size:"xs",color:"general",line_height:"xxs",align:"center",children:(0,C.getDefaultError)().description}),(0,k.jsx)(Qe,{onClick:()=>location.reload(),has_effect:!0,primary:!0,large:!0,text:(0,C.getDefaultError)().cta_label})]}),Ys=()=>{const[e,t]=i.useState(!1);i.useEffect((()=>{t(!0)}),[]);const r=()=>{t(!e)};return(0,k.jsxs)(aa,{has_close_icon:!0,width:"440px",height:"284px",is_open:e,toggleModal:r,children:[(0,k.jsx)(lo,{children:(0,k.jsx)(aa.Body,{children:(0,k.jsx)(Gs,{})})}),(0,k.jsx)(uo,{children:(0,k.jsx)(Yo,{portal_element_id:"modal_root",has_close_icon:!0,visible:e,onClose:r,children:(0,k.jsx)(aa.Body,{children:(0,k.jsx)(Gs,{})})})})]})},Ks=["error_header","error_messages"];function qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Js(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Zs=e=>{let{error_header:t,error_messages:r}=e,o=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Ks);return t&&r?(0,k.jsx)(Hs,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(r),!0).forEach((function(t){Js(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({header:t,messages:r},o)):r?(0,k.jsx)(ca,{messages:r}):(console.error("Unhandled error in PageErrorContainer:",t),(0,k.jsx)(Ys,{}))},Xs=Cs,Qs=["className","autoComplete","input_id"];function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach((function(t){rc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const oc=e=>{let{className:t,autoComplete:r,input_id:o}=e,a=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Qs);const[s,c]=i.useState(!1);return(0,k.jsx)("div",{className:"dc-password-input",children:(0,k.jsx)(Y,tc(tc({},a),{},{autoComplete:r,type:s?"text":"password",input_id:o,className:n()("dc-password-input__field",t),trailing_icon:(0,k.jsx)(F,{icon:s?"IcPasswordEyeVisible":"IcPasswordEyeHide",className:"dc-password-input__visibility-icon",onClick:()=>{c(!s)},color:"secondary",width:18,data_testid:"dt_password_input_visibility_icon"})}))})},nc=({children:e,has_error:t,input:o,custom_feedback_messages:a})=>{const s=i.useRef(),[c,l]=i.useState(!0),[u,d]=i.useState(0),[_,p]=i.useState({warning:()=>"",suggestions:""}),h=(0,C.useIsMounted)();if(i.useEffect((()=>{!async function(){const e=await r.e(1654).then(r.t.bind(r,371654,23));s.current=e.default,h()&&l(!1)}()}),[]),i.useEffect((()=>{if("function"==typeof s.current)if((null==o?void 0:o.length)>0){const{score:e,feedback:t}=s.current(o,{feedback_messages:a});d(e),p(t)}else d(0),p({warning:()=>"",suggestions:""})}),[a,t,o]),c)return(0,k.jsx)(ds,{is_fullscreen:!1});const m=t&&o.length?.25:.25*(o.length&&u<1?1:u);return(0,k.jsx)(i.Fragment,{children:(0,k.jsxs)("div",{className:"dc-password-meter__container",children:["function"==typeof e?e({has_warning:!(null==_||!_.warning)}):e,(0,k.jsx)("div",{className:"dc-password-meter__bg"}),(0,k.jsx)("div",{className:n()("dc-password-meter",{"dc-password-meter--weak":t||o.length&&u<3,"dc-password-meter--strong":!t&&o.length&&u>=3}),style:{transform:`scale(${m||0}, 1)`}}),(null==_?void 0:_.warning)&&!t&&(0,k.jsx)(N,{className:"dc-password-meter__warning",message:`${a?_.warning():_.warning}`,type:"error"})]})})},ic=nc,ac=({addToast:e,className:t,display_name:r,contract_info:o,contract_update:a,currency:s,current_focus:c,getContractById:l,is_sell_requested:u,is_link_disabled:d,profit_loss:_,onClickCancel:p,onClickSell:h,onClickRemove:m,onFooterEntered:f,onMouseEnter:g,onMouseLeave:b,removeToast:v,result:y,setCurrentFocus:D,server_time:w,should_show_transition:A,should_show_cancellation_warning:x,toggleCancellationWarning:E})=>{const j=(0,C.isAccumulatorContract)(null==o?void 0:o.contract_type),O=(0,C.isMultiplierContract)((null==o?void 0:o.contract_type)||""),S=(0,C.isTurbosContract)(null==o?void 0:o.contract_type),F=(0,C.isVanillaContract)(null==o?void 0:o.contract_type),P=(0,C.isCryptoContract)((null==o?void 0:o.underlying)||""),T=!O||P&&O,N=!!(0,C.getEndTime)(o),L=(0,C.isMobile)(),I=n()("dc-contract-card",{"dc-contract-card--green":Number(_)>0&&!y,"dc-contract-card--red":Number(_)<0&&!y}),B=(0,k.jsx)("div",{className:"dc-contract-card__content-loader",children:(0,k.jsx)(Nn.Loader,{speed:2})}),R=(0,k.jsx)(Nn.Header,{contract_info:o,display_name:null!=r?r:"",getCardLabels:C.getCardLabels,getContractTypeDisplay:C.getContractTypeDisplay,has_progress_slider:!L&&T,is_mobile:L,is_sell_requested:!!u,onClickSell:h,server_time:w}),M=(0,k.jsx)(Nn.Body,{addToast:e,contract_info:o,contract_update:null!=a?a:{},currency:s,current_focus:c,getCardLabels:C.getCardLabels,getContractById:l,onMouseLeave:()=>{"function"==typeof b&&b()},is_accumulator:j,is_mobile:L,is_multiplier:O,is_positions:!0,is_sold:N,is_turbos:S,is_vanilla:F,has_progress_slider:L&&T,removeToast:v,server_time:w,setCurrentFocus:D,should_show_cancellation_warning:x,toggleCancellationWarning:E}),z=(0,k.jsx)(Nn.Footer,{contract_info:o,getCardLabels:C.getCardLabels,is_multiplier:O,is_positions:!0,is_sell_requested:!!u,onClickCancel:p,onClickSell:h,onFooterEntered:f,server_time:w,should_show_transition:!!A}),U=(0,k.jsxs)(i.Fragment,{children:[R,M]}),W=d?(0,k.jsx)("div",{className:I,children:null!=o&&o.underlying?U:B}):(0,k.jsx)(st.NavLink,{className:I,to:{pathname:`/contract/${null==o?void 0:o.contract_id}`},children:null!=o&&o.underlying?U:B});return(0,k.jsx)(Nn,{contract_info:o,getCardLabels:C.getCardLabels,getContractPath:C.getContractPath,is_multiplier:O,is_positions:!0,onClickRemove:m,profit_loss:Number(_),result:null!=y?y:"",should_show_result_overlay:!0,children:(0,k.jsxs)("div",{id:`dc_contract_card_${null==o?void 0:o.contract_id}`,className:t,onMouseEnter:()=>{"function"==typeof g&&g()},onMouseLeave:()=>{"function"==typeof b&&b()},onClick:()=>{"function"==typeof b&&b()},children:[W,z]})})},sc=ac,cc=({children:e,has_separator:t})=>(0,k.jsx)("div",{className:n()("dc-popup-footer",{"dc-popup-footer__separator":t}),children:e}),lc=i.createContext({active_tab_icon_color:"",balance:"",currency:"",close_icon_color:"",header_background_color:"",header_big_text:"",header_banner_text:"",header_button_text:"",header_content_color:"",header_icon:"",is_overlay_shown:!1,should_show_popup:!1,title:"",tab_icon_color:"",tabs_detail:[{has_footer_separator:!1}],Component:"symbol",togglePopupModal:()=>""});var uc=r(291218);const dc=({active_icon_color:e="",active_tab_ref:t,bottom:r=!1,className:o="",count:a,header_content:s,header_fit_content:c=!1,icon_color:l="",icon_size:u=0,icon:d,id:_="",is_active:p,is_label_hidden:h,is_scrollable:m,label:f,onClick:g,setActiveLineStyle:b,top:v})=>{i.useEffect((()=>{b()}),[a,f,s,b]);const y=n()("dc-tabs__item",{"dc-tabs__active":p,[`dc-tabs__active--${o}`]:o&&p,"dc-tabs__item--top":v,"dc-tabs__item--bottom":r,"dc-tabs__item--header-fit-content":c,"dc-tabs__item--is-hidden":h,[`dc-tabs__item--${o}`]:o,"dc-tabs__item--is-scrollable-and-active":m&&p}),D=p?e:l;return(0,k.jsxs)("li",{id:_,className:y,style:{color:D},onClick:g,ref:t,children:[d&&(0,k.jsx)(F,{icon:d,size:u,custom_color:D,className:"dc-tabs__item__icon"}),s||f,!!a&&(0,k.jsx)(Hr,{className:"dc-tabs__item__counter",count:a})]})},_c=(0,uc.withRouter)((({active_icon_color:e="",active_index:t=0,background_color:r="",bottom:o=!1,center:a=!1,children:s,className:c="",fit_content:l=!1,has_active_line:u=!0,has_bottom_line:d=!0,header_fit_content:_=!1,history:p,icon_color:h="",icon_size:m=0,is_100vw:f=!1,is_full_width:g=!1,is_overflow_hidden:b=!1,is_scrollable:v=!1,onTabItemClick:y,should_update_hash:D=!1,single_tab_has_no_label:w=!1,top:C})=>{const[A,x]=i.useState({}),j=i.useRef(null),O=i.useRef(null),S=e=>{p.replace(`${p.location.pathname}${window.location.search}#${e}`)},F=i.useCallback((()=>{var e,t;const r=document.querySelector("html"),o=null==r?void 0:r.classList.contains("tablet-landscape"),n=null==O||null===(e=O.current)||void 0===e?void 0:e.getBoundingClientRect(),i=null==j||null===(t=j.current)||void 0===t?void 0:t.getBoundingClientRect();n&&i?x(o?{left:n.bottom-i.bottom,width:i.height}:{left:i.left-n.left,width:i.width}):setTimeout((()=>{F()}),500)}),[]);let P,T=0;E((()=>{if(T=t,D){const t=location.hash.slice(1),r=s.findIndex((e=>e&&e.props&&e.props.hash===t));if(r>-1)T=r;else{var e;const t=null===(e=s[T])||void 0===e?void 0:e.props,r=t&&t.hash;r&&S(r)}}F()}));const[N,L]=i.useState(T);i.useEffect((()=>{N>=0&&t!==N&&(null==y||y(N)),F()}),[N,F]),i.useEffect((()=>{t>=0&&t!==N&&L(t)}),[t]);const I=s.filter((e=>e));return P=v?"unset":l?"150px":`${(100/I.length).toFixed(2)}%`,(0,k.jsxs)("div",{className:n()("dc-tabs",{[`dc-tabs--${c}`]:c,"dc-tabs--top":C,"dc-tabs--100vw":f}),style:{"--tab-width":`${P}`,background:r},children:[(0,k.jsx)("div",{className:n()({[`dc-tabs__list--header--${c}`]:c}),children:(0,k.jsx)("ul",{className:n()("dc-tabs__list",{"dc-tabs__list--top":C,"dc-tabs__list--border-bottom":d,"dc-tabs__list--bottom":o,"dc-tabs__list--center":a,"dc-tabs__list--header-fit-content":_,"dc-tabs__list--full-width":g,[`dc-tabs__list--${c}`]:c,"dc-tabs__list--overflow-hidden":b}),ref:O,children:(0,k.jsxs)(ce,{className:"dc-themed-scrollbars-wrapper",is_only_horizontal:!0,is_scrollbar_hidden:!0,is_bypassed:!v,children:[i.Children.map(s,((t,r)=>{if(!t)return null;const{icon:n,label:i,id:a}=t.props,l=t.props["data-header-content"],u=t.props["data-count"];return(0,k.jsx)(dc,{active_icon_color:e,className:c,count:u,icon:n,icon_color:h,icon_size:m,is_active:r===N,is_label_hidden:1===s.length&&w,label:i,id:a,is_scrollable:v,top:C,bottom:o,header_fit_content:_,active_tab_ref:r===N?j:null,header_content:l,onClick:()=>(e=>{if(D){var t;const r=null===(t=s[e])||void 0===t?void 0:t.props["data-hash"];S(r)}L(e),F()})(r),setActiveLineStyle:F},i)})),u&&!v&&(0,k.jsx)("span",{className:n()("dc-tabs__active-line",{"dc-tabs__active-line--top":C,"dc-tabs__active-line--bottom":o,"dc-tabs__active-line--fit-content":l,"dc-tabs__active-line--header-fit-content":_,"dc-tabs__active-line--is-hidden":1===s.length&&w}),style:A})]})})}),(0,k.jsx)("div",{className:n()("dc-tabs__content",{[`dc-tabs__content--${c}`]:c}),children:i.Children.map(s,((e,t)=>e?t===N?e.props.children:void 0:null))})]})})),pc=_c,hc=()=>{const{active_tab_icon_color:e,header_background_color:t,tab_icon_color:r,tabs_detail:o,overlay_ref:n,setIsOverlayShown:a,Component:s}=i.useContext(lc);return"function"==typeof s?(0,k.jsx)(s,{overlay_ref:n,setIsOverlayShown:a}):(0,k.jsx)(pc,{active_icon_color:e,background_color:t,className:"popup",center:!0,fit_content:!0,has_active_line:!1,has_bottom_line:!1,icon_color:r,icon_size:30,top:!0,children:o.map((e=>{const{id:t,has_footer_separator:r,renderBody:o,renderFooter:i}=e,s="function"==typeof o?o:null,c="function"==typeof i?i:null;return(0,k.jsxs)("div",{children:[s&&(0,k.jsx)(s,{overlay_ref:n,setIsOverlayShown:a}),c&&(0,k.jsx)(cc,{has_separator:r,children:(0,k.jsx)(c,{})})]},t)}))})},mc=()=>{const{balance:e,close_icon_color:t,currency:r,header_big_text:o,header_banner_text:n,header_button_text:a,header_content_color:s,header_icon:c,onHeaderButtonClick:l,title:u,togglePopupModal:d}=i.useContext(lc);return(0,k.jsxs)("div",{className:"dc-popup__header",children:[(0,k.jsxs)("div",{className:"dc-popup__header-content",children:[(0,k.jsxs)("div",{className:"dc-popup__header-container",children:[(0,k.jsxs)("div",{className:"dc-popup__header-container-left",children:[(0,k.jsxs)("div",{className:"dc-popup__header-title-container",children:[(0,k.jsx)("div",{className:"dc-popup__header-title",children:(0,k.jsx)(K,{size:"s",styles:{color:s,display:"flex",alignItems:"center"},children:u})}),n&&(0,C.isMobile)()&&(0,k.jsx)("div",{className:"dc-popup__header-banner",children:(0,k.jsx)(K,{size:"xxxxs",line_height:"m",color:"prominent",children:n})})]}),(0,k.jsxs)("div",{className:"dc-popup__header-balance",children:[(0,k.jsx)(K,{size:"m",weight:"bold",styles:{color:s},children:(0,k.jsx)(bo,{amount:e,currency:r,show_currency:!0})}),a&&(0,k.jsx)(Qe,{primary:!0,is_circle:(0,C.isMobile)(),is_circular:(0,C.isDesktop)(),className:"dc-popup__header-button",icon:(0,k.jsx)(F,{icon:"IcPlay",size:10,color:"active"}),onClick:l,text:(0,C.isDesktop)()?a:""})]})]}),c&&(0,k.jsx)("div",{className:"dc-popup__header-container-right",children:(0,k.jsx)(F,{icon:c,size:40,className:"dc-popup__header-icon"})})]}),n&&(0,C.isDesktop)()&&(0,k.jsx)("div",{className:"dc-popup__header-container",children:(0,k.jsx)("div",{className:"dc-popup__header-banner",children:(0,k.jsx)(K,{size:"xxxs",line_height:"s",weight:"bold",color:"prominent",children:n})})}),o&&(0,k.jsx)("div",{className:"dc-popup__header-container",children:(0,k.jsx)("div",{className:"dc-popup__header-container-left",children:(0,k.jsx)(K,{as:"h3",className:"dc-popup__header-big-text",color:"prominent",size:"l",line_height:"xs",weight:"bold",children:o})})})]}),(0,k.jsx)("div",{className:"dc-popup__header-close",children:(0,k.jsx)(F,{icon:"IcCross",className:"dc-popup__header-close-icon",color:t,onClick:d})})]})},fc=({refSetter:e})=>{const{is_overlay_shown:t}=i.useContext(lc);return(0,k.jsx)(ne.A,{in:t,appear:!0,timeout:250,classNames:{appear:"dc-popup__overlay--appear",enter:"dc-popup__overlay--enter",enterDone:"dc-popup__overlay--enter-done",exit:"dc-popup__overlay--exit"},children:(0,k.jsx)("div",{className:"dc-popup__overlay",ref:e})})},gc=({Component:e,active_tab_icon_color:t,balance:r,close_icon_color:o,currency:n,header_background_color:a,header_banner_text:s,header_big_text:c,header_button_text:l,header_contents_color:u,header_icon:d,onHeaderButtonClick:_,should_show_popup:p,tab_icon_color:h,tabs_detail:m,title:f,togglePopupModal:g})=>{const[b,v]=i.useState(),[y,D]=i.useState(!1),w={Component:e,active_tab_icon_color:t,balance:r,close_icon_color:o,currency:n,header_background_color:a,header_banner_text:s,header_big_text:c,header_button_text:l,header_contents_color:u,header_icon:d,is_overlay_shown:y,onHeaderButtonClick:_,overlay_ref:b,setIsOverlayShown:D,tab_icon_color:h,tabs_detail:m,title:f,togglePopupModal:g,should_show_popup:!1};return(0,C.isMobile)()?(0,oe.createPortal)((0,k.jsx)(lc.Provider,{value:w,children:(0,k.jsx)("div",{className:"dc-popup",children:(0,k.jsx)(js,{container_children:(0,k.jsx)(fc,{refSetter:e=>v(e)}),header_background_color:a,height_offset:"39px",is_flex:!0,is_popup:!0,is_modal_open:p,onClickClose:g,page_header_className:"dc-popup__mobile-full-page-modal-header",renderPageHeader:mc,should_header_stick_body:!0,children:(0,k.jsx)(aa.Body,{className:"dc-popup__body",children:(0,k.jsx)(hc,{})})})})}),document.getElementById("popup_root")):(0,k.jsx)(lc.Provider,{value:w,children:(0,k.jsx)("div",{className:"dc-popup",children:(0,k.jsxs)(aa,{className:"popup",has_close_icon:!1,header:(0,k.jsx)(mc,{}),header_background_color:a,height:"636px",is_open:p,should_header_stick_body:!0,toggleModal:g,width:"776px",children:[(0,k.jsx)(aa.Body,{className:"dc-popup__body",children:(0,k.jsx)(hc,{})}),(0,k.jsx)(fc,{refSetter:e=>v(e)})]})})})};gc.Overlay=({title:e,descriptions:t,overlay_ref:r,toggleOverlay:o,done_text:n})=>(0,oe.createPortal)((0,k.jsxs)("div",{className:"dc-popup__overlay-content",children:[(0,k.jsx)(M,{as:"h4",size:"s",line_height:"m",color:"prominent",weight:"bold",className:"dc-popup__overlay-content-header",children:e}),(0,k.jsx)("div",{className:"dc-popup__overlay-content-separator"}),(0,k.jsx)("ul",{className:"dc-popup__overlay-content-list",children:t.map((e=>(0,k.jsx)("li",{children:(0,k.jsx)(M,{size:"xxs",line_height:"m",color:"general",children:e.component})},e.key)))}),(0,k.jsx)(Xe,{className:"dc-popup__overlay-content-button",secondary:!0,large:!0,onClick:o,text:n})]}),r);const bc=gc,vc=({checkboxLabel:e,defaultChecked:t,onChange:r,message:o,name:n})=>(0,k.jsxs)(i.Fragment,{children:[o,(0,k.jsx)(Cr,{defaultChecked:t,onChange:r,name:n,label:e})]}),yc=({label:e,value:t,danger_limit:r=.2,warning_limit:o=.5,className:i})=>{let a="normal";return t<=r?a="danger":t<=o&&(a="warning"),(0,k.jsxs)("div",{className:n()("dc-progress-bar__container",i),children:[(0,k.jsx)(K,{as:"p",color:"prominent",align:"center",size:"xs",weight:"bold",className:"dc-progress-bar__label",children:e}),(0,k.jsx)("div",{className:n()({[`dc-progress-bar--${a}`]:a},"dc-progress-bar__bar"),style:{width:100*t+"%"}}),(0,k.jsx)("div",{className:n()(`dc-progress-bar--${a}`,"dc-progress-bar__empty")})]})},Dc=yc,wc=({step:e,steps_list:t,is_transition:r=!1,onStepChange:o})=>(0,k.jsx)("div",{className:"dc-progress-bar-tracker",children:t.map(((t,i)=>{const a=e===i+1;return(0,k.jsx)("div",{onClick:()=>{o(i+1)},className:n()({"dc-progress-bar-tracker-rectangle":a,"dc-progress-bar-tracker-circle":!a,"dc-progress-bar-tracker-transition":r})},t)}))}),Cc=({className:e,value:t,total:r,style:o})=>(0,k.jsxs)("div",{className:n()("dc-progress-indicator__container",e),style:o,children:[(0,k.jsx)("div",{className:n()("dc-progress-indicator__bar"),style:{width:t/r*100+"%"}}),(0,k.jsx)("div",{className:"dc-progress-indicator__empty"})]}),Ac=["children","hidden"];function xc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ec(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(r),!0).forEach((function(t){jc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Oc=({children:e,should_wrap_items:t})=>t?(0,k.jsx)("div",{className:"dc-radio-group__item-wrapper",children:e}):(0,k.jsx)(i.Fragment,{children:e}),Sc=({className:e,name:t,onToggle:r,required:o,selected:a,should_wrap_items:s,children:c})=>{const[l,u]=i.useState(a);i.useEffect((()=>{u(a)}),[a]);const d=e=>{u(e.target.value),r(e)};return(0,k.jsx)("div",{className:n()("dc-radio-group",e),children:Array.isArray(c)&&c.filter((e=>!e.props.hidden)).map((r=>(0,k.jsx)(Oc,{should_wrap_items:s,children:(0,k.jsxs)("label",{className:n()("dc-radio-group__item",e,{"dc-radio-group__item--selected":l===r.props.value}),children:[(0,k.jsx)("input",{id:r.props.id,name:t,className:"dc-radio-group__input",type:"radio",value:r.props.value,checked:l===r.props.value,onChange:d,disabled:r.props.disabled,required:o}),(0,k.jsx)("span",{className:n()("dc-radio-group__circle",{"dc-radio-group__circle--selected":l===r.props.value,"dc-radio-group__circle--disabled":r.props.disabled,"dc-radio-group__circle--error":r.props.has_error})}),(0,k.jsx)(K,{size:"xs",className:n()("dc-radio-group__label",{"dc-radio-group__label--disabled":r.props.disabled,"dc-radio-group__label--error":r.props.has_error}),children:r.props.label})]})},r.props.value)))})};Sc.Item=e=>{let{children:t,hidden:r=!1}=e,o=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Ac);return(0,k.jsx)("div",Ec(Ec({hidden:r},o),{},{children:t}))};const Fc=Sc,kc=({className:e,collapse_length:t,expand_text:r,openDialog:o,show_dialog:a,text:s})=>{const[c,l]=i.useState(""),[u,d]=i.useState(!0);return i.useEffect((()=>{l(a||u?s.substring(0,t):s)}),[u,s,a,t]),(0,k.jsxs)(i.Fragment,{children:[a&&(0,k.jsxs)("div",{className:n()("dc-read-more",e),children:[(0,k.jsx)("span",{className:"dc-read-more__content",children:c}),(0,k.jsx)("span",{children:"..."}),(0,k.jsx)("span",{className:"dc-read-more__dialog",onClick:()=>null==o?void 0:o(),children:r})]}),!a&&(0,k.jsxs)("div",{className:n()("dc-read-more",e),onClick:u?void 0:()=>d(!0),children:[(0,k.jsx)("span",{className:"dc-read-more__content",children:c}),u&&(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)("span",{children:"..."}),(0,k.jsx)("span",{className:"dc-read-more__toggle",onClick:()=>d(!1),children:r})]})]})]})};function Pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(r),!0).forEach((function(t){Nc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Lc=({component:e,exact:t,getTitle:r,is_authenticated:o,is_logged_in:n=!1,path:a,routes:s,to:c,language:l,Component404:u,should_redirect_login:d})=>(0,k.jsx)(uc.Route,{exact:t,path:a,render:t=>{let _=null;if(e===uc.Redirect){let e=c;if(a===C.routes.index){const{location:r}=t;e=r.pathname.toLowerCase().replace(a,"")}_=(0,k.jsx)(uc.Redirect,{to:e})}else if(o&&!n)d?(0,C.redirectToLogin)(n,l):_=(0,k.jsx)(uc.Redirect,{to:C.routes.traders_hub});else{const r=s.find((e=>e.default)),o=(0,C.removeBranchName)(location.pathname).replace(/\/$/,""),n=(e=>{if(""===e)return!0;if(null!=a&&a.includes(":"))return e.substring(0,e.lastIndexOf("/")+1)===a.substring(0,a.indexOf(":"));return a===e||!(!s||!s.find((t=>e===t.path)))})(o),c=!u;_=(0,k.jsxs)(i.Fragment,{children:[r&&o===a&&(0,k.jsx)(uc.Redirect,{to:r.path}),n?(0,k.jsx)(e,Tc(Tc({},t),{},{routes:s})):(0,k.jsx)(i.Fragment,{children:c?(0,k.jsx)(uc.Redirect,{to:C.routes.traders_hub}):(0,k.jsx)(u,{})})]})}const p=(null==r?void 0:r())||"";return document.title=`${p} | ${C.default_title}`,_}}),Ic=Oa,Bc=["href","is_document","is_eu_url","children"];function Rc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Mc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rc(Object(r),!0).forEach((function(t){zc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Uc=e=>{let{href:t,is_document:r,is_eu_url:o=!1,children:n=null}=e,i=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Bc);return(0,k.jsx)("a",Mc(Mc({href:((0,C.setUrlLanguage)((0,he.getLanguage)()),(0,C.getStaticUrl)(t,r,o)),rel:"noopener noreferrer",target:"_blank"},i),{},{children:n}))},Wc=({children:e,className:t,lbl_no_receive:r,live_chat:o,onClickSendEmail:n,resend_timeout:a,subtitle:s,title:c,txt_resend_in:l,txt_resend:u})=>{const[d,_]=i.useState(!1),[p,h]=i.useState(!1),[m,f]=i.useState(u),g=a||60;let b;i.useEffect((()=>()=>{window.clearInterval(b)}),[]);const v=()=>{let e=g;h(!0),b=window.setInterval((()=>{--e?f(`${l} ${e}`):(h(!1),f(u),window.clearInterval(b))}),1e3)};return(0,k.jsxs)("div",{className:"send-email-template",children:[(0,k.jsxs)("div",{className:"send-email-template__sent",children:[(0,k.jsx)(S.default,{icon:"IcEmailSent",className:"send-email-template__icon",size:128}),(0,k.jsx)(K,{as:"h1",align:"center",className:"send-email-template__title",color:"prominent",weight:"bold",children:c}),(0,k.jsx)(K,{as:"p",size:"xs",align:"center",styles:{lineHeight:"20px"},className:"send-email-template__subtitle",children:s}),(0,k.jsx)(Xe,{className:"send-email-template__btn",onClick:()=>{d||_(!0)},text:r,tertiary:!0})]}),d&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:`send-email-template__resend ${t}`,children:e}),(0,k.jsx)("div",{className:"send-email-template__cta",children:(0,k.jsx)(Xe,{className:"send-email-template__cta-btn",is_disabled:p,has_effect:!0,text:m,onClick:()=>{v(),n()},primary:!0})}),!!o&&(0,k.jsx)("div",{className:"send-email-template__footer",children:(0,k.jsx)(K,{size:"xxs",as:"p",align:"center",children:o})})]})]})},$c={warning:"IcAlertWarning",information:"IcAlertInfo",announcement:"IcAlertAnnounce",error:"IcAlertDanger"},Vc=({title:e,description:t,type:r,action:o,children:n})=>{const i=(0,C.isMobile)()?"xxs":"xs",a=(0,C.isMobile)()?"xxxs":"xxs";return(0,k.jsxs)("div",{className:"side-note",children:[(0,k.jsxs)("div",{className:"side-note__content",children:[(e||r)&&(0,k.jsxs)("div",{className:"side-note__header",children:[(0,k.jsx)(K,{weight:"bold",size:i,children:e}),r&&(0,k.jsx)(S.default,{icon:$c[r]})]}),(t||n)&&(0,k.jsxs)(K,{size:a,children:[t&&(0,k.jsx)("span",{children:t}),n]})]}),o&&(0,k.jsxs)("div",{className:"side-note__action",onClick:null==o?void 0:o.onClick,children:[(0,k.jsx)(K,{size:a,color:"red",children:null==o?void 0:o.label}),(0,k.jsx)(S.default,{icon:"IcChevronRight",color:"red",size:16})]})]})},Hc=({account_status:e,icon:t,icon_size:r="11",text:o,className:i,onClick:a})=>(0,k.jsxs)("div",{className:n()("switcher-status-badge__container",i,`switcher-status-badge__container--${null!=e?e:"failed"}`),onClick:a,onKeyDown:a,children:[(0,k.jsx)("div",{className:n()("switcher-status-badge__container--icon",`switcher-status-badge__container--icon--${null!=e?e:"failed"}`),children:(0,k.jsx)(F,{icon:t,size:r})}),o]});function Gc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Yc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(r),!0).forEach((function(t){Kc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const qc="left",Jc="right",Zc=({children:e,classname:t="swipeable-notification",is_failure:r,is_success:o,onUnmount:a,redirect_to:s="",timestamp:l,visibility_duration_ms:u})=>{const[d,_]=i.useState(qc),[p,h]=i.useState(!0),m=i.useCallback((e=>e?Math.abs(Math.floor(Date.now()/1e3)-e):null),[]),[f,g]=i.useState(m(l)),b=i.useRef(),v=()=>h(!1),y=i.useMemo((()=>c()(v,u)),[u]),D=e=>{_(e),v()},w=(0,rr.useSwipeable)({onSwipedLeft:()=>D(qc),onSwipedRight:()=>D(Jc)});return i.useEffect((()=>(l&&(b.current=setInterval((()=>{g(m(l))}),1e3)),()=>{u&&y.cancel(),l&&b.current&&clearInterval(b.current)})),[y,m,l,u]),(0,k.jsx)(ne.A,{appear:!0,classNames:{appear:`${t}-appear`,appearActive:`${t}-appear-active`,appearDone:`${t}-appear-done`,enter:`${t}-enter`,enterActive:`${t}-enter-active`,enterDone:`${t}-enter-done`,exit:`${t}-exit`,exitActive:`${t}-exit-active-${d}`},in:p,onEntered:()=>{u&&y()},onExited:a,timeout:{enter:300,exit:600},unmountOnExit:!0,children:(0,k.jsxs)(st.NavLink,Yc(Yc({className:n()(t,{[`${t}--failure`]:r,[`${t}--success`]:o}),to:s},w),{},{children:[(0,k.jsx)("div",{className:`${t}-content`,children:e}),(0,k.jsx)(K,{as:"p",size:"xxxs",line_height:"s",className:`${t}-time`,children:(()=>{if(f||0===f)return f<10?(0,k.jsx)(he.Localize,{i18n_default_text:"now"}):(0,C.getTimeSince)(1e3*Number(l))})()})]}))})},Xc=i.memo(Zc),Qc=["children","className","onChange","is_disabled","is_swipe_disabled","should_elevate_navigation"];function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?el(Object(r),!0).forEach((function(t){rl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ol=e=>{let{children:t,className:r,onChange:o,is_disabled:a,is_swipe_disabled:s,should_elevate_navigation:c=!1}=e,l=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Qc);const[u,d]=i.useState(0);i.useEffect((()=>(null==o||o(u),()=>{null==o||o()})),[u,o]);const _=(e=!1)=>{if(a)return;if(s&&!e)return;u+1===i.Children.toArray(t).length||d(u+1)},p=(e=!1)=>{a||s&&!e||u>0&&d(u-1)},h=i.Children.map(t,(e=>(0,k.jsx)("div",{className:"dc-swipeable__item",children:e}))),m=(0,rr.useSwipeable)(tl({onSwipedLeft:()=>_(!1),onSwipedRight:()=>p(!1)},l));return(0,k.jsxs)("div",{className:"dc-swipeable","data-testid":"dt_swipeable",children:[(0,k.jsx)("div",tl(tl(tl({},m),{},{style:{left:(a?-100:-100*u)+"vw"},className:n()("dc-swipeable__view",r)},l),{},{children:h})),!a&&(0,k.jsxs)("nav",{className:n()("dc-swipeable__nav",{"dc-swipeable__nav-elevated":c}),children:[(0,k.jsx)(F,{className:"dc-swipeable__nav__item",icon:"IcChevronDoubleLeft",size:24,onClick:()=>p(!0),color:0===u||a?"disabled":""}),(0,k.jsx)(F,{className:"dc-swipeable__nav__item",icon:"IcChevronDoubleRight",size:24,onClick:()=>_(!0),color:u+1===i.Children.toArray(t).length||a?"disabled":""})]})]})};ol.useSwipeable=rr.useSwipeable;const nl=ol,il=({onChange:e,min_date:t=0,max_date:r,title:o})=>{const n=i.useRef(null),a=(0,C.toMoment)().add(t,"d").format("YYYY-MM-DD"),s=r?(0,C.toMoment)().add(r,"d").format("YYYY-MM-DD"):"";return(0,k.jsxs)("div",{className:"dc-relative-datepicker",onClick:()=>{var e;null==n||null===(e=n.current)||void 0===e||e.click()},children:[(0,k.jsx)(K,{size:"xs",line_height:"s",weight:"bold",styles:{color:"var(--purchase-main-2)"},className:"dc-relative-datepicker__span",children:o}),(0,k.jsx)("input",{type:"date",ref:n,onChange:t=>{var r;e(+(null!==(r=(0,C.daysFromTodayTo)(t.target.value))&&void 0!==r?r:0))},min:a,max:s,className:"dc-relative-datepicker__input"})]})};var al=r(824223);function sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(r),!0).forEach((function(t){ll(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ll(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ul=({className:e,onClear:t,onSearch:r,placeholder:o})=>{const a=i.useRef(null),s=e=>{clearTimeout(a.current),a.current=setTimeout((()=>{e()}),500)};return i.useEffect((()=>()=>clearTimeout(a.current)),[]),(0,k.jsx)("div",{className:n()("search-box",e),children:(0,k.jsx)(al.Formik,{initialValues:{search:""},onSubmit:({search:e})=>{e.trim()?"function"==typeof r&&r(e):"function"==typeof t&&t()},children:({submitForm:e,values:{search:r},setFieldValue:n})=>(0,k.jsx)(al.Form,{children:(0,k.jsx)(al.Field,{name:"search",children:({field:i})=>(0,k.jsx)(Y,cl(cl({},i),{},{className:"search-box__field",type:"text",name:"search",placeholder:o,onKeyDown:()=>s(e),onKeyUp:()=>s(e),onFocus:e,leading_icon:(0,k.jsx)(F,{className:"search-box__field-icon",icon:"IcSearch"}),trailing_icon:r?(0,k.jsx)(F,{className:"search-box__cross-icon",color:"secondary",icon:"IcCloseCircle",onClick:()=>(e=>{e("search",""),"function"==typeof t&&t()})(n)}):null}))})})})})};ul.propTypes={className:cn().string,onClear:cn().func,onSearch:cn().func,placeholder:cn().string};const dl=ul,_l=({children:e,className:t})=>(0,k.jsx)("div",{role:"rowgroup",className:n()("dc-table__header",t),children:e}),pl=["children"];function hl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(r),!0).forEach((function(t){fl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const gl=e=>{let{children:t}=e,r=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,pl);return(0,k.jsx)("div",ml(ml({role:"rowgroup"},r),{},{children:t}))},bl=({children:e,className:t,has_hover:r})=>(0,k.jsx)("div",{role:"row",className:n()("dc-table__row",t,{"dc-table__row--hover":r}),children:e}),vl=({children:e,align:t="left",className:r,fixed:o})=>(0,k.jsx)("div",{role:"cell",className:n()("dc-table__cell",r,{"dc-table__cell--right":"right"===t,"dc-table__cell--fixed":o}),children:e}),yl=({className:e,fixed:t,children:r,scroll_width:o,scroll_height:i})=>(0,k.jsx)("div",{role:"table",className:n()("dc-table",e,{"dc-table--scroll":t}),children:t?(0,k.jsx)(ce,{has_horizontal:!0,width:o||"100%",height:i,className:"dc-table--scrollbar",children:r}):r});yl.Head=({children:e,align:t,className:r,fixed:o})=>(0,k.jsx)("div",{role:"columnheader",className:n()("dc-table__head",r,{"dc-table__cell--right":"right"===t,"dc-table__cell--fixed":o}),children:e}),yl.Header=_l,yl.Body=gl,yl.Row=bl,yl.Cell=vl;const Dl=yl,wl=({children:e,className:t,is_open:r=!0,onClose:o,onClick:a,type:s="info",timeout:c=0})=>{const[l,u]=i.useState(!1);return i.useEffect((()=>{if(u(r),c){const e=setTimeout((()=>{u(!1)}),c);return()=>clearTimeout(e)}}),[r,c]),(0,k.jsx)(ne.A,{in:l,timeout:100,unmountOnExit:!0,onExited:()=>{"function"==typeof o&&o(),u(!1)},classNames:{appear:"dc-toast--enter",enter:"dc-toast--enter",enterDone:"dc-toast--enter-done",exit:"dc-toast--exit"},children:(0,k.jsx)("div",{className:n()("dc-toast",t,{[`dc-toast__${s}`]:s}),onMouseDown:e=>{e.nativeEvent.preventDefault(),e.nativeEvent.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},children:(0,k.jsx)("div",{className:"dc-toast__message",onClick:a,children:(0,k.jsx)("div",{className:"dc-toast__message-content",children:e})})})})},Cl=({className:e,classNameButton:t,classNameLabel:r,handleToggle:o,id:a,is_enabled:s,name:c="toggle_switch"})=>(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)("input",{"aria-label":c,className:n()("dc-toggle-switch",e),id:a,type:"checkbox",checked:s,onChange:o}),(0,k.jsx)("label",{className:n()("dc-toggle-switch__label",r),htmlFor:a,children:(0,k.jsx)("span",{className:n()("dc-toggle-switch__button",t)})})]});var Al=r(50622);const xl={info:{icon:"IcWalletInfoMessageWithThreeDots",color:"status-info-blue"},error:{icon:"IcWalletErrorMessageWithCross",color:"loss-danger"},success:{icon:"IcWalletSuccessMessage",color:"profit-success"}},El=e=>{const{type:t,message:r,variant:o}=e,n=xl[t].icon,i=xl[t].color;return(0,k.jsxs)("div",{className:"alert-message","data-testid":"dt_alert_message",children:[(0,k.jsxs)("div",{className:"alert-message__icon-container",children:[(0,k.jsx)("div",{className:"icon-container__line"}),(0,k.jsx)("div",{className:"icon-container__icon",children:(0,k.jsx)(F,{icon:n,custom_color:`var(--text-${i})`,data_testid:`dt_${n}`})})]}),(0,k.jsx)("div",{className:"alert-message__message-container",children:(0,k.jsx)(K,{size:(0,C.isMobile)()?"xxxs":"xxs",color:i,children:r})}),"with-action-button"===o&&e.button_label&&(0,k.jsx)("div",{className:"alert-message__button-container",children:(0,k.jsx)(Qe,{primary:!0,small:!0,onClick:e.onClickHandler,children:e.button_label})})]})};function jl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ol(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(r),!0).forEach((function(t){Sl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Fl={initial:{height:0,opacity:0},animate:{height:"auto",opacity:1,transition:{height:{duration:.2},opacity:{duration:.15,delay:.05}}},exit:{height:0,opacity:0,transition:{height:{duration:.2},opacity:{duration:.1}}}},kl=({list:e})=>(0,k.jsx)("div",{className:"message-list",children:(0,k.jsx)(Al.N,{children:e.map((e=>(0,i.createElement)(la.P.div,Ol(Ol({},Fl),{},{layout:!0,key:e.key}),(0,k.jsx)(El,Ol({},e)))))})});var Pl=r(122328),Tl=r.n(Pl);function Nl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ll(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(r),!0).forEach((function(t){Il(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Il(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Bl=({default_value:e,is_submit_disabled:t,min_value:r,max_value:o,onSubmit:a,submit_label:s,singular_label:c,plural_label:l,onValueChange:u})=>{const d=i.useRef(e),_=i.useRef(!1),p=()=>{d.current-1>=r&&(d.current-=1,m())},h=()=>{d.current+1<=o&&(d.current+=1,m())},m=()=>{u&&u(d.current)};i.useEffect((()=>{_.current?m():_.current=!0}),[d.current]);const f=Tl()((({dir:e})=>{"up"===e.toLowerCase()&&h(),"down"===e.toLowerCase()&&p()}),100,{trailing:!0,leading:!1}),g=(0,rr.useSwipeable)({onSwiping:f});return(0,k.jsxs)("div",{className:"dc-tick-picker",children:[(0,k.jsxs)("div",{className:"dc-tick-picker__calculation",children:[(0,k.jsx)(Xe,{rounded:!0,className:"operator",onClick:p,children:(0,k.jsx)(F,{icon:"IcMinus",custom_color:"var(--text-prominent)"})}),(0,k.jsxs)("div",Ll(Ll({className:"dc-tick-picker__holder"},g),{},{children:[(0,k.jsx)(K,{styles:{fontSize:"96px",lineHeight:1,color:"inherit"},children:(b=d.current,`${b}`.padStart(2,"0"))}),(0,k.jsx)(K,{size:"s",weight:"bold",align:"center",styles:{color:"inherit"},children:1===d.current?c:l})]})),(0,k.jsx)(Xe,{rounded:!0,className:"operator",onClick:h,children:(0,k.jsx)(F,{icon:"IcAdd",custom_color:"var(--text-prominent)"})})]}),(0,k.jsx)("div",{className:n()("dc-tick-picker__submit-wrapper",{"dc-tick-picker__submit-wrapper--is-disabled":t}),children:(0,k.jsx)(Xe,{rounded:!0,onClick:()=>{a({target:{value:d.current,name:"submit"}})},renderText:()=>t&&(0,k.jsx)(K,{size:"s",weight:"bold",align:"center",color:"disabled",children:s}),children:s})})]});var b},Rl=["children","disabled_items","line_height"],Ml=["children"];function zl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zl(Object(r),!0).forEach((function(t){Wl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $l(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const Vl=({children:e})=>(0,k.jsx)("div",{className:"dc-timeline__oval",children:(0,k.jsx)(K,{color:"colored-background",size:"s",weight:"bold",className:"dc-timeline__number",children:e})}),Hl=e=>{let{children:t,disabled_items:r,line_height:o="xxl"}=e,i=$l(e,Rl);return(0,k.jsx)("div",Ul(Ul({},i),{},{children:Array.isArray(t)&&t.map(((e,i)=>(0,k.jsxs)("div",{className:n()("dc-timeline__flex",{"dc-timeline__flex--no-border":t.length===i+1,"dc-timeline__flex--disabled":null==r?void 0:r.includes(i+1)}),children:[(0,k.jsx)(Vl,{children:i+1}),(0,k.jsxs)("div",{className:"dc-timeline__container",children:[(0,k.jsx)(K,{as:"h2",color:"prominent",size:"xs",className:"dc-timeline__title",line_height:o,children:e.props.item_title}),(0,k.jsx)("div",{className:"dc-timeline__content",children:e})]})]},i)))}))};Hl.Item=e=>{let{children:t}=e,r=$l(e,Ml);return(0,k.jsx)("div",Ul(Ul({},r),{},{children:t}))};const Gl=Hl,Yl=({className:e,classNameBlock:t})=>{const r=n()(t,"block-ui"),o=n()("block-ui__loading",e);return(0,k.jsx)("div",{className:r,children:(0,k.jsx)("div",{className:o,children:(0,k.jsx)("div",{className:"block-ui__loading-spinner",children:(0,k.jsx)("svg",{className:"block-ui__loading-spinner-circular",viewBox:"25 25 50 50",children:(0,k.jsx)("circle",{className:"block-ui__loading-spinner-path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"4",strokeMiterlimit:"10"})})})})})},Kl=({class_name:e,side_notes:t})=>(0,k.jsx)("div",{className:n()("dc-vertical-tab__content-side-note",{[e]:!!t}),"data-testid":"vertical_tab_side_note",children:null==t?void 0:t.map(((e,t)=>(0,k.jsx)("div",{className:"dc-vertical-tab__content-side-note-item",children:e},t)))}),ql=(0,i.memo)((({is_routed:e,items:t,selected:r})=>{const o=t.find((e=>e.label===r.label)),[n,a]=i.useState(null),s=i.useCallback((e=>{a(e)}),[]),c=(0,i.useMemo)((()=>null==o?void 0:o.value),[null==o?void 0:o.value]),l=(0,i.useMemo)((()=>t.map((({value:e,component:t,path:r,icon:o},n)=>{const i=e||t;return(0,k.jsx)(uc.Route,{path:r,render:()=>(0,k.jsx)(i,{component_icon:o,setSideNotes:s})},n)}))),[s,t]);return(0,k.jsxs)(i.Fragment,{children:[e?(0,k.jsx)(uc.Switch,{children:l}):(0,k.jsx)(c,{className:"item-id",setSideNotes:s},null==o?void 0:o.label),r.has_side_note&&(0,k.jsx)(Kl,{side_notes:n})]})}));ql.displayName="Content";const Jl=({action_bar:e,action_bar_classname:t,className:r,id:o,is_floating:i,is_routed:a,items:s,selected:c,tab_container_classname:l})=>(0,k.jsxs)("div",{className:n()("dc-vertical-tab__content",{"dc-vertical-tab__content--floating":i,[`dc-vertical-tab__content--${r}`]:r}),children:[!i&&e&&(0,k.jsx)("div",{className:n()("dc-vertical-tab__action-bar",{[t]:!!t}),children:e.map((({component:e,icon:t,onClick:r},n)=>{const i=e;return i?(0,k.jsx)(i,{},n):(0,k.jsx)("div",{id:`dt_${o}_close_icon`,className:"dc-vertical-tab__action-bar-wrapper",onClick:r,children:(0,k.jsx)(S.default,{className:"dc-vertical-tab__action-bar--icon",icon:t})},n)}))}),(0,k.jsx)("div",{className:n()("dc-vertical-tab__content-container",{"dc-vertical-tab__content-container--has-side-note":c.has_side_note},l),children:(0,k.jsx)(ql,{is_routed:a,items:s,selected:c})})]}),Zl=({icon:e,is_active:t})=>(0,k.jsx)(S.default,{icon:e,className:n()("dc-vertical-tab__header__icon",{"dc-vertical-tab__header__icon--active":t})}),Xl=({text:e,path:t})=>(0,k.jsx)("div",{className:"dc-vertical-tab__header__link",id:t,children:e}),Ql=({children:e,className:t,is_floating:r,is_routed:o,item:i,onChange:a,selected:s,selectedKey:c="label"})=>{var l,u,d;const _=i.label||i.title||(null===(l=i.getTitle)||void 0===l?void 0:l.call(i))||"",p=s&&s[c]===i[c],h=()=>a(i),m=`dc_${(0,C.getKebabCase)(_)}_link`,f=!!i.is_disabled,g=!!i.is_hidden,b=i.count||0;return g?null:o?(0,k.jsxs)(st.NavLink,{id:m,to:i.path,onClick:h,className:n()("dc-vertical-tab__header",{"dc-vertical-tab__header--disabled":f,"dc-vertical-tab__header--floating":r}),activeClassName:n()(t,{"dc-vertical-tab__header--active":p}),children:[(0,k.jsx)(Zl,{icon:null!==(u=i.icon)&&void 0!==u?u:"",is_active:p}),(0,k.jsx)(Xl,{text:_,path:i.path}),!!b&&(0,k.jsx)(Hr,{count:b,className:"dc-vertical-tab__header__counter"}),e]}):(0,k.jsxs)("div",{id:m,className:n()("dc-vertical-tab__header",t,{"dc-vertical-tab__header--active":p,"dc-vertical-tab__header--disabled":f}),onClick:h,children:[(0,k.jsx)(Zl,{icon:null!==(d=i.icon)&&void 0!==d?d:"",is_active:p}),(0,k.jsx)(Xl,{text:_}),e,(0,k.jsx)(k.Fragment,{children:i.component})]})},eu=({icon:e,is_active:t})=>(0,k.jsx)(S.default,{icon:e,className:n()("dc-vertical-tab__header-group__icon",{"dc-vertical-tab__header-group__icon--active":t})}),tu=({text:e})=>(0,k.jsx)("div",{className:"dc-vertical-tab__header-group__link",children:e}),ru=({children:e,className:t,group:r,selected:o,is_collapsible:a=!0,is_routed:s,onChange:c,onToggle:l})=>{var u,d;const[_,p]=i.useState(!0);i.useEffect((()=>{l(!0)}),[_,l]);const h=r.getTitle?r.getTitle():r.label||r.title||"",m=()=>{r.subitems?a&&!o&&p(!_):c(r)},f=`dt_${h}_link`,g=!!r.is_disabled;return s&&!r.subitems?(0,k.jsxs)(st.NavLink,{id:f,to:r.path,className:n()("dc-vertical-tab__header-group",t,{"dc-vertical-tab__header-group--active":o,"dc-vertical-tab__header-group--disabled":g||o}),onClick:m,children:[(0,k.jsx)(eu,{icon:null!==(u=r.icon)&&void 0!==u?u:"",is_active:o}),(0,k.jsx)(tu,{text:h}),a&&(0,k.jsx)(S.default,{icon:"IcChevronUpBold",className:n()("dc-vertical-tab__header-group-chevron",{"dc-vertical-tab__header-group-chevron--invert":!_})})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{id:f,className:n()("dc-vertical-tab__header-group",t,{"dc-vertical-tab__header-group--active":o,"dc-vertical-tab__header-group--disabled":g||o}),onClick:m,children:[(0,k.jsx)(eu,{icon:null!==(d=r.icon)&&void 0!==d?d:"",is_active:o}),(0,k.jsx)(tu,{text:h}),a&&(0,k.jsx)(S.default,{icon:"IcChevronUpBold",className:n()("dc-vertical-tab__header-group-chevron",{"dc-vertical-tab__header-group-chevron--invert":!_})})]}),_&&(0,k.jsx)("div",{children:e})]})},ou=({wrapper_ref:e,children:t,className:r})=>(0,k.jsx)("div",{ref:e,className:n()("dc-vertical-tab__tab",r),children:t}),nu=({header_title:e})=>(0,k.jsx)("div",{className:"dc-vertical-tab__header-title",children:(0,k.jsx)(K,{as:"p",color:"prominent",align:"center",weight:"bold",children:e})}),iu=({className:e,extra_offset:t,has_mixed_dimensions:r,header_title:o,is_collapsible:a,is_floating:s,is_routed:c,item_groups:l,items:u,onChange:d,selected:_,selectedKey:p="label"})=>{const h=i.useRef(null),[m,f]=i.useState(0),[g,b]=i.useState(!1);return i.useEffect((()=>{const e=u.find((e=>e[p]===_[p]));null!=e&&e.label&&f(((e,t,r,o)=>{var n;let i,a=0,s=0;const c=null==r||null===(n=r.current)||void 0===n?void 0:n.querySelectorAll(".dc-vertical-tab__header__link, .dc-vertical-tab__header-group__link");return c&&(i=[...c].find((e=>o.getTitle?e.innerText===o.getTitle():e.innerText===o.label))),i&&(s=t?e||18:10,a=i.offsetTop&&i.offsetTop-s),a})(t,s,h,{label:e.label}))}),[_,s,t,p,u]),(0,k.jsxs)(ou,{wrapper_ref:h,className:n()(e,{"dc-vertical-tab__tab--floating":s}),children:[!s&&o&&(0,k.jsx)(nu,{header_title:o}),Array.isArray(l)?l.map(((e,t)=>{var o,n;return(0,k.jsx)(ru,{onChange:d,onToggle:b,selected:!r&&(null===(o=e.subitems)||void 0===o?void 0:o.includes(u.findIndex((e=>e===_))))||!e.subitems&&e===_,is_collapsible:a,is_routed:c,group:e,children:null===(n=e.subitems)||void 0===n?void 0:n.map(((e,t)=>(0,k.jsx)(Ql,{item:u[e],onChange:d,is_floating:s,is_routed:c,selected:_,selectedKey:p},t)))},t)})):u.map(((e,t)=>(0,k.jsx)(Ql,{item:e,onChange:d,is_floating:s,is_routed:c,selected:_,selectedKey:p},t))),(0,k.jsx)("span",{style:{transition:g?"unset":"transform 0.25s ease",transform:`translate3d(0, ${m}px, 0)`},className:"dc-vertical-tab__header--highlight"})]})},au=({children:e,is_full_width:t})=>(0,k.jsx)("div",{className:n()("dc-vertical-tab",{"dc-vertical-tab--full-screen":t}),children:e}),su=({current_path:e,list:t,is_routed:r,selected_index:o,setCurrTabIndex:n,setVerticalTabIndex:i})=>{let a;a=void 0===o?r?Math.max(t.indexOf(t.find((t=>(0,C.matchRoute)(t,e)))||t.find((e=>e.default))),0):0:"object"==typeof o?t.indexOf(o):o,n(a),null==i||i(a)},cu=({action_bar:e,action_bar_classname:t,className:r,current_path:o,extra_content:a,extra_offset:s,has_mixed_dimensions:c,header_classname:l,header_title:u,initial_vertical_tab_index:d,is_collapsible:_,is_floating:p,is_grid:h,is_full_width:m,is_routed:f,is_sidebar_enabled:g=!0,list:b,list_groups:v,onClickClose:y,setVerticalTabIndex:D,tab_headers_note:w,title:C,vertical_tab_index:A})=>{const[x,E]=i.useState(null!=d?d:A||0),j=(0,i.useMemo)((()=>b[x]||b[0]),[x,b]);return i.useEffect((()=>{su({current_path:o,list:b,is_routed:f,setCurrTabIndex:E,setVerticalTabIndex:D})}),[A,b,D,f,o]),(0,k.jsxs)("div",{className:n()("dc-vertical-tab",{"dc-vertical-tab--floating":p,"dc-vertical-tab--full-screen":m,"dc-vertical-tab--grouped":Array.isArray(v),"dc-vertical-tab--grid":h,[`dc-vertical-tab--${r}`]:r}),children:[!!C&&(0,k.jsx)("div",{className:"dc-vertical-tab__title",children:(0,k.jsxs)("div",{className:"dc-vertical-tab__title-wrapper",children:[(0,k.jsx)("div",{className:"dc-vertical-tab__title-text",children:C}),y&&(0,k.jsx)("div",{className:"dc-vertical-tab__title-close",onClick:y||window.history.back,children:(0,k.jsx)(S.default,{icon:"IcCross"})})]})}),g&&(0,k.jsxs)("div",{className:n()("dc-vertical-tab__tab-meta-wrapper",{"dc-vertical-tab__tab-meta-wrapper--floating":p,[`dc-vertical-tab__tab-meta-wrapper--${r}`]:r}),children:[(0,k.jsx)(iu,{className:l,extra_offset:s,items:b,item_groups:v,onChange:e=>{su({current_path:o,list:b,selected_index:e,setCurrTabIndex:E,setVerticalTabIndex:D})},selected:j,has_mixed_dimensions:c,is_collapsible:_,is_floating:p,is_routed:f,header_title:u}),p&&w&&(0,k.jsx)("div",{className:"dc-vertical-tab__tab-bottom-note",children:w}),a]}),(0,k.jsx)(Jl,{action_bar:e,action_bar_classname:t,className:r,is_floating:p,items:b,selected:j,is_routed:f})]})};cu.ContentContainer=Jl,cu.Header=Ql,cu.HeaderGroup=ru,cu.Headers=iu,cu.HeaderTitle=nu,cu.Layout=au,cu.Wrapper=ou;const lu=cu,uu=({children:e=[],className:t})=>(0,k.jsx)("div",{className:n()("wizard__main-step",t),children:e}),du=({children:e=[],className:t,initial_step:r=0,onStepChange:o,nav:a=null,selected_step_ref:s})=>{const[c,l]=i.useState(0),u=i.useCallback((()=>i.Children.toArray(e)),[e]);i.useEffect((()=>{const e=u();r>0&&e[r]&&l(r)}),[r,u]);const d=e=>{var t;c===e||(e=>e<0||e>=_())(e)||(l(e),t={active_step:e+1},null==o||o(t))},_=()=>u().length,p=e=>d(e-1),h={getCurrentStep:()=>c+1,getTotalSteps:_,goToNextStep:()=>d(c+1),goToPreviousStep:()=>d(c-1),goToStep:p,goToFirstStep:()=>p(1),goToLastStep:()=>p(_()),selected_step_ref:s},m=i.Children.map(u(),((e,t)=>e&&t===c?(0,k.jsx)(du.Step,{children:i.isValidElement(e)?i.cloneElement(e,h):e}):null));return(0,k.jsxs)("div",{className:n()("wizard",t),children:[a&&i.isValidElement(a)&&i.cloneElement(a,h),m]})};du.displayName="Wizard",du.Step=uu;const _u=du;var pu=r(570371),hu=r(768429),mu=r(308492),fu=r(717422),gu=r(398946);const bu=({onClick:e,togglePlay:t,show_controls:r,is_ended:o,is_mobile:i,is_v2:a,is_playing:s,onModalClose:c})=>{const l=e=>{t(e)};return(0,k.jsxs)("div",{className:n()("player__overlay",{"player__overlay--visible":o||a&&r}),onClick:e,onKeyDown:e,children:[o&&(0,k.jsx)(F,{icon:"IcReplay",custom_color:"var(--border-normal-1)",size:i?88:128,className:"player__overlay__icon",data_testid:"dt_player_overlay_icon",onClick:l}),a&&!o&&(0,k.jsx)("div",{onClick:r?l:void 0,children:s?(0,k.jsx)(mu.A,{fill:"#ffffff",iconSize:"2xl"}):(0,k.jsx)(fu.A,{fill:"#ffffff",iconSize:"2xl"})}),a&&(0,k.jsx)("div",{onClick:c,className:"modal-player__icon-close",children:(0,k.jsx)(gu.A,{fill:"#ffffff",iconSize:"md"})})]})},vu=i.memo(bu);var yu=r(133568),Du=r(600281);const wu=({onVolumeChange:e,volume:t,is_mobile:r,is_muted:o,is_v2:a=!1,toggleMute:s})=>{const[c,l]=i.useState(!0),[u,d]=i.useState(!1),[_,p]=i.useState(0),h=i.useRef(null),m=i.useRef(null),f=i.useRef(null),g=i.useRef(!1),b=e=>{var t,r;const o=m.current;let n=((null!==(t=null==o?void 0:o.getBoundingClientRect().bottom)&&void 0!==t?t:0)-e.clientY-_)/(null!==(r=null==o?void 0:o.getBoundingClientRect().height)&&void 0!==r?r:0)*100;return n>=100&&(n=100),n<=0&&(n=0),n},v=e=>{s(!e)},y=t=>{if(t.preventDefault(),t.stopPropagation(),!g.current)return;if(!h.current)return;const r=b(t);l(!1),h.current.style.setProperty("height",`${r}%`),e(r/100),v(r)},D=e=>{e.preventDefault(),e.stopPropagation(),g.current&&(h.current&&l(!0),g.current=!1,e.target.closest(".player__volume-bar__wrapper")||d(!1))},w=t=>{if(t.preventDefault(),t.stopPropagation(),"keydown"===t.type)return;if("player__volume-dot"===t.target.className)return;if(!h.current)return;l(!1);const r=b(t);h.current.style.setProperty("height",`${r}%`),e(r/100),v(r)};return i.useEffect((()=>(document.addEventListener("mousemove",y),document.addEventListener("mouseup",D),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",D)})),[]),(0,k.jsxs)("div",{className:"player__volume__wrapper",onMouseOver:r?void 0:()=>d(!0),onMouseLeave:()=>{r||g.current||d(!1)},children:[(0,k.jsxs)("button",{className:"player__controls__button",onClick:()=>{var e;o&&(null===(e=h.current)||void 0===e||e.style.setProperty("height",100*(null!=t?t:.5)+"%"));s(!o)},children:[a&&o&&(0,k.jsx)(yu.A,{fill:"#ffffff",iconSize:"md"}),a&&!o&&(0,k.jsx)(Du.A,{fill:"#ffffff",iconSize:"md"}),!a&&(0,k.jsx)(F,{icon:o?"IcSoundOff":"IcSoundOn",custom_color:"var(--text-colored-background)",height:18,width:20})]}),(0,k.jsx)(ne.A,{in:u,timeout:100,classNames:{enter:"player__volume-bar__wrapper--enter",enterDone:"player__volume-bar__wrapper--enter-done",exit:"player__volume-bar__wrapper--exit"},unmountOnExit:!0,children:(0,k.jsx)("div",{className:"player__volume-bar__wrapper",children:(0,k.jsx)("div",{className:"player__volume-bar",onClick:w,onKeyDown:w,ref:m,"data-testid":"dt_volume_bar",children:(0,k.jsx)("div",{className:n()("player__volume-bar__filled",{"player__volume-bar__filled--animated":c}),ref:h,style:{height:(o?0:100*(null!=t?t:.5))+"%"},"data-testid":"dt_volume_bar_filled",children:(0,k.jsx)("span",{className:"player__volume-dot",onMouseDown:e=>{var t;e.preventDefault(),e.stopPropagation();const r=f.current;p((null!==(t=null==r?void 0:r.getBoundingClientRect().bottom)&&void 0!==t?t:0)-e.clientY),g.current=!0},ref:f,"data-testid":"dt_volume_dot"})})})})})]})},Cu=i.memo(wu);var Au=r(544414);const xu=({onPlaybackRateChange:e,is_mobile:t,playback_rate:r,is_v2:o=!1,show_controls:n=!1})=>{const i=[{text:"0.25x",value:"0.25"},{text:"0.5x",value:"0.5"},{text:"0.75x",value:"0.75"},{text:o?"1x":(0,he.localize)("Normal"),value:"1"},{text:"1.5x",value:"1.5"},{text:o?"2x":"2.0x",value:"2"}];return(0,k.jsxs)("button",{className:"player__controls__button player__playback-rate__wrapper",children:[o?(0,k.jsx)(Au.A,{fill:"#ffffff",iconSize:"md",className:"playback-rate__icon"}):(0,k.jsx)(F,{icon:"IcPlaybackRate",custom_color:"var(--text-colored-background)",size:20,className:"playback-rate__icon"}),(0,k.jsx)(Xi,{classNameDisplay:(0,Fe.A)("",{"dc-dropdown__display--playback-rate":!o,"dc-dropdown__display--playback-rate--v2":o}),classNameItems:"dc-dropdown__display--playback-rate__item",id:"playback_rate",is_alignment_top:!0,list:i,name:"playback_rate",no_border:!0,onChange:t=>{e(Number(t.target.value))},value:`${r}`,should_open_on_hover:!t,should_scroll_to_selected:!0,should_autohide:!1,should_auto_close_dropdown_list:!n})]})},Eu=i.memo(xu),ju=({block_controls:e,current_time:t,dragStartHandler:r,has_enlarged_dot:o,hide_volume_control:a=!1,is_animated:s,is_ended:c,is_playing:l,is_mobile:u,is_muted:d,is_v2:_=!1,increased_drag_area:p,onRewind:h,onVolumeChange:m,onPlaybackRateChange:f,progress_bar_filled_ref:g,progress_bar_ref:b,progress_dot_ref:v,playback_rate:y,show_controls:D,togglePlay:w,toggleMute:A,video_duration:x,volume:E,onUserActivity:j})=>{const[O,S]=i.useState(!1),P=()=>{null==j||j()};return(0,k.jsxs)("div",{className:n()("player__controls__wrapper",{"player__controls__wrapper--visible":D,"player__controls__wrapper--interactive":D}),onMouseMove:P,onTouchStart:P,onTouchMove:P,onClick:P,children:[_&&(0,k.jsxs)("div",{className:n()("player__controls__bottom-bar--v2",{"player__controls__bottom-bar--blocked":e}),children:[(0,k.jsxs)("div",{className:"controls__right--v2",children:[!a&&(0,k.jsx)(Cu,{onVolumeChange:m,volume:E,is_mobile:u,is_muted:d,toggleMute:A,is_v2:!0}),(0,k.jsx)(Eu,{onPlaybackRateChange:f,is_mobile:u,playback_rate:y,is_v2:!0,show_controls:D})]}),(0,k.jsx)("div",{className:"controls__left--v2",children:(0,k.jsx)("div",{className:"player__controls__time-wrapper--v2",children:(0,k.jsxs)(K,{size:"xxxs",line_height:"s",color:"colored-background",children:[(0,C.formatDurationTime)(t)," / ",(0,C.formatDurationTime)(x)]})})})]}),(0,k.jsx)("div",{className:(0,Fe.A)("player__controls__progress-bar",{"player__controls__progress-bar--v2":_}),onClick:h,onKeyDown:h,onMouseOver:()=>S(!0),onFocus:()=>null,onMouseLeave:()=>S(!1),ref:b,"data-testid":"dt_progress_bar",children:(0,k.jsx)("div",{className:n()("player__controls__progress-bar__filled",{"player__controls__progress-bar__filled--animated":s,"player__controls__progress-bar__filled--ended":c}),ref:g,"data-testid":"dt_progress_bar_filled",children:(u||O)&&(0,k.jsx)("span",{className:n()("player__progress-dot",{"player__progress-dot--enlarged":o,"player__progress-dot--increased-drag-area":p}),onMouseDown:r,onTouchStart:r,ref:v,"data-testid":"dt_progress_bar_dot"})})}),!_&&(0,k.jsxs)("div",{className:n()("player__controls__bottom-bar",{"player__controls__bottom-bar--blocked":e}),children:[(0,k.jsxs)("div",{className:"player__controls__bottom-bar controls__left",children:[(0,k.jsx)("button",{onClick:w,className:"player__controls__button",children:(0,k.jsx)(F,{icon:l?"IcPause":"IcPlay",custom_color:"var(--text-colored-background)",height:18,width:15})}),(0,k.jsx)("div",{className:"player__controls__time-wrapper",children:(0,k.jsxs)(K,{size:"xxxs",line_height:"s",color:"colored-background",children:[(0,C.formatDurationTime)(t)," / ",(0,C.formatDurationTime)(x)]})})]}),(0,k.jsxs)("div",{className:"player__controls__bottom-bar",children:[!a&&(0,k.jsx)(Cu,{onVolumeChange:m,volume:E,is_mobile:u,is_muted:d,toggleMute:A}),(0,k.jsx)(Eu,{onPlaybackRateChange:f,is_mobile:u,playback_rate:y})]})]})]})},Ou=Tl()(((e,t)=>t(e)),50),Su=({className:e,data_testid:t,height:r,hide_volume_control:o=!1,is_mobile:a,is_v2:s,increased_drag_area:c,muted:l=!1,src:d,show_loading:_=!1,onModalClose:p,should_show_controls:h=!1})=>{var m;const f=(0,hu.A)(),g=null===(m=!(0,C.isSafariBrowser)()||a&&"iOS"!==(0,C.mobileOSDetect)()&&"unknown"!==(0,C.mobileOSDetect)())||void 0===m||m,[b,v]=i.useState(),[y,D]=i.useState(!1),[w,A]=i.useState(!0),[x,E]=i.useState(!0),[j,O]=i.useState(!1),[S,F]=i.useState(l),[P,T]=i.useState(1),[N,L]=i.useState(!!h||!g),[I,B]=i.useState(h);i.useEffect((()=>{if(h){const e=setTimeout((()=>{L(!1),B(!1)}),5e3);return()=>clearTimeout(e)}}),[h]);const[R,M]=i.useState(0),[z,U]=i.useState(),[W,$]=i.useState(.5),V=i.useRef(),H=i.useRef(null),G=i.useRef(null),Y=i.useRef(null),K=i.useRef(0),q=i.useRef(0),J=i.useRef(!1),Z=i.useRef(),X=i.useRef(),Q=i.useRef(),ee=i.useRef(!1),te=i.useRef(!1),re=e=>{var t,r;const o=100,n=G.current;let i=(("mousemove"===e.type||"click"===e.type?e.clientX:e.changedTouches[0].clientX)-R-(null!==(t=null==n?void 0:n.getBoundingClientRect().left)&&void 0!==t?t:0))/(null!==(r=null==n?void 0:n.getBoundingClientRect().width)&&void 0!==r?r:0)*o;return f&&(i=o-i),i>=o&&(i=o),i<=0&&(i=0),parseFloat(i.toFixed(3))},oe=e=>{if("mousemove"===e.type&&e.preventDefault(),e.stopPropagation(),!ee.current)return;if(!V.current||!H.current)return;cancelAnimationFrame(K.current),ie.cancel();const t=re(e);H.current.style.setProperty("width",`${t}%`);const r=Math.round(Number(V.current.duration)*t/100),o=r>=V.current.duration?V.current.duration:r;V.current.currentTime=o,q.current=o,v(o)},ne=e=>{"mouseup"===e.type&&e.preventDefault(),e.stopPropagation(),ee.current&&V.current&&H.current&&(cancelAnimationFrame(K.current),ie.cancel(),ee.current=!1,J.current=!1,ie(),a&&D(!1))},ie=(0,u._6)((()=>{var e,t;if(!V.current)return;const r=Math.round(q.current)===Math.round(null===(e=V.current)||void 0===e?void 0:e.duration);null!==(t=V.current)&&void 0!==t&&t.ended&&r||(cancelAnimationFrame(K.current),A(!0),V.current.currentTime=q.current,K.current=requestAnimationFrame(ae),V.current.play().catch((()=>null)),te.current=!1)}),500),ae=()=>{if(!V.current||!H.current)return;if(J.current&&q.current!==V.current.currentTime)return cancelAnimationFrame(K.current),void(K.current=requestAnimationFrame(ae));J.current&&(J.current=!1),v(V.current.currentTime);const e=parseFloat((V.current.currentTime/Number(V.current.duration)*100).toFixed(3));H.current.style.setProperty("width",`${e>=99?100:e}%`),K.current=requestAnimationFrame(ae)},se=i.useCallback((e=>{if(e.stopPropagation(),V.current&&H.current){if(cancelAnimationFrame(K.current),ie.cancel(),clearTimeout(Z.current),clearTimeout(X.current),A(!1),te.current)return te.current=!1,V.current.currentTime=0,q.current=0,v(0),H.current.style.setProperty("width","0%"),Z.current=setTimeout((()=>{var e;K.current=requestAnimationFrame(ae),null==V||null===(e=V.current)||void 0===e||e.play().catch((()=>null))}),500),void(X.current=setTimeout((()=>{A(!0)}),1e3));te.current=!1,j?(V.current.pause(),O(!1)):(Z.current=setTimeout((()=>{var e;K.current=requestAnimationFrame(ae),null==V||null===(e=V.current)||void 0===e||e.play().catch((()=>null))}),500),X.current=setTimeout((()=>{A(!0)}),1e3))}}),[j]);i.useEffect((()=>{const e=e=>Ou(e,oe);return a?(document.addEventListener("touchmove",e),document.addEventListener("touchend",ne),document.addEventListener("touchcancel",ne)):(document.addEventListener("mousemove",e),document.addEventListener("mouseup",ne)),()=>{a?(document.removeEventListener("touchmove",e),document.removeEventListener("touchend",ne),document.removeEventListener("touchcancel",ne)):(document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",ne)),cancelAnimationFrame(K.current),clearTimeout(Z.current),clearTimeout(X.current)}}),[]);const ce=i.useCallback((()=>{Q.current&&clearTimeout(Q.current),s&&a&&!te.current&&(Q.current=setTimeout((()=>{L(!1)}),3e3))}),[s,a]);return i.useEffect((()=>(N&&s&&a&&!te.current&&ce(),()=>{Q.current&&clearTimeout(Q.current)})),[N,s,a,ce]),(0,k.jsxs)("div",{className:n()(e,"player__wrapper"),onMouseOver:a||I?void 0:()=>L(!0),onMouseLeave:a||I?void 0:()=>L(!1),"data-testid":t,children:[(0,k.jsx)(pu.Z,{autoplay:g&&!ee.current,height:s?void 0:null!=r?r:a?"184.5px":"270px",className:n()("",{player:s}),width:"100%",letterboxColor:"transparent",muted:S,preload:"auto",responsive:!!s&&void 0,src:d,streamRef:V,onEnded:()=>{var e;te.current=!0,null==H||null===(e=H.current)||void 0===e||e.style.setProperty("width","100%"),v(z),O(!1),A(!1),cancelAnimationFrame(K.current),J.current=!1},onPlay:()=>O(!0),onLoadedMetaData:()=>{V.current&&H.current&&(U(V.current.duration),O(g),E(!1),g&&(K.current=requestAnimationFrame(ae)))},onSeeked:()=>J.current=!1,onSeeking:()=>J.current=!1,playbackRate:P,volume:W}),x&&_&&(0,k.jsx)("div",{className:"player__loader",style:{height:null!=r?r:a?"184.5px":"270px"},children:(0,k.jsx)("div",{className:"player__loader-circle"})}),(0,k.jsx)(vu,{onClick:()=>L(!N),togglePlay:se,show_controls:N,is_ended:te.current,is_mobile:a,is_playing:j,is_v2:s,onModalClose:p}),(0,k.jsx)(ju,{block_controls:ee.current,current_time:b,dragStartHandler:e=>{var t,r;"mousedown"===e.type&&e.preventDefault(),e.stopPropagation(),null==V||null===(t=V.current)||void 0===t||t.pause(),cancelAnimationFrame(K.current),ie.cancel(),O(!1),A(!1),ee.current=!0;const o=Y.current,n="mousedown"===e.type?e.clientX:e.changedTouches[0].clientX;M(n-(null!==(r=null==o?void 0:o.getBoundingClientRect().left)&&void 0!==r?r:0)),a&&D(!0)},has_enlarged_dot:y,hide_volume_control:o,is_animated:w,is_ended:te.current,is_playing:j,is_mobile:a,is_muted:S,is_v2:s,increased_drag_area:c,onRewind:e=>{if(e.preventDefault(),e.stopPropagation(),ee.current)return;if("keydown"===e.type)return;if("player__progress-dot"===e.target.className)return;if(!V.current||!H.current)return;cancelAnimationFrame(K.current),ie.cancel(),A(!1),V.current.pause();const t=re(e);H.current.style.setProperty("width",`${t}%`);const r=Math.round(Number(V.current.duration)*t/100),o=r>=V.current.duration?V.current.duration:r;V.current.currentTime=o,q.current=o,v(o),J.current=!1,ie()},onVolumeChange:$,onPlaybackRateChange:T,show_controls:N,togglePlay:se,toggleMute:F,video_duration:z,volume:W,progress_bar_filled_ref:H,progress_bar_ref:G,progress_dot_ref:Y,playback_rate:P,onUserActivity:ce})]})},Fu=i.memo(Su);var ku=r(215849);const Pu=({information_icon:e,title:t,description:r,redirect_icon:o,link:n})=>(0,k.jsxs)("div",{className:"information-banner",onClick:()=>{window.open(n,"_blank")},children:[(0,k.jsxs)("div",{className:"information-banner__content",children:[e,(0,k.jsxs)("div",{className:"information-banner__content-text",children:[(0,k.jsx)(ku.E,{size:"sm",className:"information-banner__title",children:t}),(0,k.jsx)(ku.E,{size:"xs",className:"information-banner__description",children:r})]})]}),o]}),Tu={square:{xsmall:12,small:16,medium:24,large:32,xlarge:48,xxlarge:64},box:{xsmall:{width:20,height:12},small:{width:32,height:20},medium:{width:48,height:30},large:{width:64,height:40},xlarge:{width:96,height:60},xxlarge:{width:120,height:80}}},Nu=({gradient_class:e,icon:t,size:r="medium",type:o,has_bg:i,hide_watermark:a})=>t?(0,k.jsxs)("div",{className:n()("wallet-icon",{[`wallet-icon--${r} wallet-icon__default-bg ${e}`]:!!e&&"app"!==o||i,"wallet-card--hide-watermark":a}),"data-testid":"dt_wallet_icon",children:[("fiat"===o||"app"===o)&&(0,k.jsx)(F,{icon:t,size:Tu.square[r]}),("demo"===o||"crypto"===o)&&(0,k.jsx)(F,{icon:t,width:Tu.box[r].width,height:Tu.box[r].height})]}):null,Lu=({size:e,icon_type:t,icon:r})=>{let o="large";return"small"===e&&(o="medium"),"medium"===e&&(o=(0,C.isMobile)()&&"crypto"===t?"medium":"large"),(0,k.jsx)(Nu,{type:t,icon:r,size:o})},Iu=({wallet:e,size:t="medium",state:r="default"})=>(0,k.jsxs)("div",{className:`wallet-card wallet-card--${t} wallet-card--${r}`,children:[(0,k.jsxs)("div",{className:`wallet-card__container wallet-card__container--${r} wallet-card__container--${t} ${e.gradient_class}`,children:["small"!==t&&(0,k.jsx)("div",{className:"wallet-card__shine"}),(0,k.jsx)("div",{className:n()("wallet-card__container-fade",{[`wallet-card__container-fade--${r}`]:r})}),"small"===t&&(0,k.jsx)(Lu,{size:t,icon_type:e.icon_type,icon:e.icon}),"small"!==t&&(0,k.jsxs)("div",{className:`wallet-card__content wallet-card__content--${t}`,children:[(0,k.jsxs)("div",{className:"wallet-card__top-wrapper",children:[(0,k.jsx)(Lu,{size:t,icon_type:e.icon_type,icon:e.icon}),"virtual"===e.jurisdiction_title?(0,k.jsx)(at,{label:(0,he.localize)("Demo"),type:"contained",background_color:"blue"}):(0,k.jsx)(at,{custom_color:"var(--text-prominent)",label:e.jurisdiction_title.toUpperCase(),type:"bordered"})]}),(0,k.jsx)("div",{className:"wallet-card__bottom-wrapper",children:"add"!==r&&"added"!==r?(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)(K,{color:"prominent",size:(0,C.isMobile)()?"xxxxs":"xxxs",children:e.name}),(0,k.jsxs)(K,{color:"prominent",weight:"bold",size:(0,C.isMobile)()?"xxs":"xs",children:[e.balance," ",e.currency]})]}):(0,k.jsx)(Qe,{className:`wallet-card__wallet-button wallet-card__wallet-button--${r}`,classNameSpan:"wallet-card__wallet-button-text",icon:(0,k.jsx)(F,{className:"wallet-card__wallet-button-icon",custom_color:"$color-black-1",icon:"added"===r?"IcCheckmarkBold":"IcAddBold",size:12}),text:"added"===r?(0,he.localize)("Added"):(0,he.localize)("Add"),is_disabled:"added"===r})})]})]}),"active"===r&&(0,k.jsx)("div",{className:`wallet-card__active-icon wallet-card__active-icon--${t}`,children:(0,k.jsx)(F,{color:"brand",data_testid:"dt_ic_checkmark_circle",icon:"IcCheckmarkCircle",size:"small"===t?16:32})})]}),Bu={top:{small:"small",medium:"medium",large:"xlarge"},bottom:{small:"xsmall",medium:"small",large:"large"}},Ru=({app_icon:e,gradient_class:t,hide_watermark:r,size:o="medium",type:n,wallet_icon:i})=>e&&i&&t?(0,k.jsxs)("div",{className:`app-icon app-icon--${o}`,children:[(0,k.jsx)("div",{className:"app-icon__top-icon",children:(0,k.jsx)(Nu,{icon:e,size:Bu.top[o],type:"app"})}),(0,k.jsx)("div",{className:"app-icon__bottom-icon",children:(0,k.jsx)(Nu,{icon:i,gradient_class:t,type:n,size:Bu.bottom[o],has_bg:!0,hide_watermark:r})})]}):null},445315:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var o=r(597598),n=r.n(o),i=r(286326),a=r(291218),s=r(592353),c=r(504377),l=r(33118),u=r(836870);const d=({header:e,message:t,redirect_label:r,redirectOnClick:o=null,should_clear_error_on_click:n,setError:d,redirect_to:_=c.routes.trade,should_show_refresh:p=!0,should_redirect:h=!0})=>{const m=(0,a.useHistory)();i.useEffect((()=>{if(m)return m.listen((()=>{"function"==typeof d&&d(!1,null)}))}),[m,d]);const f=p?(0,l.localize)("Please refresh this page to continue."):"";return(0,u.jsx)(s.PageErrorContainer,{error_header:null!=e?e:"",error_messages:t?[t,f]:[],redirect_urls:[_],redirect_labels:!1===r&&[]||[r||(0,l.localize)("Refresh")],buttonOnClick:o||(()=>location.reload()),should_clear_error_on_click:n,setError:d,should_redirect:h})};d.propTypes={header:n().string,message:n().oneOfType([n().node,n().string,n().object]),redirectOnClick:n().func||n().object,redirect_label:n().string,setError:n().func,should_clear_error_on_click:n().bool,should_redirect:n().bool,redirect_to:n().string,should_show_refresh:n().bool};const _=d},597351:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var o=r(592353),n=r(43180),i=r(974777),a=r(413852),s=r(500309),c=r(33118),l=r(978513),u=r(919796),d=r(836870);const _=(0,s.observer)((({showPopover:e})=>{const{isDesktop:t}=(0,u.Y)(),{is_livechat_available:r}=(0,n.A)(),s=(0,i.F)(),_=(0,a.GZ)();if(!r&&!s&&!_)return null;setInterval((()=>{(s||_)&&window.LiveChatWidget&&"function"==typeof window.LiveChatWidget.call&&window.LiveChatWidget.call("destroy")}),10);const p=()=>{l.Chat.open()};return t?(0,d.jsx)("div",{onKeyDown:p,onClick:p,children:e?(0,d.jsx)(o.Popover,{className:"footer__link",classNameBubble:"help-centre__tooltip",alignment:"top",message:(0,d.jsx)(c.Localize,{i18n_default_text:"Live chat"}),zIndex:"9999",children:(0,d.jsx)(o.Icon,{icon:"IcLiveChat",className:"footer__icon gtm-deriv-livechat"})}):(0,d.jsx)("div",{className:"footer__link",children:(0,d.jsx)(o.Icon,{icon:"IcLiveChat",className:"footer__icon gtm-deriv-livechat"})})}):(0,d.jsxs)("div",{className:"livechat gtm-deriv-livechat",onKeyDown:p,onClick:p,children:[(0,d.jsx)("div",{className:"livechat__icon-wrapper",children:(0,d.jsx)(o.Icon,{icon:"IcLiveChat",className:"livechat__icon"})}),(0,d.jsx)(o.Text,{size:"xs",children:(0,d.jsx)(c.Localize,{i18n_default_text:"Live chat"})})]})}))},206022:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var o=r(286326),n=r(592353),i=r(43180),a=r(413852),s=r(33118),c=r(919796),l=r(294035),u=r(836870);const d=({showPopover:e,onClick:t})=>{const{isDesktop:r}=(0,c.Y)(),{is_livechat_available:d}=(0,i.A)(),_=(0,a.GZ)();return d||_?r?(0,u.jsx)("a",{href:l.Zh.whatsApp,"aria-label":(0,s.localize)("WhatsApp"),className:"footer__link",target:"_blank",rel:"noreferrer",children:e?(0,u.jsx)(n.Popover,{classNameBubble:"whatsapp__tooltip",alignment:"top",message:(0,s.localize)("WhatsApp"),zIndex:"9999",children:(0,u.jsx)(n.Icon,{icon:"IcWhatsApp",className:"footer__icon"})}):(0,u.jsx)(n.Icon,{icon:"IcWhatsApp",className:"footer__icon"})}):(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(n.Icon,{icon:"IcWhatsApp",className:"drawer-icon"}),(0,u.jsx)("a",{className:"header__menu-mobile-whatsapp-link",href:l.Zh.whatsApp,target:"_blank",rel:"noopener noreferrer",onClick:t,children:(0,s.localize)("WhatsApp")})]}):null}},211509:(e,t,r)=>{"use strict";r.d(t,{qI:()=>j,Ij:()=>g,nX:()=>A,Hg:()=>S,WO:()=>x,An:()=>b,aZ:()=>C,AL:()=>y,Ay:()=>F});var o=r(255530),n=r.n(o),i=r(597598),a=r.n(i),s=r(286326),c=r(592353),l=r(33118),u=r(500309),d=r(414646),_=r(836870);const p=(0,u.observer)((({is_mobile:e})=>{const{common:t}=(0,d.A)(),{network_status:r}=t,o=(0,_.jsx)("div",{"data-testid":"dt_network_status_element",className:n()("network-status__circle",{"network-status__circle--offline":"offline"===r.class,"network-status__circle--online":"online"===r.class,"network-status__circle--blinker":"blinker"===r.class})});return(0,_.jsx)("div",{"data-testid":"dt_network_status",className:n()("network-status__wrapper",{"network-status__wrapper--is-mobile":e}),children:e?o:(0,_.jsx)(c.Popover,{classNameBubble:"network-status__tooltip",alignment:"top",message:(0,l.localize)("Network status: {{status}}",{status:r.tooltip||(0,l.localize)("Connecting to server")}),children:o})})}));p.propTypes={is_mobile:a().bool};const h=p;var m=r(504377),f=r(852691);const g=()=>{const e=localStorage.getItem("config.server_url");return e?(0,_.jsxs)("span",{style:{fontSize:"var(--text-size-xs)",color:"var(--brand-red-coral)"},children:["The server"," ",(0,_.jsx)(f.Sm,{className:"account-settings-toggle",to:m.routes.endpoint,children:"endpoint"})," ","is: ",e]}):null},b=({showPopover:e})=>{const[t,r]=s.useState(!1),o={event:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],element:["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"],fnc_enter:["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],fnc_exit:["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"]},i=s.useCallback((()=>{r(o.element.some((e=>document[e])))}),[o.element]);s.useEffect((()=>{o.event.forEach((e=>{document.addEventListener(e,i,!1)}))}),[o.event,i]);const a=n()("ic-fullscreen","footer__link",{"ic-fullscreen--active":t}),u=t?(0,_.jsx)(c.Icon,{icon:"IcFullScreenRestore",className:"footer__icon"}):(0,_.jsx)(c.Icon,{data_testid:"dt_icon",icon:"IcFullScreen",className:"footer__icon"});return(0,_.jsx)("a",{"data-testid":"dt_fullscreen_toggle",className:`${a} footer__link`,onClick:e=>{e.stopPropagation();const n=t,i=n?document:document.documentElement,a=o[n?"fnc_exit":"fnc_enter"].find((e=>i[e]));a?i[a]():r(!1)},id:"dt_fullscreen_toggle",children:e?(0,_.jsx)(c.Popover,{alignment:"top",message:t?(0,l.localize)("Exit"):(0,l.localize)("Full screen"),zIndex:9999,children:u}):u})};b.propTypes={showPopover:a().bool};const v=({settings_extension:e})=>{const t=[];return t.push(...e||[]),(0,_.jsx)(c.VerticalTab,{list:t})},y=({enableApp:e,is_settings_visible:t,disableApp:r,toggleSettings:o,settings_extension:i,showPopover:a})=>{const u=n()("ic-settings","footer__link",{"ic-settings--active":t});return(0,_.jsxs)(s.Fragment,{children:[(0,_.jsx)("a",{id:"dt_settings_toggle","data-testid":"dt_toggle_settings",onClick:o,className:`${u} footer__link`,children:a?(0,_.jsx)(c.Popover,{alignment:"top",message:(0,l.localize)("Platform settings"),zIndex:9999,children:(0,_.jsx)(c.Icon,{icon:"IcGear",data_testid:"dt_icon",className:"footer__icon ic-settings__icon"})}):(0,_.jsx)(c.Icon,{icon:"IcGear",data_testid:"dt_icon",className:"footer__icon ic-settings__icon"})}),(0,_.jsx)(c.Modal,{id:"dt_settings_modal",className:"modal-settings",enableApp:e,is_open:t,disableApp:r,title:(0,l.localize)("Platform settings"),toggleModal:o,height:"616px",width:"736px",children:(0,_.jsx)(v,{settings_extension:i})})]})};y.propTypes={disableApp:a().func,enableApp:a().func,is_settings_visible:a().bool,settings_extension:a().array,toggleSettings:a().func,showPopover:a().bool};var D=r(596176);const w=(0,u.observer)((()=>{const{ui:e}=(0,d.A)(),{toggleLanguageSettingsModal:t}=e,{currentLang:r}=(0,D.useTranslations)(),o=Object.keys((0,D.getAllowedLanguages)(m.UNSUPPORTED_LANGUAGES));return(0,_.jsx)("div",{className:"settings-language",children:(0,_.jsx)("div",{className:"settings-language__language-container",children:o.map((e=>((e,t)=>e===t)(e,r)?(0,_.jsx)(f.H6,{lang:e},e):(0,_.jsx)(f.H6,{is_clickable:!0,lang:e,toggleModal:t},e)))})})})),C=(0,u.observer)((({showPopover:e})=>{const{common:t,ui:r}=(0,d.A)(),{currentLang:o}=(0,D.useTranslations)(),{is_language_settings_modal_on:i,toggleLanguageSettingsModal:a}=r,{is_language_changing:u}=t,p=n()("ic-language","footer__link",{"ic-settings--active":i,"ic-settings--disabled":u}),h=(0,_.jsxs)(s.Fragment,{children:[m.TranslationFlag[o]?m.TranslationFlag[o](18,12):(0,_.jsx)(c.Icon,{icon:`IcFlag${o}`,data_testid:"dt_icon",size:18}),(0,_.jsx)(c.Text,{weight:"bold",size:"xxs",className:"ic-settings-language__text",children:(0,_.jsx)(l.Localize,{i18n_default_text:o})})]});return(0,_.jsxs)(s.Fragment,{children:[(0,_.jsx)("a",{id:"dt_language_settings_toggle","data-testid":"dt_toggle_language_settings",onClick:a,className:p,children:e?(0,_.jsx)(c.Popover,{alignment:"top",message:(0,l.localize)("Language"),zIndex:"9999",children:h}):h}),(0,_.jsx)(c.Modal,{id:"dt_settings_modal",is_open:i,title:(0,l.localize)("Select language"),toggleModal:a,width:"616px",should_header_stick_body:!1,children:(0,_.jsx)(w,{})})]})})),A=({showPopover:e})=>(0,_.jsx)(c.StaticUrl,{href:"/help-centre/",id:"dt_help_centre","aria-label":(0,l.localize)("Help centre"),className:"footer__link",children:e?(0,_.jsx)(c.Popover,{classNameBubble:"help-centre__tooltip",alignment:"top",message:(0,l.localize)("Help centre"),zIndex:9999,children:(0,_.jsx)(c.Icon,{icon:"IcHelpCentre",className:"footer__icon"})}):(0,_.jsx)(c.Icon,{icon:"IcHelpCentre",className:"footer__icon"})}),x=({showPopover:e})=>(0,_.jsx)(c.StaticUrl,{href:"/responsible",className:"footer__link",children:e?(0,_.jsx)(c.Popover,{alignment:"top",message:(0,l.localize)("Responsible trading"),zIndex:9999,children:(0,_.jsx)(c.Icon,{icon:"IcVerification",className:"footer__icon ic-deriv__icon"})}):(0,_.jsx)(c.Icon,{icon:"IcVerification",className:"footer__icon ic-deriv__icon"})});var E=r(391049);const j=(0,u.observer)((({showPopover:e})=>{const{redirect_url:t}=(0,E.A)("account-limits");return(0,_.jsx)("a",{className:"footer__link",href:t,children:e?(0,_.jsx)(c.Popover,{alignment:"top",message:(0,l.localize)("Account limits"),zIndex:9999,children:(0,_.jsx)(c.Icon,{icon:"IcAccountLimits",className:"footer__icon ic-deriv__icon"})}):(0,_.jsx)(c.Icon,{icon:"IcAccountLimits",className:"footer__icon ic-deriv__icon"})})})),O=()=>(0,_.jsx)("div",{className:"footer-regulatory-information",children:(0,_.jsx)("p",{children:(0,_.jsx)(l.Localize,{i18n_default_text:"{{legal_entity_name}} is licensed in Malta and regulated by the Malta Financial Services Authority, under the Investment Services Act, to provide investment services (<0>view licence</0>).",components:[(0,_.jsx)("a",{href:`https://${m.deriv_urls.DERIV_HOST_NAME}/regulatory/Deriv_Investments_(Europe)_Limited.pdf`,target:"_blank",rel:"nofollow noreferrer",className:"footer-regulatory-information__link"},0)],values:{legal_entity_name:(0,m.getLegalEntityName)("maltainvest")}})})}),S=({landing_company:e,is_eu:t,show_eu_related_content:r,showPopover:o})=>{const[n,i]=s.useState(!1);if(!t||t&&!r)return null;const a="maltainvest"===e,u=(0,_.jsx)("a",{onClick:()=>i(!0),children:(0,_.jsx)(c.Icon,{icon:"IcRegulatoryInformation",className:"footer__icon ic-deriv__icon"})});return(0,_.jsxs)("div",{className:"footer__link",children:[o?(0,_.jsx)(c.Popover,{alignment:"top",message:(0,l.localize)("Regulatory Information"),zIndex:9999,children:u}):u,(0,_.jsx)(c.Modal,{is_open:n,small:!0,has_close_icon:!0,toggleModal:()=>i(!1),title:(0,l.localize)("Regulatory Information"),children:(a||r)&&(0,_.jsx)(O,{})})]})},F=h},852691:(e,t,r)=>{"use strict";r.d(t,{Sm:()=>b,H6:()=>y,Ay:()=>I});var o=r(255530),n=r.n(o),i=r(286326),a=r(822833),s=r(291218),c=r(504377);const l=(e,t)=>{let r;return null==t||t.some((t=>{let o;try{o=(0,s.matchPath)(e,t)}catch(e){if(/undefined/.test(e.message))return}return o?(r=t,!0):!!t.routes&&(r=l(e,t.routes),r)})),r};var u=r(699429),d=r(500309),_=r(414646),p=r(836870);const h=["active_class","to","children","href"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const b=(0,d.observer)((e=>{let{active_class:t,to:r,children:o,href:i}=e,s=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,h);const{common:c}=(0,_.A)(),{has_error:d,error:m}=c,g=m.setError,b=((e="")=>/^\//.test(e)?e:`/${e||""}`)(r),v=l(b,(0,u.A)());if(!v&&r)throw new Error(`Route not found: ${r}`);return r&&!i?(0,p.jsx)("span",{"data-testid":"dt_span",className:n()({[`${t}__link-wrapper`]:!!t}),onClick:()=>{d&&(null==g||g(!1,null))},children:(0,p.jsx)(a.NavLink,f(f({to:b,activeClassName:t||"active",exact:null==v?void 0:v.exact},s),{},{children:o}))}):(0,p.jsx)("a",f(f({"data-testid":"dt_link"},s),{},{children:o}))}));var v=r(596176);const y=(0,d.observer)((({is_clickable:e=!1,lang:t,toggleModal:r})=>{const{common:o}=(0,_.A)(),{currentLang:a,switchLanguage:s}=(0,v.useTranslations)(),{changeSelectedLanguage:l}=o,u=a===t,d=(0,p.jsxs)(i.Fragment,{children:[c.TranslationFlag[t](36,24),(0,p.jsx)("span",{className:n()("settings-language__language-name",{"settings-language__language-name--active":u}),children:(0,v.getAllowedLanguages)(c.UNSUPPORTED_LANGUAGES)[t]})]});return(0,p.jsx)(i.Fragment,{children:e?(0,p.jsx)("span",{"data-testid":"dt_settings_language_button",id:`dt_settings_${t}_button`,onClick:async()=>{await(async e=>{await l(e),s(e),null==r||r()})(t)},className:n()("settings-language__language-link",{"settings-language__language-link--active":u}),children:d},t):(0,p.jsx)("div",{id:`dt_settings_${t}_button`,className:n()("settings-language__language-link",{"settings-language__language-link--active":u}),children:d})})}));var D=r(192299),w=r.n(D),C=r(339069),A=r(351185),x=r(33118),E=r(978513);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const F=(0,d.observer)((e=>{const{common:t,client:r}=(0,_.A)(),{checkAppId:o}=t,{setPreventSingleLogin:n,prevent_single_login:a}=r;return(0,p.jsx)(s.Route,{exact:e.exact,path:e.path,render:t=>{var r;let l=null;const u=(0,c.removeBranchName)(location.pathname).replace(/\/$/,""),d=(t=>{if(t.startsWith("/cashier")&&!t.includes("p2p")&&e.routes)return e.path===t||!(null==e||!e.routes.find((({path:e})=>t===e)));if(t.includes("p2p")&&e.routes){const r=null==e?void 0:e.routes.find((({path:e})=>"/cashier/p2p"===e)),o="/cashier/p2p"===t?c.routes.p2p_buy_sell:null==r?void 0:r.routes.find((({path:e})=>t===e));return e.path===t||!!o}return!0})(u);if(d&&o(),e.component===s.Redirect){let r=e.to;if(e.path===c.routes.index){const{location:o}=t;r=o.pathname.toLowerCase().replace(e.path,"")}l=(0,p.jsx)(s.Redirect,{to:r})}else if(!d||!e.is_authenticated||e.is_logged_in||e.is_logging_in||a){const r=e.routes?e.routes.find((e=>e.default)):{},o=!(0,c.isEmptyObject)(r);l=(0,p.jsxs)(i.Fragment,{children:[o&&u===e.path&&(0,p.jsx)(s.Redirect,{to:r.path}),d?(0,p.jsx)(e.component,O(O({},t),{},{routes:e.routes,passthrough:e.passthrough})):(0,p.jsx)(C.default,{})]})}else{const t=JSON.parse(localStorage.getItem("client.accounts")||"{}"),r=JSON.parse(localStorage.getItem("config.tokens")||"{}"),o=Object.keys(t).length>0,i=Object.keys(r).length>0,a=(!w().get("logged_state")||"false"===w().get("logged_state"))&&!o&&!i;"true"===window.localStorage.getItem("is_redirecting")?(window.localStorage.removeItem("is_redirecting"),a&&(0,E.isTmbEnabled)().then((t=>{t?(0,c.redirectToLogin)(e.is_logged_in,(0,x.getLanguage)()):setTimeout((()=>{try{n(!0),(0,A.ZF)({redirectCallbackUri:`${window.location.origin}/callback`,postLoginRedirectUri:window.location.href}).catch((e=>{n(!1),console.error(e)}))}catch(e){n(!1),console.error(e)}}),3e3)}))):a&&(0,E.isTmbEnabled)().then((t=>{if(t)(0,c.redirectToLogin)(e.is_logged_in,(0,x.getLanguage)());else try{n(!0),(0,A.ZF)({redirectCallbackUri:`${window.location.origin}/callback`,postLoginRedirectUri:window.location.href}).catch((e=>{n(!1),console.error(e)}))}catch(e){n(!1),console.error(e)}}))}const _=(null===(r=e.getTitle)||void 0===r?void 0:r.call(e))||"";return document.title=`${_} | ${c.default_title}`,l}})}));var k=r(592353),P=r(383993);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const I=(0,d.observer)((e=>{const{ui:t,gtm:r}=(0,_.A)(),{promptFn:o,prompt_when:n}=t,{pushDataLayer:a}=r,l=(0,s.useLocation)(),{dtrader_v2_enabled_mobile:d,dtrader_v2_enabled_desktop:h}=(0,P.A)();i.useEffect((()=>{a({event:"page_load"})}),[l]);return(0,p.jsxs)(i.Suspense,{fallback:d||h?(0,p.jsx)(k.Loading.DTraderV2,{initial_app_loading:!0,is_contract_details:l.pathname.startsWith("/contract/"),is_positions:l.pathname===c.routes.trader_positions,is_closed_tab:1===(0,c.getPositionsV2TabIndexFromURL)()}):(0,p.jsx)(k.Loading,{}),children:[(0,p.jsx)(s.Prompt,{when:n,message:o}),(0,p.jsx)(s.Switch,{children:(0,u.A)().map(((t,r)=>(0,p.jsx)(F,N(N({},t),e),r)))})]})}))},699429:(e,t,r)=>{"use strict";r.d(t,{A:()=>ce});var o=r(286326),n=r(291218),i=r(592353),a=r(504377),s=r(33118),c=r(192299),l=r.n(c),u=r(597598),d=r.n(u),_=r(160756),p=r(317691),h=r(500309),m=r(414646),f=r(978513),g=r(281476),b=r(351185),v=r(391289);const y=(0,h.observer)((()=>{const e=(0,n.useHistory)(),{client:t,ui:r}=(0,m.A)(),[i,c]=(0,o.useState)("USD"),u=/deriv\.(com)/.test(window.location.hostname)||/localhost:8443/.test(window.location.host),{isTmbEnabled:d}=(0,_.A)(),{authorize_accounts_list:h,currency:y,has_wallet:D,is_logged_in:w,is_logging_in:C,setNewEmail:A,setVerificationCode:x,verification_code:E,setPreventRedirectToHub:j,switchAccount:O,is_client_store_initialized:S}=t,{openRealAccountSignup:F,setResetTradingPasswordModalOpen:k,setRedirectFromEmail:P,toggleAccountSignupModal:T,toggleResetPasswordModal:N,toggleResetEmailModal:L,toggleUpdateEmailModal:I,is_mobile:B}=r,{isHubRedirectionEnabled:R}=(0,p.A)(),M=window.location.search,z=new URLSearchParams(M);let U=!1;const W=l().get("client.accounts"),$=l().get("active_loginid"),V=l().get("active_wallet_loginid");if(W&&$){localStorage.setItem("client.accounts",W),localStorage.setItem("active_loginid",$),localStorage.setItem("active_wallet_loginid",V);const e=(0,a.getDomainName)();l().remove("client.accounts",{domain:e,secure:!0}),l().remove("active_loginid",{domain:e,secure:!0}),l().remove("active_wallet_loginid",{domain:e,secure:!0}),"redirect"===z.get("action")&&(window.location.href=window.location.origin+z.get("redirect_to")),window.location.reload()}const H=JSON.parse(localStorage.getItem("client.accounts")||"{}"),G=Object.keys(H).some((e=>e.includes("VRW")||e.includes("CRW"))),Y=z.get("action"),K=z.get("code")||E[Y],q=z.get("ext_platform_url"),J=t=>{e.push(`${a.routes.traders_hub}?ext_platform_url=${t}`),U=!0};switch(x(K,Y),A(z.get("email"),Y),Y){case"signup":g.Analytics.trackEvent("ce_virtual_signup_form",{action:"email_confirmed",form_name:B?"virtual_signup_web_mobile_default":"virtual_signup_web_desktop_default",email:z.get("email")}),null!=z&&z.get("utm_content")&&a.SessionStore.set("show_book",null==z?void 0:z.get("utm_content")),a.SessionStore.set("signup_query_param",M),e.push({pathname:a.routes.onboarding,search:M}),a.SessionStore.remove("redirect_url"),U=!0,T(!0);break;case"reset_password":case"social_email_change":j(!0),N(!0);break;case"request_email":if(C||w){if(!E[Y]){x(sessionStorage.getItem("request_email_code"),Y),sessionStorage.removeItem("request_email_code")}j(!0),L(!0)}else E[Y]&&sessionStorage.setItem("request_email_code",E[Y]),(0,a.redirectToLogin)(w,(0,s.getLanguage)(),!0),U=!0;break;case"system_email_change":j(!0),I(!0);break;case"trading_platform_mt5_password_reset":case"trading_platform_dxtrade_password_reset":{const t=`${Y}_code`;if(!C&&!w){E[Y]&&sessionStorage.setItem(t,E[Y]),(0,a.redirectToLogin)(w,(0,s.getLanguage)()),U=!0;break}if(!E[Y]){x(sessionStorage.getItem(t),Y),sessionStorage.removeItem(t)}const r=z.get("redirect_to");if(r){let t="",o="";switch(r){case"1":case"2":case"3":t=a.routes.traders_hub;break;case"10":case"20":t=a.routes.traders_hub,o="real";break;case"11":case"21":t=a.routes.traders_hub,o="demo"}t&&(e.push({pathname:t,hash:o,search:M}),U=!0)}j(!0),k(!0);break}case"phone_number_verification":{const t=`${Y}_code`;C||w||sessionStorage.setItem(t,K),P(!0),e.push(a.routes.phone_verification),U=!0;break}case"payment_deposit":D?e.push(a.routes.wallets_deposit):e.push(a.routes.cashier_deposit),U=!0;break;case"payment_withdraw":D?null!=E&&E.payment_withdraw?e.push(`${a.routes.wallets_withdrawal}?verification=${E.payment_withdraw}${t.loginid?`&loginid=${t.loginid}`:""}`):e.push(a.routes.wallets_withdrawal):e.push(a.routes.cashier_withdrawal),U=!0;break;case"payment_transfer":D?e.push(a.routes.wallets_transfer):e.push(a.routes.cashier_acc_transfer),U=!0;break;case"crypto_transactions_withdraw":e.push(`${a.routes.cashier_withdrawal}?action=${Y}`),U=!0;break;case"payment_transactions":D?e.push(a.routes.wallets_transactions):e.push(a.routes.statement),U=!0;break;case"payment_agent_withdraw":e.push(a.routes.cashier_pa),U=!0;break;case"add_account":v.WS.wait("get_account_status").then((()=>F(y?"svg":"set_currency"))),q&&J(q);break;case"add_account_multiplier":v.WS.wait("get_account_status").then((()=>F(y?"maltainvest":"set_currency"))),q&&J(q);break;case"manage_account":v.WS.wait("get_account_status").then((()=>F("manage"))),q&&J(q);break;case"verification":{sessionStorage.setItem("redirect_url",a.routes.p2p_verification);const e=(0,a.loginUrl)({language:(0,s.getLanguage)()});window.location.href=e;break}case"trading_platform_investor_password_reset":{var Z;localStorage.setItem("cfd_reset_password_code",K);const t=null===(Z=localStorage.getItem("cfd_reset_password_intent"))||void 0===Z?void 0:Z.includes("demo");D?e.push({pathname:a.routes.traders_hub,search:M}):e.push(`${a.routes.traders_hub}#${t?"demo":"real"}#reset-password`),U=!0;break}case"p2p_order_confirm":e.push({pathname:a.routes.cashier_p2p,search:M}),U=!0;break;case"ctrader_account_transfer":w?R&&(D||G)?window.location.assign(`${a.platforms.tradershub_os.url}/wallets/transfer`):D?e.push(a.routes.wallets_transfer):e.push(a.routes.cashier_acc_transfer):(0,a.isProduction)()?window.location.href="https://home.deriv.com/dashboard/portfolio":window.location.href="https://staging-home.deriv.com/dashboard/portfolio",U=!0;break;case"livechat":f.Chat.open()}return(0,o.useEffect)((()=>{const e=z.get("account");c(e)}),[]),(0,o.useEffect)((()=>{(async()=>{const t=await d(),r=i;if(!U&&e.location.pathname!==a.routes.traders_hub&&S){const o=JSON.parse(localStorage.getItem("client.accounts")||"{}"),n=h.length!==Object.keys(o).length,s=[{pattern:/accumulator/i,route:a.routes.trade,type:"accumulator"},{pattern:/turbos/i,route:a.routes.trade,type:"turboslong"},{pattern:/vanilla/i,route:a.routes.trade,type:"vanillalongcall"},{pattern:/multiplier/i,route:a.routes.trade,type:"multiplier"},{pattern:/proof-of-address/i,route:a.routes.proof_of_address},{pattern:/proof-of-identity/i,route:a.routes.proof_of_identity},{pattern:/personal-details/i,route:a.routes.personal_details},{pattern:/dbot/i,route:a.routes.bot}],c=a.routes.traders_hub,l=s.find((({pattern:t})=>t.test(M||e.location.search)));let d=M;const _=new URLSearchParams(M);if(_.set("account",i),_.set("trade_type",null==l?void 0:l.type),l&&null!=l&&l.type&&(d=`${_.toString()}`),n&&h.length>0&&u&&!t)try{(0,b.ZF)({redirectCallbackUri:`${window.location.origin}/callback`,postLoginRedirectUri:`redirect?${d}`}).catch((e=>{console.error(e)}))}catch(e){console.error(e)}if(r&&!t){let e;const t=r.toUpperCase();e="DEMO"===t?Object.keys(o).find((e=>/^VR/.test(e))):Object.keys(o).find((e=>{var r,n;return(null===(r=o[e].currency)||void 0===r?void 0:r.toUpperCase())===t&&"trading"===o[e].account_category&&!(null!==(n=o[e])&&void 0!==n&&n.is_virtual)})),e&&S&&(O(e),sessionStorage.setItem("active_loginid",e))}sessionStorage.setItem("tradershub_redirect_to",l?`redirect?${d}`:c),e.push({pathname:l?l.route:c,search:d})}})()}),[U,M,e,S,h]),null}));y.propTypes={history:d().object};const D=(0,n.withRouter)(y);var w=r(836870);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function A(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const x=o.lazy((()=>(0,a.moduleLoader)((()=>r.e(8775).then(r.t.bind(r,391917,23)))))),E=o.lazy((()=>(0,a.moduleLoader)((()=>Promise.all([r.e(8962),r.e(5239),r.e(5217),r.e(3077),r.e(2043),r.e(8820),r.e(3749),r.e(8109),r.e(8415),r.e(1011),r.e(1323),r.e(2094),r.e(6400),r.e(7343),r.e(6085),r.e(5940),r.e(2631),r.e(5326),r.e(9668),r.e(6927),r.e(4086),r.e(9119),r.e(3667),r.e(5580),r.e(6324),r.e(3982),r.e(4701),r.e(7513),r.e(2914),r.e(6967)]).then(r.t.bind(r,84661,23)))))),j=(0,h.observer)((e=>{const{client:t,ui:r}=(0,m.A)(),{is_wallets_onboarding_tour_guide_visible:n,setIsWalletsOnboardingTourGuideVisible:s,notification_messages_ui:c}=r,{has_wallet:u,logout:d,prevent_redirect_to_hub:_,is_client_store_initialized:h,prevent_single_login:f,is_logging_out:g,is_logged_in:b,setPreventSingleLogin:v}=t,{isHubRedirectionEnabled:y,isHubRedirectionLoaded:D}=(0,p.A)(),j=`https://hub.${(0,a.getDomainUrl)()}/tradershub`;(0,a.getDomainUrl)();return(0,o.useEffect)((()=>{v(!0)}),[]),(0,o.useEffect)((()=>{if(y&&u&&!g&&b&&!_&&h){const e=j,t=localStorage.getItem("redirect_to_th_os");localStorage.removeItem("redirect_to_th_os");const r=/deriv\.(com|me|be)/.test(window.location.hostname)?a.deriv_urls.DERIV_HOST_NAME:window.location.hostname;l().set("wallet_account",!0,{domain:r});const o=window.location.search,n=new URLSearchParams(o),i=window.sessionStorage.getItem("account")||n.get("account");if("wallet"===t)localStorage.setItem("wallet_redirect_done",!0),window.location.href=`${e}/redirect?action=redirect_to&redirect_to=wallet_home${i?`&account=${i}`:""}`;else window.location.href=`${e}/redirect?action=redirect_to&redirect_to=home${i?`&account=${i}`:""}`}f&&D&&h&&(!y||!u||_)&&v(!1)}),[D,y,u,g,b,_,f,h]),!h||u&&!D||u&&D&&y?(0,w.jsx)(i.Loading,{is_fullscreen:!0}):u?(0,w.jsx)(E,{isWalletsOnboardingTourGuideVisible:n,logout:async()=>{await d()},notificationMessagesUi:c,onWalletsOnboardingTourGuideCloseHandler:()=>{s(!1)},isHubRedirectionEnabled:y}):(0,w.jsx)(x,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))})),O=j;var S=r(824223);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const T=(0,h.observer)((()=>{var e,t;const{feature_flags:r}=(0,m.A)(),o=["wallet"],n=null===(e=Object.entries(null!==(t=r.data)&&void 0!==t?t:{}))||void 0===e?void 0:e.reduce(((e,[t,r])=>(location.hostname===a.website_domain&&a.TRADE_FEATURE_FLAGS.includes(t)||o.includes(t)||(e[t]=r),e)),{});return r.data?(0,w.jsxs)("div",{className:"feature-flags",children:[(0,w.jsx)(i.Text,{as:"h1",weight:"bold",color:"prominent",children:"Feature flags"}),Object.keys(n).map((e=>(0,w.jsx)("div",{className:"feature-flags__item",children:(0,w.jsx)(i.Checkbox,{label:e,value:n[e],onChange:t=>r.update((r=>k(k({},r),{},{[e]:t.target.checked})))})},e)))]}):null}));function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const B=e=>(0,w.jsx)(S.Field,{name:e.name,children:({field:t,form:{errors:r,touched:n}})=>(0,w.jsx)(o.Fragment,{children:(0,w.jsx)(i.Input,L(L({type:"text",autoComplete:"off",maxLength:"30",error:n[t.name]&&r[t.name]},t),e))})}),R=()=>(0,w.jsx)(S.Formik,{initialValues:{app_id:(0,a.getAppId)(),server:(0,a.getSocketURL)(),is_debug_service_worker_enabled:!!(0,a.getDebugServiceWorker)()},validate:e=>{const t={};return e.app_id?/^\d+$/.test(e.app_id)||(t.app_id="Please enter a valid app ID."):t.app_id="App ID is required.",e.server||(t.server="Server is required."),t},onSubmit:e=>{localStorage.setItem("config.app_id",e.app_id),localStorage.setItem("config.server_url",e.server),localStorage.setItem("debug_service_worker",e.is_debug_service_worker_enabled?1:0),sessionStorage.removeItem("config.platform"),location.reload()},children:({errors:e,isSubmitting:t,touched:r,values:n,handleChange:a,setFieldTouched:s})=>(0,w.jsxs)(S.Form,{className:"endpoint",children:[(0,w.jsx)("div",{className:"endpoint__title",children:(0,w.jsx)(i.Text,{as:"h1",weight:"bold",color:"prominent",children:"Change API endpoint"})}),(0,w.jsx)(B,{name:"server",label:"Server",hint:"e.g. frontend.derivws.com"}),(0,w.jsx)(B,{name:"app_id",label:"OAuth App ID",hint:(0,w.jsxs)(o.Fragment,{children:["Register an"," ",(0,w.jsx)("a",{href:"https://developers.binary.com/applications/",target:"_blank",rel:"noopener noreferrer",children:"app ID"})," ","to use the above server for logging in."]})}),(0,w.jsx)(S.Field,{name:"is_debug_service_worker_enabled",children:({field:e})=>(0,w.jsx)("div",{className:"endpoint__checkbox",children:(0,w.jsx)(i.Checkbox,L(L({},e),{},{label:"Enable Service Worker registration for this URL",value:n.is_debug_service_worker_enabled,onChange:e=>{a(e),s("is_debug_service_worker_enabled",!0)}}))})}),(0,w.jsx)(i.Button,{type:"submit",is_disabled:!((r.server||r.app_id||r.is_debug_service_worker_enabled)&&n.server&&n.app_id&&!e.server&&!e.app_id&&!t),text:"Submit",primary:!0}),(0,w.jsx)(i.Button,{type:"button",onClick:()=>{localStorage.removeItem("config.app_id"),localStorage.removeItem("config.server_url"),location.reload()},text:"Reset to original settings",secondary:!0}),(0,w.jsx)(T,{})]})});var M=r(488814),z=r(393145),U=r(215849);const W=`https://hub.${(0,a.getDomainUrl)()}/tradershub`,$=(0,h.observer)((()=>{const e=JSON.parse(l().get("client_information")||"{}"),t=null==e?void 0:e.email,[r,c]=(0,o.useState)(!1),u=(0,n.useHistory)(),{client:d}=(0,m.A)(),{has_wallet:_,logout:h}=d,{isHubRedirectionEnabled:f}=(0,p.A)();return(0,w.jsxs)("div",{className:"access-denied",children:[(0,w.jsx)("header",{className:"access-denied__header",children:(0,w.jsx)(z.A,{className:"access-denied__logo"})}),(0,w.jsx)("main",{className:"access-denied__main-container",children:r?(0,w.jsx)(i.Loading,{}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.Icon,{icon:"IcWarningOrange",width:72,height:72}),(0,w.jsxs)(U.E,{as:"h2",className:"access-denied__title",weight:"bold",align:"center",children:[(0,s.localize)("You're currently logged in as")," ",(0,w.jsx)("br",{}),t]}),(0,w.jsxs)(U.E,{as:"p",align:"center",className:"access-denied__description",children:[(0,s.localize)("Would you like to continue with this"),(0,w.jsx)("br",{}),(0,s.localize)("account or switch to a different one?")]}),(0,w.jsxs)("div",{className:"access-denied__actions",children:[(0,w.jsx)("button",{className:"access-denied__button",onClick:()=>{if(f&&_){const e=W;window.location.href=e}else u.push(a.routes.traders_hub)},children:(0,s.localize)("Continue")}),(0,w.jsx)("button",{className:"access-denied__button access-denied__button--switch",onClick:async()=>{c(!0),await h(),c(!1)},children:(0,s.localize)("Switch account")})]})]})})]})})),V=(0,n.withRouter)((()=>{const e=(0,n.useHistory)(),t=(0,n.useLocation)().search.includes("access_denied"),[r]=(0,M.A)({featureFlag:"duplicate-login"});return r&&t?(0,w.jsx)($,{}):(0,w.jsx)(b.YO,{onSignInSuccess:e=>{localStorage.setItem("config.tokens",JSON.stringify(e)),localStorage.setItem("config.account1",e.token1),localStorage.setItem("active_loginid",e.acct1),!sessionStorage.getItem("active_loginid")&&/^(CR|MF|VRTC)\d/.test(e.acct1)&&sessionStorage.setItem("active_loginid",e.acct1),!sessionStorage.getItem("active_wallet_loginid")&&/^(CRW|MFW|VRW)\d/.test(e.acct1)&&sessionStorage.setItem("active_wallet_loginid",e.acct1);const t=sessionStorage.getItem("tradershub_redirect_to"),r=localStorage.getItem("config.post_login_redirect_uri")||"",o=new URLSearchParams(r).get("account");if(t||r&&o){const o=new URLSearchParams(t||r).get("account");let n,i,a;if("demo"!==(null==o?void 0:o.toLowerCase())?Object.keys(e).find((t=>{if(t.startsWith("cur")&&e[t].toLocaleLowerCase()===(null==o?void 0:o.toLocaleLowerCase())){var r,s,c,l,u,d;const o=t.replace("cur",""),_=(null===(r=e[`acct${o}`])||void 0===r?void 0:r.startsWith("CR"))&&!(null!==(s=e[`acct${o}`])&&void 0!==s&&s.startsWith("CRW")),p=null===(c=e[`acct${o}`])||void 0===c?void 0:c.startsWith("CRW"),h=(null===(l=e[`acct${o}`])||void 0===l?void 0:l.startsWith("MF"))&&!(null!==(u=e[`acct${o}`])&&void 0!==u&&u.startsWith("MFW")),m=null===(d=e[`acct${o}`])||void 0===d?void 0:d.startsWith("MFW");(_||h)&&(n||i||(n=e[`acct${o}`],i=e[`token${o}`])),(p||m)&&(a=e[`acct${o}`])}})):Object.keys(e).find((t=>{if(t.startsWith("cur")&&"USD"===e[t]){var r,o;const s=t.replace("cur",""),c=null===(r=e[`acct${s}`])||void 0===r?void 0:r.startsWith("VRTC"),l=null===(o=e[`acct${s}`])||void 0===o?void 0:o.startsWith("VRW");c&&(n=e[`acct${s}`],i=e[`token${s}`]),l&&(a=e[`acct${s}`])}})),n&&i)sessionStorage.setItem("active_loginid",n),localStorage.setItem("config.account1",i),localStorage.setItem("active_loginid",n);else if(!a&&!i&&!e.acct1.startsWith("CRW")){if(e.acct1.startsWith("VR")){const e=new URL(window.location.href);e.searchParams.set("account","demo"),window.history.replaceState({},"",e.toString())}else{const t=new URL(window.location.href);t.searchParams.set("account",e.cur1.toString()),window.history.replaceState({},"",t.toString())}sessionStorage.setItem("active_loginid",e.acct1),localStorage.setItem("config.account1",e.token1),localStorage.setItem("active_loginid",e.acct1)}a&&i&&sessionStorage.setItem("active_wallet_loginid",a),sessionStorage.removeItem("tradershub_redirect_to"),window.history.replaceState({},"",t||r),window.location.href=t||r}else{const e=localStorage.getItem("config.post_login_redirect_uri");e?(window.history.replaceState({},"",e),window.location.href=e):(window.history.replaceState({},"",a.routes.traders_hub),window.location.href=a.routes.traders_hub)}},renderReturnButton:()=>(0,w.jsx)(i.Button,{onClick:()=>{e.push("/"),window.location.reload()},secondary:!0,is_circular:!0,children:(0,w.jsx)(s.Localize,{i18n_default_text:"Try again"})})})}));var H=r(148893);const G=()=>{const{client:{is_logged_in:e}}=(0,m.A)(),t=(0,n.useHistory)(),r=l().get("client.accounts"),i=l().get("active_loginid"),s=l().get("active_wallet_loginid");return r&&i&&(localStorage.setItem("client.accounts",r),localStorage.setItem("active_loginid",i),s&&localStorage.setItem("active_wallet_loginid",s),["client.accounts","active_loginid","active_wallet_loginid"].forEach((e=>{l().remove(e,{domain:(0,a.getDomainName)(),secure:!0})})),window.location.reload()),(0,o.useEffect)((()=>{const r=window.location.search,o=new URLSearchParams(r);o.delete("redirect_to");const n=[{pattern:/proof-of-address/i,route:a.routes.proof_of_address},{pattern:/proof-of-identity/i,route:a.routes.proof_of_identity},{pattern:/personal-details/i,route:a.routes.personal_details},{pattern:/financial-assessment/i,route:a.routes.financial_assessment},{pattern:/trading-assessment/i,route:a.routes.trading_assessment},{pattern:/accumulator/i,route:a.routes.trade,type:"accumulator"},{pattern:/turbos/i,route:a.routes.trade,type:"turboslong"},{pattern:/vanilla/i,route:a.routes.trade,type:"vanillalongcall"},{pattern:/multiplier/i,route:a.routes.trade,type:"multiplier"}].find((({pattern:e})=>e.test(r)));if((null==n?void 0:n.type)&&o.set("trade_type",n.type),n&&sessionStorage.setItem("tradershub_redirect_to",`${null==n?void 0:n.route}?${o.toString()}`),e&&n)return t.push({pathname:null==n?void 0:n.route,search:o.toString()})}),[t,e]),(0,w.jsx)(H.a,{isFullScreen:!0})};function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const J=o.lazy((()=>r.e(4483).then(r.bind(r,272678)))),Z=o.lazy((()=>Promise.resolve().then(r.bind(r,339069)))),X=o.lazy((()=>Promise.all([r.e(4647),r.e(4931)]).then(r.t.bind(r,49049,23)))),Q=o.lazy((()=>r.e(3528).then(r.t.bind(r,993940,23)))),ee=o.lazy((()=>(0,a.moduleLoader)((()=>Promise.all([r.e(8955),r.e(6648),r.e(8440)]).then(r.t.bind(r,267692,23)))))),te=o.lazy((()=>(0,a.moduleLoader)((()=>Promise.all([r.e(8962),r.e(5239),r.e(5217),r.e(3077),r.e(2043),r.e(8820),r.e(3749),r.e(8109),r.e(8415),r.e(1011),r.e(1323),r.e(2094),r.e(6400),r.e(7343),r.e(6085),r.e(5940),r.e(2631),r.e(5326),r.e(9668),r.e(6927),r.e(4086),r.e(9119),r.e(3667),r.e(5580),r.e(6324),r.e(3982),r.e(4701),r.e(7513),r.e(2914),r.e(8955),r.e(6648),r.e(8644)]).then(r.t.bind(r,372840,23)))))),re=o.lazy((()=>(0,a.moduleLoader)((()=>r.e(7182).then(r.t.bind(r,544718,23)))))),oe=o.lazy((()=>(0,a.moduleLoader)((()=>Promise.all([r.e(4647),r.e(4956)]).then(r.t.bind(r,157497,23)))))),ne=()=>(0,w.jsx)(D,{to:a.routes.traders_hub}),ie=(0,a.makeLazyLoader)((()=>(0,a.moduleLoader)((()=>r.e(4492).then(r.bind(r,654249))))),(()=>(0,w.jsx)(i.Loading,{})));let ae;const se={component:Z,getTitle:()=>(0,s.localize)("Error 404")},ce=()=>(ae||(ae=[{path:a.routes.index,component:n.Redirect,getTitle:()=>"",to:a.routes.traders_hub},{path:a.routes.endpoint,component:R,getTitle:()=>"Endpoint"},{path:a.routes.os_redirect,component:G,getTitle:()=>(0,s.localize)("Redirect")},{path:a.routes.redirect,component:D,getTitle:()=>(0,s.localize)("Redirect")},{path:a.routes.callback_page,component:V,getTitle:()=>"Callback"},{path:a.routes.complaints_policy,component:ie(),getTitle:()=>(0,s.localize)("Complaints policy"),icon_component:"IcComplaintsPolicy",is_authenticated:!0},{path:a.routes.bot,component:oe,getTitle:()=>(0,s.localize)("Bot")},{path:a.routes.reports,component:Q,getTitle:()=>(0,s.localize)("Reports"),icon_component:"IcReports",is_authenticated:!0,routes:[{path:a.routes.positions,component:Q,getTitle:()=>(0,s.localize)("Open positions"),icon_component:"IcOpenPositions",default:!0},{path:a.routes.profit,component:Q,getTitle:()=>(0,s.localize)("Trade table"),icon_component:"IcProfitTable"},{path:a.routes.statement,component:Q,getTitle:()=>(0,s.localize)("Statement"),icon_component:"IcStatement"}]},{path:a.routes.dxtrade,component:e=>(0,w.jsx)(ee,K(K({},e),{},{platform:"dxtrade"})),getTitle:()=>(0,s.localize)("Deriv X")},{path:a.routes.compare_cfds,component:J,getTitle:()=>(0,s.localize)("Compare CFD accounts")},{path:a.routes.mt5,component:e=>(0,w.jsx)(ee,K(K({},e),{},{platform:"mt5"})),getTitle:()=>(0,s.localize)("MT5")},{path:a.routes.account_closed,component:te,getTitle:()=>(0,s.localize)("Account deactivated")},{path:a.routes.account,component:te,getTitle:()=>(0,s.localize)("Account settings"),icon_component:"IcUserOutline",is_authenticated:!0,routes:[{getTitle:()=>(0,s.localize)("Profile"),icon:"IcUserOutline",subroutes:[{path:a.routes.personal_details,component:te,getTitle:()=>(0,s.localize)("Personal details"),default:!0},{path:a.routes.languages,component:te,getTitle:()=>(0,s.localize)("Languages")}]},{getTitle:()=>(0,s.localize)("Assessments"),icon:"IcAssessment",subroutes:[{path:a.routes.trading_assessment,component:te,getTitle:()=>(0,s.localize)("Trading assessment")},{path:a.routes.financial_assessment,component:te,getTitle:()=>(0,s.localize)("Financial assessment")}]},{getTitle:()=>(0,s.localize)("Verification"),icon:"IcVerification",subroutes:[{path:a.routes.proof_of_identity,component:te,getTitle:()=>(0,s.localize)("Proof of identity")},{path:a.routes.proof_of_address,component:te,getTitle:()=>(0,s.localize)("Proof of address")},{path:a.routes.proof_of_ownership,component:te,getTitle:()=>(0,s.localize)("Proof of ownership")},{path:a.routes.proof_of_income,component:te,getTitle:()=>(0,s.localize)("Proof of income")}]},{getTitle:()=>(0,s.localize)("Security and safety"),icon:"IcSecurity",subroutes:[{path:a.routes.passwords,component:te,getTitle:()=>(0,s.localize)("Email and passwords")},{path:a.routes.passkeys,component:te,getTitle:()=>(0,w.jsxs)(w.Fragment,{children:[(0,s.localize)("Passkeys"),(0,w.jsxs)("span",{className:"dc-vertical-tab__header--new",children:[(0,s.localize)("NEW"),"!"]})]})},{path:a.routes.self_exclusion,component:te,getTitle:()=>(0,s.localize)("Self-exclusion")},{path:a.routes.account_limits,component:te,getTitle:()=>(0,s.localize)("Account limits")},{path:a.routes.login_history,component:te,getTitle:()=>(0,s.localize)("Login history")},{path:a.routes.api_token,component:te,getTitle:()=>(0,s.localize)("API token")},{path:a.routes.connected_apps,component:te,getTitle:()=>(0,s.localize)("Connected apps")},{path:a.routes.two_factor_authentication,component:te,getTitle:()=>(0,s.localize)("Two-factor authentication")},{path:a.routes.closing_account,component:te,getTitle:()=>(0,s.localize)("Close your account")}]}]},{path:a.routes.cashier,component:re,is_modal:!0,is_authenticated:!0,getTitle:()=>(0,s.localize)("Cashier"),icon_component:"IcCashier",routes:[{path:a.routes.cashier_deposit,component:re,getTitle:()=>(0,s.localize)("Deposit"),icon_component:"IcCashierAdd",default:!0},{path:a.routes.cashier_withdrawal,component:re,getTitle:()=>(0,s.localize)("Withdrawal"),icon_component:"IcCashierMinus"},{path:a.routes.cashier_pa,component:re,getTitle:()=>(0,s.localize)("Payment agents"),icon_component:"IcPaymentAgent"},{path:a.routes.cashier_acc_transfer,component:re,getTitle:()=>(0,s.localize)("Transfer"),icon_component:"IcAccountTransfer"},{path:a.routes.cashier_pa_transfer,component:re,getTitle:()=>(0,s.localize)("Transfer to client"),icon_component:"IcAccountTransfer"},{path:a.routes.cashier_p2p,component:re,getTitle:()=>(0,s.localize)("Deriv P2P"),icon_component:"IcDp2p",routes:[]},{path:a.routes.cashier_transactions_crypto,component:re,is_invisible:!0}]},{path:a.routes.trade,component:X,getTitle:()=>(0,s.localize)("Trader")},{path:a.routes.contract,component:X,getTitle:()=>(0,s.localize)("Contract Details"),is_authenticated:!0},{path:a.routes.old_traders_hub,component:ne,is_authenticated:!1,getTitle:()=>(0,s.localize)("Trader's Hub")},{path:a.routes.traders_hub,component:O,is_authenticated:!1,getTitle:()=>(0,s.localize)("Trader's Hub")},{path:a.routes.callback_page,component:V,is_authenticated:!1,getTitle:()=>"Callback"}],ae.push(se)),ae)},620993:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var o=r(286326),n=r(919796),i=r(592353),a=r(500309),s=r(414646),c=r(33118),l=r(836870);const u=()=>(0,l.jsxs)("div",{className:"crypto-transaction-processing-modal__content",children:[(0,l.jsx)("div",{className:"crypto-transaction-processing-modal__circle",children:[...Array(3)].map(((e,t)=>(0,l.jsx)("div",{className:`crypto-transaction-processing-modal__dot crypto-transaction-processing-modal__dot-${t}`},t)))}),(0,l.jsxs)("div",{className:"crypto-transaction-processing-modal__content-description",children:[(0,l.jsx)(i.Text,{size:"sm",weight:"bold",children:(0,l.jsx)(c.Localize,{i18n_default_text:"Transaction processing"})}),(0,l.jsx)(i.Text,{children:(0,l.jsx)(c.Localize,{i18n_default_text:"We'll notify you when it's complete."})})]})]}),d=(0,a.observer)((()=>{const{isDesktop:e}=(0,n.Y)(),{ui:t}=(0,s.A)(),{should_show_crypto_transaction_processing_modal:r,setShouldShowCryptoTransactionProcessingModal:a}=t,d=()=>{a(!1)};return(0,l.jsx)(o.Fragment,{children:e?(0,l.jsxs)(i.Modal,{is_open:r,className:"crypto-transaction-processing-modal",title:" ",toggleModal:d,height:"440px",width:"440px",has_close_icon:!0,should_header_stick_body:!1,children:[(0,l.jsx)(u,{}),(0,l.jsx)(i.Modal.Footer,{has_separator:!0,children:(0,l.jsx)(i.Button,{large:!0,primary:!0,onClick:d,children:(0,l.jsx)(c.Localize,{i18n_default_text:"OK"})})})]}):(0,l.jsx)(i.MobileDialog,{visible:r,portal_element_id:"modal_root",wrapper_classname:"crypto-transaction-processing-modal",onClose:d,title:"",has_full_height:!0,footer:(0,l.jsx)(i.Modal.Footer,{has_separator:!0,children:(0,l.jsx)(i.Button,{primary:!0,large:!0,wide:!0,onClick:d,children:(0,l.jsx)(c.Localize,{i18n_default_text:"OK"})})}),children:(0,l.jsx)(u,{})})})}))},223753:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var o=r(255530),n=r.n(o),i=r(597598),a=r.n(i),s=(r(286326),r(504377)),c=r(592353),l=r(500309),u=r(414646),d=r(836870);const _=(0,l.observer)((({is_mobile:e})=>{const{common:t}=(0,u.A)(),{server_time:r}=t,o=(0,s.toGMTFormat)(r),i=(0,s.toLocalFormat)(r);return(0,d.jsx)(c.Popover,{alignment:"top",message:i,className:n()("server-time",{"server-time--is-mobile":e}),zIndex:9999,children:o})}));_.propTypes={is_mobile:a().bool};const p=_},339069:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});r(286326);var o=r(592353),n=r(504377),i=r(33118),a=r(836870);const s=()=>(0,a.jsx)(o.PageError,{header:(0,i.localize)("We couldn’t find that page"),messages:[(0,i.localize)("You may have followed a broken link, or the page has moved to a new address."),(0,i.localize)("Error code: {{error_code}} page not found",{error_code:404})],redirect_urls:[n.routes.trade],redirect_labels:[(0,i.localize)("Return to trade")],classNameImage:"page-404__image",image_url:(0,n.getUrlBase)("/public/images/common/404.png")})},391289:(e,t,r)=>{"use strict";r.d(t,{z:()=>o.A,WS:()=>n.A,a:()=>l});var o=r(83658),n=r(498015),i=r(504377),a=r(978513),s=r(541862),c=r.n(s);const l=()=>n.A.logout().then(u);const u=e=>{var t,r,o,n;if(1===e.logout)return(0,i.removeCookies)("affiliate_token","affiliate_tracking","onfido_token","gclid","utm_data"),localStorage.removeItem("closed_toast_notifications"),localStorage.removeItem("is_wallet_migration_modal_closed"),localStorage.removeItem("active_wallet_loginid"),localStorage.removeItem("config.account1"),localStorage.removeItem("config.tokens"),localStorage.removeItem("verification_code.system_email_change"),localStorage.removeItem("verification_code.request_email"),localStorage.removeItem("new_email.system_email_change"),c().clear(),Object.keys(sessionStorage).filter((e=>"trade_store"!==e)).forEach((e=>sessionStorage.removeItem(e))),null===(t=window.LC_API)||void 0===t||null===(r=t.close_chat)||void 0===r||r.call(t),null===(o=window.LiveChatWidget)||void 0===o||o.call("hide"),null===(n=window.fcWidget)||void 0===n||n.close(),a.Chat.clear(),e}},83658:(e,t,r)=>{"use strict";r.d(t,{A:()=>b});var o=r(214867),n=r.n(o),i=r(351447),a=r(504377),s=r(33118),c=r(274277),l=r.n(c),u=r(203087),d=r.n(u),_=r(498015);let p,h,m,f=1;const g=(()=>{let e,t,r,o=null;const c=()=>{clearTimeout(o),h.setIsSocketOpened(!1)},u=e=>{o=setTimeout((()=>{var e,t,r,o;const n=(null===_.A||void 0===_.A||null===(e=_.A.get)||void 0===e||null===(e=e.call(_.A))||void 0===e?void 0:e.expect_response_types)||{},i=Object.keys(n).filter((e=>"pending"===n[e].state)),s=new Error("deriv-api: no message received after 30s");s.userId=null===(t=p)||void 0===t?void 0:t.loginid,null===(r=window.TrackJS)||void 0===r||null===(r=r.console)||void 0===r||r.error({message:s.message,clientsCountry:null===(o=p)||void 0===o?void 0:o.clients_country,websocketUrl:(0,a.getSocketURL)(),pendingResponseTypes:i})}),3e4),e&&(p.is_logged_in||p.is_logging_in?_.A.get().expectResponse("authorize").then((()=>{_.A.subscribeWebsiteStatus(v.websiteStatus)})):_.A.subscribeWebsiteStatus(v.websiteStatus),l().init((()=>h.setServerTime(l().get()))),h.setIsSocketOpened(!0))},f=e=>{switch(clearTimeout(o),D(e),e.msg_type){case"authorize":if(e.error){const t="1"===sessionStorage.getItem("active_tab");"SelfExclusion"===(0,a.getPropertyValue)(e,["error","code"])&&t&&sessionStorage.removeItem("active_tab"),p.logout()}else/authorize/.test(a.State.get("skip_response"))||(e.authorize.loginid===p.loginid||p.is_populating_account_list||p.is_switching?e.authorize.loginid===p.loginid&&C(e):p.logout());break;case"landing_company":break;case"get_self_exclusion":b(e);break;case"get_settings":e.get_settings&&(g(e.get_settings.country_code),p.setEmail(e.get_settings.email),p.setAccountSettings(e.get_settings),m.eventHandler(e.get_settings));break;case"phone_settings":e.phone_settings&&p.setPhoneSettings(e.phone_settings);break;case"set_account_currency":_.A.forgetAll("balance").then(w);break;case"get_account_status":p.setAccountStatus(e.get_account_status);break;case"payout_currencies":p.responsePayoutCurrencies(null==e?void 0:e.payout_currencies);break;case"transaction":m.pushTransactionData(e)}},g=e=>{e&&(p.setResidence(e),_.A.landingCompany(e).then(p.responseLandingCompany))},b=o=>{var i;const a=null==o||null===(i=o.get_self_exclusion)||void 0===i?void 0:i.session_duration_limit;if(t=new Date(sessionStorage.getItem("session_start_time")||l().get()),sessionStorage.setItem("session_start_time",t),a&&a!==e){const o=60*a*1e3-(e?l().get()-n()(t):0);clearTimeout(r),r=setTimeout((()=>{p.logout(),sessionStorage.removeItem("session_start_time")}),o)}else a||clearTimeout(r);e=a},y=(0,i.flow)((function*(e){yield null===d()||void 0===d()?void 0:d().wait("website_status"),p.setBalanceActiveAccount(e)})),D=e=>{const t=e.msg_type;switch((0,a.getPropertyValue)(e,["error","code"])){case"WrongResponse":"mt5_login_list"===t?_.A.authorized.mt5LoginList().then((e=>{e.error?p.resetMt5ListPopulatedState():(p.responseMt5LoginList(e),_.A.balanceAll().then((e=>{e.error||p.setBalanceOtherAccounts(e.balance)})))})):"balance"===t?_.A.forgetAll("balance").then(w):"get_account_status"===t?_.A.authorized.getAccountStatus().then((e=>{e.error||p.setAccountStatus(e.get_account_status)})):"landing_company"===t&&p.residence&&_.A.authorized.landingCompany(p.residence).then((e=>{e.error||p.responseLandingCompany(e)}));break;case"InternalServerError":case"OutputValidationFailed":"mt5_login_list"!==t&&h.setError(!0,{message:e.error.message});break;case"RateLimit":"cashier_password"!==t&&h.setError(!0,{message:(0,s.localize)("You have reached the rate limit of requests per second. Please try later.")});break;case"InvalidAppID":case"DisabledClient":h.setError(!0,{message:e.error.message});break;case"InvalidToken":if(["cashier","paymentagent_withdraw","reset_password","trading_platform_password_reset","trading_platform_investor_password_reset","new_account_virtual","portfolio","proposal_open_contract","change_email","phone_number_challenge"].includes(t))return;const r=(0,a.getActivePlatform)(h.app_routing_history);if("DBot"===r)return;p.logout().then((()=>{let e=a.routes.traders_hub;"system_email_change"!==(0,a.getActionFromUrl)()&&("Deriv MT5"===r&&(e=a.routes.mt5),h.routeTo(e))}));break;case"AuthorizationRequired":if("buy"===t)return;p.logout()}},w=()=>{_.A.subscribeBalanceAll(v.balanceOtherAccounts),p.currency&&_.A.subscribeBalanceActiveAccount(v.balanceActiveAccount,p.loginid)},C=e=>{p.responseAuthorize(e),_.A.getPhoneSettings(),w(),_.A.storage.getSettings(),_.A.getAccountStatus(),_.A.storage.payoutCurrencies(),p.setIsAuthorize(!0),p.is_virtual||_.A.getSelfExclusion(),d().sendBuffered(),/bch/i.test(e.authorize.currency)&&p.accounts[p.loginid].accepted_bch};return{init:e=>(p=e.client,h=e.common,m=e.gtm,{onDisconnect:c,onOpen:u,onMessage:f}),setBalanceActiveAccount:y,setBalanceOtherAccounts:e=>{p.setBalanceOtherAccounts(e)},authorizeAccount:C}})(),b=g,v={websiteStatus:e=>{if(e.website_status){const t=(0,a.checkServerMaintenance)(e.website_status);if(t){const e=Math.min(Math.pow(2,f+9),6e5)*(.5+1.5*Math.random());window.setTimeout((()=>{f++,d().closeAndOpenNewConnection(),d().blockRequest(t)}),e)}else!t&&f>1&&window.location.reload();d().blockRequest(t),d().setAvailability(e.website_status.site_status),p.setWebsiteStatus(e)}},balanceActiveAccount:e=>{e.error||g.setBalanceActiveAccount(e.balance)},balanceOtherAccounts:e=>{e.error||g.setBalanceOtherAccounts(e.balance)}}},498015:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var o=r(203087);const n=r.n(o)()},865867:e=>{function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){const t=r({},e);return delete t.passthrough,delete t.req_id,delete t.subscribe,JSON.stringify(t)}e.exports=class{constructor(e,t=""){this.session_id=void 0,this.config=e,this.debounced_calls={},this.session_id=t}requestDataTransformer(e){return this.session_id?r(r({},e),{},{session_id:this.session_id}):e}sendWillBeCalled({args:[e]}){this.config.wsEvent("send");const t=n(e);if(t in this.debounced_calls)return this.debounced_calls[t]}sendIsCalled({response_promise:e,args:[t,r={}]}){const o=function(e){return new Promise((t=>{e.then(t,t)}))}(e),i=n(t);return r.callback&&o.then(r.callback),this.debounced_calls[i]=o,o.then((()=>{delete this.debounced_calls[i]})),o}}},462195:(e,t,r)=>{function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{localize:i}=r(33118),a=r(203087),s=(()=>{const e={online:{class:"online",tooltip:i("Online")},offline:{class:"offline",tooltip:i("Offline")},blinking:{class:"blinker",tooltip:i("Connecting to server")}};let t;const r=()=>navigator.onLine;let s=null;function c({timeout:e}){clearTimeout(s),s=setTimeout((()=>{s=null,r()&&a.hasReadyState(2,3)?a.openNewConnection():a.send({ping:1})}),e)}const l={init:()=>t(r()?"blinking":"offline"),open:()=>t(r()?"online":"offline"),send:()=>{},message:()=>t("online"),close:()=>{t(r()?"blinking":"offline"),c({timeout:5e3})}},u=e=>{l[e]&&l[e]()};return{init:(i,s,l)=>{let d,_;if(t=t=>{const o=r();t===d&&o===_||(d=t,_=o,s(e[t],o))},"onLine"in navigator?(window.addEventListener("online",(()=>{t("blinking"),c({timeout:500})})),window.addEventListener("offline",(()=>{a.close(),t("offline")}))):navigator.onLine=!0,r()){const e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({wsEvent:u,isOnline:r},i);a.init({options:e,client:l}),a.openNewConnection()}t(r()?"blinking":"offline")},wsEvent:u}})();e.exports=s},274277:(e,t,r)=>{const o=r(214867),n=r(203087),i=r(423382).PromiseUtils,a=(()=>{let e=!1;const t=i.createPromise();let r,a,s,c,l;const u=t=>{e||(l=t,d(),clearInterval(s),s=setInterval(d,3e4),e=!0)},d=()=>{a=performance.now(),n.send({time:1}).then(_)},_=n=>{if(n.error)return;if(!e)return void u();clearInterval(c);const i=n.time,s=performance.now(),d=1e3*i+(s-a),_=()=>{const e=performance.now()-s;r=o(d+e).utc(),"function"==typeof l&&l()};_(),t.resolve(),c=setInterval(_,1e3)};return{init:u,get:()=>r?r.clone():void 0,timePromise:t.promise}})();e.exports=a},203087:(e,t,r)=>{function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const a=r(475236),s=r(504377).getAppId,c=r(504377).getSocketURL,l=r(504377).cloneObject,u=r(504377).getPropertyValue,d=r(504377).State,{getLanguage:_}=r(33118),p=r(504377).website_name,h=r(541862),m=r(865867),f=(()=>{let e,t,r,o={},i=0,f=!1,b=!1,v=!1;const y={is_up:!0,is_updating:!1,is_down:!1},D=()=>{t.close()},w=(...e)=>t&&e.some((e=>t.readyState===e)),C=(n=_())=>{const g=(()=>{const e=localStorage.getItem("mock_server_data");return e?JSON.parse(e):{session_id:"",is_mockserver_enabled:!1}})(),y=(null==g?void 0:g.session_id)||"";i!==s()&&(v||o.wsEvent("init"),t&&!w(2,3)||(f=!1,t=new WebSocket(((e,t=!1)=>t?"ws://127.0.0.1:42069":`wss://${c()}/websockets/v3?app_id=${s()}&l=${e}&brand=${p.toLowerCase()}`)(n,y)),e=new a({connection:t,storage:h,middleware:new m(o,y)})),e.onOpen().subscribe((()=>{if(o.wsEvent("open"),j("website_status"),r.is_logged_in){const t=r.getToken();e.authorize(t)}"function"==typeof o.onOpen&&o.onOpen(w(1)),"function"==typeof o.onReconnect&&b&&o.onReconnect(),b||(b=!0)})),e.onMessage().subscribe((({data:e})=>{const t=e.msg_type;d.set(["response",t],l(e)),o.wsEvent("message"),"InvalidAppID"===u(e,["error","code"])&&(i=s()),"function"==typeof o.onMessage&&o.onMessage(e)})),e.onClose().subscribe((()=>{v?v=!1:o.wsEvent("close"),i===s()||"function"!=typeof o.onDisconnect||f||(o.onDisconnect(),f=!0)})))},A=e=>/^updating$/i.test(e),x=e=>/^down$/i.test(e),E=e=>!("authorize"===e&&!r.is_logged_in),j=(...t)=>{var r;return null===(r=e)||void 0===r?void 0:r.expectResponse(...t.filter(E))},O=(t,r)=>e.subscribe(t).subscribe(r,r);return{init:({options:e,client:t})=>{"object"==typeof e&&o!==e&&(o=e),r=t},openNewConnection:C,forgetStream:t=>e.forget(t),wait:j,availability:y,hasReadyState:w,isSiteDown:x,isSiteUpdating:A,clear:()=>{},sendBuffered:()=>{},getSocket:()=>t,get:()=>e,getAvailability:()=>y,setOnDisconnect:e=>{o.onDisconnect=e},setOnReconnect:e=>{o.onReconnect=e},removeOnReconnect:()=>{delete o.onReconnect},removeOnDisconnect:()=>{delete o.onDisconnect},cache:g({},(()=>e.cache)),storage:g({},(()=>e.storage)),blockRequest:t=>{var r;return null===(r=e)||void 0===r?void 0:r.blockRequest(t)},buy:({proposal_id:t,price:r})=>e.send({buy:t,price:r}),buyAndSubscribe:e=>new Promise((t=>{let r=!1;const o=O(e,(e=>{r||(r=!0,o.unsubscribe(),t(e))}))})),sell:(t,r)=>e.send({sell:t,price:r}),cashier:(t,r={})=>e.send(n({cashier:t},r)),cancelCryptoTransaction:t=>e.send({cashier_withdrawal_cancel:1,id:t}),cancelContract:t=>e.send({cancel:t}),close:D,cryptoWithdraw:({address:t,amount:r,verification_code:o,estimated_fee_unique_id:n,dry_run:i=0})=>e.send({cashier:"withdraw",provider:"crypto",type:"api",address:t,amount:r,verification_code:o,estimated_fee_unique_id:n,dry_run:i}),cryptoConfig:()=>e.send({crypto_config:1}),contractUpdate:(t,r)=>e.send({contract_update:1,contract_id:t,limit_order:r}),contractUpdateHistory:t=>e.send({contract_update_history:1,contract_id:t}),getFinancialAssessment:()=>e.send({get_financial_assessment:1}),setFinancialAndTradingAssessment:t=>e.send(n({set_financial_assessment:1},t)),mt5NewAccount:t=>e.send(n({mt5_new_account:1},t)),newAccountVirtual:(t,r,o,i)=>e.send(n({new_account_virtual:1,verification_code:t,client_password:r,residence:o},i)),newAccountReal:t=>e.send(n({new_account_real:1},t)),newAccountRealMaltaInvest:t=>e.send(n({new_account_maltainvest:1},t)),getPhoneSettings:()=>e.send({phone_settings:1}),p2pSubscribe:(e,t)=>O(e,t),profitTable:(t,r,o)=>e.send(n({profit_table:1,description:1,limit:t,offset:r},o)),statement:(t,r,o)=>e.send(n({statement:1,description:1,limit:t,offset:r},o)),verifyEmail:(t,r,o={})=>e.send(n({verify_email:t,type:r},o)),getTicksHistory:t=>e.send(t),tradingPlatformPasswordChange:t=>e.send(n({trading_platform_password_change:1},t)),tradingPlatformPasswordReset:t=>e.send(n({trading_platform_password_reset:1},t)),tradingPlatformAvailableAccounts:t=>e.send({trading_platform_available_accounts:1,platform:t}),tradingPlatformInvestorPasswordChange:t=>e.send(n({trading_platform_investor_password_change:1},t)),tradingPlatformInvestorPasswordReset:t=>e.send(n({trading_platform_investor_password_reset:1},t)),activeSymbols:(t="brief")=>e.activeSymbols(t),contractsForCompany:({landing_company:t})=>e.send({landing_company:t,contracts_for_company:1}),paymentAgentList:(t,r)=>e.send(n({paymentagent_list:t},r&&{currency:r})),allPaymentAgentList:t=>e.send({paymentagent_list:t}),paymentAgentDetails:(t,r)=>e.send({paymentagent_details:1,passthrough:t,req_id:r}),paymentAgentWithdraw:({amount:t,currency:r,dry_run:o=0,loginid:n,verification_code:i})=>e.send({amount:t,currency:r,dry_run:o,paymentagent_loginid:n,paymentagent_withdraw:1,verification_code:i}),paymentAgentTransfer:({amount:t,currency:r,description:o,transfer_to:n,dry_run:i=0})=>e.send({amount:t,currency:r,description:o,transfer_to:n,paymentagent_transfer:1,dry_run:i}),setAccountCurrency:(t,r)=>e.send(n({set_account_currency:t},r&&{passthrough:r})),balanceAll:()=>e.send({balance:1,account:"all"}),setAvailability:e=>{y.is_up=(e=>/^up$/i.test(e))(e),y.is_updating=A(e),y.is_down=x(e)},subscribeBalanceAll:e=>O({balance:1,account:"all"},e),subscribeBalanceActiveAccount:(e,t)=>O({balance:1,account:t},e),subscribeProposal:(e,t)=>O(n({proposal:1},e),t),subscribeProposalOpenContract:(e=null,t)=>O(n({proposal_open_contract:1},e&&{contract_id:e}),t),subscribeTicks:(e,t)=>O({ticks:e},t),subscribeTicksHistory:(e,t)=>O(e,t),subscribeTransaction:e=>O({transaction:1},e),subscribeWebsiteStatus:e=>O({website_status:1},e),tncApproval:()=>e.send({tnc_approval:"1"}),transferBetweenAccounts:(t,r,o,i)=>e.send(n({transfer_between_accounts:1,accounts:"all"},t&&{account_from:t,account_to:r,currency:o,amount:i})),fetchLoginHistory:t=>e.send({login_history:1,limit:t}),closeAndOpenNewConnection:(e=_(),t="")=>{D(),v=!0,C(e,t)},accountStatistics:()=>e.send({account_statistics:1}),tradingServers:t=>e.send({platform:t,trading_servers:1}),tradingPlatformAccountsList:t=>e.send({trading_platform_accounts:1,platform:t}),tradingPlatformNewAccount:t=>e.send(n({trading_platform_new_account:1},t)),triggerMt5DryRun:({email:t})=>e.send({account_type:"financial",dry_run:1,email:t,leverage:100,mainPassword:"Test1234",mt5_account_type:"financial_stp",mt5_new_account:1,name:"test real labuan financial stp"}),getServiceToken:(t,r)=>{const o=t;return e.send({service_token:1,service:o,server:r})},changeEmail:t=>e.send(t),getWalletMigrationState:()=>e.send({wallet_migration:"state"}),startWalletMigration:()=>e.send({wallet_migration:"start"}),resetWalletMigration:()=>e.send({wallet_migration:"reset"})}})();function g(e,t){return new Proxy(e,{get(e,r){if(e[r])return e[r];const o="function"==typeof t?t():t;if(!o)return;const n=o[r];return n?"function"==typeof n?n.bind(o):n:void 0}})}const b=g(f,(()=>f.get())),v=e=>new Proxy(e,{get:(e,t)=>e[t]&&"function"!=typeof e[t]?v(e[t]):(...r)=>{var o;return null==f||null===(o=f.wait("authorize"))||void 0===o?void 0:o.then((()=>e[t](...r)))}});f.authorized=v(b),e.exports=b},541862:(e,t,r)=>{const o=r(214867),n=r(504377).isEmptyObject,i=r(504377).getPropertyValue,a=r(437360).getStaticHash,s=r(504377).LocalStore,c=(()=>{const e={payout_currencies:{expire:120},proposal_open_contract:{expire:10},contracts_for:{expire:10},exchange_rates:{expire:60},trading_times:{expire:120}},t="ws_cache";let r={};const c={history:"ticks_history",candles:"ticks_history"},l=e=>{let t=!1;return Array.isArray(e)?e.length||(t=!0):"object"==typeof response_data&&(Object.keys(e).length||(t=!0)),t},u=()=>{n(r)&&(r=s.getObject(t),n(r))||r.static_hash!==a()&&h()},d=e=>i(r,e)||{},_=e=>{u();const t=d(e);let r;return o().isBefore(t.expires)?r=t.value:p(e),r},p=(e,o)=>{o?Object.keys(r).forEach((t=>{-1!==t.indexOf(e)&&delete r[t]})):e in r&&delete r[e],s.setObject(t,r)},h=()=>{s.remove(t),r={}};return{set:(n,i)=>{var u;const d=c[i.msg_type]||i.msg_type;if(i.subscription){if(!("proposal_open_contract"===d&&i.proposal_open_contract.is_sold))return}if("latest"===(null==i||null===(u=i.echo_req)||void 0===u?void 0:u.end))return;if(!e[d])return;const p=_(i.echo_req)||{},m=p[d],f=i[d],g=i.error,b=m&&l(m)&&!l(f),v=m&&l(f)&&!l(m),y=!l(p)&&!p.error;if((g||b||v)&&y)return void h();const D=o().add(e[d].expire,"m").valueOf();r.static_hash||(r.static_hash=a()),r[n]={value:i,expires:D,msg_type:d},s.setObject(t,r)},get:_,getByMsgType:e=>{u();const t=Object.keys(r).find((t=>d(t).msg_type===e));if(!t)return;const n=d(t);let i;return o().isBefore(n.expires)?i=n.value:p(t),i},has:e=>!!_(e),remove:p,clear:h}})();e.exports=c},437360:e=>{let t;const r=["it","de","fr","lu","gr","mf","es","sk","lt","nl","at","bg","si","cy","be","ro","hr","pt","pl","lv","ee","cz","fi","hu","dk","se","ie","im","gb","mt"],o=e=>r.includes(e),n=["sg","de","gr","es","au","it","lu"],i=["au","fr"],a=["de","es","it","lu","gr","au","fr"];e.exports={createElement:(e,t={})=>{const r=document.createElement(e);return Object.keys(t).forEach((e=>{const o=t[e];"text"===e?r.textContent=o:"html"===e?r.html(o):r.setAttribute(e,o)})),r},getStaticHash:()=>(t=t||(document.querySelector('script[src*="main"]').getAttribute("src")||"").split(".")[1],t),isEuCountry:o,isOptionsBlocked:e=>i.includes(e),isSyntheticsUnavailable:e=>n.includes(e),isMultipliersOnly:e=>a.includes(e),getRegion:(e,t)=>"virtual"===e?o(t)?"eu":"row":"svg"===e?"row":"eu"}},277496:(e,t,r)=>{"use strict";var o=r(735623),n=r(286326),i=(r(22705),r(504377));const a=36e5;let s;function c(){return e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&navigator.serviceWorker.controller&&(console.log("New version is found, refreshing the page..."),clearInterval(s))}}}}const l=function(){"serviceWorker"in navigator&&window.addEventListener("load",(()=>{const e=`${window.location.origin}${(0,i.getUrlBase)("/service-worker.js")}`;navigator.serviceWorker.register(e).then((e=>{s=setInterval((()=>{e.update().then(c).catch((e=>{console.error("Error during service worker update:",e)}))}),a),e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{if("installed"===t.state&&navigator.serviceWorker.controller&&performance.now()>a){const e=new Event("UpdateAvailable");document.dispatchEvent(e)}}}})).catch((t=>{console.error("Error during service worker registration:",t,e)}))}))};var u=r(351447),d=r(462195),_=r.n(d),p=r(391289);let h;const m=(()=>{const e=(0,u.action)(((e,t)=>{h&&h.setNetworkStatus(e,t)}));return{init:t=>{_().init(p.z.init(t),e,t.client),h=t.common}}})();var f=r(192299),g=r.n(f),b=r(214867),v=r.n(b),y=r(33118),D=r(281476),w=r(294035),C=r(978513),A=r(83658);const x=e=>{let t;return/^VR/.test(e)?t="virtual":/^MF/.test(e)?t="financial":/^(MLT|MX)/.test(e)&&(t="gaming"),t},E=(()=>{let e;return{get:()=>(e||(e={default:(0,y.localize)("Real"),financial:(0,y.localize)("Investment"),gaming:(0,y.localize)("Gaming"),virtual:(0,y.localize)("Virtual")}),e)}})(),j=e=>"all"===e?"all":"financial",O=(e,t)=>{const r=(e=>new i.CookieStorage(e.includes("utm")?"utm_data":e))(e);return r.get(e)||r.set(e,t),r};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class P{constructor(e={}){this.validation_errors={},this.validation_rules={},this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,this.partial_fetch_time=0,(0,u.makeObservable)(this,{validation_errors:u.observable,validation_rules:u.observable,partial_fetch_time:u.observable,retrieveFromStorage:u.action,setValidationErrorMessages:u.action,setValidationRules:u.action,addRule:u.action,validateProperty:u.action,validateAllProperties:u.action,onSwitchAccount:u.action.bound,onPreSwitchAccount:u.action.bound,onLogout:u.action.bound,onClientInit:u.action.bound,onNetworkStatusChange:u.action.bound,onThemeChange:u.action.bound,onRealAccountSignupEnd:u.action.bound,disposePreSwitchAccount:u.action.bound,disposeSwitchAccount:u.action.bound,disposeLogout:u.action.bound,disposeClientInit:u.action.bound,disposeNetworkStatusChange:u.action.bound,disposeThemeChange:u.action.bound,disposeRealAccountSignupEnd:u.action.bound,onUnmount:u.action.bound,assertHasValidCache:u.action.bound});const{root_store:t,local_storage_properties:r,session_storage_properties:o,validation_rules:n,store_name:i}=e;Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0});if(r&&r.length||o&&o.length){if(!i)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:i,enumerable:!1,writable:!1})}this.root_store=t,this.local_storage_properties=r||[],this.session_storage_properties=o||[],setTimeout((()=>{this.setValidationRules(n),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}),0)}getSnapshot(e){let t=(0,u.toJS)(this);return(0,i.isEmptyObject)(this.root_store)||(t.root_store=this.root_store),e&&e.length&&(t=e.reduce(((e,r)=>Object.assign(e,{[r]:t[r]})),{})),t}setupReactionForLocalStorage(){this.local_storage_properties.length&&(0,u.reaction)((()=>this.local_storage_properties.map((e=>this[e]))),(()=>this.saveToStorage(this.local_storage_properties,P.STORAGES.LOCAL_STORAGE)))}setupReactionForSessionStorage(){this.session_storage_properties.length&&(0,u.reaction)((()=>this.session_storage_properties.map((e=>this[e]))),(()=>this.saveToStorage(this.session_storage_properties,P.STORAGES.SESSION_STORAGE)))}saveToStorage(e,t){const r=JSON.stringify(this.getSnapshot(e),((e,t)=>{if(null!==t)return t}));t===P.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,r):t===P.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,r)}retrieveFromStorage(){const e=JSON.parse(localStorage.getItem(this.store_name,{})),t=JSON.parse(sessionStorage.getItem(this.store_name,{})),r=F(F({},e),t);Object.keys(r).forEach((e=>this[e]=r[e]))}setValidationErrorMessages(e,t){this.validation_errors[e]&&!(()=>!!this.validation_errors[e].filter((e=>!t.includes(e))).concat(t.filter((t=>!this.validation_errors[e].includes(t)))).length)()||(this.validation_errors[e]=t)}setValidationRules(e={}){Object.keys(e).forEach((t=>{this.addRule(t,e[t])}))}addRule(e,t){this.validation_rules[e]=t,(0,u.intercept)(this,e,(t=>(this.validateProperty(e,t.newValue),t)))}validateProperty(e,t){const r=this.validation_rules[e].trigger,o={[e]:void 0!==t?t:this[e]},n={[e]:this.validation_rules[e].rules||[]};r&&Object.hasOwnProperty.call(this,r)&&(o[r]=this[r],n[r]=this.validation_rules[r].rules||[]);const a=new i.Validator(o,n,this);a.isPassed(),Object.keys(o).forEach((e=>{this.setValidationErrorMessages(e,a.errors.get(e))}))}validateAllProperties(){const e=Object.keys(this.validation_rules),t=Object.keys(this.validation_errors);e.forEach((e=>{this.validateProperty(e,this[e])})),t.forEach((t=>{e.includes(t)||delete this.validation_errors[t]}))}onSwitchAccount(e){e&&(this.switch_account_listener=e,this.switchAccountDisposer=(0,u.when)((()=>this.root_store.client.switch_broadcast),(async()=>{try{const e=this.switch_account_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Switching account listeners are required to return a promise.");e.then((()=>{this.root_store.client.switchEndSignal(),this.onSwitchAccount(this.switch_account_listener)}))}catch(e){(0,i.isProduction)()||console.error(e)}})))}onPreSwitchAccount(e){e&&(this.pre_switch_account_listener=e,this.preSwitchAccountDisposer=(0,u.when)((()=>this.root_store.client.pre_switch_broadcast),(async()=>{try{var e;const t=null===(e=this.pre_switch_account_listener)||void 0===e?void 0:e.call(this);if(!t||!t.then||"function"!=typeof t.then)throw new Error("Pre-switch account listeners are required to return a promise.");t.then((()=>{this.root_store.client.setPreSwitchAccount(!1),this.onPreSwitchAccount(this.pre_switch_account_listener)}))}catch(e){(0,i.isProduction)()||console.error(e)}})))}onLogout(e){this.logoutDisposer=(0,u.when)((()=>this.root_store.client.has_logged_out),(async()=>{try{const e=this.logout_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Logout listeners are required to return a promise.");e.then((()=>{this.root_store.client.setLogout(!1),this.onLogout(this.logout_listener)}))}catch(e){(0,i.isProduction)()||console.error(e)}})),this.logout_listener=e}onClientInit(e){this.clientInitDisposer=(0,u.when)((()=>this.root_store.client.initialized_broadcast),(async()=>{try{const e=this.client_init_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Client init listeners are required to return a promise.");e.then((()=>{this.root_store.client.setInitialized(!1),this.onClientInit(this.client_init_listener)}))}catch(e){(0,i.isProduction)()||console.error(e)}})),this.client_init_listener=e}onNetworkStatusChange(e){this.networkStatusChangeDisposer=(0,u.reaction)((()=>this.root_store.common.is_network_online),(e=>{try{this.network_status_change_listener(e)}catch(e){(0,i.isProduction)()||console.error(e)}})),this.network_status_change_listener=e}onThemeChange(e){this.themeChangeDisposer=(0,u.reaction)((()=>this.root_store.ui.is_dark_mode_on),(e=>{try{this.theme_change_listener(e)}catch(e){(0,i.isProduction)()||console.error(e)}})),this.theme_change_listener=e}onRealAccountSignupEnd(e){this.realAccountSignupEndedDisposer=(0,u.when)((()=>this.root_store.ui.has_real_account_signup_ended),(()=>{try{const e=this.real_account_signup_ended_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Real account signup listeners are required to return a promise.");e.then((()=>{this.root_store.ui.setRealAccountSignupEnd(!1),this.onRealAccountSignupEnd(this.real_account_signup_ended_listener)}))}catch(e){(0,i.isProduction)()||console.error(e)}})),this.real_account_signup_ended_listener=e}disposePreSwitchAccount(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}disposeSwitchAccount(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}disposeLogout(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}disposeClientInit(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}disposeNetworkStatusChange(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}disposeThemeChange(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}disposeRealAccountSignupEnd(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}onUnmount(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}assertHasValidCache(e,...t){this.root_store.client.loginid!==e&&(t.forEach((e=>e())),this.partial_fetch_time=!1)}}P.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")});var T=r(203087),N=r.n(T),L=r(541862),I=r(437360);const B="UST",R=["document_number","document_type","document_additional"];function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const W="i18n_language",$="client.accounts",V=/^maltainvest$/,H=/^mt$/;class G extends P{constructor(e){super({root_store:e,local_storage_properties:["device_data"],store_name:"client_store"}),this.loginid=void 0,this.preferred_language=void 0,this.upgrade_info=void 0,this.email=void 0,this.accounts={},this.authorize_accounts_list=[],this.is_trading_platform_available_account_loaded=!1,this.trading_platform_available_accounts=[],this.ctrader_trading_platform_available_accounts=[],this.pre_switch_broadcast=!1,this.switched="",this.is_switching=!1,this.switch_broadcast=!1,this.initialized_broadcast=!1,this.currencies_list={},this.residence_list=[],this.states_list=[],this.citizen="",this.selected_currency="",this.is_populating_account_list=!1,this.is_populating_mt5_account_list=!0,this.is_populating_dxtrade_account_list=!0,this.is_populating_ctrader_account_list=!0,this.is_logging_out=!1,this.should_redirect_user_to_login=!1,this.website_status={},this.account_settings={},this.account_status={},this.device_data={},this.is_authorize=!1,this.is_logging_in=!1,this.is_single_logging_in=!1,this.is_client_store_initialized=!1,this.has_logged_out=!1,this.is_landing_company_loaded=!1,this.is_account_setting_loaded=!1,this.has_enabled_two_fa=!1,this.has_changed_two_fa=!1,this.landing_companies={},this.is_new_session=!1,this.is_tradershub_tracking=!1,this.standpoint={svg:!1,maltainvest:!1,gaming_company:!1,financial_company:!1},this.upgradeable_landing_companies=[],this.mt5_disabled_signup_types={real:!1,demo:!1},this.mt5_login_list=[],this.mt5_login_list_error=null,this.dxtrade_accounts_list=[],this.ctrader_accounts_list=[],this.dxtrade_accounts_list_error=null,this.dxtrade_disabled_signup_types={real:!1,demo:!1},this.statement={},this.obj_total_balance={amount_real:void 0,amount_mt5:void 0,amount_dxtrade:void 0,currency:""},this.prevent_redirect_to_hub=!1,this.prevent_single_login=!1,this.verification_code={signup:"",reset_password:"",payment_withdraw:"",payment_agent_withdraw:"",phone_number_verification:"",trading_platform_mt5_password_reset:"",trading_platform_dxtrade_password_reset:"",request_email:"",social_email_change:"",system_email_change:""},this.new_email={system_email_change:"",social_email_change:""},this.account_limits={},this.self_exclusion={},this.local_currency_config={currency:"",decimal_places:void 0},this.has_cookie_account=!1,this.financial_assessment=null,this.mt5_trading_servers=[],this.dxtrade_trading_servers=[],this.cfd_score=0,this.is_mt5_account_list_updated=!1,this.phone_settings={},this.prev_real_account_loginid="",this.prev_account_type="demo",this.external_url_params={},this.is_already_attempted=!1,this.is_p2p_enabled=!1,this.real_account_signup_form_data=[],this.real_account_signup_form_step=0,this.wallet_migration_state=void 0,this.wallet_migration_interval_id=void 0,this.is_wallet_migration_request_is_in_progress=!1,this.is_passkey_supported=!1,this.is_phone_number_verification_enabled=!1,this.is_country_code_dropdown_enabled=!1,this.should_show_passkey_notification=!1,this.passkeys_list=[],this.subscriptions={},this.exchange_rates={},this.client_kyc_status={},this.hasAnyRealAccount=()=>this.account_list.some((e=>0===e.is_virtual)),this.setExternalParams=e=>{this.external_url_params=e},this.redirectToLegacyPlatform=()=>{const{url:e,should_redirect:t}=this.external_url_params;t&&window.location.replace(e)},this.setPreventRedirectToHub=e=>{this.prevent_redirect_to_hub=e},this.setPreventSingleLogin=e=>{this.prevent_single_login=e},this.getIsMarketTypeMatching=(e,t)=>"synthetic"===t?e.market_type===t||"gaming"===e.market_type:"all"===t?"all"===e.market_type:"financial"===e.market_type,this.isMT5Allowed=e=>"mt_financial_company"in e||"mt_gaming_company"in e||"mt_all_company"in e,this.isDxtradeAllowed=e=>{var t;return!(!this.is_logged_in&&this.is_eu_country||this.is_logged_in&&this.root_store.traders_hub.show_eu_related_content)&&(!(null!==(t=this.website_status)&&void 0!==t&&t.clients_country&&e&&Object.keys(e).length)||("dxtrade_financial_company"in e||"dxtrade_gaming_company"in e||"dxtrade_all_company"in e||!this.is_logged_in&&!this.is_eu&&!this.is_eu_country))},this.isCtraderAllowed=e=>{var t;return!(!this.is_logged_in&&this.is_eu_country||this.is_logged_in&&this.root_store.traders_hub.show_eu_related_content)&&(!(null!==(t=this.website_status)&&void 0!==t&&t.clients_country&&e&&Object.keys(e).length)||("ctrader"in e||!this.is_logged_in&&!this.is_eu&&!this.is_eu_country))},this.isBotAllowed=()=>{if(!this.is_logged_in&&this.is_eu_country)return!1;const e="maltainvest"===this.landing_company_shortcode;return this.is_virtual?this.is_eu_or_multipliers_only:!e&&!this.is_options_blocked},this.setPreferredLanguage=e=>{this.preferred_language=e,i.LocalStore.setObject(W,e)},this.isAccountOfType=e=>{const t=x(this.loginid);return("virtual"===e&&"virtual"===t||"real"===e&&"virtual"!==t||e===t)&&!this.isDisabled()},this.setPrevRealAccountLoginid=e=>{this.prev_real_account_loginid=e},this.setPrevAccountType=e=>{this.prev_account_type=e},this.getExchangeRate=(e,t)=>{var r,o;return this.exchange_rates&&null!==(r=null===(o=this.exchange_rates)||void 0===o||null===(o=o[e])||void 0===o?void 0:o[t])&&void 0!==r?r:1},this.subscribeToEndpoint=async(e,t)=>{var r;const o=JSON.stringify({name:e,payload:t}),n=null===(r=this.subscriptions)||void 0===r||null===(r=r[e])||void 0===r||null===(r=r[o])||void 0===r?void 0:r.sub;if(n)return{key:o,subscription:n};try{const r=await(null===p.WS||void 0===p.WS?void 0:p.WS.subscribe(z({[e]:1,subscribe:1},null!=t?t:{})));return this.addSubscription(e,o,r),{key:o,subscription:r}}catch(e){var i,a;return console.log(`Something wrong: code = ${null==e||null===(i=e.error)||void 0===i?void 0:i.code}, message = ${null==e||null===(a=e.error)||void 0===a?void 0:a.message}`),{}}},this.unsubscribeByKey=async(e,t)=>{var r;if(null===(r=this.subscriptions)||void 0===r||null===(r=r[e])||void 0===r||null===(r=r[t])||void 0===r?void 0:r.sub)try{var o,n;await(null===p.WS||void 0===p.WS?void 0:p.WS.forget(null===(o=this.subscriptions)||void 0===o||null===(o=o[e])||void 0===o||null===(o=o[t])||void 0===o?void 0:o.id)),null===(n=this.subscriptions)||void 0===n||null===(n=n[e])||void 0===n||delete n[t]}catch(e){var i,a;console.log(`Something wrong: code = ${null==e||null===(i=e.error)||void 0===i?void 0:i.code}, message = ${null==e||null===(a=e.error)||void 0===a?void 0:a.message}`)}},this.subscribeToExchangeRate=async(e,t)=>{var r;if(""===e||""===t||e===t)return;if(null!==(r=this.exchange_rates)&&void 0!==r&&null!==(r=r[e])&&void 0!==r&&r[t])return;const{key:o,subscription:n}=await this.subscribeToEndpoint("exchange_rates",{base_currency:e,target_currency:t});n.subscribe((t=>{var r,n;const i=null===(r=t.exchange_rates)||void 0===r?void 0:r.rates,a=String(null===(n=t.subscription)||void 0===n?void 0:n.id);if(i){this.addSubscription("exchange_rates",o,void 0,a);const t=z({},this.exchange_rates);t?t[e]=z(z({},t[e]),i):t={[e]:i},this.setExchangeRates(t)}}),(e=>{var t,r;console.log(`Something wrong: code = ${null==e||null===(t=e.error)||void 0===t?void 0:t.code}, message = ${null==e||null===(r=e.error)||void 0===r?void 0:r.message}`)}))},this.unsubscribeFromExchangeRate=async(e,t)=>{if(e&&t){var r;const o=JSON.stringify({name:"exchange_rates",payload:{base_currency:e,target_currency:t}});await this.unsubscribeByKey("exchange_rates",o),null===(r=this.subscriptions)||void 0===r||null===(r=r.exchange_rates)||void 0===r||delete r[o];const n=z({},this.exchange_rates);delete n[payload.base_currency],this.setExchangeRates(n)}},this.unsubscribeFromAllExchangeRates=()=>{var e,t,r;null===(e=Object.keys(null!==(t=null===(r=this.subscriptions)||void 0===r?void 0:r.exchange_rates)&&void 0!==t?t:{}))||void 0===e||e.forEach((e=>{this.unsubscribeByKey("exchange_rates",e)})),this.setExchangeRates({})},(0,u.makeObservable)(this,{exchange_rates:u.observable,loginid:u.observable,external_url_params:u.observable,setExternalParams:u.action.bound,redirectToLegacyPlatform:u.action.bound,preferred_language:u.observable,upgrade_info:u.observable,email:u.observable,accounts:u.observable,is_trading_platform_available_account_loaded:u.observable,trading_platform_available_accounts:u.observable,ctrader_trading_platform_available_accounts:u.observable,pre_switch_broadcast:u.observable,switched:u.observable,is_switching:u.observable,switch_broadcast:u.observable,initialized_broadcast:u.observable,currencies_list:u.observable,residence_list:u.observable,states_list:u.observable,citizen:u.observable,selected_currency:u.observable,is_populating_account_list:u.observable,is_populating_mt5_account_list:u.observable,is_populating_dxtrade_account_list:u.observable,is_populating_ctrader_account_list:u.observable,is_logging_out:u.observable,website_status:u.observable,account_settings:u.observable,account_status:u.observable,device_data:u.observable,is_authorize:u.observable,is_logging_in:u.observable,is_single_logging_in:u.observable,is_client_store_initialized:u.observable,has_logged_out:u.observable,is_landing_company_loaded:u.observable,is_account_setting_loaded:u.observable,should_redirect_user_to_login:u.observable,has_enabled_two_fa:u.observable,has_changed_two_fa:u.observable,landing_companies:u.observable,standpoint:u.observable,upgradeable_landing_companies:u.observable,mt5_disabled_signup_types:u.observable,mt5_login_list:u.observable,mt5_login_list_error:u.observable,dxtrade_accounts_list:u.observable,ctrader_accounts_list:u.observable,dxtrade_accounts_list_error:u.observable,dxtrade_disabled_signup_types:u.observable,statement:u.observable,cfd_score:u.observable,obj_total_balance:u.observable,verification_code:u.observable,new_email:u.observable,account_limits:u.observable,self_exclusion:u.observable,local_currency_config:u.observable,has_cookie_account:u.observable,financial_assessment:u.observable,mt5_trading_servers:u.observable,dxtrade_trading_servers:u.observable,prev_real_account_loginid:u.observable,prev_account_type:u.observable,prevent_redirect_to_hub:u.observable,prevent_single_login:u.observable,phone_settings:u.observable,is_already_attempted:u.observable,is_p2p_enabled:u.observable,real_account_signup_form_data:u.observable,real_account_signup_form_step:u.observable,wallet_migration_state:u.observable,is_wallet_migration_request_is_in_progress:u.observable,is_passkey_supported:u.observable,is_phone_number_verification_enabled:u.observable,is_country_code_dropdown_enabled:u.observable,passkeys_list:u.observable,should_show_passkey_notification:u.observable,balance:u.computed,account_open_date:u.computed,is_svg:u.computed,has_active_real_account:u.computed,has_maltainvest_account:u.computed,has_any_real_account:u.computed,can_change_fiat_currency:u.computed,legal_allowed_currencies:u.computed,upgradeable_currencies:u.computed,current_currency_type:u.computed,available_crypto_currencies:u.computed,available_onramp_currencies:u.computed,has_fiat:u.computed,current_fiat_currency:u.computed,current_landing_company:u.computed,account_list:u.computed,has_real_mt5_login:u.computed,has_real_dxtrade_login:u.computed,active_accounts:u.computed,all_loginids:u.computed,account_title:u.computed,currency:u.computed,is_crypto:u.action.bound,default_currency:u.computed,should_allow_authentication:u.computed,should_allow_poinc_authentication:u.computed,is_financial_assessment_needed:u.computed,is_authentication_needed:u.computed,is_identity_verification_needed:u.computed,is_poa_expired:u.computed,real_account_creation_unlock_date:u.computed,is_social_signup:u.computed,isEligibleForMoreDemoMt5Svg:u.action.bound,isEligibleForMoreRealMt5:u.action.bound,setShouldRedirectToLogin:u.action.bound,setCitizen:u.action.bound,is_mt5_password_not_set:u.computed,is_dxtrade_password_not_set:u.computed,is_financial_information_incomplete:u.computed,is_deposit_lock:u.computed,is_duplicate_dob_phone:u.computed,is_withdrawal_lock:u.computed,is_trading_experience_incomplete:u.computed,authentication_status:u.computed,social_identity_provider:u.computed,is_from_restricted_country:u.computed,is_fully_authenticated:u.computed,is_financial_account:u.computed,is_p2p_available:u.computed,landing_company_shortcode:u.computed,landing_company:u.computed,is_logged_in:u.computed,has_restricted_mt5_account:u.computed,has_mt5_account_with_rejected_poa:u.computed,has_wallet:u.computed,should_restrict_bvi_account_creation:u.computed,should_restrict_vanuatu_account_creation:u.computed,should_show_eu_error:u.computed,is_virtual:u.computed,is_eu:u.computed,can_upgrade:u.computed,can_upgrade_to:u.computed,virtual_account_loginid:u.computed,is_single_currency:u.computed,account_type:u.computed,is_mt5_allowed:u.computed,is_dxtrade_allowed:u.computed,is_bot_allowed:u.computed,clients_country:u.computed,is_eu_country:u.computed,is_options_blocked:u.computed,is_multipliers_only:u.computed,is_proof_of_ownership_enabled:u.computed,resetLocalStorageValues:u.action.bound,getBasicUpgradeInfo:u.action.bound,setMT5DisabledSignupTypes:u.action.bound,setCFDDisabledSignupTypes:u.action.bound,setPhoneSettings:u.action.bound,getLimits:u.action.bound,setPreferredLanguage:u.action.bound,setCookieAccount:u.action.bound,setCFDScore:u.action.bound,setPreventRedirectToHub:u.action.bound,updateSelfExclusion:u.action.bound,responsePayoutCurrencies:u.action.bound,responseAuthorize:u.action.bound,setWebsiteStatus:u.action.bound,accountRealReaction:u.action.bound,setLoginInformation:u.action.bound,realAccountSignup:u.action.bound,setAccountCurrency:u.action.bound,updateAccountCurrency:u.action.bound,createCryptoAccount:u.action.bound,residence:u.computed,email_address:u.computed,updateAccountList:u.action.bound,switchAccount:u.action.bound,resetVirtualBalance:u.action.bound,switchEndSignal:u.action.bound,init:u.action.bound,resetMt5AccountListPopulation:u.action.bound,responseWebsiteStatus:u.action.bound,responseLandingCompany:u.action.bound,setIsLoggingOut:u.action.bound,setStandpoint:u.action.bound,setLoginId:u.action.bound,setAccounts:u.action.bound,setSwitched:u.action.bound,setUrlParams:u.action.bound,setIsAuthorize:u.action.bound,setIsLoggingIn:u.action.bound,setIsSingleLoggingIn:u.action.bound,setPreSwitchAccount:u.action.bound,broadcastAccountChange:u.action.bound,switchAccountHandler:u.action.bound,registerReactions:u.action.bound,setBalanceActiveAccount:u.action.bound,setBalanceOtherAccounts:u.action.bound,selectCurrency:u.action.bound,setResidence:u.action.bound,setEmail:u.action.bound,setAccountSettings:u.action.bound,setAccountStatus:u.action.bound,updateAccountStatus:u.action.bound,updateMT5AccountDetails:u.action.bound,setInitialized:u.action.bound,setIsClientStoreInitialized:u.action.bound,cleanUp:u.action.bound,logout:u.action.bound,setLogout:u.action.bound,storeClientAccounts:u.action.bound,setUserLogin:u.action.bound,canStoreClientAccounts:u.action.bound,setVerificationCode:u.action.bound,setNewEmail:u.action.bound,setDeviceData:u.action.bound,getSignupParams:u.action.bound,getToken:u.action.bound,onSetResidence:u.action.bound,onSetCitizen:u.action.bound,onSignup:u.action.bound,fetchAccountSettings:u.action.bound,fetchResidenceList:u.action.bound,setResidenceList:u.action.bound,fetchStatesList:u.action.bound,resetMt5ListPopulatedState:u.action.bound,updateMt5LoginList:u.action.bound,responseMT5TradingServers:u.action.bound,responseMt5LoginList:u.action.bound,responseDxtradeTradingServers:u.action.bound,setIsTradingPlatformAvailableAccountLoaded:u.action.bound,responseTradingPlatformAvailableAccounts:u.action.bound,responseCTraderTradingPlatformAvailableAccounts:u.action.bound,responseTradingPlatformAccountsList:u.action.bound,responseStatement:u.action.bound,getChangeableFields:u.action.bound,syncWithLegacyPlatforms:u.action.bound,is_high_risk:u.computed,is_low_risk:u.computed,has_residence:u.computed,ctrader_total_balance:u.computed,fetchFinancialAssessment:u.action.bound,setFinancialAndTradingAssessment:u.action.bound,setTwoFAStatus:u.action.bound,setTwoFAChangedStatus:u.action.bound,is_eu_or_multipliers_only:u.computed,getTwoFAStatus:u.action.bound,updateMT5Status:u.action.bound,setPrevRealAccountLoginid:u.action.bound,setPrevAccountType:u.action.bound,setIsAlreadyAttempted:u.action.bound,setIsP2PEnabled:u.action.bound,setRealAccountSignupFormData:u.action.bound,setRealAccountSignupFormStep:u.action.bound,getWalletMigrationState:u.action.bound,setWalletMigrationState:u.action.bound,startWalletMigration:u.action.bound,resetWalletMigration:u.action.bound,setIsPasskeySupported:u.action.bound,setIsPhoneNumberVerificationEnabled:u.action.bound,setIsCountryCodeDropdownEnabled:u.action.bound,setPasskeysStatusToCookie:u.action.bound,fetchShouldShowPasskeyNotification:u.action.bound,fetchPasskeysList:u.action.bound,setShouldShowPasskeyNotification:u.action.bound,getExchangeRate:u.action.bound,subscribeToExchangeRate:u.action.bound,unsubscribeFromExchangeRate:u.action.bound,unsubscribeFromAllExchangeRates:u.action.bound,setExchangeRates:u.action.bound,setIsLandingCompanyLoaded:u.action.bound,is_cr_account:u.computed,is_mf_account:u.computed,is_tradershub_tracking:u.observable,setTradersHubTracking:u.action.bound,account_time_of_closure:u.computed,is_account_to_be_closed_by_residence:u.computed,setClientKYCStatus:u.action.bound,client_kyc_status:u.observable,should_show_trustpilot_notification:u.computed}),(0,u.reaction)((()=>[this.is_logged_in,this.loginid,this.email,this.landing_company,this.currency,this.residence,this.account_settings,this.preferred_language,this.phone_settings]),(()=>{this.setCookieAccount(),this.is_logged_in||this.root_store.traders_hub.cleanup()})),(0,u.reaction)((()=>[this.account_settings]),(async()=>{var e,t,r;const o=(0,y.getRedirectionLanguage)(null===(e=this.account_settings)||void 0===e?void 0:e.preferred_language,this.is_new_session),n=o!==(null===(t=this.account_settings)||void 0===t?void 0:t.preferred_language)&&this.preferred_language!==(null===(r=this.account_settings)||void 0===r?void 0:r.preferred_language);window.history.replaceState({},document.title,(0,i.urlForLanguage)(o)),n&&(this.setPreferredLanguage(o),await p.WS.setSettings({set_settings:1,preferred_language:o}))})),(0,u.reaction)((()=>{var e;return[this.is_logged_in,this.is_authorize,this.is_passkey_supported,null===(e=this.root_store.ui)||void 0===e?void 0:e.is_mobile]}),(()=>{this.is_logged_in&&this.is_authorize&&this.is_passkey_supported&&this.fetchShouldShowPasskeyNotification()})),(0,u.when)((()=>!this.is_logged_in&&this.root_store.ui&&this.root_store.ui.is_real_acc_signup_on),(()=>this.root_store.ui.closeRealAccountSignup())),(0,u.reaction)((()=>[this.wallet_migration_state]),(()=>{"in_progress"===this.wallet_migration_state?this.wallet_migration_interval_id=setInterval((()=>{this.getWalletMigrationState()}),2e3):clearInterval(this.wallet_migration_interval_id)}))}get balance(){if(!(0,i.isEmptyObject)(this.accounts))return this.accounts[this.loginid]&&"balance"in this.accounts[this.loginid]?this.accounts[this.loginid].balance.toString():void 0}get account_open_date(){if(!(0,i.isEmptyObject)(this.accounts)&&this.accounts[this.loginid])return Object.keys(this.accounts[this.loginid]).includes("created_at")?this.accounts[this.loginid].created_at:void 0}get is_svg(){return!!this.landing_company_shortcode&&("svg"===this.landing_company_shortcode||"costarica"===this.landing_company_shortcode)}get has_active_real_account(){return this.active_accounts.some((e=>0===e.is_virtual))}get has_maltainvest_account(){return this.active_accounts.some((e=>"maltainvest"===e.landing_company_shortcode))}get has_any_real_account(){return this.hasAnyRealAccount()}get has_wallet(){return Object.values(this.accounts).some((e=>"wallet"===e.account_category))}get can_change_fiat_currency(){var e;const t=!this.has_real_mt5_login,r=!this.has_real_dxtrade_login,o=0===this.statement.count&&0===this.statement.transactions.length,n=!(null!==(e=this.account_status)&&void 0!==e&&null!==(e=e.status)&&void 0!==e&&e.includes("deposit_attempt")),i=o&&t&&r&&n;return!this.is_virtual&&i&&"fiat"===this.current_currency_type}get legal_allowed_currencies(){const e=()=>{var e,t,r,o;return null!==(e=this.landing_companies)&&void 0!==e&&e.gaming_company?null===(r=this.landing_companies)||void 0===r||null===(r=r.gaming_company)||void 0===r?void 0:r.legal_allowed_currencies:null!==(t=this.landing_companies)&&void 0!==t&&t.financial_company?null===(o=this.landing_companies)||void 0===o||null===(o=o.financial_company)||void 0===o?void 0:o.legal_allowed_currencies:[]};if(!this.landing_companies||!this.root_store.ui)return[];if(!this.root_store.ui.real_account_signup_target)return e();if(["set_currency","manage"].includes(this.root_store.ui.real_account_signup_target)&&this.current_landing_company)return this.current_landing_company.legal_allowed_currencies;const t="maltainvest"===this.root_store.ui.real_account_signup_target?"financial":"gaming";return this.landing_companies[`${t}_company`]?this.landing_companies[`${t}_company`].legal_allowed_currencies:e()}get upgradeable_currencies(){return this.legal_allowed_currencies&&this.website_status.currencies_config?this.legal_allowed_currencies.map((e=>z({value:e},this.website_status.currencies_config[e]))):[]}get current_currency_type(){return"virtual"===this.account_type?"virtual":this.website_status&&this.website_status.currencies_config&&this.website_status.currencies_config[this.currency]?this.website_status.currencies_config[this.currency].type:void 0}get available_crypto_currencies(){const e=Object.values(this.accounts).reduce(((e,t)=>(e.push(t.currency),e)),[]);return this.upgradeable_currencies.filter((t=>!e.includes(t.value)&&"crypto"===t.type))}get available_onramp_currencies(){var e,t;return null!==(e=this.website_status)&&void 0!==e&&e.currencies_config?Object.entries(null===(t=this.website_status)||void 0===t?void 0:t.currencies_config).reduce(((e,[t,r])=>(r.platform.ramp.length>0&&e.push(t),e)),[]):[]}get has_fiat(){return Object.values(this.accounts).some((e=>"fiat"===e.currency_type&&!e.is_virtual&&e.landing_company_shortcode===this.landing_company_shortcode))}get current_fiat_currency(){const e=Object.values(this.accounts).find((e=>"fiat"===e.currency_type&&!e.is_virtual&&e.landing_company_shortcode===this.landing_company_shortcode));return null==e?void 0:e.currency}get current_landing_company(){const e=this.landing_companies&&Object.keys(this.landing_companies).find((e=>{var t;return(null===(t=this.landing_companies[e])||void 0===t?void 0:t.shortcode)===this.landing_company_shortcode}));return e?this.landing_companies[e]:void 0}get account_list(){return this.all_loginids.map((e=>this.getAccountInfo(e))).filter((e=>!(e.title===B&&e.is_disabled)))}get has_real_mt5_login(){return this.mt5_login_list.some((e=>"real"===e.account_type))}get has_real_dxtrade_login(){return this.dxtrade_accounts_list.some((e=>"real"===e.account_type))}get active_accounts(){return this.accounts instanceof Object?Object.values(this.accounts).filter((e=>!e.is_disabled)):[]}get all_loginids(){return(0,i.isEmptyObject)(this.accounts)?[]:Object.keys(this.accounts)}get account_title(){return(e=>{const t=E.get();return t[x(e)]||t.default})(this.loginid)}get is_p2p_available(){var e;const t=JSON.parse(localStorage.getItem("p2p_settings")),r=(null==t?void 0:t.supported_currencies)||(null===(e=this.website_status)||void 0===e||null===(e=e.p2p_config)||void 0===e?void 0:e.supported_currencies);return(null==r?void 0:r.includes(this.currency.toLocaleLowerCase()))&&!this.is_virtual&&!this.root_store.traders_hub.is_low_risk_cr_eu_real}get currency(){return this.selected_currency.length?this.selected_currency:this.is_logged_in?this.accounts[this.loginid].currency:this.default_currency}is_crypto(e){return(0,i.isCryptocurrency)(e||this.currency)}get default_currency(){if(Object.keys(this.currencies_list).length>0){var e;const t=Object.keys(this.currencies_list);return(null===(e=this.currencies_list[(0,y.localize)("Fiat")])||void 0===e?void 0:e.length)<1?"USD":Object.values(this.currencies_list[`${t[0]}`])[0].text}return"USD"}get should_allow_authentication(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"allow_document_upload"===e||"allow_poi_resubmission"===e))}get should_allow_poinc_authentication(){var e;return this.is_fully_authenticated&&(null===(e=this.account_status)||void 0===e||null===(e=e.authentication)||void 0===e||null===(e=e.needs_verification)||void 0===e?void 0:e.includes("income"))}get is_financial_assessment_needed(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("financial_assessment_notification")}get is_poa_expired(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("poa_expired")}get is_authentication_needed(){var e;return!this.is_fully_authenticated&&!(null===(e=this.account_status)||void 0===e||null===(e=e.authentication)||void 0===e||null===(e=e.needs_verification)||void 0===e||!e.length)}get is_identity_verification_needed(){var e;const t=null===(e=this.account_status)||void 0===e||null===(e=e.authentication)||void 0===e?void 0:e.needs_verification;return 1===(null==t?void 0:t.length)&&(null==t?void 0:t.includes("identity"))}get real_account_creation_unlock_date(){const{cooling_off_expiration_date:e}=this.account_settings;return e}get is_social_signup(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("social_signup")}get is_mt5_password_not_set(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("mt5_password_not_set")}get is_dxtrade_password_not_set(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("dxtrade_password_not_set")}get is_financial_information_incomplete(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"financial_information_not_complete"===e))}get is_deposit_lock(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"deposit_locked"===e))}get is_duplicate_dob_phone(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"duplicate_dob_phone"===e))}get is_withdrawal_lock(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"withdrawal_locked"===e))}get is_trading_experience_incomplete(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"trading_experience_not_complete"===e))}get authentication_status(){var e,t;return{document_status:null===(e=this.account_status)||void 0===e||null===(e=e.authentication)||void 0===e||null===(e=e.document)||void 0===e?void 0:e.status,identity_status:null===(t=this.account_status)||void 0===t||null===(t=t.authentication)||void 0===t||null===(t=t.identity)||void 0===t?void 0:t.status}}get social_identity_provider(){var e;return null===(e=this.account_status)||void 0===e?void 0:e.social_identity_provider}get is_from_restricted_country(){var e;return"DISABLED"===(null===(e=this.residence_list.find((e=>e.value===this.residence)))||void 0===e?void 0:e.disabled)}get is_fully_authenticated(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"authenticated"===e))}get is_financial_account(){return!!this.landing_companies&&"financial"===this.account_type}get landing_company_shortcode(){if(this.accounts[this.loginid])return this.accounts[this.loginid].landing_company_shortcode}get landing_company(){return this.landing_companies}get is_logged_in(){var e;return!!(!(0,i.isEmptyObject)(this.accounts)&&Object.keys(this.accounts).length>0&&this.loginid&&null!==(e=this.accounts[this.loginid])&&void 0!==e&&e.token)}get has_restricted_mt5_account(){return!!this.mt5_login_list.filter((e=>{var t;return null==e||null===(t=e.status)||void 0===t?void 0:t.includes("poa_failed")})).length}get has_mt5_account_with_rejected_poa(){return!!this.mt5_login_list.filter((e=>{var t;return null==e||null===(t=e.status)||void 0===t?void 0:t.includes("poa_rejected")})).length}get should_restrict_bvi_account_creation(){return!!this.mt5_login_list.filter((e=>"bvi"===(null==e?void 0:e.landing_company_short)&&"poa_failed"===(null==e?void 0:e.status))).length}get should_restrict_vanuatu_account_creation(){return!!this.mt5_login_list.filter((e=>"vanuatu"===(null==e?void 0:e.landing_company_short)&&"poa_failed"===(null==e?void 0:e.status))).length}get should_show_eu_error(){return!!this.is_landing_company_loaded&&(this.is_eu&&!this.is_low_risk)}get is_virtual(){return!(0,i.isEmptyObject)(this.accounts)&&this.accounts[this.loginid]&&!!this.accounts[this.loginid].is_virtual}get is_eu(){if(!this.landing_companies)return!1;const{gaming_company:e,financial_company:t,mt_gaming_company:r}=this.landing_companies,o=null==t?void 0:t.shortcode,n=null==e?void 0:e.shortcode,i=(null==r?void 0:r.financial.shortcode)||(null==r?void 0:r.swap_free.shortcode);return"maltainvest"===this.landing_company_shortcode||(o||n||i?V.test(o)&&"svg"!==n||V.test(n):H.test(this.residence))}get can_upgrade(){return this.upgrade_info&&(this.upgrade_info.can_upgrade||this.upgrade_info.can_open_multi)}get can_upgrade_to(){return this.upgrade_info&&this.upgrade_info.can_upgrade_to}get virtual_account_loginid(){return this.all_loginids.find((e=>!!this.accounts[e].is_virtual))}get is_single_currency(){return 1===Object.keys(this.currencies_list).map((e=>Object.values(this.currencies_list[e]).length)).reduce(((e,t)=>e+t),0)}get account_type(){return x(this.loginid)}get is_mt5_allowed(){return this.isMT5Allowed(this.landing_companies)}get is_dxtrade_allowed(){return this.isDxtradeAllowed(this.landing_companies)}get is_ctrader_allowed(){return this.isCtraderAllowed(this.landing_companies)}get is_bot_allowed(){return this.isBotAllowed()}setIsLoggingOut(e){this.is_logging_out=e}setPhoneSettings(e){this.phone_settings=e}setTradersHubTracking(e=!1){this.is_tradershub_tracking=e}isEligibleForMoreDemoMt5Svg(e){const t="synthetic"===e,r=j(e),o=this.mt5_login_list.filter((t=>"demo"===t.account_type&&this.getIsMarketTypeMatching(t,e))),n=this.trading_platform_available_accounts.some((e=>(t?"gaming":r)===e.market_type&&"svg"===e.shortcode)),i=o.every((e=>!("svg"===e.landing_company_short)));return n&&i}isEligibleForMoreRealMt5(e){const t="synthetic"===e,r=j(e),o=this.mt5_login_list.filter((t=>"real"===t.account_type&&this.getIsMarketTypeMatching(t,e)));return!this.trading_platform_available_accounts.filter((e=>(t?"gaming":r)===e.market_type&&"maltainvest"!==e.shortcode)).map((e=>e.shortcode)).every((e=>o.some((t=>t.landing_company_short===e))))}get is_eu_or_multipliers_only(){return this.is_multipliers_only?!this.is_multipliers_only:!(0,I.isEuCountry)(this.residence)}get clients_country(){var e;return null===(e=this.website_status)||void 0===e?void 0:e.clients_country}get is_eu_country(){const e=this.website_status.clients_country;return!!e&&(0,I.isEuCountry)(e)}get is_options_blocked(){return(0,I.isOptionsBlocked)(this.residence)}get is_multipliers_only(){return(0,I.isMultipliersOnly)(this.residence)}resetLocalStorageValues(e){/^(CR|MF|VRTC|CRW|MFW|VRW)\d/.test(e)&&(this.accounts[e].accepted_bch=0,i.LocalStore.setObject($,this.accounts),/^(CR|MF|VRTC)\d/.test(e)&&sessionStorage.setItem("active_loginid",e),/^(CRW|MFW|VRW)\d/.test(e)&&sessionStorage.setItem("active_wallet_loginid",e),this.setUrlParams(),this.syncWithLegacyPlatforms(e,(0,u.toJS)(this.accounts)),this.loginid=e)}setUrlParams(){var e;const t=new URL(window.location.href),r=sessionStorage.getItem("active_wallet_loginid")||sessionStorage.getItem("active_loginid"),o=/^VR/.test(r)?"demo":null===(e=this.accounts[r])||void 0===e?void 0:e.currency;o&&(t.searchParams.set("account",o),window.history.replaceState({},"",t.toString()))}setIsAuthorize(e){this.is_authorize=e}getBasicUpgradeInfo(){const e=[...new Set(i.State.getResponse("authorize.upgradeable_landing_companies"))];let t,r,o=!1;if((e||[]).length){o=-1!==e.indexOf(this.accounts[this.loginid].landing_company_shortcode);r=((...t)=>t.find((t=>t!==this.accounts[this.loginid].landing_company_shortcode&&-1!==e.indexOf(t))))("svg","maltainvest"),r&&(t="maltainvest"===r?"financial":"real")}return{type:t,can_upgrade:!!r,can_upgrade_to:r,can_open_multi:o}}setMT5DisabledSignupTypes(e){const t=this.mt5_disabled_signup_types;this.mt5_disabled_signup_types=z(z({},t),e)}setCFDDisabledSignupTypes(e,t){if(e===i.CFD_PLATFORMS.DXTRADE){const e=this.dxtrade_disabled_signup_types;this.dxtrade_disabled_signup_types=z({current_list:e},t)}}getLimits(){return new Promise((e=>{p.WS.authorized.storage.getLimits().then((t=>{(0,u.runInAction)((()=>{t.error?(this.account_limits={api_initial_load_error:t.error.message},e(t)):(this.account_limits=z(z({},t.get_limits),{},{is_loading:!1}),e(t))}))}))}))}setCookieAccount(){var e,t;const r=/deriv\.(com|me|be)/.test(window.location.hostname)?i.deriv_urls.DERIV_HOST_NAME:window.location.hostname,{loginid:o,landing_company_shortcode:n,currency:a,account_settings:s,preferred_language:c,user_id:l}=this,u=JSON.parse(i.LocalStore.get($)||"{}"),d=this.email||(null===(e=u[o])||void 0===e?void 0:e.email),_=this.residence||(null===(t=u[o])||void 0===t?void 0:t.residence);if(o&&d){const e={loginid:o,email:d,landing_company_shortcode:n,currency:a,residence:_,first_name:s.first_name,last_name:s.last_name,name:s.name,preferred_language:c,user_id:l};g().set("region",(0,I.getRegion)(n,_),{domain:r}),g().set("client_information",e,{domain:r}),this.has_cookie_account=!0}else(0,i.removeCookies)("region","client_information","is_p2p_disabled"),this.has_cookie_account=!1}setCFDScore(e){this.cfd_score=e}getSelfExclusion(){return new Promise((e=>{p.WS.authorized.storage.getSelfExclusion().then((t=>{(0,u.runInAction)((()=>{t.get_self_exclusion?this.self_exclusion=t.get_self_exclusion:this.self_exclusion=!1,e(t)}))}))}))}updateSelfExclusion(e){return new Promise((t=>{p.WS.authorized.storage.setSelfExclusion(e).then((e=>{e.error||this.getSelfExclusion(),t(e)}))}))}responsePayoutCurrencies(e){const t=(null==e?void 0:e.payout_currencies)||e;this.currencies_list=(e=>{const t=[],r=[];return e.forEach((e=>{const o=(0,i.isCryptocurrency)(e);(o?r:t).push({text:(0,i.getCurrencyDisplayCode)(e),value:e,has_tooltip:o})})),{[(0,y.localize)("Fiat")]:t,[(0,y.localize)("Crypto")]:r}})(Array.isArray(t)?t:[]),this.selectCurrency("")}responseAuthorize(e){var t;this.accounts[this.loginid].email=e.authorize.email,this.accounts[this.loginid].currency=e.authorize.currency,this.accounts[this.loginid].is_virtual=+e.authorize.is_virtual,this.accounts[this.loginid].session_start=parseInt(v()().utc().valueOf()/1e3),this.accounts[this.loginid].landing_company_shortcode=e.authorize.landing_company_name,this.accounts[this.loginid].country=e.country,this.updateAccountList(e.authorize.account_list),this.upgrade_info=this.getBasicUpgradeInfo(),this.user_id=e.authorize.user_id,localStorage.setItem("active_user_id",this.user_id),localStorage.setItem($,JSON.stringify(this.accounts)),this.upgradeable_landing_companies=[...new Set(e.authorize.upgradeable_landing_companies)],this.local_currency_config.currency=Object.keys(e.authorize.local_currencies)[0];const r=null!==(t=i.LocalStore.getObject("notification_messages")[this.loginid])&&void 0!==t?t:[];i.LocalStore.setObject("notification_messages",{[this.loginid]:r});this.local_currency_config.decimal_places=(0,i.isEmptyObject)(e.authorize.local_currencies)?2:+e.authorize.local_currencies[this.local_currency_config.currency].fractional_digits}setWebsiteStatus(e){this.website_status=e.website_status,this.responseWebsiteStatus(e),(0,i.setCurrencies)(this.website_status);const t=/deriv\.(com|me)/.test(window.location.hostname)?i.deriv_urls.DERIV_HOST_NAME:window.location.hostname,{clients_country:r}=this.website_status,o={domain:t,expires:7};try{const e=g().get("website_status")?JSON.parse(g().get("website_status")):{};e.clients_country=r,g().set("website_status",e,o)}catch(e){g().set("website_status",{clients_country:r},o)}}async accountRealReaction(e){return new Promise((t=>{var r;let o;const n=!!i.LocalStore.get($);(0,u.runInAction)((()=>{this.is_populating_account_list=!0})),this.is_logged_in&&!n&&(localStorage.setItem($,JSON.stringify(this.accounts)),i.LocalStore.set($,JSON.stringify(this.accounts)),this.syncWithLegacyPlatforms(s,this.accounts));try{o=JSON.parse(i.LocalStore.get($))}catch(e){console.error("JSON parse failed, invalid value (client.accounts): ",e)}const{oauth_token:a,client_id:s,currency_type:c}=null!==(r=e.new_account_real)&&void 0!==r?r:e.new_account_maltainvest;N().authorize(a).then((e=>{const r={};r.token=a,r.residence=e.authorize.country,r.currency=e.authorize.currency,r.is_virtual=e.authorize.is_virtual,r.landing_company_name=e.authorize.landing_company_fullname,r.landing_company_shortcode=e.authorize.landing_company_name,r.currency_type=c,(0,u.runInAction)((()=>o[s]=r)),this.setLoginInformation(o,s),p.WS.authorized.storage.getSettings().then((e=>{this.setAccountSettings(e.get_settings),t()})),this.syncWithLegacyPlatforms(s,o)})).catch((e=>{console.error("Something went wrong while registering a real account: ",e)}))}))}setLoginInformation(e,t){this.setAccounts(e),localStorage.setItem($,JSON.stringify(e)),i.LocalStore.set($,JSON.stringify(e)),this.is_populating_account_list=!1,this.upgrade_info=this.getBasicUpgradeInfo(),this.setSwitched(t),this.syncWithLegacyPlatforms(t,e)}async realAccountSignup(e){var t;const r="maltainvest"===this.root_store.ui.real_account_signup_target,o="samoa"===this.root_store.ui.real_account_signup_target;let n="";e.residence=this.residence,e.tax_residence||(e.tax_residence=this.residence),r&&(n=e.currency),this.root_store.ui.setRealAccountSignupParams(e);const{document_number:i,document_type:a,document_additional:s}=e,c=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,R);c.citizen=(null==e?void 0:e.citizen)||(null===(t=this.account_settings)||void 0===t?void 0:t.citizen)||this.residence;const l=r?await p.WS.newAccountRealMaltaInvest(c):await p.WS.newAccountReal(c);return l.error?Promise.reject(l.error):(await this.accountRealReaction(l),o&&await this.setAccountCurrency("BTC"),localStorage.removeItem("real_account_signup_wizard"),await this.root_store.gtm.pushDataLayer({event:"real_signup"}),Promise.resolve(z(z(z({},l),r?{new_account_maltainvest:z(z({},l.new_account_maltainvest),{},{currency:n})}:{}),o?{new_account_samoa:{currency:n}}:{})))}async setAccountCurrency(e){const t=await p.WS.setAccountCurrency(e,{previous_currency:this.currency});return t.error?Promise.reject(t.error):(await this.updateAccountCurrency(e),Promise.resolve(t))}async updateAccountCurrency(e,t=!0){(0,u.runInAction)((()=>{const t=z({},this.accounts[this.loginid]);t.currency=e,"balance"in t||(t.balance=0),this.accounts[this.loginid]=t})),t&&(localStorage.setItem($,JSON.stringify(this.accounts)),i.LocalStore.setObject($,JSON.parse(JSON.stringify(this.accounts)))),this.selectCurrency(e),this.root_store.notifications.removeNotificationMessage({key:"currency"}),this.root_store.notifications.removeNotificationByKey({key:"currency"}),await this.init()}async createCryptoAccount(e){const t=this.residence,{date_of_birth:r,first_name:o,last_name:n}=this.account_settings,a={residence:t,currency:e,first_name:o,last_name:n,date_of_birth:(0,i.toMoment)(r).format("YYYY-MM-DD")},s=await p.WS.newAccountReal(a);return s.error?Promise.reject(s.error):(await this.accountRealReaction(s),Promise.resolve(s))}get residence(){var e,t;return this.is_logged_in&&null!==(e=null===(t=this.account_settings)||void 0===t?void 0:t.country_code)&&void 0!==e?e:""}get email_address(){return this.accounts&&this.accounts[this.loginid]?this.accounts[this.loginid].email:""}updateAccountList(e){this.authorize_accounts_list=e,e.forEach((e=>{this.accounts[e.loginid]&&(this.accounts[e.loginid].excluded_until=e.excluded_until||"",Object.keys(e).forEach((t=>{const r="country"===t?"residence":t,o=void 0===e[t]?"":e[t];"loginid"!==r&&(this.accounts[e.loginid][r]=o)})))}))}async switchAccount(e){e&&!this.is_logging_in&&(this.setPreSwitchAccount(!0),this.setIsLoggingIn(!0),this.root_store.notifications.removeNotifications(!0),this.root_store.notifications.removeTradeNotifications(),this.root_store.notifications.removeAllNotificationMessages(!0),!this.is_virtual&&/VRTC|VRW/.test(e)&&this.setPrevRealAccountLoginid(this.loginid),this.setSwitched(e),this.responsePayoutCurrencies(await p.WS.authorized.payoutCurrencies()))}async resetVirtualBalance(){this.is_tradershub_tracking&&D.Analytics.trackEvent("ce_tradershub_dashboard_form",{action:"reset_balance",form_name:"traders_hub_default",account_mode:"demo"}),this.root_store.notifications.removeNotificationByKey({key:"reset_virtual_balance"}),this.root_store.notifications.removeNotificationMessage({key:"reset_virtual_balance",should_show_again:!0}),await p.WS.authorized.topupVirtual()}switchEndSignal(){this.switch_broadcast=!1}async init(e){const t=i.SessionStore.get("signup_query_param")||window.location.search,r=new URLSearchParams(t),o=null==r?void 0:r.get("redirect_url"),n=null==r?void 0:r.get("code"),a=null==r?void 0:r.get("action"),s=null==r?void 0:r.get("loginid");!window.location.pathname.endsWith(i.routes.trade)&&/chart_type|interval|symbol|trade_type/.test(t)&&window.history.replaceState({},document.title,i.routes.trade+t);const c=await this.setUserLogin(e);if(t&&window.location.pathname!==i.routes.callback_page&&(n&&a&&this.setVerificationCode(n,a),document.addEventListener("DOMContentLoaded",(()=>{setTimeout((()=>{history.replaceState(null,null,window.location.search.replace(/&?code=[^&]*/i,""))}),0)}))),this.setDeviceData(),null!=c&&c.error)return await this.logout(),this.root_store.common.setError(!0,{header:c.error.message,code:c.error.code,message:(0,y.localize)("Please Log in"),should_show_refresh:!1,redirect_label:(0,y.localize)("Log in"),redirectOnClick:()=>(0,i.redirectToLogin)(!1,(0,y.getLanguage)())}),this.setIsLoggingIn(!1),this.setInitialized(!1),this.setSwitched(""),!1;if(["crypto_transactions_withdraw","payment_withdraw","payment_agent_withdraw"].includes(a)&&s?(/^(CR|MF|VRTC)\d/.test(s)&&sessionStorage.setItem("active_loginid",s),/^(CRW|MFW|VRW)\d/.test(s)&&sessionStorage.setItem("active_wallet_loginid",s),this.setLoginId(s)):this.setLoginId(window.sessionStorage.getItem("active_loginid")||window.sessionStorage.getItem("active_wallet_loginid")||i.LocalStore.get("active_loginid")),this.user_id=i.LocalStore.get("active_user_id"),this.setAccounts(i.LocalStore.getObject($)),this.setSwitched(""),"request_email"===a&&this.is_logged_in){var l;const e=null!==(l=null!=n?n:i.LocalStore.get(`verification_code.${a}`))&&void 0!==l?l:"";e&&(this.setVerificationCode(e,a),this.root_store.ui.toggleResetEmailModal(!0))}const d=localStorage.getItem("config.account1"),_=this.accounts[this.loginid]||(d?{token:d}:void 0);if(c){if(this.loginid===c.authorize.loginid?(A.A.authorizeAccount(c),D.Analytics.identifyEvent(this.user_id),await this.root_store.gtm.pushDataLayer({event:"login"})):await N().authorize(_.token),o){const e=i.routes[o].length>1?i.routes[o]:"";if(["crypto_transactions_withdraw","payment_agent_withdraw","payment_withdraw","reset_password"].includes(a)){const r=(0,i.filterUrlQuery)(t,["platform","code","action","loginid"]);[i.routes.cashier_withdrawal,i.routes.cashier_pa,i.routes.cashier_transactions_crypto].includes(e)?window.location.replace(`/redirect?${r}`):window.location.replace(`${e}/redirect?${r}`)}else window.location.replace(`${e}/?${(0,i.filterUrlQuery)(t,["platform","lang"])}`)}(0,u.runInAction)((()=>{this.is_populating_account_list=!1}));const e=(0,y.getRedirectionLanguage)(c.authorize.preferred_language,this.is_new_session),r=i.LocalStore.get(W).replace(/"/g,"");r&&e!==r&&(window.history.replaceState({},document.title,(0,i.urlForLanguage)(e)),await this.root_store.common.changeSelectedLanguage(e)),this.citizen&&await this.onSetCitizen(this.citizen),this.is_virtual||this.setPrevRealAccountLoginid(this.loginid);!this.active_accounts.some((e=>"svg"===e.landing_company_shortcode))&&this.is_low_risk&&this.switchAccount(this.virtual_account_loginid)}if(this.selectCurrency(""),this.responsePayoutCurrencies(await p.WS.authorized.payoutCurrencies()),this.is_logged_in?(this.getWalletMigrationState(),await p.WS.authorized.mt5LoginList().then(this.responseMt5LoginList),p.WS.tradingServers(i.CFD_PLATFORMS.MT5).then(this.responseMT5TradingServers),p.WS.tradingPlatformAvailableAccounts(i.CFD_PLATFORMS.MT5).then(this.responseTradingPlatformAvailableAccounts),p.WS.tradingPlatformAvailableAccounts(i.CFD_PLATFORMS.CTRADER).then(this.responseCTraderTradingPlatformAvailableAccounts),p.WS.tradingPlatformAccountsList(i.CFD_PLATFORMS.DXTRADE).then(this.responseTradingPlatformAccountsList),p.WS.tradingPlatformAccountsList(i.CFD_PLATFORMS.CTRADER).then(this.responseTradingPlatformAccountsList),p.WS.tradingServers(i.CFD_PLATFORMS.DXTRADE).then(this.responseDxtradeTradingServers),this.responseStatement(await N().send({statement:1})),0===Object.keys(this.phone_settings).length&&this.setPhoneSettings((await p.WS.getPhoneSettings()).phone_settings),0===Object.keys(this.account_settings).length&&this.setAccountSettings((await p.WS.authorized.cache.getSettings()).get_settings),this.account_settings&&this.setPreferredLanguage(this.account_settings.preferred_language),await this.fetchResidenceList(),await this.getTwoFAStatus(),this.account_settings&&!this.account_settings.residence&&this.root_store.ui.toggleSetResidenceModal(!0),this.residence&&(await p.WS.authorized.cache.landingCompany(this.residence).then(this.responseLandingCompany),await this.fetchStatesList()),this.is_virtual||await this.getLimits(),localStorage.getItem("config.tokens")&&localStorage.getItem("config.account1")&&(localStorage.removeItem("config.tokens"),localStorage.removeItem("config.account1"))):this.resetMt5AccountListPopulation(),this.responseWebsiteStatus(await p.WS.wait("website_status")),this.registerReactions(),this.setIsLoggingIn(!1),this.setInitialized(!0),"signup"===a){const e=(0,i.filterUrlQuery)(t,["lang"]);history.replaceState(null,null,window.location.href.replace(`${t}`,""===e?"":`?${e}`))}return history.replaceState(null,null,window.location.href.replace(`${t}`,(0,i.excludeParamsFromUrlQuery)(t,["type","acp","label","server","interface","cid","age","utm_source","first_name","second_name","email","phone","_filteredParams"]))),this.setIsClientStoreInitialized(),!0}resetMt5AccountListPopulation(){this.is_populating_mt5_account_list=!1}responseWebsiteStatus(e){this.website_status=e.website_status}responseLandingCompany(e){this.landing_companies=e.landing_company,this.is_landing_company_loaded=!0,this.setStandpoint(this.landing_companies)}setIsLandingCompanyLoaded(e){this.is_landing_company_loaded=e}setStandpoint(e){if(!e)return;const{gaming_company:t,financial_company:r}=e;var o,n;null!=t&&t.shortcode&&(this.standpoint=z(z({},this.standpoint),{},{[t.shortcode]:!(null==t||!t.shortcode),gaming_company:null!==(o=null==t?void 0:t.shortcode)&&void 0!==o&&o}));null!=r&&r.shortcode&&(this.standpoint=z(z({},this.standpoint),{},{[r.shortcode]:!(null==r||!r.shortcode),financial_company:null!==(n=null==r?void 0:r.shortcode)&&void 0!==n&&n}))}setLoginId(e){this.loginid=e}setAccounts(e){this.accounts=e}setSwitched(e){this.switched=e}isDisabled(e=this.loginid){return this.getAccount(e).is_disabled}getToken(e=this.loginid){return this.getAccount(e).token}getAccount(e=this.loginid){return this.accounts[e]}getAccountInfo(e=this.loginid){const t=this.getAccount(e),r=t.currency,o=t.is_disabled,n=t.is_virtual,i=!n&&r?r:this.account_title;return setTimeout((async()=>{const e=await this.getAnalyticsConfig();this.user_id&&(e.user_id=this.user_id),D.Analytics.setAttributes(e)}),4),{loginid:e,is_disabled:o,is_virtual:n,icon:i.toLowerCase(),title:"virtual"===i.toLowerCase()?(0,y.localize)("DEMO"):i}}async getAnalyticsConfig(e=!1){var t,r;const o=null===(t=this.loginid)||void 0===t||null===(t=t.match(/[a-zA-Z]+/g))||void 0===t?void 0:t.join(""),n="null"===g().getJSON("utm_data")?{utm_source:"no source",utm_medium:"no medium",utm_campaign:"no campaign",utm_content:"no content"}:g().getJSON("utm_data");let a="";if(!e)if(this.residence)a=this.residence;else try{var s;const{country_code:e}=(null===(s=await p.WS.authorized.cache.getSettings())||void 0===s?void 0:s.get_settings)||{country_code:""};a=e}catch(e){console.error("Error getting residence country",e)}let c=!1;return!e&&this.is_logged_in&&(c=!0),{loggedIn:c,account_type:"null"===o?"unlogged":o,residence_country:a,app_id:String((0,i.getAppId)()),device_type:(0,i.isMobile)()?"mobile":"desktop",language:(0,y.getLanguage)(),device_language:(null===(r=navigator)||void 0===r?void 0:r.language)||"en-EN",user_language:(0,y.getLanguage)().toLowerCase(),country:await w._p.getCountry(),utm_source:null==n?void 0:n.utm_source,utm_medium:null==n?void 0:n.utm_medium,utm_campaign:null==n?void 0:n.utm_campaign,utm_content:null==n?void 0:n.utm_content,domain:window.location.hostname,url:window.location.href}}setIsLoggingIn(e){this.is_logging_in=e}setIsSingleLoggingIn(e){this.is_single_logging_in=e}setPreSwitchAccount(e){this.pre_switch_broadcast=e}broadcastAccountChange(){this.switch_broadcast=!0}broadcastAccountChangeAfterAuthorize(){var e;return null===N()||void 0===N()||null===(e=N().wait("authorize"))||void 0===e?void 0:e.then((()=>{this.broadcastAccountChange()}))}handleNotFoundLoginId(){this.root_store.notifications.addNotificationMessage({message:(0,y.localize)("Could not switch to default account."),type:"danger"}),this.logout()}isUnableToFindLoginId(){return!this.all_loginids.some((e=>e!==this.switched))||this.switched===this.loginid}async switchAccountHandler(){if(!this.switched||!this.switched.length)return this.isUnableToFindLoginId()?void this.handleNotFoundLoginId():(this.root_store.notifications.addNotificationMessage({message:(0,y.localize)("Switching to default account."),type:"info"}),this.switchAccount(this.all_loginids[0]),void await this.switchAccountHandler());const e=this.getAccount(this.switched);if(null==e||!e.token)return void this.handleNotFoundLoginId();(0,u.runInAction)((()=>this.is_switching=!0)),this.setIsAuthorize(!1);const t=this.loginid;this.resetLocalStorageValues(this.switched),L.clear();const r=this.is_virtual||/VRTC|VRW/.test(t);var o;(r?(N().closeAndOpenNewConnection(),await(null===N()||void 0===N()?void 0:N().wait("authorize"))):(await p.WS.forgetAll("balance"),await N().authorize(e.token)),this.root_store.common.has_error&&this.root_store.common.setError(!1,null),sessionStorage.setItem("active_tab","1"),this.root_store.gtm.setLoginFlag(),await this.init(),r||this.broadcastAccountChange(),(0,u.runInAction)((()=>this.is_switching=!1)),this.root_store.contract_trade)&&(this.root_store.contract_trade.setBarriersLoadingState(!1),"ACCU"===(null===(o=this.root_store.modules)||void 0===o||null===(o=o.trade)||void 0===o?void 0:o.contract_type)&&this.root_store.modules.trade.requestProposal())}registerReactions(){(0,u.when)((()=>this.switched),(()=>{var e;null!==(e=this.accounts[this.switched])&&void 0!==e&&e.is_virtual&&(this.root_store.notifications.removeNotifications(!0),this.root_store.notifications.removeAllNotificationMessages()),this.switchAccountHandler()}))}setBalanceActiveAccount(e){if(this.accounts[null==e?void 0:e.loginid]&&e.loginid===this.loginid){var t,r,o,n;if(this.accounts[e.loginid].balance=e.balance,this.accounts[e.loginid].is_virtual&&this.root_store.notifications.resetVirtualBalanceNotification(e.loginid),window.location.pathname.includes(i.routes.wallets))return void this.resetLocalStorageValues(null!==(r=null!==(o=null!==(n=window.sessionStorage.getItem("active_loginid"))&&void 0!==n?n:localStorage.getItem("active_loginid"))&&void 0!==o?o:sessionStorage.getItem("active_wallet_loginid"))&&void 0!==r?r:this.loginid);this.resetLocalStorageValues(null!==(t=window.sessionStorage.getItem("active_loginid"))&&void 0!==t?t:this.loginid)}}setBalanceOtherAccounts(e){var t;if((null===(t=this.root_store.modules)||void 0===t||null===(t=t.cashier)||void 0===t||null===(t=t.account_transfer)||void 0===t||!t.is_mt5_transfer_in_progress)&&(this.accounts[null==e?void 0:e.loginid]&&!e.accounts&&e.loginid!==this.loginid&&(this.accounts[e.loginid].balance=e.balance),this.accounts[null==e?void 0:e.loginid]&&e.accounts&&Object.keys(e.accounts).forEach((t=>{!(t===this.loginid)&&this.accounts[t]&&(this.accounts[t].balance=+e.accounts[t].balance)})),null!=e&&e.total)){const t=(0,i.getPropertyValue)(e,["total","deriv"]),r=(0,i.getPropertyValue)(e,["total",i.CFD_PLATFORMS.MT5]),o=(0,i.getPropertyValue)(e,["total",i.CFD_PLATFORMS.DXTRADE]),n=!(0,i.isEmptyObject)(r),a=!(0,i.isEmptyObject)(o);this.obj_total_balance={amount_real:+t.amount,amount_mt5:n?+r.amount:this.obj_total_balance.amount_mt5,amount_dxtrade:a?+o.amount:this.obj_total_balance.amount_dxtrade,currency:t.currency}}}selectCurrency(e){this.selected_currency=e}setResidence(e){this.loginid&&(this.accounts[this.loginid].residence=e)}setCitizen(e){this.citizen=e}setEmail(e){this.loginid&&(this.accounts[this.loginid].email=e,this.email=e)}setIsClientStoreInitialized(){this.is_client_store_initialized=!0}setAccountSettings(e){JSON.stringify(e)===JSON.stringify(this.account_settings)||(this.account_settings=e,this.is_account_setting_loaded=!0)}setAccountStatus(e){this.account_status=e}async updateAccountStatus(){const e=await p.WS.authorized.getAccountStatus();e.error||this.setAccountStatus(e.get_account_status)}async updateMT5AccountDetails(){this.is_logged_in&&(await p.WS.authorized.mt5LoginList().then(this.responseMt5LoginList),await p.WS.authorized.tradingPlatformAvailableAccounts(i.CFD_PLATFORMS.MT5).then(this.responseTradingPlatformAvailableAccounts))}setInitialized(e){this.initialized_broadcast=e}async cleanUp(){const e=i.LocalStore.getObject("notification_messages");e&&this.loginid&&(delete e[this.loginid],i.LocalStore.setObject("notification_messages",z({},e)));const t=await this.getAnalyticsConfig(!0);D.Analytics.setAttributes(t),this.root_store.gtm.pushDataLayer({event:"log_out"}),this.loginid=null,this.user_id=null,this.upgrade_info=void 0,this.accounts={},this.mt5_login_list=[],this.dxtrade_accounts_list=[],this.ctrader_accounts_list=[],this.landing_companies={},i.LocalStore.set("marked_notifications",JSON.stringify([])),localStorage.setItem("active_loginid",this.loginid),sessionStorage.removeItem("active_loginid"),localStorage.setItem("active_user_id",this.user_id),localStorage.setItem("client.accounts",JSON.stringify(this.accounts)),D.Analytics.reset(),(0,u.runInAction)((async()=>{this.responsePayoutCurrencies(await p.WS.payoutCurrencies())})),this.root_store.notifications.removeAllNotificationMessages(!0),this.syncWithLegacyPlatforms(this.loginid,this.accounts)}setShouldRedirectToLogin(e){this.should_redirect_user_to_login=e}async logout(){localStorage.removeItem("traders_hub_store"),localStorage.removeItem("trade_store");const e=await(0,p.a)();return 1===(null==e?void 0:e.logout)&&(await this.cleanUp(),this.setIsSingleLoggingIn(!1),this.setLogout(!0),this.setIsLoggingOut(!1)),e}setLogout(e){this.has_logged_out=e,this.root_store.common.has_error&&this.root_store.common.setError(!1,null)}storeClientAccounts(e,t){var r;const o={country:"residence",landing_company_name:"landing_company_shortcode"},n={},i=null==e?void 0:e.selected_acct,a=null==e?void 0:e.code,s=null==i?void 0:i.startsWith("CRW");let c,l=sessionStorage.getItem("active_loginid");i&&(s&&(c=e.selected_acct),l=e.selected_acct),t.forEach((function(e){Object.keys(e).forEach((function(t){if("loginid"===t)l||e.is_disabled||(e.is_virtual?e.is_virtual&&(l=e[t]):l=e[t]);else{const r=o[t]||t,i=void 0===e[t]?"":e[t];e.loginid in n||(n[e.loginid]={}),n[e.loginid][r]=i}}))}));let u=1;for(;e[`acct${u}`];){const t=e[`acct${u}`],r=e[`token${u}`];t&&r&&(n[t].token=r),u++}l&&null!==(r=n[l])&&void 0!==r&&r.token||(l=e.acct1),l&&Object.keys(n).length&&(i&&s&&(localStorage.setItem("active_wallet_loginid",c),sessionStorage.setItem("active_wallet_loginid",c),a&&localStorage.setItem("verification_code.payment_withdraw",a)),/^(CR|MF|VRTC)\d/.test(l)&&sessionStorage.setItem("active_loginid",l),/^(CRW|MFW|VRW)\d/.test(l)&&sessionStorage.setItem("active_wallet_loginid",l),localStorage.setItem("active_loginid",l),localStorage.setItem("client.accounts",JSON.stringify(n)),this.syncWithLegacyPlatforms(l,this.accounts)),this.setIsLoggingIn(!1)}async setUserLogin(e){let t={};const r=window.location.search;let o=!1;if(r&&window.location.pathname!==i.routes.callback_page){var n;let e=new URLSearchParams(window.location.search);e.forEach(((e,r)=>{const n=["acct","token","cur","code"].some((e=>(null==r?void 0:r.includes(e))&&"affiliate_token"!==r)),i=["acct","token"].some((e=>(null==r?void 0:r.includes(e))&&"affiliate_token"!==r));if(n){t[r]=e,o=!0;if((!g().get("logged_state")||"false"===g().get("logged_state"))&&i){const e=window.location.hostname.split(".").slice(-2).join(".");g().set("logged_state","true",{expires:30,path:"/",domain:e,secure:!0})}}})),this.is_new_session=Object.keys(t).length>0,Object.keys(t).forEach((t=>e.delete(t))),e.delete("state"),e=null===(n=e)||void 0===n?void 0:n.toString();const r=e?`?${e}`:"/";history.replaceState(null,null,`${r}${window.location.hash}`)}const a=e?e.token1:t.token1,s=localStorage.getItem("config.account1")||"";if(a||s){this.setIsLoggingIn(!0);const r=sessionStorage.getItem("redirect_url"),o=i.routes.traders_hub;(null!=r&&r.endsWith(i.routes.trade)||null!=r&&r.endsWith(i.routes.bot)||/chart_type|interval|symbol|trade_type/.test(r))&&((0,i.isTestLink)()||(0,i.isProduction)()||(0,i.isLocal)()||(0,i.isStaging)()||(0,i.isTestDerivApp)())?window.history.replaceState({},document.title,o):window.history.replaceState({},document.title,sessionStorage.getItem("redirect_url")),L.clear(),this.is_populating_account_list=!0;const n=await N().authorize(a||s);if(e&&(t=e),localStorage.getItem("config.tokens")){const e=JSON.parse(localStorage.getItem("config.tokens"));t=e}return n.error||(0,u.runInAction)((()=>{const e=(n.authorize||{}).account_list;this.upgradeable_landing_companies=[...new Set(n.upgradeable_landing_companies)],this.canStoreClientAccounts(t,e)?this.storeClientAccounts(t,e):n.error={code:"MismatchedAcct",message:(0,y.localize)("Invalid token")}})),n}}async canStoreClientAccounts(e,t){const r=t&&(0,i.isEmptyObject)(this.accounts),o=Object.keys(e).filter((e=>/^acct./.test(e))).every((r=>t.some((t=>t.loginid===e[r]))));return r&&o||!0}_isValidAction(e){return!(!e||"string"!=typeof e)&&(!e.includes("__proto__")&&(!e.includes("constructor")&&!e.includes("prototype")))}setVerificationCode(e,t){this._isValidAction(t)&&(this.verification_code[t]=e,"phone_number_verification"!==t&&(e?i.LocalStore.set(`verification_code.${t}`,e):i.LocalStore.remove(`verification_code.${t}`)),"signup"===t&&this.fetchResidenceList())}setNewEmail(e,t){this._isValidAction(t)&&(this.new_email[t]=e,e?i.LocalStore.set(`new_email.${t}`,e):i.LocalStore.remove(`new_email.${t}`))}setDeviceData(){O("signup_device",(0,i.isDesktopOs)()?"desktop":"mobile")}getSignupParams(){const e={},t=new URLSearchParams(window.location.search);return["date_first_contact","signup_device","gclid_url","utm_source","utm_ad_id","utm_adgroup_id","utm_adrollclk_id","utm_campaign_id","utm_campaign","utm_fbcl_id","utm_gl_client_id","utm_msclk_id","utm_medium","utm_term","utm_content","affiliate_token"].forEach((r=>{t.get(r)&&(e[r]=t.get(r))})),e}onSetResidence({residence:e},t){e&&p.WS.setSettings({residence:e}).then((async r=>{r.error?t(r.error.message):(await this.setResidence(e),await p.WS.authorized.storage.landingCompany(this.accounts[this.loginid].residence).then(this.responseLandingCompany),await p.WS.authorized.storage.getSettings().then((async e=>{this.setAccountSettings(e.get_settings)})),(0,u.runInAction)((async()=>{await N().authorize(this.getToken()).then((()=>{(0,u.runInAction)((()=>this.upgrade_info=this.getBasicUpgradeInfo()))}))})),t())}))}async onSetCitizen(e){e&&p.WS.authorized.setSettings({set_settings:1,citizen:e})}onSignup({citizenship:e,password:t,residence:r},o){this.verification_code.signup&&t&&r&&e&&p.WS.newAccountVirtual(this.verification_code.signup,t,r,this.getSignupParams()).then((async t=>{if(t.error)o(t.error.message);else{o();const{client_id:r,currency:n,oauth_token:i}=t.new_account_virtual;await this.setCitizen(e),await this.switchToNewlyCreatedAccount(r,i,n),this.root_store.gtm.pushDataLayer({event:"virtual_signup"})}})).finally((()=>{setTimeout((()=>{var e;const{event:t,analyticsData:r}=null!==(e=window.dataLayer.find((e=>"ce_questionnaire_form"===e.event)))&&void 0!==e?e:{event:"unhandled",analyticsData:{}};D.Analytics.trackEvent(t,r)}),1e4)}))}async switchToNewlyCreatedAccount(e,t,r){this.setPreSwitchAccount(!0);const o={acct1:e,token1:t,curr1:r};await this.init(o),this.broadcastAccountChange()}fetchAccountSettings(){return new Promise((e=>{p.WS.authorized.storage.getSettings().then((t=>{this.setAccountSettings(t.get_settings),e(t)}))}))}fetchResidenceList(){return new Promise((e=>{p.WS.storage.residenceList().then((t=>{this.setResidenceList(t),e(t)}))}))}setResidenceList(e){this.residence_list=e.residence_list||[]}fetchStatesList(){return new Promise(((e,t)=>{p.WS.authorized.storage.statesList({states_list:this.accounts[this.loginid].residence}).then((r=>{r.error?t(r.error):(0,u.runInAction)((()=>{this.states_list=r.states_list||[]})),e(r)}))}))}resetMt5ListPopulatedState(){this.is_mt5_account_list_updated=!1,this.is_populating_mt5_account_list=!0,this.mt5_login_list_error=null}async updateMt5LoginList(){if(this.is_logged_in&&!this.is_mt5_account_list_updated&&!this.is_populating_mt5_account_list){const e=await p.WS.mt5LoginList();this.responseMt5LoginList(e)}}responseMT5TradingServers(e){e.error?this.mt5_trading_servers=[]:this.mt5_trading_servers=e.trading_servers}responseMt5LoginList(e){this.is_populating_mt5_account_list=!1,this.is_mt5_account_list_updated=!0,this.mt5_login_list_error=null,setTimeout((()=>{this.is_mt5_account_list_updated=!1}),6e4),e.error?this.mt5_login_list_error=e.error:this.mt5_login_list=e.mt5_login_list.map((e=>{const t=(e.error?e.error.details.login:e.login).replace(/^(MT[DR]?)/i,"");if(e.error){const{account_type:r,server:o}=e.error.details;return this.setMT5DisabledSignupTypes({[r]:!0}),{account_type:r,display_login:t,has_error:!0,server:o}}return z(z({},e),{},{display_login:t})}))}responseDxtradeTradingServers(e){e.error?this.dxtrade_trading_servers=[]:(this.dxtrade_trading_servers=e.trading_servers,this.dxtrade_trading_servers.forEach((e=>{const{account_type:t,disabled:r}=e;r&&this.setCFDDisabledSignupTypes(i.CFD_PLATFORMS.DXTRADE,{[t]:!0})})))}setIsTradingPlatformAvailableAccountLoaded(e){this.is_trading_platform_available_account_loaded=e}responseTradingPlatformAvailableAccounts(e){e.error||(this.trading_platform_available_accounts=e.trading_platform_available_accounts),this.setIsTradingPlatformAvailableAccountLoaded(!0)}responseCTraderTradingPlatformAvailableAccounts(e){e.error||(this.ctrader_trading_platform_available_accounts=e.trading_platform_available_accounts)}responseTradingPlatformAccountsList(e){const{platform:t}=e.echo_req||{};this[`is_populating_${t}_account_list`]=!1,this[`${t}_accounts_list_error`]=null,e.error?this[`${t}_accounts_list_error`]=e.error:this[`${t}_accounts_list`]=(0,i.sortApiData)(e.trading_platform_accounts).map((e=>{const r=e.error?e.error.details.account_id:e.account_id;if(e.error){const{account_type:o,server:n}=e.error.details;return t!==i.CFD_PLATFORMS.DXTRADE&&t!==i.CFD_PLATFORMS.CTRADER||this.setCFDDisabledSignupTypes(t,{[o]:!0}),{account_type:o,display_login:r,has_error:!0,server:n}}return z(z({},e),{},{display_login:r})}))}responseStatement(e){e.error||(this.statement=e.statement)}getChangeableFields(){const e=[...this.account_settings.immutable_fields||[],"immutable_fields","email","password"];return Object.keys(this.account_settings).filter((t=>!e.includes(t)))}syncWithLegacyPlatforms(e,t){const r={},o={};r.iframe=document.getElementById("localstorage-sync"),o.iframe=document.getElementById("localstorage-sync__p2p"),r.origin=(0,i.getUrlSmartTrader)(),o.origin=(0,i.getUrlP2P)(!1),[r,o].forEach((r=>{if(r.iframe&&(r.iframe.contentWindow.postMessage({key:"client.accounts",value:JSON.stringify(t)},r.origin),r.iframe.contentWindow.postMessage({key:"active_loginid",value:e},r.origin),r===o)){const e=i.LocalStore.get(W);r.iframe.contentWindow.postMessage({key:W,value:e},r.origin)}}))}get is_high_risk(){if((0,i.isEmptyObject)(this.account_status))return!1;const{gaming_company:e,financial_company:t}=this.landing_companies,r="svg"===(null==t?void 0:t.shortcode)||"svg"===(null==e?void 0:e.shortcode)&&"maltainvest"!==(null==t?void 0:t.shortcode);return"svg"===(null==t?void 0:t.shortcode)&&"svg"===(null==e?void 0:e.shortcode)||"high"===this.account_status.risk_classification||r}get is_low_risk(){var e,t;const{gaming_company:r,financial_company:o}=this.landing_companies;return"maltainvest"===(null==o?void 0:o.shortcode)&&"svg"===(null==r?void 0:r.shortcode)||(null===(e=this.upgradeable_landing_companies)||void 0===e?void 0:e.includes("svg"))&&(null===(t=this.upgradeable_landing_companies)||void 0===t?void 0:t.includes("maltainvest"))}get has_residence(){var e;return!(null===(e=this.accounts[this.loginid])||void 0===e||!e.residence)}get ctrader_total_balance(){var e;return null===(e=this.ctrader_accounts_list)||void 0===e?void 0:e.filter((e=>"real"===e.account_type)).reduce(((e,t)=>{var r;return e+(null!==(r=null==t?void 0:t.balance)&&void 0!==r?r:0)}),0)}get is_proof_of_ownership_enabled(){var e;if(null===(e=this.account_status)||void 0===e||!e.authentication)return!1;const{ownership:t,needs_verification:r}=this.account_status.authentication;return(null==r?void 0:r.includes("ownership"))||"verified"===(null==t?void 0:t.status)}fetchFinancialAssessment(){return new Promise((async e=>{const{get_financial_assessment:t}=await p.WS.authorized.storage.getFinancialAssessment();(0,u.runInAction)((()=>this.financial_assessment=t)),e(t)}))}async setFinancialAndTradingAssessment(e){return await p.WS.setFinancialAndTradingAssessment(e)}setTwoFAStatus(e){this.has_enabled_two_fa=e}getTwoFAStatus(){return new Promise((e=>{p.WS.authorized.accountSecurity({account_security:1,totp_action:"status"}).then((t=>{if(t.error)e(t.error);else{const r=!!(0,i.getPropertyValue)(t,["account_security","totp","is_enabled"]);this.setTwoFAStatus(r),e(r)}}))}))}setTwoFAChangedStatus(e){this.has_changed_two_fa=e}async updateMT5Status(){this.updateAccountStatus(),await p.WS.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList)}setIsAlreadyAttempted(e){this.is_already_attempted=e}setIsP2PEnabled(e){this.is_p2p_enabled=e}setRealAccountSignupFormData(e){this.real_account_signup_form_data=e}setRealAccountSignupFormStep(e){this.real_account_signup_form_step=e}setWalletMigrationState(e){this.wallet_migration_state=e,"failed"===e&&(0,C.logError)("Wallet migration failed",{loginid:this.loginid})}setIsWalletMigrationRequestIsInProgress(e){this.is_wallet_migration_request_is_in_progress=e}async getWalletMigrationState(){try{var e,t;const r=await p.WS.authorized.getWalletMigrationState();null!=r&&null!==(e=r.wallet_migration)&&void 0!==e&&e.state&&this.setWalletMigrationState(null==r||null===(t=r.wallet_migration)||void 0===t?void 0:t.state)}catch(e){var r,o;(0,C.logError)("getWalletMigrationState error",{code:null==e||null===(r=e.error)||void 0===r?void 0:r.code,message:null==e||null===(o=e.error)||void 0===o?void 0:o.message})}}async startWalletMigration(){this.setIsWalletMigrationRequestIsInProgress(!0);try{await p.WS.authorized.startWalletMigration(),await this.getWalletMigrationState()}catch(r){var e,t;(0,C.logError)("startWalletMigration error",{code:null==r||null===(e=r.error)||void 0===e?void 0:e.code,message:null==r||null===(t=r.error)||void 0===t?void 0:t.message})}finally{this.setIsWalletMigrationRequestIsInProgress(!1)}}async resetWalletMigration(){this.setIsWalletMigrationRequestIsInProgress(!0);try{await p.WS.authorized.resetWalletMigration(),this.getWalletMigrationState()}catch(r){var e,t;(0,C.logError)("resetWalletMigration error",{code:null==r||null===(e=r.error)||void 0===e?void 0:e.code,message:null==r||null===(t=r.error)||void 0===t?void 0:t.message})}finally{this.setIsWalletMigrationRequestIsInProgress(!1)}}setIsPasskeySupported(e=!1){this.is_passkey_supported=e}setIsPhoneNumberVerificationEnabled(e=!1){this.is_phone_number_verification_enabled=e}setIsCountryCodeDropdownEnabled(e=!1){this.is_country_code_dropdown_enabled=e}setShouldShowPasskeyNotification(e=!0){this.should_show_passkey_notification=e}setPasskeysStatusToCookie(e){let t=/deriv.com/.test(window.location.hostname)?w.Zh.derivHost:window.location.hostname;/deriv.dev/.test(window.location.hostname)&&(t="deriv.dev");const r=new Date;r.setFullYear(r.getFullYear()+1);const o="available"===e;g().set("passkeys_available",String(o),{expires:r,path:"/",domain:t,secure:!0,sameSite:"None"})}async fetchPasskeysList(){const e=await p.WS.authorized.send({passkeys_list:1});this.passkeys_list=null==e?void 0:e.passkeys_list}async fetchShouldShowPasskeyNotification(){var e;if(null!==(e=this.root_store.ui)&&void 0!==e&&e.is_mobile)try{await this.fetchPasskeysList();const e=0===this.passkeys_list.length;e||this.setPasskeysStatusToCookie("available"),this.setShouldShowPasskeyNotification(e)}catch(e){}else this.setShouldShowPasskeyNotification(!1)}addSubscription(e,t,r,o){var n,i;this.subscriptions[e]=null!==(n=this.subscriptions[e])&&void 0!==n?n:{},this.subscriptions[e][t]=null!==(i=this.subscriptions[e][t])&&void 0!==i?i:{sub:void 0,id:void 0},r&&(this.subscriptions[e][t].sub=r),o&&(this.subscriptions[e][t].id=o)}setExchangeRates(e){this.exchange_rates=z({},e)}get is_cr_account(){var e;return null===(e=this.loginid)||void 0===e?void 0:e.startsWith("CR")}get is_mf_account(){var e;return null===(e=this.loginid)||void 0===e?void 0:e.startsWith("MF")}get account_time_of_closure(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.account_closure)||void 0===e||null===(e=e.find((e=>{var t;return(null==e||null===(t=e.status_codes)||void 0===t?void 0:t.includes("residence_closure"))&&"residence"===(null==e?void 0:e.type)})))||void 0===e?void 0:e.time_of_closure}get is_account_to_be_closed_by_residence(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.account_closure)||void 0===e?void 0:e.find((e=>{var t;return(null==e||null===(t=e.status_codes)||void 0===t?void 0:t.includes("residence_closure"))&&"residence"===(null==e?void 0:e.type)}))}setClientKYCStatus(e){this.client_kyc_status=e}get should_show_trustpilot_notification(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("customer_review_eligible")}}var Y=r(596176),K=r(274277),q=r.n(K),J=r(498015);const Z=(0,y.getLanguage)();function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class te extends P{constructor(e){super({root_store:e}),this.allowed_languages=Object.keys((0,Y.getAllowedLanguages)(i.UNSUPPORTED_LANGUAGES)),this.app_id=void 0,this.app_router={history:null},this.app_routing_history=[],this.changing_language_timer_id="",this.current_language=Z,this.deposit_url="",this.has_error=!1,this.is_language_changing=!1,this.is_network_online=!1,this.is_socket_opened=!1,this.error={type:"info",message:""},this.network_status={},this.platform="",this.selected_contract_type="",this.server_time=q().get()||(0,i.toMoment)(),this.services_error={},this.was_socket_opened=!1,this.withdraw_url="",this.changeSelectedLanguage=async e=>(L.clear(),"EN"===e&&window.localStorage.setItem("i18n_language",e),await(null===J.A||void 0===J.A?void 0:J.A.wait("authorize")),new Promise(((t,r)=>{J.A.setSettings({set_settings:1,preferred_language:e}).then((async()=>{const o=new URL(window.location.href);"EN"===e?o.searchParams.delete("lang"):o.searchParams.set("lang",e),window.history.pushState({path:o.toString()},"",o.toString());try{await(0,i.initMoment)(e),await(0,i.setLocale)(e),await(0,y.changeLanguage)(e,(()=>{this.changeCurrentLanguage(e),N().closeAndOpenNewConnection(e),this.root_store.client.setIsAuthorize(!1)})),t()}catch(e){r()}}))}))),this.isCurrentLanguage=e=>e===this.current_language,(0,u.makeObservable)(this,{addRouteHistoryItem:u.action.bound,allowed_languages:u.observable,app_id:u.observable,app_router:u.observable,app_routing_history:u.observable,changeCurrentLanguage:u.action.bound,changeSelectedLanguage:u.action.bound,changing_language_timer_id:u.observable,checkAppId:u.action.bound,current_language:u.observable,deposit_url:u.observable,error:u.observable,has_error:u.observable,init:u.action.bound,is_from_derivgo:u.computed,is_from_derivp2p:u.computed,is_from_tradershub_os:u.computed,is_language_changing:u.observable,is_network_online:u.observable,is_socket_opened:u.observable,network_status:u.observable,platform:u.observable,routeBackInApp:u.action.bound,routeTo:u.action.bound,selected_contract_type:u.observable,server_time:u.observable,services_error:u.observable,setAppRouterHistory:u.action.bound,setAppstorePlatform:u.action.bound,setDepositURL:u.action.bound,setError:u.action.bound,setInitialRouteHistoryItem:u.action.bound,setIsSocketOpened:u.action.bound,setNetworkStatus:u.action.bound,setPlatform:u.action.bound,setSelectedContractType:u.action.bound,setServerTime:u.action.bound,setServicesError:u.action.bound,resetServicesError:u.action.bound,setWithdrawURL:u.action.bound,showError:u.action.bound,was_socket_opened:u.observable,withdraw_url:u.observable})}setSelectedContractType(e){this.selected_contract_type=e}init(){this.setPlatform()}checkAppId(){this.app_id&&this.app_id!==(0,i.getAppId)()&&N().closeAndOpenNewConnection(),this.app_id=(0,i.getAppId)()}changeCurrentLanguage(e){this.current_language!==e&&(this.changing_language_timer_id&&clearTimeout(this.changing_language_timer_id),this.current_language=e,this.is_language_changing=!0,this.changing_language_timer_id=setTimeout((()=>{this.is_language_changing=!1}),2500))}setAppstorePlatform(e){this.platform=e}setPlatform(){const e=window.location.search;if(e){const t=new URLSearchParams(e).get("platform");t&&(this.platform=t,window.sessionStorage.setItem("config.platform",this.platform))}}get is_from_derivgo(){var e;return(null===(e=i.platforms[this.platform])||void 0===e?void 0:e.platform_name)===i.platforms.derivgo.platform_name}get is_from_outside_cashier(){return!window.location.pathname.startsWith(i.routes.cashier)}get is_from_tradershub_os(){var e;return(null===(e=i.platforms[this.platform])||void 0===e?void 0:e.platform_name)===i.platforms.tradershub_os.platform_name||(0,i.isNavigationFromTradersHubOS)()}get is_from_derivp2p(){return(0,i.isNavigationFromP2PV2)()}setInitialRouteHistoryItem(e){if(-1!==window.location.href.indexOf("?ext_platform_url=")){const t=decodeURI(new URL(window.location.href).searchParams.get("ext_platform_url")),{setExternalParams:r}=this.root_store.client;r({url:t,should_redirect:!0}),0===(null==t?void 0:t.indexOf((0,i.getUrlSmartTrader)()))?this.addRouteHistoryItem({pathname:t,action:"PUSH",is_external:!0}):0===(null==t?void 0:t.indexOf(i.routes.cashier_p2p))?this.addRouteHistoryItem({pathname:t,action:"PUSH"}):this.addRouteHistoryItem(Q(Q({},e),{},{action:"PUSH"})),window.history.replaceState({},document.title,window.location.pathname)}else this.addRouteHistoryItem(Q(Q({},e),{},{action:"PUSH"}))}setServerTime(e){this.server_time=e}setIsSocketOpened(e){const t=this.was_socket_opened&&e;this.is_socket_opened=e,this.was_socket_opened=this.was_socket_opened||e,t&&this.root_store.client.broadcastAccountChangeAfterAuthorize()}setNetworkStatus(e,t){this.network_status.class?(this.network_status.class=e.class,this.network_status.tooltip=e.tooltip):this.network_status=e,this.is_network_online=t;const{addNotificationMessage:r,client_notifications:o,removeNotificationMessage:n}=this.root_store.notifications;t?n(o.you_are_offline):r(o.you_are_offline)}setError(e,t){this.has_error=e,this.error=Q({type:t?t.type:"info"},t&&{header:t.header,message:t.message,redirect_label:t.redirect_label,redirectOnClick:t.redirectOnClick,should_show_refresh:t.should_show_refresh,redirect_to:t.redirect_to,should_clear_error_on_click:t.should_clear_error_on_click,should_redirect:t.should_redirect,setError:this.setError})}showError({message:e,header:t,redirect_label:r,redirectOnClick:o,should_show_refresh:n,redirect_to:i,should_clear_error_on_click:a,should_redirect:s}){this.setError(!0,{header:t,message:e,redirect_label:r,redirectOnClick:o,should_show_refresh:n,redirect_to:i,should_clear_error_on_click:a,type:"error",should_redirect:s})}setDepositURL(e){this.deposit_url=e}setWithdrawURL(e){this.withdraw_url=e}resetServicesError(){this.services_error={}}setServicesError(e,t=!1){this.services_error=e,(0,i.isMobile)()?"CompanyWideLimitExceeded"===e.code||"PleaseAuthenticate"===e.code?this.root_store.ui.toggleServicesErrorModal(!0):t||this.root_store.ui.addToast({content:e.message,type:"error"}):this.root_store.ui.toggleServicesErrorModal(!0)}setAppRouterHistory(e){this.app_router.history=e}routeTo(e){this.app_router.history&&this.app_router.history.push(e)}addRouteHistoryItem(e){const t=this.app_routing_history.findIndex((t=>t.pathname===e.pathname&&"PUSH"===t.action));t>-1&&this.app_routing_history.splice(t,1),this.app_routing_history.unshift(e)}routeBackInApp(e,t=[]){let r=-1;const o=this.app_routing_history.find(((e,o)=>{if("PUSH"===e.action){if(e.is_external)return!0;const n=e.pathname.split("/")[1];if([i.routes.mt5,i.routes.bot,i.routes.trade,i.routes.dxtrade].map((e=>e.split("/")[1])).includes(n)||t.includes(e.pathname))return r=o,!0}return!1}));if(o){if(o.is_external)return void(window.location.href=o.pathname);if(r>-1){this.app_routing_history.splice(0,r+1);const t=this.root_store.ui;return void(o.pathname===i.routes.cashier_p2p&&t.is_mobile?e.push(`${o.pathname}/verification`):e.push(o.pathname))}}e.push(i.routes.trade)}}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ne(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ie extends P{constructor(e){super({root_store:e}),this.is_gtm_applicable="deriv-app.binary.sx"===window.location.hostname||/^(16303|16929|19111|19112)$/.test((0,i.getAppId)()),(0,u.makeObservable)(this,{visitorId:u.computed,common_variables:u.computed,accountSwitcherListener:u.action.bound,pushDataLayer:u.action.bound,pushTransactionData:u.action.bound,eventHandler:u.action.bound,setLoginFlag:u.action.bound}),this.onSwitchAccount(this.accountSwitcherListener)}get visitorId(){return this.root_store.client.loginid}get common_variables(){return oe(oe({language:(0,y.getLanguage)()},this.root_store.client.is_logged_in&&{visitorId:this.visitorId,currency:this.root_store.client.currency,userId:this.root_store.client.user_id,email:this.root_store.client.email}),{},{loggedIn:this.root_store.client.is_logged_in,theme:this.root_store.ui.is_dark_mode_on?"dark":"light",platform:(()=>{const e=new URL(window.location.href),t=e.hostname,r=e.pathname;return/^(deriv-app\.binary.sx|app\.deriv\.com|staging-app\.deriv\.com|deriv.app|staging.deriv.app|localhost.binary.sx)$/.test(t)?"bot"===r?"DBot":r===i.CFD_PLATFORMS.MT5?"MT5":"DTrader":"undefined"})()})}accountSwitcherListener(){return new Promise((e=>e(this.pushDataLayer({event:"account switch"}))))}async pushDataLayer(e){var t,r;this.is_gtm_applicable&&null!==(t=this.root_store)&&void 0!==t&&null!==(t=t.client)&&void 0!==t&&t.is_logged_in&&(null===N()||void 0===N()||null===(r=N().wait("authorize"))||void 0===r||r.then((()=>{const t=oe(oe({},this.common_variables),e);t.event&&dataLayer.push(t)})))}pushTransactionData(e,t={}){if(!this.is_gtm_applicable||this.root_store.client.is_virtual)return;if(!e.transaction||!e.transaction.action)return;if(!["deposit","withdrawal"].includes(e.transaction.action))return;const r=(0,i.toMoment)(),o="GTM_transactions";let n=JSON.parse(localStorage.getItem(o))||{};Object.prototype.hasOwnProperty.call(n,"timestamp")&&r.isAfter((0,i.epochToMoment)(n.timestamp),"day")&&(localStorage.removeItem(o),n={timestamp:r.unix()});const a=n.transactions||[];if(!a.includes(e.transaction.transaction_id)){const i={event:"transaction",bom_account_type:this.root_store.client.account_type,bom_today:r.unix(),transaction:{id:e.transaction.transaction_id,type:e.transaction.action,time:e.transaction.transaction_time,amount:e.transaction.amount}};Object.assign(i,t),this.pushDataLayer(i),a.push(e.transaction.transaction_id),n.transactions=a,n.timestamp=n.timestamp||r.unix(),localStorage.setItem(o,JSON.stringify(n))}}eventHandler(e){if(!this.is_gtm_applicable)return;const t=localStorage.getItem("GTM_login"),r="1"===localStorage.getItem("GTM_new_account");localStorage.removeItem("GTM_login"),localStorage.removeItem("GTM_new_account");const o=f.getJSON("affiliate_tracking");o&&this.pushDataLayer({affiliate_token:o});const n=(0,i.toMoment)(),a={visitorId:this.visitorId,account_type:this.root_store.client.account_type,currency:this.root_store.client.currency,country:e.country,country_abbrev:e.country_code,email:e.email,url:window.location.href,today:n.unix()};r&&(a.event="new_account",a.bom_date_joined=a.bom_today),t&&(a.event=t),this.pushDataLayer(a)}setLoginFlag(e){this.is_gtm_applicable&&e&&localStorage.setItem("GTM_login",e)}}class ae{constructor(e){this.root_store=e}attachModule(e,t){this[e]=t}detachModule(e){this[e]={}}}var se=r(994343),ce=r.n(se),le=r(592353),ue=r(852691);const de={danger:"IcAlertDanger",info:"IcAlertInfo",success:"IcAlertSuccess",warning:"IcAlertWarning",contract_sold:"IcAlertInfo",announce:"IcAlertAnnounce"},_e={announce:"notification--announce",danger:"notification--danger",info:"notification--info",success:"notification--success",warning:"notification--warning",contract_sold:"notification--info"},pe=(()=>{const e={promotions:1,news:2,contract_sold:3,danger:4,warning:5,info:6,success:7};return(t,r)=>e[t.type]-e[r.type]})(),he=(()=>{const e={contract_sold:1,promotions:2,danger:3,news:4,warning:5,info:6,success:7};return(t,r)=>e[t.type]-e[r.type]})(),me=e=>e.reduce(((e,t)=>(e[t]=!0,e)),{}),fe=["contract_sold","has_changed_two_fa"],ge=["system_maintenance","site_maintenance"],be=["trustpilot","account_currency_closure","svg","need_fa","poinc_upload_limited","wallets_migrated","wallets_failed","needs_poinc","notify_financial_assessment","update_fa_required","poa_expired","svg_needs_poa","svg_needs_poi","poi_failed","poa_failed","reaccept_tnc","svg_poi_expired",...ge],ve=["authenticate","poi_expired","document_needs_action","identity","needs_poi","poi_failed","poi_verified","svg_needs_poi_poa","svg_needs_poi","svg_poi_expired"];var ye=r(836870);function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ae extends P{constructor(e){super({root_store:e}),this.is_notifications_visible=!1,this.notifications=[],this.notification_messages=[],this.marked_notifications=[],this.push_notifications=[],this.client_notifications={},this.should_show_popups=!0,this.should_show_passkey_notification=!1,this.trade_notifications=[],this.handlePOAAddressMismatchNotifications=()=>{const{client:e}=this.root_store,{account_status:t}=e,{status:r}=t,{poa_address_mismatch:o}=me(r||[]);o&&this.showPOAAddressMismatchWarningNotification()},this.showPOAAddressMismatchWarningNotification=()=>{this.addNotificationMessage({key:"poa_address_mismatch_warning",header:(0,y.localize)("Please update your address"),message:(0,y.localize)("It appears that the address in your document doesn’t match the address in your Deriv profile. Please update your personal details now with the correct address."),action:{route:i.routes.personal_details,text:(0,y.localize)("Go to Personal details")},type:"warning",should_show_again:!0})},this.showPOAAddressMismatchSuccessNotification=()=>{this.addNotificationMessage({key:"poa_address_mismatch_success",header:(0,y.localize)("Your proof of address has been verified"),type:"announce",should_show_again:!0,platform:"Account"})},this.showPOAAddressMismatchFailureNotification=()=>{this.addNotificationMessage({key:"poa_address_mismatch_failure",header:(0,y.localize)("Your address doesn’t match your profile"),message:(0,y.localize)("Update the address in your profile."),type:"danger",should_show_again:!0,platform:"Account"})},this.handleCurrencyRemovalNotification=(e,t)=>{const r=e.status_codes.includes("funded_account"),o=e.status_codes.includes("non_funded_account");if(!r&&!o)return;const n=r?(0,y.localize)("Withdraw your funds"):(0,y.localize)("Change your currency"),a=(0,i.getDateFromTimestamp)(e.time_of_closure),s=r?(0,ye.jsx)(y.Localize,{i18n_default_text:"{{currency}} accounts won't be available after {{time_of_closure}}.",values:{time_of_closure:a,currency:t}}):(0,ye.jsx)(y.Localize,{i18n_default_text:"{{currency}} accounts won't be available after {{time_of_closure}}. Choose a new account currency.",values:{time_of_closure:a,currency:t}}),c=r?{route:i.routes.cashier_withdrawal,text:(0,ye.jsx)(y.Localize,{i18n_default_text:"Withdraw {{currency}}",values:{currency:t}})}:{text:(0,y.localize)("Contact live chat"),onClick:()=>{C.Chat.open()}};this.addNotificationMessage({key:"account_currency_closure",header:n,message:s,action:c,type:"warning",should_show_again:!0})},(0,u.makeObservable)(this,{addNotificationBar:u.action.bound,addNotificationMessage:u.action.bound,addNotificationMessageByKey:u.action.bound,addTradeNotification:u.action.bound,addVerificationNotifications:u.action.bound,client_notifications:u.observable,filterNotificationMessages:u.action.bound,handleClientNotifications:u.action.bound,is_notifications_empty:u.computed,is_notifications_visible:u.observable,marked_notifications:u.observable,markNotificationMessage:u.action.bound,notification_messages:u.observable,notifications:u.observable,push_notifications:u.observable,refreshNotifications:u.action.bound,removeAllNotificationMessages:u.action.bound,removeNotificationByKey:u.action.bound,removeNotificationMessage:u.action.bound,removeNotificationMessageByKey:u.action.bound,removeNotifications:u.action.bound,removeTradeNotifications:u.action.bound,resetVirtualBalanceNotification:u.action.bound,setClientNotifications:u.action.bound,setShouldShowPopups:u.action.bound,should_show_passkey_notification:u.observable,should_show_popups:u.observable,toggleNotificationsModal:u.action.bound,trade_notifications:u.observable,unmarkNotificationMessage:u.action.bound,updateNotifications:u.action.bound,handleCurrencyRemovalNotification:u.action.bound}),(0,u.reaction)((()=>e.common.app_routing_history.map((e=>e.pathname))),(()=>{this.filterNotificationMessages(),this.marked_notifications=JSON.parse(i.LocalStore.get("marked_notifications")||"[]")})),(0,u.reaction)((()=>{var t;return[e.client.account_settings,e.client.account_status,e.client.landing_companies,null===(t=e.common)||void 0===t?void 0:t.selected_contract_type,e.client.is_eu,e.client.has_enabled_two_fa,e.client.has_changed_two_fa,e.client.should_show_passkey_notification]}),(()=>{(!e.client.is_logged_in||Object.keys(e.client.account_status||{}).length>0&&Object.keys(e.client.landing_companies||{}).length>0)&&(this.removeNotifications(),this.removeAllNotificationMessages(),this.setClientNotifications(),this.handleClientNotifications(),this.filterNotificationMessages(),this.checkNotificationMessages())}))}get is_notifications_empty(){return!this.notifications.length}addNotificationBar(e){this.push_notifications.push(e),this.push_notifications=(0,i.unique)(this.push_notifications,"msg_type")}addNotificationMessage(e){if(e&&!this.notification_messages.find((t=>t.key===e.key))){const t=i.LocalStore.get("active_loginid"),r=i.LocalStore.getObject("notification_messages");if(t){if(!!Array.isArray(r[t])&&r[t].includes(e.key))return void this.markNotificationMessage({key:e.key});const o=(0,i.isMobile)()?he:pe;this.notification_messages=[...this.notification_messages,e].sort(o),(["svg"].some((t=>{var r;return null===(r=e.key)||void 0===r?void 0:r.includes(t)}))||fe&&!fe.includes(e.key))&&this.updateNotifications()}}}addNotificationMessageByKey(e){e&&this.addNotificationMessage(this.client_notifications[e])}addTradeNotification(e){if(!e)return;const{buy_price:t,contract_id:r,contract_type:o,currency:n,profit:a,purchase_time:s,shortcode:c,status:l,underlying:u}=e,d=`${r}_${l}`;if(this.trade_notifications.some((({id:e})=>e===d)))return;const _=(0,i.getTradeTypeName)(o,{isHighLow:(0,i.isHighLow)({shortcode:c}),showMainTitle:!0});this.trade_notifications.push({id:d,buy_price:t,contract_id:r,contract_type:`${_} ${(0,i.getTradeTypeName)(o,{isHighLow:(0,i.isHighLow)({shortcode:c})})}`.trim(),currency:n,profit:(0,i.isMultiplierContract)(o)&&!isNaN(a)?(0,i.getTotalProfit)(e):a,status:l,symbol:(0,i.getMarketName)(null!=u?u:(0,i.extractInfoFromShortcode)(c).underlying),timestamp:"open"===l?s:(0,i.getEndTime)(e)});const p=Math.floor(Date.now()/1e3)-100;this.trade_notifications=this.trade_notifications.filter((({timestamp:e})=>e>p))}addVerificationNotifications(e,t,r,o){const n=this.root_store.client.account_status.status;"verified"!==e.status||n.includes("allow_poi_resubmission")?(!["none","pending","expired"].includes(e.status)||n.includes("allow_poi_resubmission")&&"pending"!==e.status)&&this.addNotificationMessage(this.client_notifications.poi_failed):this.addNotificationMessage(this.client_notifications.poi_verified),"verified"!==t.status||n.includes("allow_poa_resubmission")?r?"pending"===t.status?this.addNotificationMessage(this.client_notifications.resticted_mt5_with_pending_poa):this.addNotificationMessage(this.client_notifications.resticted_mt5_with_failed_poa):o?this.addNotificationMessage(this.client_notifications.poa_rejected_for_mt5):(!["none","pending","expired"].includes(t.status)||n.includes("allow_poa_resubmission")&&"pending"!==t.status)&&this.addNotificationMessage(this.client_notifications.poa_failed):this.addNotificationMessage(this.client_notifications.poa_verified)}filterNotificationMessages(){"null"!==i.LocalStore.get("active_loginid")&&this.resetVirtualBalanceNotification(i.LocalStore.get("active_loginid")),window.location.pathname===i.routes.proof_of_identity&&(this.notification_messages=this.notification_messages.filter((e=>!ve.includes(e.key)))),window.location.pathname===i.routes.personal_details?this.notification_messages=this.notification_messages.filter((e=>"Account"===e.platform||ge.includes(e.key))):window.location.pathname.includes(i.routes.cashier_p2p)||(this.notification_messages=this.notification_messages.filter((e=>!(void 0!==e.platform&&!e.platform.includes((0,i.getPathname)()))||(e.platform.includes((0,i.getPathname)())||e.is_disposable&&(this.removeNotificationMessage({key:e.key,should_show_again:e.should_show_again}),this.removeNotificationByKey({key:e.key})),!1))))}checkNotificationMessages(){const e=i.LocalStore.getObject("notification_messages"),{loginid:t}=this.root_store.client,r=e[t]?Object.values(e[t]):[];r.length&&r.map((e=>{this.removeNotificationByKey({key:e})}))}async handleClientNotifications(){var e,t,r,o;const n=ce()(),{account_list:a,account_settings:s,account_status:c,accounts:l,isAccountOfType:u,is_eu:d,is_identity_verification_needed:_,is_logged_in:p,is_virtual:h,is_phone_number_verification_enabled:m,landing_company_shortcode:f,loginid:g,obj_total_balance:b,website_status:v,has_enabled_two_fa:y,has_changed_two_fa:D,has_wallet:w,is_poi_dob_mismatch:C,is_financial_assessment_needed:A,is_financial_information_incomplete:x,has_restricted_mt5_account:E,has_mt5_account_with_rejected_poa:j,is_proof_of_ownership_enabled:O,is_poa_expired:S,currency:F,is_country_code_dropdown_enabled:k,phone_settings:P}=this.root_store.client,T=(null==P?void 0:P.carriers)&&(null==P?void 0:P.carriers.length)>0,{is_10k_withdrawal_limit_reached:N}=this.root_store.modules.cashier.withdraw,{current_language:L,selected_contract_type:I}=this.root_store.common,B="maltainvest"===f,R="svg"===f,M=i.LocalStore.getObject("marked_notifications"),z=!!Array.isArray(M)&&M.includes(null===(e=this.client_notifications)||void 0===e||null===(e=e.trustpilot)||void 0===e?void 0:e.key),U=(0,i.shouldShowPhoneVerificationNotification)(null==s||null===(t=s.phone_number_verification)||void 0===t?void 0:t.next_email_attempt,n),W=!(window.location.pathname===i.routes.phone_verification)&&!(null!=s&&null!==(r=s.phone_number_verification)&&void 0!==r&&r.verified)&&(null==s?void 0:s.phone)&&!U&&!h&&m&&(!k||T);let $;const V=(0,i.checkServerMaintenance)(v);if(null!=v&&null!==(o=v.message)&&void 0!==o&&o.length||V?this.addNotificationMessage(this.client_notifications.site_maintenance):this.removeNotificationByKey({key:this.client_notifications.site_maintenance}),p){if((0,i.isEmptyObject)(c))return;const{authentication:{document:e,identity:t,income:r,needs_verification:o,ownership:n}={},status:d,cashier_validation:p,account_closure:h=[]}=c,{cashier_locked:m,deposit_locked:f,document_needs_action:v,mt5_withdrawal_locked:k,personal_details_locked:P,poi_name_mismatch:T,withdrawal_locked:L}=me(d||[]);this.handlePOAAddressMismatchNotifications();const I=h.find((e=>"currency"===e.type));var H,G;if(I&&this.handleCurrencyRemovalNotification(I,F),null!=d&&d.includes("mt5_additional_kyc_required")&&this.addNotificationMessage(this.client_notifications.additional_kyc_info),null!=d&&d.includes("update_fa")?this.addNotificationMessage(this.client_notifications.update_fa_required()):(this.removeNotificationByKey({key:this.client_notifications.update_fa_required().key}),this.removeNotificationMessage({key:this.client_notifications.update_fa_required().key,should_show_again:!0})),!y&&b.amount_real>0)this.addNotificationMessage(this.client_notifications.two_f_a);else this.removeNotificationByKey({key:null===(H=this.client_notifications.two_f_a)||void 0===H?void 0:H.key});if(W?this.addNotificationMessage(this.client_notifications.phone_number_verification):this.removeNotificationByKey({key:this.client_notifications.phone_number_verification}),B&&x?this.addNotificationMessage(this.client_notifications.need_fa):this.removeNotificationByKey({key:this.client_notifications.need_fa}),C?this.addNotificationMessage(this.client_notifications.poi_dob_mismatch):this.removeNotificationByKey({key:this.client_notifications.poi_dob_mismatch}),S?this.addNotificationMessage(this.client_notifications.poa_expired):this.removeNotificationByKey({key:this.client_notifications.poa_expired}),g!==i.LocalStore.get("active_loginid"))return;if(A)this.addNotificationMessage(this.client_notifications.notify_financial_assessment);else this.removeNotificationByKey({key:null===(G=this.client_notifications.notify_financial_assessment)||void 0===G?void 0:G.key});D&&this.addNotificationMessage(this.client_notifications.has_changed_two_fa),this.root_store.client.should_show_passkey_notification?this.addNotificationMessage(this.client_notifications.enable_passkey):this.removeNotificationByKey({key:this.client_notifications.enable_passkey}),this.root_store.client.is_account_to_be_closed_by_residence?this.addNotificationMessage(this.client_notifications.notify_account_is_to_be_closed_by_residence):this.removeNotificationByKey({key:this.client_notifications.notify_account_is_to_be_closed_by_residence}),!z&&this.root_store.client.should_show_trustpilot_notification&&this.addNotificationMessage(this.client_notifications.trustpilot);const M=l[g];if(M&&!M.is_virtual){var Y,K,q;if((0,i.isEmptyObject)(c))return;if(g!==i.LocalStore.get("active_loginid"))return;const{cashier_locked_status:l,documents_expired:h,FinancialAssessmentRequired:b,is_virtual:y,no_residence:D,no_withdrawal_or_trading_status:C,SelfExclusion:A,system_maintenance:x,unwelcome_status:S,withdrawal_locked_status:F,ASK_AUTHENTICATE:I,ASK_CURRENCY:B,ASK_FINANCIAL_RISK_APPROVAL:z,ASK_FIX_DETAILS:U,ASK_SELF_EXCLUSION_MAX_TURNOVER_SET:W,ASK_TIN_INFORMATION:V}=p?p.reduce(((e,t)=>(e[t]=!0,e)),{}):{},H=N&&(o.includes("document")||"verified"!==(null==e?void 0:e.status)),G=N&&"verified"!==(null==t?void 0:t.status),J=o.includes("income")&&["rejected","none"].includes(null==r?void 0:r.status),Z=o.includes("income")&&"locked"===(null==r?void 0:r.status),X=null==t?void 0:t.services.onfido.submissions_left,Q=(null==n||null===(Y=n.requests)||void 0===Y?void 0:Y.length)>0&&"rejected"!==(null==n||null===(K=n.status)||void 0===K?void 0:K.toLowerCase()),ee=O&&"rejected"===(null==n||null===(q=n.status)||void 0===q?void 0:q.toLowerCase()),te=R&&d.includes("allow_document_upload")&&"none"===(null==t?void 0:t.status)&&"none"===(null==e?void 0:e.status),re=R&&d.includes("allow_document_upload")&&"none"===(null==e?void 0:e.status),oe=R&&d.includes("allow_document_upload")&&"none"===(null==t?void 0:t.status),ne=R&&"expired"===(null==t?void 0:t.status),ie=a.some((e=>"tUSDT"===e.title));this.addVerificationNotifications(t,e,E,j),null!=s&&s.tnc_update_notification_start_date&&this.addNotificationMessage(this.client_notifications.reaccept_tnc),H&&this.addNotificationMessage(this.client_notifications.needs_poa),G&&this.addNotificationMessage(this.client_notifications.needs_poi),J&&this.addNotificationMessage(this.client_notifications.needs_poinc),Z&&this.addNotificationMessage(this.client_notifications.poinc_upload_limited),T&&null!=t&&t.services.onfido.last_rejected&&!P&&X>0&&this.addNotificationMessage(this.client_notifications.poi_name_mismatch),x?(this.setClientNotifications(M),this.addNotificationMessage(this.client_notifications.system_maintenance(L,f))):m?y?this.addNotificationMessage(this.client_notifications.is_virtual):D?this.addNotificationMessage(this.client_notifications.no_residence):h?this.addNotificationMessage(this.client_notifications.documents_expired):l?this.addNotificationMessage(this.client_notifications.cashier_locked):B?this.addNotificationMessage(this.client_notifications.currency):I&&_?this.addNotificationMessage(this.client_notifications.identity):I?this.addNotificationMessage(this.client_notifications.authenticate):u("financial")&&z?this.addNotificationMessage(this.client_notifications.ask_financial_risk_approval):b?this.addNotificationMessage(this.client_notifications.risk):u("financial")&&V?this.addNotificationMessage(this.client_notifications.tax):W?this.addNotificationMessage(this.client_notifications.max_turnover_limit_not_set):U?this.addNotificationMessage(this.client_notifications.required_fields(L,f)):w||this.addNotificationMessage(this.client_notifications.cashier_locked):(L&&(I?this.addNotificationMessage(this.client_notifications.withdrawal_locked_review):C?this.addNotificationMessage(this.client_notifications.no_withdrawal_or_trading):F?this.addNotificationMessage(this.client_notifications.withdrawal_locked):U&&this.addNotificationMessage(this.client_notifications.required_fields(L,f))),f&&(A?this.addNotificationMessage(this.client_notifications.self_exclusion(M.excluded_until)):S&&this.addNotificationMessage(this.client_notifications.unwelcome)));const ae=["pending","none","verified"];ie&&this.addNotificationMessage(this.client_notifications.has_tusdt_account),k&&this.addNotificationMessage(this.client_notifications.mt5_withdrawal_locked),!v||ae.includes(e.status)&&ae.includes(t.status)||this.addNotificationMessage(this.client_notifications.document_needs_action),$=((e,t,r)=>{if(!e||(0,i.isEmptyObject)(e))return!1;const{is_svg:o}=t;let n;return n=o?function(){const e=i.State.getResponse("landing_company.financial_company.requirements.withdrawal")||[],t=i.State.getResponse("landing_company.financial_company.requirements.signup");return[...e,...t?t.map((e=>"residence"===e?"country":e)):[]]}():r("financial")?["account_opening_reason","address_line_1","address_city","phone","tax_identification_number","tax_residence"]:[],n.some((t=>!e[t]))})(s,M,u),$&&this.addNotificationMessage(this.client_notifications.required_fields(L,f)),Q&&this.addNotificationMessage(this.client_notifications.poo_required),ee&&this.addNotificationMessage(this.client_notifications.poo_rejected),te?this.addNotificationMessage(this.client_notifications.svg_needs_poi_poa):re?this.addNotificationMessage(this.client_notifications.svg_needs_poa):oe?this.addNotificationMessage(this.client_notifications.svg_needs_poi):ne&&this.addNotificationMessage(this.client_notifications.svg_poi_expired)}}var J;!d&&(0,i.isMultiplierContract)(I)&&"EN"===L&&p?this.addNotificationMessage(this.client_notifications.deriv_go):this.removeNotificationMessageByKey({key:null===(J=this.client_notifications.deriv_go)||void 0===J?void 0:J.key})}markNotificationMessage({key:e}){this.marked_notifications.includes(e)||(this.marked_notifications.push(e),i.LocalStore.set("marked_notifications",JSON.stringify(this.marked_notifications)))}refreshNotifications(){this.removeNotifications(!0),this.removeAllNotificationMessages(),this.setClientNotifications(),this.handleClientNotifications()}removeAllNotificationMessages(e=!1){this.notification_messages=e?[]:[...this.notification_messages.filter((e=>e.is_persistent))]}removeNotifications(e){this.notifications=e?[]:[...this.notifications.filter((e=>e.is_persistent))]}removeTradeNotifications(e){this.trade_notifications=e?this.trade_notifications.filter((t=>t.id!==e)):[]}removeNotificationByKey({key:e}){this.notifications=this.notifications.filter((t=>t.key!==e))}removeNotificationMessage({key:e,should_show_again:t}={}){if(!e)return;this.notification_messages=this.notification_messages.filter((t=>t.key!==e));const r=i.LocalStore.get("active_loginid");if(!fe.includes(e)&&r){let o=i.LocalStore.getObject("notification_messages");if(o[r]&&o[r].includes(e))return;const n=()=>Array.isArray(o[r])?(o[r].push(e),o[r]):[e];t||(o=we(we({},o),{},{[r]:n()}),i.LocalStore.setObject("notification_messages",o))}}removeNotificationMessageByKey({key:e}){this.notification_messages=this.notification_messages.filter((t=>t.key!==e))}resetVirtualBalanceNotification(e){var t,r;const{accounts:o,is_logged_in:n}=this.root_store.client;if(!n)return;if(null===(t=o[e])||void 0===t||!t.is_virtual)return;const i=999e3,a=parseInt(null===(r=o[e])||void 0===r?void 0:r.balance);if(a<=1e3||a>=i){let e=(0,y.localize)("Your demo account balance is low. Reset your balance to continue trading from your demo account.");a>=i&&(e=(0,y.localize)("Your demo account balance has reached the maximum limit, and you will not be able to place new trades. Reset your balance to continue trading from your demo account.")),this.setClientNotifications({resetVirtualBalance:this.root_store.client.resetVirtualBalance,message:e}),this.addNotificationMessage(this.client_notifications.reset_virtual_balance)}else this.removeNotificationByKey({key:"reset_virtual_balance"}),this.removeNotificationMessage({key:"reset_virtual_balance",should_show_again:!0})}setClientNotifications(e={}){const{ui:t}=this.root_store,{account_status:r,has_enabled_two_fa:o,setTwoFAChangedStatus:n,logout:a,email:s,is_cr_account:c,account_settings:l}=this.root_store.client,u=o?(0,y.localize)("enabled"):(0,y.localize)("disabled"),d=(0,i.getPlatformSettings)("trader").name,_=(0,i.getPlatformSettings)("go").name,h=null==l?void 0:l.tnc_update_notification_start_date,m={ask_financial_risk_approval:{key:"ask_financial_risk_approval",header:(0,y.localize)("Complete your Appropriateness Test"),message:(0,y.localize)("Please click the following link to complete your Appropriateness Test."),action:{route:i.routes.financial_assessment,text:(0,y.localize)("Click here")},type:"warning"},authenticate:{key:"authenticate",header:(0,y.localize)("Your account has not been verified"),message:(0,y.localize)("Please submit your proof of identity and proof of address to verify your account in your account settings to access the cashier."),action:{route:i.routes.proof_of_identity,text:(0,y.localize)("Go to my account settings")},type:"warning"},cashier_locked:{key:"cashier_locked",header:(0,y.localize)("Your cashier is currently locked"),message:(0,y.localize)("Please contact us via live chat to unlock it."),action:{onClick:()=>{C.Chat.open()},text:(0,y.localize)("Go to live chat")},type:"warning"},trustpilot:{key:"trustpilot",header:(0,y.localize)("Enjoy using Deriv?"),header_popup:(0,y.localize)("We’d love to hear your thoughts"),message:(0,y.localize)("Drop your review on Trustpilot."),message_popup:(0,y.localize)("Drop your review on Trustpilot."),action:{onClick:()=>{window.open("https://www.trustpilot.com/review/deriv.com","_blank"),this.markNotificationMessage({key:this.client_notifications.trustpilot.key}),this.removeNotificationByKey({key:this.client_notifications.trustpilot.key}),this.removeNotificationMessage({key:this.client_notifications.trustpilot.key,should_show_again:!1})},children:(0,ye.jsx)("div",{className:"trustpilot-widget","data-locale":"en-US","data-template-id":"56278e9abfbbba0bdcd568bc","data-businessunit-id":"5ed4c8a9f74f310001f51bf7","data-style-height":"52px","data-style-width":"100%",children:(0,ye.jsx)("a",{href:"https://www.trustpilot.com/review/deriv.com",target:"_blank",rel:"noopener noreferrer",onClick:()=>{this.markNotificationMessage({key:this.client_notifications.trustpilot.key}),this.removeNotificationByKey({key:this.client_notifications.trustpilot.key}),this.removeNotificationMessage({key:this.client_notifications.trustpilot.key,should_show_again:!1})},children:(0,y.localize)("Go to Trustpilot")})}),text:(0,y.localize)("Go to Trustpilot")},img_src:(0,i.getUrlBase)("/public/images/common/trustpilot_banner.png"),img_alt:"Trustpilot",className:"trustpilot",type:"trustpilot"},currency:{key:"currency",header:(0,y.localize)("You have not selected your account currency"),message:(0,y.localize)("Please set your account currency to enable deposits and withdrawals."),action:{onClick:()=>{t.openRealAccountSignup("set_currency")},text:(0,y.localize)("Set my account currency")},type:"danger"},deriv_go:{key:"deriv_go",header:(0,ye.jsx)(y.Localize,{i18n_default_text:"Trade on the go"}),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Get a faster mobile trading experience with the <0>{{platform_name_go}}</0> app!",components:[(0,ye.jsx)(le.StaticUrl,{className:"link dark",href:"/landing/deriv-go"},0)],values:{platform_name_go:_}}),cta_btn:{text:(0,y.localize)("Learn more"),onClick:()=>{window.open((0,i.getStaticUrl)("/landing/deriv-go"),"_blank")}},img_src:(0,i.getUrlBase)("/public/images/common/derivgo_banner.png"),img_alt:"deriv_go",type:"promotions"},documents_expired:{key:"poi_expired",header:(0,y.localize)("You submitted expired identification documents"),message:(0,y.localize)("Please submit valid identity documents to unlock the cashier."),action:{route:i.routes.proof_of_identity,text:(0,y.localize)("Submit identity documents")},type:"danger"},document_needs_action:{key:"document_needs_action",header:(0,y.localize)("Authentication failed"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"<0>Your Proof of Identity or Proof of Address</0> did not meet our requirements. Please check your email for further instructions.",components:[(0,ye.jsx)(ue.Sm,{className:"link",to:i.routes.proof_of_identity},0)]}),type:"warning"},dp2p:{key:"dp2p",header:(0,y.localize)("Payment problems?"),message:(0,y.localize)("There’s an app for that"),primary_btn:{text:(0,y.localize)("Learn more"),onClick:()=>{window.open((0,i.getStaticUrl)("/p2p"),"_blank")}},img_src:(0,i.getUrlBase)("/public/images/common/dp2p_banner.png"),img_alt:"Deriv P2P",type:"news"},enable_passkey:{action:{route:i.routes.passkeys,text:(0,y.localize)("Enable passkey")},key:"enable_passkey",header:(0,y.localize)("Level up your security"),message:(0,y.localize)("Strengthen your account’s security today with the latest passkeys feature."),type:"announce",should_show_again:!0},identity:{key:"identity",header:(0,y.localize)("Let’s verify your ID"),message:(0,y.localize)("You need to make a quick identity verification before you can access the Cashier. Please go to your account settings to submit your proof of identity."),action:{route:i.routes.proof_of_identity,text:(0,y.localize)("Go to my account settings")},type:"warning"},install_pwa:{key:"install_pwa",action:{onClick:()=>t.installWithDeferredPrompt(),text:(0,y.localize)("Install")},header:(0,y.localize)("Install the {{platform_name_trader}} web app",{platform_name_trader:d}),message:(0,y.localize)("Launch {{platform_name_trader}} in seconds the next time you want to trade.",{platform_name_trader:d}),type:"announce",should_hide_close_btn:!1},is_virtual:{key:"is_virtual",header:(0,y.localize)("You are on your demo account"),message:(0,y.localize)("Please switch to your real account or create one to access the cashier."),type:"warning"},max_turnover_limit_not_set:{key:"max_turnover_limit_not_set",header:(0,y.localize)("You’ve not set your 30-day turnover limit"),message:(0,y.localize)("Your access to the cashier has been temporarily disabled as you have not set your 30-day turnover limit. Please go to Self-exclusion and set the limit."),action:{route:i.routes.self_exclusion,text:(0,y.localize)("Go to Self-exclusion")},type:"danger"},mt5_withdrawal_locked:{key:"mt5_withdrawal_locked",header:(0,y.localize)("MT5 withdrawal disabled"),message:(0,y.localize)("MT5 withdrawals have been disabled on your account. Please check your email for more details."),type:"warning"},needs_poa:{action:{route:i.routes.proof_of_address,text:(0,y.localize)("Verify address")},key:"needs_poa",header:(0,y.localize)("Please verify your proof of address"),message:(0,y.localize)("To continue trading with us, please confirm where you live."),type:"danger"},needs_poi:{action:{route:i.routes.proof_of_identity,text:(0,y.localize)("Verify identity")},key:"needs_poi",header:(0,y.localize)("Please verify your proof of identity"),message:(0,y.localize)("To continue trading with us, please confirm who you are."),type:"danger"},needs_poinc:{action:{route:i.routes.proof_of_income,text:(0,y.localize)("Go to my account settings")},key:"needs_poinc",header:(0,y.localize)("Please verify your proof of income"),message:(0,y.localize)("To continue trading with us, please submit your proof of income."),type:"warning"},new_version_available:{action:{onClick:()=>window.location.reload(),text:(0,y.localize)("Refresh now")},key:"new_version_available",header:(0,y.localize)("A new version of Deriv is available"),message:(0,y.localize)("This page will automatically refresh in 5 minutes to load the latest version."),type:"warning",should_hide_close_btn:!0,timeout:3e5,timeoutMessage:e=>(0,y.localize)("Auto update in {{ remaining }} seconds",{remaining:e})},no_residence:{key:"no_residence",header:(0,y.localize)("You have not selected your country of residence"),message:(0,y.localize)("Please set your country of residence in your account settings to access the cashier."),action:{route:i.routes.personal_details,text:(0,y.localize)("Go to my account settings")},type:"warning"},no_withdrawal_or_trading:{key:"no_withdrawal_or_trading",header:(0,y.localize)("You are only allowed to make deposits"),message:(0,y.localize)("Please contact us via live chat to enable withdrawals."),action:{onClick:()=>{C.Chat.open()},text:(0,y.localize)("Go to live chat")},type:"warning"},notify_financial_assessment:{action:{route:i.routes.financial_assessment,text:(0,y.localize)("Start now")},header:(0,y.localize)("Pending action required"),key:"notify_financial_assessment",message:(0,y.localize)("Please complete your financial assessment."),should_show_again:!0,type:"warning"},password_changed:{key:"password_changed",header:(0,y.localize)("Password updated."),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Please log in with your updated password."}),type:"info"},phone_number_verification:{key:"phone_number_verification",header:(0,y.localize)("Complete phone verification"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Secure your Deriv account by verifying your phone number."}),type:"warning",action:{onClick:()=>{this.is_notifications_visible&&this.toggleNotificationsModal(),p.WS.verifyEmail(s,"phone_number_verification"),localStorage.setItem("routes_from_notification_to_pnv",window.location.pathname)},route:i.routes.phone_verification,text:(0,y.localize)("Verify now")},should_show_again:!0},poa_rejected_for_mt5:{action:{route:i.routes.proof_of_address,text:(0,y.localize)("Resubmit proof of address")},key:"poa_rejected_for_mt5",header:(0,y.localize)("Please resubmit your proof of address or we may restrict your account."),message:(0,y.localize)("Please submit your proof of address."),type:"danger"},poa_failed:{action:{route:i.routes.proof_of_address,text:(0,y.localize)("Resubmit proof of address")},key:"poa_failed",header:(0,y.localize)("Please resubmit your proof of address."),type:"danger"},poa_verified:{key:"poa_verified",header:(0,y.localize)("Your proof of address is verified."),type:"announce",should_hide_close_btn:!1},poa_expired:{key:"poa_expired",header:(0,ye.jsx)(y.Localize,{i18n_default_text:"Lets get your address verified"}),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Please submit your proof of address"}),type:"warning",action:{route:i.routes.proof_of_address,text:(0,y.localize)("Submit now")}},poi_failed:{action:{route:i.routes.proof_of_identity,text:(0,y.localize)("Resubmit proof of identity")},key:"poi_failed",header:(0,y.localize)("Your proof of identity verification has failed"),message:(0,y.localize)("Please submit your proof of identity."),type:"danger"},poi_verified:{key:"poi_verified",header:(0,y.localize)("Your proof of identity is verified."),type:"announce",should_hide_close_btn:!1},poi_name_mismatch:{action:{route:i.routes.personal_details,text:(0,y.localize)("Personal details")},key:"poi_name_mismatch",header:(0,y.localize)("Please update your personal info"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"It seems that your name in the document is not the same as your Deriv profile. Please update your name in the <0>Personal details</0> page to solve this issue.",components:[(0,ye.jsx)("strong",{},0)]}),type:"warning"},poinc_upload_limited:{key:"poinc_upload_limited",header:(0,y.localize)("You've reached the limit of uploading your documents."),message:(0,y.localize)("Please check your email."),type:"danger"},resticted_mt5_with_pending_poa:{key:"resticted_mt5_with_pending_poa",header:(0,y.localize)("Your proof of address verification is pending"),message:(0,y.localize)("Your address verification is pending, and we’ve placed some restrictions on your account. The restrictions will be lifted once your address is verified."),type:"danger"},resticted_mt5_with_failed_poa:{action:{route:i.routes.proof_of_address,text:(0,y.localize)("Resubmit proof of address")},key:"resticted_mt5_with_failed_poa",header:(0,y.localize)("Your proof of address verification has failed"),message:(0,y.localize)("Your proof of address did not pass our verification checks, and we’ve placed some restrictions on your account. Please resubmit your proof of address."),type:"danger"},required_fields:(e,t)=>{let r;return r=e?(0,y.localize)("Please go to your account settings and complete your personal details to enable withdrawals."):t?(0,y.localize)("Please go to your account settings and complete your personal details to enable deposits."):(0,y.localize)("Please go to your account settings and complete your personal details to enable deposits and withdrawals."),{key:"required_fields",header:(0,y.localize)("Your personal details are incomplete"),message:r,type:"danger",action:{route:i.routes.personal_details,text:(0,y.localize)("Go to my account settings")}}},reaccept_tnc:{key:"reaccept_tnc",header:(0,y.localize)("Important update: Terms and conditions"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"We've updated our <0>terms and conditions</0>. To continue trading, you must review and accept the updated terms. You'll be prompted to accept them starting [<1>{{next_prompt_date}}</1>].",components:[(0,ye.jsx)(le.StaticUrl,{className:"link",href:"terms-and-conditions",is_eu_url:!c},0),(0,ye.jsx)(le.Text,{size:"xs",weight:"bold"},1)],values:{next_prompt_date:(0,i.formatDate)(h,"DD MMM YYYY")}}),type:"announce"},reset_virtual_balance:{key:"reset_virtual_balance",header:(0,y.localize)("Reset your balance"),message:e.message,type:"info",is_persistent:!0,should_show_again:!0,is_disposable:!0,action:{text:(0,y.localize)("Reset balance"),onClick:async()=>{await e.resetVirtualBalance()}}},risk:{key:"risk",header:(0,y.localize)("Your cashier is locked"),message:(0,y.localize)("Please complete the financial assessment in your account settings to unlock it."),action:{route:i.routes.financial_assessment,text:(0,y.localize)("Go to my account settings")},type:"warning"},self_exclusion:e=>({key:"self_exclusion",header:(0,y.localize)("You have self-excluded from trading"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"You have chosen to exclude yourself from trading on our website until {{exclusion_end}}. If you are unable to place a trade or deposit after your self-exclusion period, please contact us via live chat.",values:{exclusion_end:(0,i.formatDate)(e,"DD MMM, YYYY"),interpolation:{escapeValue:!1}}}),action:{onClick:()=>{C.Chat.open()},text:(0,y.localize)("Go to live chat")},type:"danger"}),site_maintenance:{key:"site_maintenance",header:(0,y.localize)("We’re updating our site"),message:(0,y.localize)("Some services may be temporarily unavailable."),type:"warning",should_show_again:!0,closeOnClick:e=>this.markNotificationMessage({key:e.key})},system_maintenance:(t,r)=>{let o,n;return(0,i.isCryptocurrency)(e.currency)?t?(n=(0,y.localize)("Unable to process withdrawals in the moment"),o=(0,y.localize)("Withdrawals are temporarily unavailable due to system maintenance. You can make withdrawals when the maintenance is complete.")):r?(n=(0,y.localize)("Unable to process deposit in the moment"),o=(0,y.localize)("Deposits are temporarily unavailable due to system maintenance. You can make deposits when the maintenance is complete.")):(n=(0,y.localize)("Scheduled cashier system maintenance"),o=(0,y.localize)("Our cryptocurrency cashier is temporarily down due to system maintenance. You can make cryptocurrency deposits and withdrawals in a few minutes when the maintenance is complete.")):(n=(0,y.localize)("Scheduled cashier maintenance"),o=(0,y.localize)("The cashier is temporarily down due to maintenance. It will be available as soon as the maintenance is complete.")),{key:"system_maintenance",header:n,message:o,type:"warning",should_show_again:!0,closeOnClick:e=>this.markNotificationMessage({key:e.key})}},tax:{key:"tax",header:(0,y.localize)("You have not provided your tax identification number"),message:(0,y.localize)("This information is necessary for legal and regulatory requirements. Please go to your account settings, and fill in your latest tax identification number."),action:{route:i.routes.personal_details,text:(0,y.localize)("Go to my account settings")},type:"danger"},tnc:{action:{onClick:async()=>{await p.WS.tncApproval(),p.WS.getSettings()},text:(0,y.localize)("I accept")},key:"tnc",header:(0,y.localize)("Terms & conditions updated"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Please accept our <0>updated Terms and Conditions</0> to proceed.",components:[(0,ye.jsx)(le.StaticUrl,{className:"link",href:"terms-and-conditions"},0)]}),type:"warning"},has_changed_two_fa:{key:"has_changed_two_fa",header:(0,y.localize)("Logging out on other devices"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"You've {{two_fa_status}} 2FA on this device. You'll be logged out of your account on other devices (if any). Use your password and a 2FA code to log back in.",values:{two_fa_status:u}}),type:"info",delay:4e3,is_auto_close:!0,closeOnClick:()=>{n(!1)}},two_f_a:{key:"two_f_a",header:(0,y.localize)("Stronger security for your Deriv account"),message:(0,y.localize)("With two-factor authentication, you’ll protect your account with both your password and your phone - so only you can access your account, even if someone knows your password."),action:{route:i.routes.two_factor_authentication,text:(0,y.localize)("Secure my account")},type:"warning"},unwelcome:{key:"unwelcome",header:(0,y.localize)("Deposits are locked"),message:(0,y.localize)("Please contact us via live chat."),action:{onClick:()=>{C.Chat.open()},text:(0,y.localize)("Go to live chat")},type:"danger"},update_fa_required:()=>{let e,t;var o,n;c?e=null!=r&&null!==(o=r.status)&&void 0!==o&&o.includes("financial_information_not_complete")?(0,y.localize)("Complete your Financial assessment"):(0,y.localize)("Update required"):e=(0,y.localize)("Update required");c?t=null!=r&&null!==(n=r.status)&&void 0!==n&&n.includes("financial_information_not_complete")?(0,y.localize)("Help us keep your information up to date by completing the assessment."):(0,y.localize)("We’ve updated the financial assessment questions. Retake the assessment to keep your information accurate."):t=(0,y.localize)("We’ve updated the financial assessment questions. Retake the assessment to keep your information accurate.");return{key:"update_fa_required",header:e,message:t,action:{route:i.routes.financial_assessment,text:(0,y.localize)("Start now")},type:"warning",should_show_again:!0}},withdrawal_locked:{key:"withdrawal_locked",header:(0,y.localize)("You are only allowed to make deposits"),message:(0,y.localize)("Please contact us via live chat to enable withdrawals."),action:{onClick:()=>{C.Chat.open()},text:(0,y.localize)("Go to live chat")},type:"warning"},withdrawal_locked_review:{key:"withdrawal_locked_review",header:(0,y.localize)("You are unable to make withdrawals"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"To enable withdrawals, please submit your <0>Proof of Identity (POI)</0> and <1>Proof of Address (POA)</1> and also complete the <2>financial assessment</2> in your account settings.",components:[(0,ye.jsx)("a",{className:"link dark",href:"/account/proof-of-identity"},0),(0,ye.jsx)("a",{className:"link dark",href:"/account/proof-of-address"},1),(0,ye.jsx)("a",{className:"link dark",href:"/account/financial-assessment"},2)]}),type:"warning"},you_are_offline:{key:"you_are_offline",header:(0,y.localize)("You are offline"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Check your connection."}),type:"danger"},poi_dob_mismatch:{key:"poi_dob_mismatch",header:(0,y.localize)("Please update your personal info"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"It seems that your date of birth in the document is not the same as your Deriv profile. Please update your date of birth in the <0>Personal details</0> page to solve this issue.",components:[(0,ye.jsx)("strong",{},0)]}),type:"warning",action:{route:i.routes.personal_details,text:(0,y.localize)("Personal details")}},poo_required:{key:"poo_required",header:(0,ye.jsx)(y.Localize,{i18n_default_text:"<0>Proof of ownership</0> <1>required</1>",components:[(0,ye.jsx)("div",{},0),(0,ye.jsx)("div",{},1)]}),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"<0></0><1>Your account is currently locked</1> <2></2><3>Please upload your proof of</3> <4>ownership to unlock your account.</4> <5></5>",components:[(0,ye.jsx)("br",{},0),(0,ye.jsx)("div",{},1),(0,ye.jsx)("br",{},2),(0,ye.jsx)("div",{},3),(0,ye.jsx)("div",{},4),(0,ye.jsx)("br",{},5)]}),action:{route:i.routes.proof_of_ownership,text:(0,y.localize)("Upload my document")},type:"warning"},poo_rejected:{key:"poo_rejected",header:(0,ye.jsx)(y.Localize,{i18n_default_text:"<0>Proof of ownership</0> <1>verification failed</1>",components:[(0,ye.jsx)("div",{},0),(0,ye.jsx)("div",{},1)]}),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"<0></0><1>Please upload your document</1> <2>with the correct details.</2> <3></3>",components:[(0,ye.jsx)("br",{},0),(0,ye.jsx)("div",{},1),(0,ye.jsx)("div",{},2),(0,ye.jsx)("br",{},3)]}),action:{route:i.routes.proof_of_ownership,text:(0,y.localize)("Upload again")},type:"warning"},need_fa:{key:"need_fa",header:(0,y.localize)("You can only make deposits."),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"You can only make deposits at the moment. To enable withdrawals, please complete your financial assessment."}),type:"warning",action:{route:i.routes.financial_assessment,text:(0,y.localize)("Start assessment")},should_show_again:!0,closeOnClick:e=>this.markNotificationMessage({key:e.key})},svg_needs_poi_poa:{key:"svg_needs_poi_poa",header:(0,y.localize)("Account verification required"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Please submit your proof of identity and proof of address to verify your account and continue trading."}),type:"warning",action:{route:i.routes.proof_of_identity,text:(0,y.localize)("Go to my account settings")},closeOnClick:e=>this.markNotificationMessage({key:e.key})},svg_needs_poa:{key:"svg_needs_poa",header:(0,y.localize)("Proof of address required"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Please submit your proof of address to verify your account and continue trading."}),type:"warning",action:{route:i.routes.proof_of_address,text:(0,y.localize)("Submit proof of address")}},svg_needs_poi:{key:"svg_needs_poi",header:(0,y.localize)("Proof of identity required"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Please submit your proof of identity to verify your account and continue trading."}),type:"warning",action:{route:i.routes.proof_of_identity,text:(0,y.localize)("Submit proof of identity")},closeOnClick:e=>this.markNotificationMessage({key:e.key})},svg_poi_expired:{key:"svg_poi_expired",header:(0,y.localize)("Your proof of identity is expired"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Your proof of identity has expired. Please submit a new proof of identity to verify your account and continue trading."}),type:"warning",action:{route:i.routes.proof_of_identity,text:(0,y.localize)("Resubmit proof of identity")}},wallets_migrated:{key:"wallets_migrated",header:(0,y.localize)("Your Wallets are ready"),message:(0,y.localize)("To complete the upgrade, please log out and log in again to add more accounts and make transactions with your Wallets."),action:{onClick:async()=>{await a()},text:(0,y.localize)("Log out")},type:"announce"},wallets_failed:{key:"wallets_failed",header:(0,y.localize)("Sorry for the interruption"),message:(0,y.localize)("We're unable to complete with the Wallet upgrade. Please try again later or contact us via live chat."),action:{onClick:async()=>{C.Chat.open()},text:(0,y.localize)("Go to LiveChat")},type:"danger"},additional_kyc_info:{key:"additional_kyc_info",header:(0,ye.jsx)(y.Localize,{i18n_default_text:"Pending action required"}),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"We require additional information for your Deriv MT5 account(s). Please take a moment to update your information now."}),action:{text:(0,y.localize)("Update now"),onClick:()=>{this.is_notifications_visible&&this.toggleNotificationsModal(),t.setFieldRefToFocus("account-opening-reason"),this.markNotificationMessage({key:"additional_kyc_info"})},route:i.routes.personal_details},type:"warning"},notify_account_is_to_be_closed_by_residence:{action:{route:i.routes.cashier_withdrawal,text:(0,y.localize)("Withdraw funds")},header:(0,y.localize)("Deposits and trading disabled"),key:"notify_account_is_to_be_closed_by_residence",message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Due to business changes, client accounts in your country are to be closed. Withdraw your funds by {{date}}.",values:{date:(0,i.formatDate)(this.root_store.client.account_time_of_closure,"DD MMM YYYY")}}),should_show_again:!0,type:"warning"},has_tusdt_account:{key:"has_tusdt_account",header:(0,y.localize)("Attention: tUSDT deposit address change"),message:(0,ye.jsx)(y.Localize,{i18n_default_text:"Verify the address on the Deposit page before each deposit to avoid losing funds. Occasionally, the address could be updated."}),type:"announce"}};this.client_notifications=m}setShouldShowPopups(e){this.should_show_popups=e}toggleNotificationsModal(){D.Analytics.trackEvent("ce_notification_form",{action:this.is_notifications_visible?"close":"open",form_name:"ce_notification_form",notification_num:this.notifications.length}),this.is_notifications_visible=!this.is_notifications_visible}unmarkNotificationMessage({key:e}){this.marked_notifications=this.marked_notifications.filter((t=>e!==t))}updateNotifications(){this.notifications=this.notification_messages.filter((e=>["svg"].some((t=>{var r;return null===(r=e.key)||void 0===r?void 0:r.includes(t)}))?e:fe&&!fe.includes(e.key)))}}const xe=["deriv.com"],Ee="undefined"!=typeof window&&window.location.hostname.split("app.")[1]||"",je=xe.includes(Ee),Oe=Object.freeze({BVI:"bvi",LABUAN:"labuan",MALTAINVEST:"maltainvest",SVG:"svg",VANUATU:"vanuatu"}),Se=Object.freeze({PRODUCTION:`https://hub.${(0,i.getDomainUrl)()}/tradershub`,STAGING:`https://staging-hub.${(0,i.getDomainUrl)()}/tradershub`});function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Te extends P{constructor(e){var t,r;super({root_store:e,local_storage_properties:["advanced_duration_unit","is_advanced_duration","advanced_expiry_type","simple_duration_unit","duration_t","duration_s","duration_m","duration_h","duration_d","is_account_settings_visible","is_chart_asset_info_visible","is_chart_countdown_visible","is_chart_layout_default","is_dark_mode_on","is_positions_drawer_on","is_reports_visible","should_show_cancellation_warning"],store_name:"ui_store"}),this.url_hashed_values="",this.is_account_settings_visible=!1,this.is_positions_drawer_on=!1,this.is_reports_visible=!1,this.reports_route_tab_index=0,this.is_cashier_visible=!1,this.is_history_tab_active=!1,this.should_show_cancellation_warning=!0,this.footer_extensions=[],this.header_extension=void 0,this.settings_extension=void 0,this.notification_messages_ui=void 0,this.is_dark_mode_on=(null===(t=window)||void 0===t||null===(r=t.matchMedia)||void 0===r?void 0:r.call(t,"(prefers-color-scheme: dark)").matches)&&(0,i.isMobile)(),this.is_settings_modal_on=!1,this.is_language_settings_modal_on=!1,this.is_mobile_language_menu_open=!1,this.is_accounts_switcher_on=!1,this.account_switcher_disabled_message="",this.has_only_forward_starting_contracts=!1,this.is_services_error_visible=!1,this.is_account_signup_modal_visible=!1,this.is_link_expired_modal_visible=!1,this.is_set_residence_modal_visible=!1,this.is_reset_password_modal_visible=!1,this.is_reset_email_modal_visible=!1,this.is_update_email_modal_visible=!1,this.is_reset_trading_password_modal_visible=!1,this.is_mf_verification_pending_modal_visible=!1,this.is_trading_disabled_by_residence_modal_visible=!1,this.is_chart_countdown_visible=!1,this.is_chart_layout_default=!0,this.pwa_prompt_event=null,this.screen_width=window.innerWidth,this.screen_height=window.innerHeight,this.is_onscreen_keyboard_active=!1,this.is_advanced_duration=!1,this.advanced_duration_unit="t",this.advanced_expiry_type="duration",this.simple_duration_unit="t",this.duration_t=5,this.duration_s=15,this.duration_m=3,this.duration_h=1,this.duration_d=1,this.purchase_states=[!1,!1],this.is_app_disabled=!1,this.is_route_modal_on=!1,this.is_real_acc_signup_on=!1,this.is_from_signup_account=!1,this.real_account_signup_target=void 0,this.deposit_real_account_signup_target=void 0,this.has_real_account_signup_ended=!1,this.is_wallets_onboarding_tour_guide_visible=!1,this.is_verification_modal_visible=!1,this.is_verification_submitted=!1,this.is_set_currency_modal_visible=!1,this.show_positions_toggle=!0,this.modal_index=0,this.is_top_up_virtual_open=!1,this.is_top_up_virtual_in_progress=!1,this.is_top_up_virtual_success=!1,this.should_show_real_accounts_list=!1,this.real_account_signup={active_modal_index:-1,previous_currency:"",current_currency:"",success_message:"",error_message:""},this.current_focus=null,this.mobile_toast_timeout=3500,this.toasts=[],this.is_cfd_page=!1,this.is_nativepicker_visible=!1,this.is_landscape=!1,this.prompt_when=!1,this.promptFn=()=>{},this.should_show_phone_number_otp=!1,this.is_forced_to_exit_pnv=!1,this.is_phone_verification_completed=!1,this.is_closing_create_real_account_modal=!1,this.is_account_needed_modal_on=!1,this.is_mt5_migration_modal_open=!1,this.account_needed_modal_props={target:"",target_label:"",target_dmt5_label:""},this.manage_real_account_tab_index=0,this.is_real_tab_enabled=!1,this.choose_crypto_currency_target=null,this.should_show_cancel=!1,this.should_show_same_dob_phone_modal=!1,this.should_show_deposit_now_or_later_modal=!1,this.should_show_crypto_transaction_processing_modal=!1,this.should_show_risk_warning_modal=!1,this.should_show_appropriateness_warning_modal=!1,this.should_show_risk_accept_modal=!1,this.should_show_cooldown_modal=!1,this.should_show_trading_assessment_modal=!1,this.should_show_account_success_modal=!1,this.should_show_one_time_deposit_modal=!1,this.should_show_trade_assessment_form=!1,this.should_trigger_tour_guide=!1,this.is_from_success_deposit_modal=!1,this.is_trading_assessment_for_existing_user_enabled=!1,this.is_trading_assessment_for_new_user_enabled=!1,this.should_show_assessment_complete_modal=!1,this.app_contents_scroll_ref=null,this.is_deriv_account_needed_modal_visible=!1,this.is_redirected_from_email=!1,this.is_wallet_modal_visible=!1,this.is_ready_to_deposit_modal_visible=!1,this.is_need_real_account_for_cashier_modal_visible=!1,this.is_switch_to_deriv_account_modal_visible=!1,this.is_cfd_reset_password_modal_enabled=!1,this.is_mt5_migration_modal_enabled=!1,this.isUrlUnavailableModalVisible=!1,this.sub_section_index=0,this.field_ref_to_focus=null,this.is_tnc_update_modal_open=!1,this.is_complete_user_profile_modal_open=!1,this.getDurationFromUnit=e=>this[`duration_${e}`],this.changeTheme=()=>{this.is_dark_mode_on?(document.body.classList.remove("theme--light"),document.body.classList.add("theme--dark")):(document.body.classList.remove("theme--dark"),document.body.classList.add("theme--light"))},(0,u.makeObservable)(this,{account_needed_modal_props:u.observable,account_switcher_disabled_message:u.observable,has_only_forward_starting_contracts:u.observable,is_ready_to_deposit_modal_visible:u.observable,is_need_real_account_for_cashier_modal_visible:u.observable,is_services_error_visible:u.observable,is_account_signup_modal_visible:u.observable,is_link_expired_modal_visible:u.observable,is_set_residence_modal_visible:u.observable,is_reset_password_modal_visible:u.observable,is_reset_email_modal_visible:u.observable,is_update_email_modal_visible:u.observable,is_reset_trading_password_modal_visible:u.observable,is_cfd_reset_password_modal_enabled:u.observable,sub_section_index:u.observable,is_chart_countdown_visible:u.observable,is_chart_layout_default:u.observable,pwa_prompt_event:u.observable,screen_width:u.observable,screen_height:u.observable,is_onscreen_keyboard_active:u.observable,is_advanced_duration:u.observable,advanced_duration_unit:u.observable,advanced_expiry_type:u.observable,app_contents_scroll_ref:u.observable,choose_crypto_currency_target:u.observable,current_focus:u.observable,deposit_real_account_signup_target:u.observable,duration_d:u.observable,duration_h:u.observable,duration_m:u.observable,duration_s:u.observable,duration_t:u.observable,footer_extensions:u.observable,has_real_account_signup_ended:u.observable,header_extension:u.observable,is_account_needed_modal_on:u.observable,is_account_settings_visible:u.observable,is_forced_to_exit_pnv:u.observable,is_phone_verification_completed:u.observable,is_accounts_switcher_on:u.observable,is_app_disabled:u.observable,is_cashier_visible:u.observable,is_cfd_page:u.observable,is_closing_create_real_account_modal:u.observable,is_dark_mode_on:u.observable,is_deriv_account_needed_modal_visible:u.observable,is_from_signup_account:u.observable,is_redirected_from_email:u.observable,is_wallet_modal_visible:u.observable,is_history_tab_active:u.observable,is_landscape:u.observable,is_language_settings_modal_on:u.observable,is_mf_verification_pending_modal_visible:u.observable,is_trading_disabled_by_residence_modal_visible:u.observable,is_mobile_language_menu_open:u.observable,is_nativepicker_visible:u.observable,is_positions_drawer_on:u.observable,is_real_acc_signup_on:u.observable,is_real_tab_enabled:u.observable,is_reports_visible:u.observable,is_route_modal_on:u.observable,is_set_currency_modal_visible:u.observable,is_settings_modal_on:u.observable,is_switch_to_deriv_account_modal_visible:u.observable,is_top_up_virtual_in_progress:u.observable,is_top_up_virtual_open:u.observable,is_top_up_virtual_success:u.observable,is_trading_assessment_for_existing_user_enabled:u.observable,is_trading_assessment_for_new_user_enabled:u.observable,is_verification_modal_visible:u.observable,is_wallets_onboarding_tour_guide_visible:u.observable,is_verification_submitted:u.observable,is_mt5_migration_modal_open:u.observable,is_mt5_migration_modal_enabled:u.observable,is_tnc_update_modal_open:u.observable,isUrlUnavailableModalVisible:u.observable,is_complete_user_profile_modal_open:u.observable,manage_real_account_tab_index:u.observable,modal_index:u.observable,notification_messages_ui:u.observable,prompt_when:u.observable,promptFn:u.observable,purchase_states:u.observable,real_account_signup_target:u.observable,real_account_signup:u.observable,reports_route_tab_index:u.observable,settings_extension:u.observable,should_show_phone_number_otp:u.observable,should_show_same_dob_phone_modal:u.observable,should_show_deposit_now_or_later_modal:u.observable,should_show_crypto_transaction_processing_modal:u.observable,should_show_appropriateness_warning_modal:u.observable,should_show_assessment_complete_modal:u.observable,should_show_cancel:u.observable,should_show_cancellation_warning:u.observable,should_show_cooldown_modal:u.observable,should_show_account_success_modal:u.observable,should_show_one_time_deposit_modal:u.observable,should_show_real_accounts_list:u.observable,should_show_risk_accept_modal:u.observable,should_show_risk_warning_modal:u.observable,should_show_trade_assessment_form:u.observable,should_show_trading_assessment_modal:u.observable,should_trigger_tour_guide:u.observable,is_from_success_deposit_modal:u.observable,show_positions_toggle:u.observable,simple_duration_unit:u.observable,toasts:u.observable.shallow,addToast:u.action.bound,closeAccountNeededModal:u.action.bound,closeRealAccountSignup:u.action.bound,closeSuccessTopUpModal:u.action.bound,closeTopUpModal:u.action.bound,continueRouteAfterChooseCrypto:u.action.bound,disableApp:u.action.bound,disableRouteModal:u.action.bound,enableApp:u.action.bound,handleResize:u.action.bound,init:u.action.bound,installWithDeferredPrompt:u.action.bound,is_account_switcher_disabled:u.computed,is_desktop:u.computed,is_mobile:u.computed,is_tablet:u.computed,url_hashed_values:u.observable,notifyAppInstall:u.action.bound,onChangeUiStore:u.action.bound,openAccountNeededModal:u.action.bound,openDerivRealAccountNeededModal:u.action.bound,openPositionsDrawer:u.action.bound,openRealAccountSignup:u.action.bound,openSwitchToRealAccountModal:u.action.bound,openTopUpModal:u.action.bound,populateFooterExtensions:u.action.bound,populateHeaderExtensions:u.action.bound,populateSettingsExtensions:u.action.bound,removePWAPromptEvent:u.action.bound,removeToast:u.action.bound,resetPurchaseStates:u.action.bound,resetRealAccountSignupParams:u.action.bound,resetRealAccountSignupTarget:u.action.bound,setShouldShowPhoneNumberOTP:u.action.bound,setAccountSwitcherDisabledMessage:u.action.bound,setAppContentsScrollRef:u.action.bound,setCFDPasswordResetModal:u.action.bound,setChartCountdown:u.action.bound,setChartLayout:u.action.bound,setCurrentFocus:u.action.bound,setDarkMode:u.action.bound,setHasOnlyForwardingContracts:u.action.bound,setHashedValue:u.action.bound,setIsForcedToExitPnv:u.action.bound,setIsPhoneVerificationCompleted:u.action.bound,setIsClosingCreateRealAccountModal:u.action.bound,setIsFromSignupAccount:u.action.bound,setIsNativepickerVisible:u.action.bound,setIsVerificationModalVisible:u.action.bound,setIsVerificationSubmitted:u.action.bound,setReportsTabIndex:u.action.bound,toggleReadyToDepositModal:u.action.bound,toggleNeedRealAccountForCashierModal:u.action.bound,toggleShouldShowRealAccountsList:u.action.bound,shouldNavigateAfterChooseCrypto:u.action.bound,setShouldShowRiskWarningModal:u.action.bound,setRedirectFromEmail:u.action.bound,setIsWalletModalVisible:u.action.bound,setIsRealTabEnabled:u.action.bound,setIsTradingAssessmentForExistingUserEnabled:u.action.bound,setIsTradingAssessmentForNewUserEnabled:u.action.bound,setIsWalletsOnboardingTourGuideVisible:u.action.bound,setManageRealAccountActiveTabIndex:u.action.bound,setModalIndex:u.action.bound,setPromptHandler:u.action.bound,setPurchaseState:u.action.bound,setPWAPromptEvent:u.action.bound,setRealAccountSignupEnd:u.action.bound,setRealAccountSignupParams:u.action.bound,setResetTradingPasswordModalOpen:u.action.bound,setRouteModal:u.action.bound,setShouldShowAppropriatenessWarningModal:u.action.bound,setShouldShowAssessmentCompleteModal:u.action.bound,setShouldShowCancel:u.action.bound,setShouldShowCooldownModal:u.action.bound,setShouldShowOneTimeDepositModal:u.action.bound,setShouldShowTradeAssessmentForm:u.action.bound,setShouldShowTradingAssessmentModal:u.action.bound,setShouldShowWarningModal:u.action.bound,setShouldTriggerTourGuide:u.action.bound,setIsFromSuccessDepositModal:u.action.bound,setSubSectionIndex:u.action.bound,setTopUpInProgress:u.action.bound,setIsMFVericationPendingModal:u.action.bound,setIsTradingDisabledByResidenceModal:u.action.bound,setMT5MigrationModalEnabled:u.action.bound,setMobileLanguageMenuOpen:u.action.bound,toggleAccountsDialog:u.action.bound,toggleAccountSettings:u.action.bound,toggleAccountSignupModal:u.action.bound,toggleCancellationWarning:u.action.bound,toggleCashier:u.action.bound,toggleHistoryTab:u.action.bound,toggleLinkExpiredModal:u.action.bound,toggleOnScreenKeyboard:u.action.bound,togglePositionsDrawer:u.action.bound,toggleReports:u.action.bound,toggleResetEmailModal:u.action.bound,toggleResetPasswordModal:u.action.bound,toggleServicesErrorModal:u.action.bound,toggleSetCurrencyModal:u.action.bound,toggleSetResidenceModal:u.action.bound,toggleSettingsModal:u.action.bound,toggleLanguageSettingsModal:u.action.bound,toggleUpdateEmailModal:u.action.bound,toggleAccountSuccessModal:u.action.bound,toggleMT5MigrationModal:u.action.bound,toggleUrlUnavailableModal:u.action.bound,setShouldShowDepositNowOrLaterModal:u.action.bound,setShouldShowCryptoTransactionProcessingModal:u.action.bound,setShouldShowSameDOBPhoneModal:u.action.bound,setShouldShowCompleteUserProfileModal:u.action.bound,field_ref_to_focus:u.observable,setFieldRefToFocus:u.action.bound,toggleTncUpdateModal:u.action.bound}),window.addEventListener("resize",this.handleResize),(0,u.autorun)((()=>{this.changeTheme()}))}setFieldRefToFocus(e){this.field_ref_to_focus=e}setIsClosingCreateRealAccountModal(e){this.is_closing_create_real_account_modal=e}setIsRealTabEnabled(e){this.is_real_tab_enabled=e}setShouldShowPhoneNumberOTP(e){this.should_show_phone_number_otp=e}async setIsForcedToExitPnv(e){this.is_forced_to_exit_pnv=e}setIsPhoneVerificationCompleted(e){this.is_phone_verification_completed=e}setHashedValue(e){this.url_hashed_values=e}init(e){this.setHashedValue(window.location.hash),this.notification_messages_ui=e}setAppContentsScrollRef(e){this.app_contents_scroll_ref=e}populateFooterExtensions(e){this.footer_extensions=e}populateHeaderExtensions(e){this.header_extension=e}populateSettingsExtensions(e){this.settings_extension=e}onChangeUiStore({name:e,value:t}){if(!(e in this))throw new Error(`Invalid Argument: ${e}`);this[e]=t}handleResize(){this.screen_width=window.innerWidth,this.screen_height=window.innerHeight}setPromptHandler(e,t=()=>{}){this.prompt_when=e,this.promptFn=t}get is_desktop(){return this.screen_width>1279}get is_mobile(){return this.screen_width<=600}get is_tablet(){return 600<this.screen_width&&this.screen_width<=1279}get is_account_switcher_disabled(){return!!this.account_switcher_disabled_message}setRouteModal(){this.is_route_modal_on=!0}disableRouteModal(){this.is_route_modal_on=!1}disableApp(){this.is_app_disabled=!0}enableApp(){this.is_app_disabled=!1}toggleAccountsDialog(e=!this.is_accounts_switcher_on){this.is_accounts_switcher_on=e}setAccountSwitcherDisabledMessage(e){e?(this.is_accounts_switcher_on=!1,this.account_switcher_disabled_message=e):this.account_switcher_disabled_message=""}setIsFromSignupAccount(e){this.is_from_signup_account=e}setPurchaseState(e){this.purchase_states[e]=!0;const t=document.getElementsByClassName("btn-purchase");t[e]&&t[e].classList.add("btn-purchase--swoosh"),setTimeout((()=>{[].forEach.bind(t,(e=>{e.classList.add("btn-purchase--disabled")}))()}),250)}resetPurchaseStates(){this.purchase_states=[!1,!1]}setChartLayout(e){this.is_chart_layout_default=e}setChartCountdown(e){this.is_chart_countdown_visible=e}setDarkMode(e){return this.is_dark_mode_on!==e&&(this.is_dark_mode_on=e,this.root_store.gtm.pushDataLayer({event:"switch theme"})),this.is_dark_mode_on}setMobileLanguageMenuOpen(e){this.is_mobile_language_menu_open=e}toggleSetCurrencyModal(){this.is_set_currency_modal_visible=!this.is_set_currency_modal_visible}toggleCashier(){this.is_cashier_visible=!this.is_cashier_visible}setModalIndex(e=0){this.modal_index=e}toggleSettingsModal(){this.is_settings_modal_on=!this.is_settings_modal_on}toggleLanguageSettingsModal(){var e;null===(e=window.fcWidget)||void 0===e||e.close(),this.is_language_settings_modal_on=!this.is_language_settings_modal_on}openPositionsDrawer(){this.is_positions_drawer_on=!0}openRealAccountSignup(e){const t="maltainvest"===e||"svg"===e,r=this.root_store.client.has_active_real_account;e&&(je&&t&&!r?(e=>{var t;const r=null!==(t=(0,C.getAccountsFromLocalStorage)())&&void 0!==t?t:{};if(!Object.keys(r).length)return;const o={};Object.keys(r).forEach((e=>{const t=r[e];o[e]={token:t.token}}));const n=new Date((new Date).getTime()+6e4);g().set("os_auth_tokens",JSON.stringify(o),{domain:w.Zh.baseDomain,expires:n});const i=new URLSearchParams({action:"real-account-signup",target:e||Oe.MALTAINVEST}),a=Se.PRODUCTION,s=new URL(`${a}/redirect`);s.search=i.toString(),window.location.href=s.toString()})(e):this.is_real_acc_signup_on=!0,this.real_account_signup_target=e,this.is_accounts_switcher_on=!1,localStorage.removeItem("current_question_index"))}setShouldShowCancel(e){this.should_show_cancel=e}resetRealAccountSignupTarget(){this.deposit_real_account_signup_target=this.real_account_signup_target,this.real_account_signup_target=""}setManageRealAccountActiveTabIndex(e){this.manage_real_account_tab_index=e}closeRealAccountSignup(){this.root_store.client.setRealAccountSignupFormData([]),this.root_store.client.setRealAccountSignupFormStep(0),this.is_real_acc_signup_on=!1,this.resetRealAccountSignupTarget(),setTimeout((()=>{this.resetRealAccountSignupParams(),this.setRealAccountSignupEnd(!0)}),300)}openAccountNeededModal(e,t,r){this.is_account_needed_modal_on=!0,this.account_needed_modal_props={target:e,target_label:t,target_dmt5_label:r}}closeAccountNeededModal(){this.is_account_needed_modal_on=!1,this.account_needed_modal_props={target:"",target_label:"",target_dmt5_label:""}}togglePositionsDrawer(){this.is_positions_drawer_on=!this.is_positions_drawer_on}toggleAccountSettings(e){this.is_account_settings_visible=e}toggleReports(e){this.is_reports_visible=e}toggleServicesErrorModal(e){this.is_services_error_visible=e}removePWAPromptEvent(){this.pwa_prompt_event=null}setPWAPromptEvent(e){this.pwa_prompt_event=e}setHasOnlyForwardingContracts(e){this.has_only_forward_starting_contracts=e}toggleAccountSignupModal(e=!this.is_account_signup_modal_visible){this.is_account_signup_modal_visible=e}toggleSetResidenceModal(e=!this.is_set_residence_modal_visible){this.is_set_residence_modal_visible=e}toggleCancellationWarning(e=!this.should_show_cancellation_warning){this.should_show_cancellation_warning=e}toggleHistoryTab(e=!this.is_history_tab_active){this.is_history_tab_active=e}setTopUpInProgress(e){this.is_top_up_virtual_in_progress=e}closeTopUpModal(){this.is_top_up_virtual_open=!1}openTopUpModal(){this.is_top_up_virtual_open=!0}closeSuccessTopUpModal(){this.is_top_up_virtual_success=!1}toggleResetPasswordModal(e=!this.is_reset_password_modal_visible){this.is_reset_password_modal_visible=e}toggleLinkExpiredModal(e=!this.is_link_expired_modal_visible){this.is_link_expired_modal_visible=e}toggleResetEmailModal(e=!this.is_reset_email_modal_visible){e||this.root_store.client.setPreventRedirectToHub(!1),this.is_reset_email_modal_visible=e}toggleUpdateEmailModal(e=!this.is_update_email_modal_visible){this.is_update_email_modal_visible=e}setResetTradingPasswordModalOpen(e){e||this.root_store.client.setPreventRedirectToHub(!1),this.is_reset_trading_password_modal_visible=e}setRealAccountSignupParams(e){this.real_account_signup=ke(ke({},this.real_account_signup),e)}setRealAccountSignupEnd(e){this.has_real_account_signup_ended=e}resetRealAccountSignupParams(){this.real_account_signup={active_modal_index:-1,previous_currency:"",current_currency:"",success_message:"",error_message:""}}toggleOnScreenKeyboard(){this.is_onscreen_keyboard_active=null!==this.current_focus&&this.is_mobile&&(0,i.isTouchDevice)()}setCurrentFocus(e){this.current_focus=e,this.toggleOnScreenKeyboard()}addToast(e){var t,r;e.key=null!==(t=e.key)&&void 0!==t?t:e.content;const o=this.toasts.findIndex((t=>t.key===e.key));o>-1&&this.toasts.splice(o,1),e.timeout=null!==(r=e.timeout)&&void 0!==r?r:this.mobile_toast_timeout,e.is_bottom?this.toasts.push(e):this.toasts.unshift(e)}removeToast(e){const t=this.toasts.findIndex((t=>t.key===e));t>-1&&this.toasts.splice(t,1)}setIsNativepickerVisible(e){this.is_nativepicker_visible=e}setReportsTabIndex(e=0){this.reports_route_tab_index=e}notifyAppInstall(e){this.deferred_prompt=e,setTimeout((()=>{this.root_store.notifications.addNotificationMessageByKey("install_pwa")}),1e4)}async installWithDeferredPrompt(){this.deferred_prompt.prompt();if("accepted"===(await this.deferred_prompt.userChoice).outcome){const e="install_pwa";this.root_store.notifications.removeNotificationMessage({key:e,should_show_again:!1}),this.root_store.notifications.removeNotificationByKey({key:e})}}toggleShouldShowRealAccountsList(e){this.should_show_real_accounts_list=e}shouldNavigateAfterChooseCrypto(e){this.choose_crypto_currency_target=e}continueRouteAfterChooseCrypto(){this.root_store.common.routeTo(this.choose_crypto_currency_target),this.choose_crypto_currency_target===i.routes.cashier_deposit&&this.root_store.modules.cashier.general_store.setIsDeposit(!0)}openDerivRealAccountNeededModal(){this.is_deriv_account_needed_modal_visible=!this.is_deriv_account_needed_modal_visible}setRedirectFromEmail(e){this.is_redirected_from_email=e}setIsWalletModalVisible(e){this.is_wallet_modal_visible=e}setShouldShowRiskWarningModal(e){this.should_show_risk_warning_modal=e}setIsTradingAssessmentForExistingUserEnabled(e){this.is_trading_assessment_for_existing_user_enabled=e}setIsTradingAssessmentForNewUserEnabled(e){this.is_trading_assessment_for_new_user_enabled=e}setShouldShowAppropriatenessWarningModal(e){this.should_show_appropriateness_warning_modal=e}setShouldShowWarningModal(e){this.should_show_risk_accept_modal=e}setShouldShowAssessmentCompleteModal(e){this.should_show_assessment_complete_modal=e}setShouldShowCooldownModal(e){this.should_show_cooldown_modal=e}setShouldShowTradingAssessmentModal(e){this.should_show_trading_assessment_modal=e}setShouldShowTradeAssessmentForm(e){this.should_show_trade_assessment_form=e}openSwitchToRealAccountModal(){this.is_switch_to_deriv_account_modal_visible=!this.is_switch_to_deriv_account_modal_visible}toggleReadyToDepositModal(){this.is_ready_to_deposit_modal_visible=!this.is_ready_to_deposit_modal_visible}toggleNeedRealAccountForCashierModal(){this.is_need_real_account_for_cashier_modal_visible=!this.is_need_real_account_for_cashier_modal_visible}setCFDPasswordResetModal(e){this.is_cfd_reset_password_modal_enabled=!!e}setSubSectionIndex(e){this.sub_section_index=e}setIsVerificationModalVisible(e){this.is_verification_modal_visible=e}setIsVerificationSubmitted(e){this.is_verification_submitted=e}setShouldShowOneTimeDepositModal(e){this.should_show_one_time_deposit_modal=e}toggleAccountSuccessModal(){this.should_show_account_success_modal=!this.should_show_account_success_modal}setShouldTriggerTourGuide(e){this.should_trigger_tour_guide=e}setIsFromSuccessDepositModal(e){this.is_from_success_deposit_modal=e}setIsWalletsOnboardingTourGuideVisible(e){this.is_wallets_onboarding_tour_guide_visible=e}setIsMFVericationPendingModal(e){this.is_mf_verification_pending_modal_visible=e}setIsTradingDisabledByResidenceModal(e){this.is_trading_disabled_by_residence_modal_visible=e}setMT5MigrationModalEnabled(e){this.is_mt5_migration_modal_enabled=e}toggleMT5MigrationModal(e){this.is_mt5_migration_modal_open=e}toggleUrlUnavailableModal(e){this.isUrlUnavailableModalVisible=e}setShouldShowDepositNowOrLaterModal(e){this.should_show_deposit_now_or_later_modal=e}setShouldShowCryptoTransactionProcessingModal(e){this.should_show_crypto_transaction_processing_modal=e}setShouldShowSameDOBPhoneModal(e){this.should_show_same_dob_phone_modal=e}toggleTncUpdateModal(e){this.is_tnc_update_modal_open=e}setShouldShowCompleteUserProfileModal(e){this.is_complete_user_profile_modal_open=e}}class Ne extends P{constructor(){super(),this.active_symbols=[],(0,u.makeObservable)(this,{active_symbols:u.observable,setActiveSymbols:u.action.bound})}async setActiveSymbols(){const{active_symbols:e,error:t}=await i.WS.authorized.activeSymbols();(0,u.runInAction)((()=>{e.length&&!t?this.active_symbols=e:this.active_symbols=[]}))}}var Le=r(122328),Ie=r.n(Le),Be=r(76005);function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ze(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ue extends P{constructor(e){super(e),this.positions=[],this.all_positions=[],this.positions_map={},this.is_loading=!0,this.error="",this.addNotificationBannerCallback=void 0,this.sell_notifications=[],this.open_accu_contract=null,this.barriers=[],this.main_barrier=null,this.contract_type="",this.responseQueue=[],this.active_positions=[],this.getPositionById=(0,Be.iB)((e=>this.positions.find((t=>+t.id==+e)))),this.deepClone=e=>JSON.parse(JSON.stringify(e)),this.proposalOpenContractQueueHandler=e=>{this.responseQueue.push(e),this.throttledUpdatePositions()},this.populateResultDetailsFromTransaction=e=>{const t=e.transaction,{contract_id:r,amount:o}=t,n=this.getPositionIndexById(r),i=this.positions[n];if(!i)return;const a=Me(Me({},i.contract_info),{},{is_sold:1,is_expired:1,status:"complete"});i.contract_info=a,i.is_valid_to_sell=!1,i.result=o>a.buy_price?"won":"lost",i.status="complete",i.is_sold=1,i.is_loading=!1,a.exit_tick_time=a.date_expiry,a.sell_price=String(o),a.profit=o-a.buy_price,this.updatePositions()},this.populateResultDetails=e=>{const t=e.proposal_open_contract,r=this.getPositionIndexById(t.contract_id);if(this.positions[r]&&(this.positions[r].contract_info=t,this.positions[r].duration=(0,i.getDurationTime)(t),this.positions[r].duration_unit=(0,i.getDurationUnitText)((0,i.getDurationPeriod)(t)),this.positions[r].exit_spot=t.exit_tick||t.current_spot,this.positions[r].is_valid_to_sell=(0,i.isValidToSell)(t),this.positions[r].result=(0,i.getDisplayStatus)(t),this.positions[r].profit_loss=+t.profit,this.positions[r].sell_time=(0,i.getEndTime)(t)||t.current_spot_time,this.positions[r].sell_price=t.sell_price,this.positions[r].status="complete",this.positions[r].contract_info.barrier&&this.positions[r].contract_info.entry_spot||(this.positions[r].contract_info.barrier=this.positions[r].barrier,this.positions[r].contract_info.entry_spot=this.positions[r].entry_spot),this.positions[r].is_loading=!1,this.root_store.ui.is_mobile&&(0,i.getEndTime)(t))){var o;const e=this.positions[r].contract_info;window.location.pathname===i.routes.trade&&this.root_store.notifications.addTradeNotification(e);const{contract_id:t,contract_type:n,currency:a,profit:s,shortcode:c,status:l}=e,u=`${t}_${l}`;if(this.sell_notifications.some((({id:e})=>e===u)))return;this.sell_notifications.push({id:u});const d=(0,i.isMultiplierContract)(n)&&!isNaN(s)?(0,i.getTotalProfit)(e):s,_="won"===l||d>=0,p=`${_?(0,y.localize)("Profit"):(0,y.localize)("Loss")}: ${_?"+":""}${(0,i.formatMoney)(a,d,!0,0,0)} ${a}`;null===(o=this.addNotificationBannerCallback)||void 0===o||o.call(this,{message:(0,i.getTradeNotificationMessage)(c),redirectTo:(0,i.getContractPath)(t),title:p,type:_?"success":"error"},_?"success":"error")}},this.updatePositions=()=>{this.responseQueue.forEach((e=>this.proposalOpenContractHandler(e))),this.responseQueue=[],this.setActivePositions()},this.throttledUpdatePositions=Ie()(this.updatePositions,500),(0,u.makeObservable)(this,{positions:u.observable.shallow,all_positions:u.observable.shallow,is_loading:u.observable,error:u.observable,barriers:u.observable,main_barrier:u.observable,contract_type:u.observable,active_positions:u.observable.struct,initializePortfolio:u.action.bound,clearTable:u.action.bound,portfolioHandler:u.action.bound,onBuyResponse:u.action.bound,transactionHandler:u.action.bound,proposalOpenContractHandler:u.action.bound,open_accu_contract:u.observable,onClickCancel:u.action.bound,onClickSell:u.action.bound,handleSell:u.action.bound,populateResultDetailsFromTransaction:u.action.bound,populateResultDetails:u.action.bound,populateContractUpdate:u.action.bound,pushNewPosition:u.action.bound,removePositionById:u.action.bound,onHoverPosition:u.action.bound,logoutListener:u.action.bound,networkStatusChangeListener:u.action.bound,onMount:u.action.bound,onUnmount:u.override,totals:u.computed,setActivePositions:u.action.bound,setAddNotificationBannerCallback:u.action.bound,sell_notifications:u.observable,is_active_empty:u.computed,active_positions_count:u.computed,is_empty:u.computed,setPurchaseSpotBarrier:u.action,updateLimitOrderBarriers:u.action,setContractType:u.action,is_accumulator:u.computed,is_multiplier:u.computed,is_turbos:u.computed}),this.root_store=e}async initializePortfolio(){this.has_subscribed_to_poc_and_transaction&&this.clearTable(),this.is_loading=!0,await i.WS.wait("authorize"),i.WS.portfolio().then(this.portfolioHandler),i.WS.subscribeProposalOpenContract(null,this.proposalOpenContractQueueHandler),i.WS.subscribeTransaction(this.transactionHandler),this.has_subscribed_to_poc_and_transaction=!0}clearTable(){this.positions=[],this.positions_map={},this.is_loading=!1,this.error="",this.updatePositions(),this.has_subscribed_to_poc_and_transaction&&i.WS.forgetAll("proposal_open_contract","transaction"),this.has_subscribed_to_poc_and_transaction=!1}setAddNotificationBannerCallback(e){this.addNotificationBannerCallback=e}portfolioHandler(e){this.is_loading=!1,"error"in e?this.error=e.error.message:(this.error="",e.portfolio.contracts&&(this.positions=e.portfolio.contracts.filter(i.filterDisabledPositions).map((e=>(0,i.formatPortfolioPosition)(e,this.root_store.active_symbols.active_symbols))).sort(((e,t)=>t.reference-e.reference)),this.positions.forEach((e=>{this.positions_map[e.id]=e})),this.updatePositions()))}onBuyResponse({contract_id:e,longcode:t,contract_type:r}){const o={contract_id:e,longcode:t,contract_type:r};this.pushNewPosition(o)}async transactionHandler(e){if("error"in e&&(this.error=e.error.message),!e.transaction)return;const{contract_id:t,action:r,longcode:o}=e.transaction;if("buy"===r)this.onBuyResponse({contract_id:t,longcode:o,contract_type:""});else if("sell"===r){const r=this.getPositionIndexById(t);if(!this.positions[r])return;this.positions[r].is_loading=!0;const o=i.WS.subscribeProposalOpenContract(t,(t=>{t.error?this.populateResultDetailsFromTransaction(e):(this.updateContractTradeStore(t),this.updateContractReplayStore(t),this.populateResultDetails(t)),o.unsubscribe()}))}}updateContractTradeStore(e){const t=this.root_store.contract_trade,r=!(0,i.isEmptyObject)(e.proposal_open_contract),o=!!e.error;(r||o)&&r&&(t.addContract(this.deepClone(e.proposal_open_contract)),t.updateProposal(this.deepClone(e)))}updateContractReplayStore(e){var t;const r=this.root_store.contract_replay;r.contract_id===(null===(t=e.proposal_open_contract)||void 0===t?void 0:t.contract_id)&&r.populateConfig(e)}updateTradeStore(e,t,r){r||this.setPurchaseSpotBarrier(e,t),this.updateLimitOrderBarriers(e,t)}proposalOpenContractHandler(e){if("error"in e)return this.updateContractTradeStore(e),void this.updateContractReplayStore(e);const t=e.proposal_open_contract,r=this.positions_map[t.contract_id];if(!r)return;this.updateContractTradeStore(e),this.updateContractReplayStore(e);const o=(0,i.formatPortfolioPosition)(t,this.root_store.active_symbols.active_symbols,r.indicative);Object.assign(r,o);const n=r.indicative,a=+t.bid_price,s=+t.profit;if(Object.entries(t).forEach((([e,t])=>{"barrier"!==e&&"high_barrier"!==e&&"low_barrier"!==e&&"entry_spot"!==e||(r[e]=+t)})),r.indicative=a,r.profit_loss=s,r.is_valid_to_sell=(0,i.isValidToSell)(t),r.contract_info=t,t.tick_count){const e=r.current_tick>(0,i.getCurrentTick)(t)?r.current_tick:(0,i.getCurrentTick)(t);r.current_tick=e}r.status=a>n?"profit":a<n?"loss":null,this.hovered_position_id===r.id&&(1===r.contract_info.is_sold?this.updateTradeStore(!1,r):this.updateTradeStore(!0,r,!0)),1===r.contract_info.is_sold&&this.populateResultDetails(e)}onClickCancel(e){const t=this.getPositionIndexById(e);this.positions[t].is_sell_requested||(this.positions[t].is_sell_requested=!0,e&&i.WS.cancelContract(e).then((e=>{e.error?this.root_store.common.setServicesError(Me({type:e.msg_type},e.error),(0,i.isDtraderV2MobileEnabled)(this.root_store.ui.is_mobile)||(0,i.isDtraderV2DesktopEnabled)(this.root_store.ui.is_desktop)):window.location.pathname===i.routes.trade&&this.root_store.ui.is_mobile||this.root_store.notifications.addNotificationMessage((0,i.contractCancelled)())})))}onClickSell(e){const t=this.getPositionIndexById(e);if(this.positions[t].is_sell_requested)return;const{bid_price:r}=this.positions[t].contract_info;this.positions[t].is_sell_requested=!0,e&&"number"==typeof r&&i.WS.sell(e,r).then(this.handleSell)}handleSell(e){if(e.error){const t=this.getPositionIndexById(e.echo_req.sell);this.positions[t].is_sell_requested=!1,"InvalidToken"!==e.error.code&&this.root_store.common.setServicesError(Me({type:e.msg_type},e.error),(0,i.isDtraderV2MobileEnabled)(this.root_store.ui.is_mobile)||(0,i.isDtraderV2DesktopEnabled)(this.root_store.ui.is_desktop))}else!e.error&&e.sell&&(this.root_store.contract_trade.sell_info={sell_price:e.sell.sold_for,transaction_id:e.sell.transaction_id},this.root_store.contract_trade.clearAccumulatorBarriersData(!1,!0),window.location.pathname===i.routes.trade&&this.root_store.ui.is_mobile||this.root_store.notifications.addNotificationMessage((0,i.contractSold)(this.root_store.client.currency,e.sell.sold_for,le.Money)),D.Analytics.trackEvent("ce_reports_form",{action:"close_contract",form_name:"default",subform_name:"open_positions_form"}))}populateContractUpdate({contract_update:e},t){const r=this.getPositionById(t);r&&(Object.assign(r.contract_update||{},e),this.updatePositions())}pushNewPosition(e){const t=(0,i.formatPortfolioPosition)(e,this.root_store.active_symbols.active_symbols);this.positions_map[t.id]||(this.positions.unshift(t),this.positions_map[t.id]=t,this.updatePositions())}removePositionById(e){const t=this.getPositionIndexById(e);this.positions.splice(t,1),delete this.positions_map[e],this.updatePositions(),this.root_store.contract_trade.removeContract({contract_id:e})}async accountSwitcherListener(){return await this.initializePortfolio(),Promise.resolve()}onHoverPosition(e,t,r){t.contract_info.underlying===r&&!(0,i.isEnded)(t.contract_info)&&(0,i.isMultiplierContract)(t.type)&&(this.hovered_position_id=e?t.id:null,this.updateTradeStore(e,t))}preSwitchAccountListener(){return this.clearTable(),Promise.resolve()}logoutListener(){return this.clearTable(),Promise.resolve()}networkStatusChangeListener(e){this.is_loading=this.is_loading||!e}onMount(){this.onPreSwitchAccount(this.preSwitchAccountListener),this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),this.onLogout(this.logoutListener),0!==this.positions.length||this.has_subscribed_to_poc_and_transaction||(this.root_store.client.is_logged_in?this.initializePortfolio():(0,u.reaction)((()=>this.root_store.client.is_logged_in),(()=>{this.root_store.client.is_logged_in&&this.initializePortfolio()})))}onUnmount(){/^\/reports/.test(window.location.pathname)||(this.clearTable(),this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout())}getPositionIndexById(e){return this.positions.findIndex((t=>+t.id==+e))}get totals(){let e=0,t=0,r=0;return this.positions.forEach((o=>{e+=+o.indicative,t+=+o.payout,r+=+o.purchase})),{indicative:e,payout:t,purchase:r}}setActivePositions(){this.active_positions=this.positions.filter((e=>!(0,i.getEndTime)(e.contract_info))),this.all_positions=[...this.positions],this.open_accu_contract=this.active_positions.find((({type:e})=>(0,i.isAccumulatorContract)(e)))}get is_active_empty(){return!this.is_loading&&0===this.active_positions.length}get active_positions_count(){return this.active_positions.length||0}get is_empty(){return!this.is_loading&&0===this.all_positions.length}setPurchaseSpotBarrier(e,t){const r="PURCHASE_SPOT_BARRIER";if(!e)return void(0,i.removeBarrier)(this.barriers,r);let o=this.barriers.find((e=>e.key===r));o?o.high!==+t.contract_info.entry_spot&&o.onChange({high:t.contract_info.entry_spot}):(o=new i.ChartBarrierStore(t.contract_info.entry_spot),o.key=r,o.draggable=!1,o.hideOffscreenBarrier=!0,o.isSingleBarrier=!0,this.barriers.push(o))}updateLimitOrderBarriers(e,t){const r=t.contract_info,{barriers:o}=this;(0,i.setLimitOrderBarriers)({barriers:o,contract_info:r,contract_type:r.contract_type,is_over:e})}setContractType(e){this.contract_type=e}get is_accumulator(){return this.contract_type===i.TRADE_TYPES.ACCUMULATOR}get is_multiplier(){return this.contract_type===i.TRADE_TYPES.MULTIPLIER}get is_turbos(){return this.contract_type===i.TRADE_TYPES.TURBOS.LONG||this.contract_type===i.TRADE_TYPES.TURBOS.SHORT}}const We=[[1,0],[2,120],[6,600],[24,900],[120,3600],[720,14400]],$e=e=>e||q().get().unix(),Ve=(e,t)=>v().duration(v().unix($e(t)).diff(v().unix(e))).asHours()<=1?"line":"candles",He=(e,t)=>Ge($e(t)-e),Ge=e=>(We.find((t=>e<=3600*t[0]))||[null,86400])[1];var Ye=r(103771),Ke=r.n(Ye),qe=r(255530),Je=r.n(qe),Ze=r(500309),Xe=r(597598),Qe=r.n(Xe);const et=({label:e,line_style:t,marker_config:r,status:o})=>r?(0,ye.jsxs)("div",{className:Je()("chart-marker-line__wrapper",`chart-marker-line--${t}`),children:[e===r.LINE_END.content_config.label&&(0,ye.jsx)(le.Icon,{icon:"IcContractExitTimeCircle",className:"chart-marker-line__icon",color:"lost"===o?"red":"green",custom_color:"lost"===o?i.BARRIER_COLORS.RED:i.BARRIER_COLORS.GREEN,size:24}),e===r.LINE_START.content_config.label&&(0,ye.jsx)(le.Icon,{icon:"IcContractStartTimeCircle",className:"chart-marker-line__icon chart-marker-line__icon--time",color:"secondary",size:24}),e===r.LINE_RESET.content_config.label&&(0,ye.jsx)(le.Icon,{icon:"IcContractResetTimeCircle",className:"chart-marker-line__icon chart-marker-line__icon--time",color:"secondary",size:24})]}):(0,ye.jsx)("div",{});et.propTypes={label:Qe().string,line_style:Qe().string,marker_config:Qe().object,status:Qe().oneOf(["won","lost"])};const tt=(0,Ze.observer)(et),rt=({className:e,spot_count:t})=>(0,ye.jsx)("div",{className:Je()("chart-spot",e),children:t});rt.propTypes={className:Qe().string,spot_count:Qe().oneOfType([Qe().number,Qe().string])};const ot=(0,Ze.observer)(rt),nt=({align_label:e,has_hover_toggle:t,is_value_hidden:r,spot_className:o,spot_count:a,spot_epoch:s,spot_value:c,spot_profit:l,status:u})=>{const[d,_]=n.useState(!t),p=()=>{_(!d)};let h=(0,ye.jsx)(ot,{className:o,spot_count:a});return t&&(h=(0,ye.jsx)("div",{"data-testid":"dt_marker_hover_container",className:"marker-hover-container",onMouseEnter:p,onMouseLeave:p,children:h})),(0,ye.jsxs)(n.Fragment,{children:[(0,ye.jsxs)("div",{className:"chart-spot-label",children:[d&&!r&&(0,ye.jsx)("div",{className:"chart-spot-label__info-container",children:(0,ye.jsxs)("div",{"data-testid":"dt_time_value_container",className:`chart-spot-label__time-value-container chart-spot-label__time-value-container--${e}`,children:[s&&(0,ye.jsxs)("div",{className:"chart-spot-label__time-container",children:[(0,ye.jsx)(le.Icon,{icon:"IcClockOutline",height:10,width:10,className:"chart-spot-label__time-icon"}),(0,ye.jsx)(le.Text,{as:"p",color:"prominent",size:"xxxs",children:(0,i.toMoment)(+s).format("HH:mm:ss")})]}),(0,ye.jsx)("div",{"data-testid":"dt_value_container",className:Je()("chart-spot-label__value-container",{"chart-spot-label__value-container--won":"won"===u,"chart-spot-label__value-container--lost":"lost"===u}),children:(0,ye.jsx)("p",{children:(0,i.addComma)(c)})})]})}),h]}),l&&(0,ye.jsx)("div",{className:Je()("chart-spot-label-profit",{"chart-spot-label-profit--won":"won"===u,"chart-spot-label-profit--lost":"lost"===u}),children:(0,ye.jsxs)("div",{className:Je()("chart-spot-label__value-container",{"chart-spot-label__value-container--won":"won"===u,"chart-spot-label__value-container--lost":"lost"===u}),children:[(0,ye.jsx)(le.Text,{as:"p",size:"xxs",children:(0,y.localize)("Total profit/loss:")}),(0,ye.jsx)(le.Text,{as:"p",size:"xs",children:`${parseFloat(l)>0?"+":""}${l}`})]})})]})};nt.defaultProps={align_label:"top",is_value_hidden:!1},nt.propTypes={align_label:Qe().oneOf(["top","middle","bottom"]),has_hover_toggle:Qe().bool,is_value_hidden:Qe().bool,spot_className:Qe().string,spot_count:Qe().oneOfType([Qe().number,Qe().string]),spot_epoch:Qe().oneOfType([Qe().number,Qe().string]),spot_value:Qe().oneOfType([Qe().number,Qe().string]),spot_profit:Qe().string,status:Qe().oneOf(["won","lost",""])};const it=(0,Ze.observer)(nt);function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){ct(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ct(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const lt={ContentComponent:tt,className:"chart-marker-line"},ut={LINE_END:{type:"LINE_END",marker_config:st({},lt),content_config:{line_style:"dash",label:(0,y.localize)("End Time")}},LINE_PURCHASE:{type:"LINE_PURCHASE",marker_config:st({},lt),content_config:{line_style:"solid",label:(0,y.localize)("Purchase Time")}},LINE_START:{type:"LINE_START",marker_config:st({},lt),content_config:{line_style:"solid",label:(0,y.localize)("Start Time")}},LINE_RESET:{type:"LINE_RESET",marker_config:st({},lt),content_config:{line_style:"dash",label:(0,y.localize)("Reset Time")}},SPOT_ENTRY:{type:"SPOT_ENTRY",marker_config:{ContentComponent:ot},content_config:{className:"chart-spot__entry"}},SPOT_SELL:{type:"SPOT_SELL",marker_config:{ContentComponent:ot},content_config:{className:"chart-spot__sell"}},SPOT_EXIT:{type:"SPOT_EXIT",marker_config:{ContentComponent:it},content_config:{spot_className:"chart-spot__spot"}},SPOT_EXIT_2:{type:"SPOT_EXIT_2",marker_config:{ContentComponent:ot},content_config:{className:"chart-spot__spot"}},SPOT_MIDDLE:{type:"SPOT_MIDDLE",marker_config:{ContentComponent:it},content_config:{spot_className:"chart-spot__spot"}}},dt=(e,t,r,o)=>Ke()(!0,{},ut[e],{marker_config:{x:+t,y:r},content_config:o}),_t=(e,t)=>(0,i.isDigitContract)(e.contract_type)||(0,i.isTicksContract)(e.contract_type)&&t+1===e.selected_tick?t+1:(0,i.isAccumulatorContract)(e.contract_type)||(0,i.isSmartTraderContract)(e.contract_type)?null:t,pt=e=>{if(!e.entry_tick_time)return!1;const t=e.entry_tick_display_value,r=(0,i.isDigitContract)(e.contract_type)||(0,i.isTicksContract)(e.contract_type),o=ut.SPOT_ENTRY.type;let n={};return r&&(n={spot_value:`${t}`,spot_epoch:`${e.entry_tick_time}`,spot_count:1}),dt(o,e.entry_tick_time,t,n)},ht=(e,t,r)=>{if(!e.exit_tick_time)return!1;const o=(0,i.isTicksContract)(e.contract_type);let n,a;t&&(n=_t(e,r),a=t.align_label);const s=e.exit_tick_display_value,c=o&&r+1!==e.selected_tick,l=(0,i.isVanillaContract)(e.contract_type)&&(0,i.isDesktop)(),u=c?ut.SPOT_EXIT_2.type:ut.SPOT_EXIT.type,d={spot_value:`${s}`,spot_epoch:`${e.exit_tick_time}`,status:""+(+e.profit>=0?"won":"lost"),align_label:l?"middle":a,spot_count:c?e.tick_stream.length:n,spot_profit:l?`${(0,i.formatMoney)(e.currency,e.profit,!0)} ${e.currency}`:""};return dt(u,+e.exit_tick_time,+s,d)},mt=(e,t,r)=>{const o=(0,i.isAccumulatorContract)(e.contract_type),n=(0,i.isTicksContract)(e.contract_type),a=_t(e,r),s=t.tick_display_value,c=o?"":`${t.epoch}`,l=dt(ut.SPOT_MIDDLE.type,+t.epoch,+s,{spot_value:`${s}`,spot_epoch:c,align_label:t.align_label,is_value_hidden:o||n&&r+1!==e.selected_tick,spot_count:a,status:`${n?e.status:""}`});return l.type=`${l.type}_${r}`,(0,i.isMobile)()&&a>1&&!n?null:l},ft=(e,t)=>{const{tick_stream:r}=e,o=(0,i.isAccumulatorContractOpen)(e)&&10===r.length;let n=[];if(e){const r=(0,i.getEndTime)(e),a=Ve(e.date_start,r);if(e.tick_count){const r=yt(e,t);n.push(...r)}else if("candles"!==a){const t=Object.keys(gt).map((t=>gt[t](e)));n.push(...t)}if(!o){const t=Object.keys(bt).map((t=>bt[t](e)));n.push(...t)}n=n.filter((e=>!!e))}return n.forEach((t=>{const r=e.contract_id;t.react_key=`${r}-${t.type}`})),n},gt={[ut.SPOT_ENTRY.type]:pt,[ut.SPOT_EXIT.type]:ht},bt={[ut.LINE_START.type]:e=>!!e.date_start&&dt(ut.LINE_START.type,+e.date_start,null,{marker_config:ut}),[ut.LINE_RESET.type]:e=>!!e.reset_time&&dt(ut.LINE_RESET.type,+e.reset_time,null,{marker_config:ut}),[ut.LINE_END.type]:e=>{const t=(0,i.getEndTime)(e);return!!t&&dt(ut.LINE_END.type,+t,null,{status:""+(e.profit>=0?"won":"lost"),marker_config:ut})},[ut.LINE_PURCHASE.type]:e=>!(!e.purchase_time||!e.date_start||+e.purchase_time==+e.date_start)&&dt(ut.LINE_PURCHASE.type,+e.purchase_time)},vt=(e,t,r)=>{if(t>0&&r.length){const o=r[t-1];+e>+o.tick&&(e.align_label="top"),+e.tick<+o.tick&&(e.align_label="bottom"),+e.tick==+o.tick&&(e.align_label=o.align_label)}return e},yt=(e,t)=>{var r;const o=(0,i.isAccumulatorContract)(e.contract_type),n=(0,i.isSmartTraderContract)(e.contract_type),a=(0,i.isTicksContract)(e.contract_type),s=o&&!(0,i.isOpen)(e),c=o&&(null===(r=e.audit_details)||void 0===r?void 0:r.all_ticks)||e.tick_stream,l=(0,i.unique)(c,"epoch").map(vt),u=[];if(s){const{exit_tick_time:t,tick_stream:r}=e||{};t&&l.every((({epoch:e})=>e!==t))&&l.push(r[r.length-1]);const o=l.findIndex((({epoch:e})=>e===t))+1;l.length=o>0?o:l.length}return l.forEach(((r,i)=>{const c=t=>+t.epoch===e.entry_tick_time,d=+r.epoch!==e.exit_tick_time&&(o?c(r):0===i),_=i>(o?l.findIndex(c):0)&&+r.epoch!=+e.exit_tick_time,p=a&&i+1===e.selected_tick,h=(t,r)=>+t.epoch==+e.exit_tick_time||_t(e,r)===e.tick_count,m=h(r,i),f=i===l.length-1,g=l.findIndex(h),b=o&&!m&&f,v=o&&(s?i===g-1:i===l.length-2);let y;d?y=pt(e):_?y=mt(e,r,i):m&&!b&&(r.align_label="top",y=ht(e,r,i)),p&&n&&(y=mt(e,r,i));const D=y&&y.content_config.spot_className;if(n&&_&&!p&&(y&&(y.content_config.spot_className=`${D} ${D}--smarttrader-contract-middle`),f||(y.content_config.is_value_hidden=!0)),p&&(y.content_config.spot_className=`${D} chart-spot__spot--${e.status}`),o){if((b||m)&&!s)return;if(y&&(_||m)){const e=v&&(!t||s),r=y.content_config.spot_className;y.content_config.spot_className=`${r} ${r}--accumulator${m?"-exit":"-middle"+(e?"--preexit":"")}`}}y&&u.push(y)})),u},Dt={bg:"#181c25",fg:"#ffffff",grey_border:"#6e6e6e",lost:"#e6190e",open:"#2c9aff",sold:"#ffad3a",won:"#008832"},wt={bg:"#ffffff",fg:"#333333",grey_border:"#999999",lost:"#ec3f3f",open:"#2c9aff",sold:"#ffad3a",won:"#008832"};function Ct({status:e,profit:t,is_dark_theme:r,is_vanilla:o}){const n=r?Dt:wt;let i=n[e||"open"];return o?"open"===e?n.open:n[t>0?"won":"lost"]:("open"===e&&t&&(i=n[t>0?"won":"lost"]),i)}const At={AUD:"A$",EUR:"€",GBP:"£",JPY:"¥",USD:"$",BTC:"₿",BCH:"",ETH:"E",ETC:"",LTC:"Ł",UST:"₮"},xt=e=>{const{tick_count:t,contract_type:r}=e;return(0,i.isAccumulatorContract)(r)?"AccumulatorContract":(0,i.isDigitContract)(r)?"DigitContract":t>0?"TickContract":"NonTickContract"},Et=e=>{const{barrier:t,contract_type:r,currency:o,is_sold:n,profit:a,tick_count:s,tick_stream:c}=e,l=!s;if(!n&&!(0,i.isAccumulatorContract)(r)){if(l){if(!a||!t)return;const e=At[o]||"",r=(0,i.getDecimalPlaces)(o);return`${a<0?"-":a>0?"+":" "}${e}${Math.abs(a).toFixed(r)}`}return`${Math.max(c.length-1,0)}/${s}`}};function jt(e,t,r){if(!e||(0,i.isMultiplierContract)(e.contract_type))return null;const{transaction_ids:o,tick_stream:n,date_start:a,date_expiry:s,entry_tick:c,exit_tick:l,entry_tick_time:u,exit_tick_time:d,contract_type:_,tick_count:p,barrier_count:h,barrier:m,high_barrier:f,low_barrier:g,shortcode:b,status:v,profit:D,is_sold:w}=e,C=(0,i.isAccumulatorContract)(_),A=(0,i.isDigitContract)(_),x=p>0,E=!x,j=(0,i.isHighLow)({shortcode:b}),O=(0,i.isTouchContract)(_),S=(0,i.isTurbosContract)(_),F=x?d:(0,i.getEndTime)(e)||s;let k;if(A||C?k=+c:1==+h&&m?k=+m:2==+h&&f&&g&&(k=+f),!a)return null;if(!o)return{type:xt(e),markers:[]};const P=[],T=k||0;if(r&&!w&&P.push({epoch:a,quote:A?void 0:T,type:"activeStart",text:`${(0,y.localize)("Start")}\n${(0,y.localize)("Time")}`}),a&&c){const t=E?Ct({status:"open",profit:D}):void 0;P.push({epoch:a,quote:A?void 0:T,type:"start",text:Et(e),color:t})}if(c&&(P.push({epoch:u,quote:T,type:"entry"}),(j||O||S)&&P.push({epoch:u,quote:c,type:"entryTick"})),F&&P.push({epoch:F,quote:T,type:"end"}),l?P.push({epoch:d,quote:+l,type:"exit"}):(null==n?void 0:n.length)>0&&P.push(...((e,t)=>{const{contract_type:r,tick_stream:o}=e,n=(0,i.isDigitContract)(r),a=(0,i.isAccumulatorContract)(r),s=o.length>1?o[o.length-1]:null,[,...c]=a?[]:n?[void 0,...o.slice(-1)]:o,l=c.map((e=>({epoch:e.epoch,quote:e.tick,type:"tick"})));return n||a||!s||(l.push({epoch:s.epoch,quote:s.quote,type:"latestTick"}),l.push({epoch:s.epoch,quote:t,type:"latestTickBarrier"})),l})(e,k)),C&&(null==n?void 0:n.length)>0){if("open"!==(0,i.getContractStatus)({contract_type:_,profit:D,exit_tick_time:d,status:v})){const r=n[n.length-1],o=n[n.length-2]||r;P.push(...Ot({high_barrier:f,low_barrier:g,prev_epoch:o.epoch,is_dark_mode_on:t,contract_info:e}))}}return{type:xt(e),markers:P,color:Ct({status:v,profit:E||w?D:void 0,is_dark_theme:t,is_vanilla:(0,i.isVanillaContract)(_)})}}function Ot({contract_info:e,high_barrier:t,low_barrier:r,is_accumulator_trade_without_contract:o=!1,is_dark_theme:n,has_crossed_accu_barriers:a,barrier_spot_distance:s,prev_epoch:c}){const{contract_type:l,profit:u,exit_tick_time:d,status:_,is_sold:p}=e||{},h=(0,i.getContractStatus)({contract_type:l,profit:u,exit_tick_time:d,status:_}),m="open"!==h,f=Ct({status:a||"lost"===h?"lost":o?"open":"won",is_dark_theme:n});return[{epoch:c,quote:+t,type:"highBarrier",color:f,text:s?`+${s}`:""},{epoch:c,quote:+r,type:"lowBarrier",color:f,text:s?`-${s}`:""},{epoch:c,type:"previousTick",color:Ct(o?{status:"fg",is_dark_theme:n}:{is_dark_theme:n,status:h,profit:p||m?u:null})}]}function St({prev_epoch:e,high_barrier:t,low_barrier:r,is_accumulator_trade_without_contract:o=!1,has_crossed_accu_barriers:n=!1,is_dark_theme:i,contract_info:a,in_contract_details:s=!1,barrier_spot_distance:c}){return{type:"AccumulatorContract",markers:Ot({contract_info:a,high_barrier:t,low_barrier:r,is_accumulator_trade_without_contract:o,is_dark_theme:i,has_crossed_accu_barriers:n,barrier_spot_distance:c,prev_epoch:e}),props:{hasPersistentBorders:s}}}function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){Pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Tt extends P{constructor(e,{contract_id:t}){super({root_store:e,validation_rules:(0,i.getContractValidationRules)()}),this.digits_info=u.observable.object({}),this.sell_info=u.observable.object({}),this.contract_config={},this.display_status="purchased",this.is_ended=!1,this.is_digit_contract=!1,this.error_message="",this.contract_info=u.observable.object({}),this.is_static_chart=!1,this.end_time=null,this.accu_high_barrier=null,this.accu_low_barrier=null,this.cached_barriers_data={},this.contract_update_take_profit="",this.contract_update_stop_loss="",this.has_contract_update_take_profit=!1,this.has_contract_update_stop_loss=!1,this.contract_update_history=[],this.contract_update_config={},this.margin=void 0,this.barriers_array=[],this.markers_array=[],this.marker=null,this.accumulator_marker=null,this.is_ongoing_contract=!1,this.cacheProposalOpenContractResponse=e=>{const{contract_id:t}=e.proposal_open_contract;i.WS.storage.set({proposal_open_contract:1,contract_id:t},e)},this.createBarriersArray=e=>{let t=[];if(e){const{contract_type:r,barrier:o,entry_spot:n,high_barrier:a,low_barrier:s,reset_time:c,reset_barrier:l}=e,u=this.accu_high_barrier||o||a,d=e.profit>=0?i.BARRIER_COLORS.GREEN:i.BARRIER_COLORS.RED,_={not_draggable:!0,shade:i.DEFAULT_SHADES[2],color:(0,i.isSmartTraderContract)(r)?i.BARRIER_COLORS.BLUE:d};if((0,i.isBarrierSupported)(r)&&!(0,i.isResetContract)(r)&&(u||n&&!(0,i.isAccumulatorContract)(r))){const e=new i.ChartBarrierStore(u||n,this.accu_low_barrier||s,null,kt(kt({},_),{},{line_style:!(0,i.isAccumulatorContract)(r)&&i.BARRIER_LINE_STYLES.SOLID,hideBarrierLine:(0,i.isAccumulatorContract)(r),shade:(0,i.isAccumulatorContract)(r)&&i.DEFAULT_SHADES[2]}));e.updateBarrierShade(!0,r),t=[e]}else if((0,i.isResetContract)(r)&&n){const e=new i.ChartBarrierStore(n,s,null,kt({},_));if(e.updateBarrierShade(!0,r),t=[e],c){const o=new i.ChartBarrierStore(l,s,null,kt(kt({},_),{},{hideBarrierLine:!0,line_style:i.BARRIER_LINE_STYLES.DASHED}));e.updateBarrierShade(!1,r),t.push(o)}}}return t},(0,u.makeObservable)(this,{accu_high_barrier:u.observable,accu_low_barrier:u.observable,cached_barriers_data:u.observable,digits_info:u.observable,sell_info:u.observable,contract_config:u.observable.ref,display_status:u.observable,is_ended:u.observable,is_digit_contract:u.observable,error_message:u.observable,contract_info:u.observable.ref,is_static_chart:u.observable,end_time:u.observable,contract_update_take_profit:u.observable,contract_update_stop_loss:u.observable,has_contract_update_take_profit:u.observable,has_contract_update_stop_loss:u.observable,contract_update_history:u.observable.ref,margin:u.observable,barriers_array:u.observable.shallow,markers_array:u.observable.shallow,marker:u.observable.ref,accumulator_marker:u.observable.ref,populateConfig:u.action.bound,populateContractUpdateConfig:u.action.bound,populateContractUpdateHistory:u.action.bound,clearContractUpdateConfigValues:u.action.bound,onChange:u.action.bound,updateLimitOrder:u.action.bound,getContractsArray:u.action.bound}),this.root_store=e,this.contract_id=t}populateConfig(e,t=!1){const r=this.contract_info;this.contract_info=e,this.end_time=(0,i.getEndTime)(this.contract_info);const{accu_high_barrier:o,accu_low_barrier:n}=(0,i.getAccuBarriersForContractDetails)(e);this.accu_high_barrier=o,this.accu_low_barrier=n,this.updateBarriersArray(e,this.root_store.ui.is_dark_mode_on),this.markers_array=ft(this.contract_info),this.marker=jt(this.contract_info,this.root_store.ui.is_dark_mode_on,t),this.contract_config=(e=>{var t;if((0,i.isEmptyObject)(e))return null;const r=e.date_start,o=(0,i.getEndTime)(e),n=He(r,o||null),a=Ve(r,o||null),s=(0,i.isAccumulatorContract)(e.contract_type),c=s&&!(null===(t=e.tick_stream)||void 0===t||!t.length)&&e.tick_stream[0].epoch,l=s&&"open"===e.status&&10===e.tick_stream.length,u=l?c:r,d=l?c:e.purchase_time;return{chart_type:e.tick_count?"line":a,granularity:e.tick_count?0:n,end_epoch:o,start_epoch:u,scroll_to_epoch:d}})(this.contract_info),this.display_status=(0,i.getDisplayStatus)(this.contract_info),this.is_ended=(0,i.isEnded)(this.contract_info),this.is_ended&&(0,i.isAccumulatorContract)(this.contract_info.contract_type)&&this.root_store.contract_trade.clearAccumulatorBarriersData(!1,!0),this.is_digit_contract=(0,i.isDigitContract)(this.contract_info.contract_type),!this.contract_info.barrier&&r.barrier&&this.is_digit_contract&&(this.contract_info.barrier=r.barrier),this.is_digit_contract&&(0,u.extendObservable)(this.digits_info,(0,i.getDigitInfo)(this.digits_info,this.contract_info)),1!=+e.is_settleable||e.is_sold||i.WS.send({sell_expired:1});const a=(0,i.isMultiplierContract)(this.contract_info.contract_type),s=(0,i.isAccumulatorContract)(this.contract_info.contract_type),c=(0,i.isTurbosContract)(this.contract_info.contract_type);(s||a||c)&&e.contract_id&&e.limit_order&&this.populateContractUpdateConfig(this.contract_info)}populateContractUpdateConfig(e){const t=(0,i.getContractUpdateConfig)(e);if(!(0,i.isEqualObject)(this.contract_update_config,t)){Object.assign(this,t),this.contract_update_config=t;const{contract_update:r,error:o}=e;r&&!o&&(this.contract_info.limit_order=Object.assign(this.contract_info.limit_order||{},r))}}populateContractUpdateHistory({contract_update_history:e}){this.root_store.contract_replay.contract_store.contract_update_history=e.sort(((e,t)=>t.order_date-e.order_date))}updateBarriersArray(e,t){var r;const{barrier:o,contract_type:n,current_spot_high_barrier:a,current_spot_low_barrier:s,high_barrier:c,low_barrier:l,status:d,current_spot_time:_,underlying:p,tick_stream:h=[]}=e||{},m=null===(r=this.barriers_array)||void 0===r?void 0:r[0];if((0,i.isAccumulatorContract)(e.contract_type)){var f,g;if(this.cached_barriers_data.current_spot_high_barrier===a&&this.cached_barriers_data.current_spot_low_barrier===s&&this.cached_barriers_data.high_barrier===c&&this.cached_barriers_data.low_barrier===l&&this.cached_barriers_data.status===d)return;const r="open"!==(0,i.getContractStatus)(e),o=r?(null===(f=h[h.length-2])||void 0===f?void 0:f.epoch)||(null===(g=h[h.length-1])||void 0===g?void 0:g.epoch):_;return r&&(this.accumulator_marker=St({high_barrier:c,low_barrier:l,prev_epoch:o,is_dark_mode_on:t,contract_info:e,in_contract_details:!0})),this.barriers_array.length?(setTimeout((()=>(0,u.runInAction)((()=>{e&&((0,i.isBarrierSupported)(n)&&this.accu_high_barrier&&this.accu_low_barrier&&(null==m||m.updateBarriers(this.accu_high_barrier,this.accu_low_barrier)),this.markers_array=ft(e,!0),this.accumulator_marker=St({high_barrier:this.accu_high_barrier,low_barrier:this.accu_low_barrier,prev_epoch:o,is_dark_mode_on:this.root_store.ui.is_dark_mode_on,contract_info:this.contract_info,in_contract_details:!0}))}))),(0,i.isOpen)(e)?(0,i.getAccuBarriersDefaultTimeout)(p):0),void(this.cached_barriers_data={current_spot_high_barrier:a,current_spot_low_barrier:s,high_barrier:c,low_barrier:l,status:d})):void(this.barriers_array=this.createBarriersArray(kt(kt({},e),{},{high_barrier:this.accu_high_barrier,low_barrier:this.accu_low_barrier}),t))}if(this.barriers_array.length){if(e){if(1===this.barriers_array.length&&(0,i.isResetContract)(e.contract_type)&&e.reset_time)return void(this.barriers_array=this.createBarriersArray(e,t));(0,i.isBarrierSupported)(n)&&(o||c)&&!(0,i.isResetContract)(e.contract_type)&&(null==m||m.updateBarriers(o||c,l)),(0,i.isBarrierSupported)(n)&&!(0,i.isSmartTraderContract)(n)&&(null==m||m.updateColor({barrier_color:e.profit>=0?i.BARRIER_COLORS.GREEN:i.BARRIER_COLORS.RED})),e.contract_id&&e.contract_id===this.root_store.contract_replay.contract_id&&(0,i.setLimitOrderBarriers)({barriers:this.barriers_array,contract_info:e,contract_type:n,is_over:!e.sell_time})}}else this.barriers_array=this.createBarriersArray(e,t)}clearContractUpdateConfigValues(){Object.assign(this,(0,i.getContractUpdateConfig)(this.contract_info)),this.validation_errors.contract_update_stop_loss=[],this.validation_errors.contract_update_take_profit=[]}onChange({name:e,value:t}){this[e]=t,this.validateProperty(e,this[e])}updateLimitOrder(){const e=(0,i.isAccumulatorContract)(this.contract_info.contract_type)||(0,i.isTurbosContract)(this.contract_info.contract_type)?{take_profit:(0,i.getLimitOrder)(this).take_profit}:(0,i.getLimitOrder)(this);0!==Object.keys(e).length&&i.WS.contractUpdate(this.contract_id,e).then((e=>{e.error?this.root_store.common.setServicesError(kt({type:e.msg_type},e.error),(0,i.isDtraderV2MobileEnabled)(this.root_store.ui.is_mobile)||(0,i.isDtraderV2DesktopEnabled)(this.root_store.ui.is_desktop)):(this.populateContractUpdateConfig(e),this.root_store.ui.is_history_tab_active&&i.WS.contractUpdateHistory(this.contract_id).then(this.populateContractUpdateHistory),this.root_store.portfolio.populateContractUpdate(e,this.contract_id))}))}getContractsArray(){return this.accumulator_marker?[this.accumulator_marker]:[]}}function Nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(r),!0).forEach((function(t){It(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function It(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Bt extends P{constructor(e){super(e),this.chart_state="",this.contract_store={contract_info:{}},this.is_market_closed=!1,this.is_sell_requested=!1,this.has_error=!1,this.error_message="",this.error_code="",this.is_chart_loading=!0,this.is_chart_scaling=!1,this.is_forward_starting=!1,this.margin=void 0,this.contract_id=void 0,this.contract_info=u.observable.object({}),this.is_static_chart=!1,this.is_ongoing_contract=!1,this.contract_update=u.observable.object({}),this.should_forget_first=!1,this.handleSubscribeProposalOpenContract=async(e,t)=>{await i.WS.storage.has({proposal_open_contract:1,contract_id:e})?i.WS.storage.proposalOpenContract({contract_id:e}).then(t):(this.should_forget_first&&(await i.WS.forgetAll("proposal_open_contract"),this.should_forget_first=!1),this.subscriber=i.WS.subscribeProposalOpenContract(e,t))},this.subscribeProposalOpenContract=()=>{var e;null===i.WS||void 0===i.WS||null===(e=i.WS.wait("authorize"))||void 0===e||e.then((()=>{this.handleSubscribeProposalOpenContract(this.contract_id,this.populateConfig)}))},this.forgetProposalOpenContract=()=>{this.subscriber&&(this.subscriber.unsubscribe(),delete this.subscriber)},this.setAccountSwitcherListener=(e,t)=>{this.onSwitchAccount((()=>this.accountSwitcherListener(e,t)))},this.accountSwitcherListener=(e,t)=>(this.has_error?(this.removeErrorMessage(),this.onMount(e)):this.root_store.common.is_language_changing||t.push(i.routes.reports),Promise.resolve()),this.removeAccountSwitcherListener=()=>{this.disposeSwitchAccount()},(0,u.makeObservable)(this,{chart_state:u.observable,contract_store:u.observable,is_market_closed:u.observable,is_sell_requested:u.observable,has_error:u.observable,error_message:u.observable,error_code:u.observable,is_chart_loading:u.observable,is_chart_scaling:u.observable,is_forward_starting:u.observable,margin:u.observable,contract_id:u.observable,contract_info:u.observable.ref,is_static_chart:u.observable,contract_update:u.observable.ref,onMount:u.action.bound,onUnmount:u.override,populateConfig:u.action.bound,updateMargin:u.action.bound,chartStateChange:u.action.bound,onClickCancel:u.action.bound,onClickSell:u.action.bound,handleSell:u.action.bound,removeErrorMessage:u.action.bound}),this.root_store=e}onMount(e){e&&(this.contract_id=e,this.contract_store=new Tt(this.root_store,{contract_id:e}),this.subscribeProposalOpenContract(),i.WS.setOnReconnect((()=>{this.root_store.client.is_switching||this.subscribeProposalOpenContract()})))}onUnmount(){this.forgetProposalOpenContract(this.contract_id,this.populateConfig),this.contract_id=null,this.is_ongoing_contract=!1,this.is_static_chart=!1,this.is_chart_loading=!0,this.contract_info={},this.chart_state="",this.root_store.ui.toggleHistoryTab(!1),i.WS.removeOnReconnect(),this.root_store.contract_trade.clearAccumulatorBarriersData(!0,!0)}populateConfig(e){if("error"in e){const{code:t,message:r}=e.error;return this.has_error=!0,this.is_chart_loading=!1,this.error_message=r,void(this.error_code=t)}if((0,i.isEmptyObject)(e.proposal_open_contract))return this.has_error=!0,this.error_message=(0,y.localize)("Sorry, you can't view this contract because it doesn't belong to this account."),this.should_forget_first=!0,void(this.is_chart_loading=!1);if(+e.proposal_open_contract.contract_id!==this.contract_id)return;this.contract_info=e.proposal_open_contract,this.contract_update=e.proposal_open_contract.limit_order;const t=!!this.contract_info.is_forward_starting||(0,i.isForwardStarting)(this.contract_info.shortcode,this.contract_info.purchase_time);this.is_forward_starting=t,this.contract_store.populateConfig(this.contract_info);const r=this.contract_store.end_time;this.updateMargin((r||this.contract_info.date_expiry)-this.contract_info.date_start),r||(this.is_ongoing_contract=!0),r&&(this.is_ongoing_contract?this.is_static_chart=!1:this.is_static_chart=!0),this.contract_info.is_sold&&this.contract_store.cacheProposalOpenContractResponse(e)}updateMargin(e){const t=this.contract_store.contract_config.granularity;this.margin=Math.floor(t?3*t:Math.max(300,30*e/3600||0))}chartStateChange(e,t){this.chart_state=e;const r="isClosed";switch(e){case"INITIAL":this.is_chart_scaling=!1,this.is_chart_loading||(this.is_chart_loading=!0);break;case"READY":setTimeout((0,u.action)((()=>this.is_chart_scaling=!0)),10);break;case"SCROLL_TO_LEFT":setTimeout((0,u.action)((()=>{this.is_chart_loading=!1})),20);break;case"MARKET_STATE_CHANGE":t&&r in t&&(this.is_market_closed=t[r])}}onClickCancel(e){e&&i.WS.cancelContract(e).then((e=>{e.error?this.root_store.common.setServicesError(Lt({type:e.msg_type},e.error),(0,i.isDtraderV2MobileEnabled)(this.root_store.ui.is_mobile)||(0,i.isDtraderV2DesktopEnabled)(this.root_store.ui.is_desktop)):this.root_store.notifications.addNotificationMessage((0,i.contractCancelled)())}))}onClickSell(e){const{bid_price:t}=this.contract_info;e&&(t||0===t)&&(this.is_sell_requested=!0,i.WS.sell(e,t).then(this.handleSell))}handleSell(e){e.error?(this.is_sell_requested=!1,this.root_store.common.setServicesError(Lt({type:e.msg_type},e.error),(0,i.isDtraderV2MobileEnabled)(this.root_store.ui.is_mobile)||(0,i.isDtraderV2DesktopEnabled)(this.root_store.ui.is_desktop))):!e.error&&e.sell&&(this.is_sell_requested=!1,this.sell_info={sell_price:e.sell.sold_for,transaction_id:e.sell.transaction_id},this.root_store.notifications.addNotificationMessage((0,i.contractSold)(this.root_store.client.currency,e.sell.sold_for,le.Money)),D.Analytics.trackEvent("ce_reports_form",{action:"close_contract",form_name:"default",subform_name:"contract_details_form"}))}removeErrorMessage(){this.error_message="",this.has_error=!1}}function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ut extends P{constructor(e){super({root_store:e}),this.contracts=[],this.contracts_map={},this.has_error=!1,this.error_message="",this.granularity=+i.LocalStore.get("contract_trade.granularity")||0,this.chart_type=i.LocalStore.get("contract_trade.chart_style")||"line",this.prev_chart_type="",this.prev_granularity=null,this.accu_barriers_timeout_id=null,this.accumulator_barriers_data={},this.accumulator_contract_barriers_data={},this.previous_accumulator_barriers_data={},this.is_barriers_loading=!1,this.last_contract_override=null,this.applicable_contracts=()=>{const{contract_type:e,symbol:t}=JSON.parse(sessionStorage.getItem("trade_store"))||{};if(!e||!t)return[];let{trade_types:r}=(0,i.getContractTypesConfig)()[e];const o=(0,i.isCallPut)(e);return o?r=[i.CONTRACT_TYPES.CALLE,i.CONTRACT_TYPES.PUTE,i.CONTRACT_TYPES.CALL,i.CONTRACT_TYPES.PUT]:(0,i.isTurbosContract)(e)?r=[i.CONTRACT_TYPES.TURBOS.LONG,i.CONTRACT_TYPES.TURBOS.SHORT]:(0,i.isVanillaContract)(e)&&(r=[i.CONTRACT_TYPES.VANILLA.CALL,i.CONTRACT_TYPES.VANILLA.PUT]),this.contracts.filter((e=>e.contract_info.underlying===t)).filter((e=>{const t=e.contract_info;return!((0,i.isMultiplierContract)(t.contract_type)&&(0,i.isEnded)(e.contract_info))})).filter((t=>{const n=t.contract_info,a=-1!==r.indexOf(n.contract_type);return a&&o&&(n.barrier&&n.entry_tick||n.shortcode)?""+ +n.entry_tick!=""+ +n.barrier||(0,i.isHighLow)(n)?e===i.TRADE_TYPES.HIGH_LOW:e===i.TRADE_TYPES.RISE_FALL||e===i.TRADE_TYPES.RISE_FALL_EQUAL:a}))},(0,u.makeObservable)(this,{accu_barriers_timeout_id:u.observable,is_barriers_loading:u.observable,accumulator_barriers_data:u.observable.struct,accumulator_contract_barriers_data:u.observable.struct,previous_accumulator_barriers_data:u.observable.struct,clearAccumulatorBarriersData:u.action.bound,setBarriersLoadingState:u.action.bound,contracts:u.observable.shallow,has_crossed_accu_barriers:u.computed,has_error:u.observable,error_message:u.observable,granularity:u.observable,chart_type:u.observable,last_contract_override:u.observable,clearLastContractOverride:u.action.bound,restorePreviousBarriersIfNeeded:u.action.bound,updateAccumulatorBarriersData:u.action.bound,updateChartType:u.action.bound,updateGranularity:u.action.bound,markers_array:u.computed,filtered_contracts:u.computed,addContract:u.action.bound,removeContract:u.action.bound,accountSwitchListener:u.action.bound,onUnmount:u.override,prev_chart_type:u.observable,prev_granularity:u.observable,updateProposal:u.action.bound,last_contract:u.computed,clearError:u.action.bound,getContractById:u.action.bound,prev_contract:u.computed,savePreviousChartMode:u.action.bound,setNewAccumulatorBarriersData:u.action.bound}),this.root_store=e,this.onSwitchAccount(this.accountSwitchListener),this.disposeAccountSwitchingComplete=(0,u.reaction)((()=>this.root_store.client.is_switching),(e=>{!e&&this.is_barriers_loading&&this.restorePreviousBarriersIfNeeded()})),(0,u.reaction)((()=>this.last_contract.contract_info),(()=>{var e;if(!(0,i.isAccumulatorContract)(null===(e=this.last_contract.contract_info)||void 0===e?void 0:e.contract_type))return;const{barrier_spot_distance:t,current_spot:r,current_spot_time:o,current_spot_high_barrier:n,current_spot_low_barrier:a,is_sold:s,underlying:c}=this.last_contract.contract_info||{};r&&n&&!s?this.updateAccumulatorBarriersData({barrier_spot_distance:t,current_spot_time:o,accumulators_high_barrier:n,accumulators_low_barrier:a,should_update_contract_barriers:!0,underlying:c}):(0,i.isAccumulatorContractOpen)(this.last_contract.contract_info)||this.clearAccumulatorBarriersData(!0,!1)}))}clearAccumulatorBarriersData(e,t=!0){if(this.accu_barriers_timeout_id&&t&&clearTimeout(this.accu_barriers_timeout_id),this.accu_barriers_timeout_id=null,this.accumulator_contract_barriers_data={},!e){var r,o;(0,u.runInAction)((()=>{this.accumulator_barriers_data={accumulators_high_barrier:null,accumulators_low_barrier:null,barrier_spot_distance:null,current_spot:null,current_spot_time:null,tick_update_timestamp:null}}));if(!((null===(r=this.root_store.portfolio)||void 0===r||null===(r=r.active_positions)||void 0===r?void 0:r.length)>0)&&"ACCU"===(null===(o=this.last_contract)||void 0===o||null===(o=o.contract_info)||void 0===o?void 0:o.contract_type)){const e=Mt({},this.last_contract);e.contract_info&&(e.contract_info=Mt(Mt({},e.contract_info),{},{profit:0,status:"open"})),this.last_contract_override=e}}}clearLastContractOverride(){this.last_contract_override=null}setNewAccumulatorBarriersData(e,t){t?this.accumulator_contract_barriers_data=Mt(Mt({},this.accumulator_contract_barriers_data),e):this.accumulator_barriers_data=Mt(Mt({},this.accumulator_barriers_data),e)}updateAccumulatorBarriersData({accumulators_high_barrier:e,accumulators_low_barrier:t,barrier_spot_distance:r,current_spot:o,current_spot_time:n,prev_spot_time:a,should_update_contract_barriers:s,underlying:c}){if((e||t)&&this.setBarriersLoadingState(!1),o&&!this.root_store.client.is_switching){const e=null!=a?a:this.accumulator_barriers_data.current_spot_time;if(n===e)return;const t={current_spot:o,current_spot_time:n,ticks_history_prev_spot_time:e,tick_update_timestamp:Date.now()};return this.setNewAccumulatorBarriersData(t,!0),void this.setNewAccumulatorBarriersData(t)}const l={accumulators_high_barrier:e,accumulators_low_barrier:t,barrier_spot_distance:r,should_update_contract_barriers:s,proposal_prev_spot_time:n};if(this.accumulator_barriers_data.current_spot_time&&this.accumulator_barriers_data.current_spot_time!==n&&!this.accumulator_barriers_data.accumulators_high_barrier||Object.keys(l).every((e=>s?this.accumulator_contract_barriers_data[e]===l[e]:this.accumulator_barriers_data[e]===l[e])))return;const d=s?this.accumulator_contract_barriers_data.tick_update_timestamp:this.accumulator_barriers_data.tick_update_timestamp;if(document.hidden)return clearTimeout(this.accu_barriers_timeout_id),void this.setNewAccumulatorBarriersData(l,s);this.accu_barriers_timeout_id=setTimeout((()=>{(0,u.runInAction)((()=>{this.setNewAccumulatorBarriersData(l,s)}))}),(0,i.getAccuBarriersDTraderTimeout)({barriers_update_timestamp:Date.now(),has_default_timeout:this.accumulator_barriers_data.current_spot_time!==n,tick_update_timestamp:d,underlying:c}))}updateChartType(e){i.LocalStore.set("contract_trade.chart_style",e),this.chart_type=e,(0,i.setTradeURLParams)({chartType:this.chart_type})}updateGranularity(e){0===e&&-1===["line","candles","hollow","ohlc"].indexOf(this.chart_type)&&(this.chart_type="line"),i.LocalStore.set("contract_trade.granularity",e),this.granularity=e,0===this.granularity&&this.root_store.notifications.removeNotificationMessage(i.switch_to_tick_chart),(0,i.setTradeURLParams)({granularity:this.granularity})}savePreviousChartMode(e,t){this.prev_chart_type=e,this.prev_granularity=t}get has_crossed_accu_barriers(){const{symbol:e}=JSON.parse(sessionStorage.getItem("trade_store"))||{},{current_spot:t,entry_spot:r,underlying:o}=this.last_contract.contract_info||{},{accumulators_high_barrier:n,accumulators_low_barrier:a,current_spot:s,proposal_prev_spot_time:c,ticks_history_prev_spot_time:l}=((0,i.isAccumulatorContractOpen)(this.last_contract.contract_info)?this.accumulator_contract_barriers_data:this.accumulator_barriers_data)||{},u=r&&r!==t&&o===e;return!(!(s&&n&&a&&(s>=n||s<=a))||!(l&&l===c)||(0,i.isAccumulatorContractOpen)(this.last_contract.contract_info)&&!u)}get filtered_contracts(){return this.applicable_contracts()}get markers_array(){var e;let t=[];const{contract_type:r}=JSON.parse(sessionStorage.getItem("trade_store"))||{};t=this.applicable_contracts().map((e=>e.marker)).filter((e=>e)).map((e=>(0,u.toJS)(e)));const{current_spot_time:o,entry_tick_time:n,exit_tick_time:a}=this.last_contract.contract_info||{},s=n&&n!==o||a&&o<=a,{accumulators_high_barrier:c,accumulators_low_barrier:l,barrier_spot_distance:d,proposal_prev_spot_time:_}=(0,i.isAccumulatorContractOpen)(this.last_contract.contract_info)&&s&&(null===(e=this.accumulator_contract_barriers_data)||void 0===e?void 0:e.accumulators_high_barrier)&&this.accumulator_contract_barriers_data||this.accumulator_barriers_data||{};if(r===i.TRADE_TYPES.ACCUMULATOR&&_&&c){var p;const e=(0,i.isAccumulatorContractOpen)(this.last_contract.contract_info),r=!((null===(p=this.root_store.portfolio)||void 0===p||null===(p=p.active_positions)||void 0===p?void 0:p.length)>0);t.push(St({high_barrier:c,low_barrier:l,barrier_spot_distance:d,prev_epoch:_,has_crossed_accu_barriers:this.has_crossed_accu_barriers,is_dark_theme:this.root_store.ui.is_dark_mode_on,contract_info:e?this.last_contract.contract_info:{},is_accumulator_trade_without_contract:r||!e||!n}))}return t}addContract({barrier:e,contract_id:t,contract_type:r,start_time:o,longcode:n,underlying:a,is_tick_contract:s,limit_order:c={}}){const l=this.contracts_map[t];if(l)return void(this.contracts.every((e=>e.contract_id!==t))&&this.contracts.push(l));const u=t===this.last_contract.contract_id,d=new Tt(this.root_store,{contract_id:t});d.populateConfig({date_start:o,barrier:e,contract_type:r,longcode:n,underlying:a,limit_order:c},u),this.contracts.push(d),this.contracts_map[t]=d,this.clearLastContractOverride(),s&&!this.root_store.portfolio.is_multiplier&&0!==this.granularity&&(0,i.isDesktop)()&&this.root_store.notifications.addNotificationMessage(i.switch_to_tick_chart)}removeContract({contract_id:e}){this.contracts=this.contracts.filter((t=>t.contract_id!==e)),delete this.contracts_map[e]}accountSwitchListener(){return this.has_error&&this.clearError(),this.previous_accumulator_barriers_data=Mt({},this.accumulator_barriers_data),this.setBarriersLoadingState(!0),this.clearAccumulatorBarriersData(!1,!0),(0,u.runInAction)((()=>{this.accumulator_barriers_data={},this.accumulator_contract_barriers_data={}})),Promise.resolve()}setBarriersLoadingState(e){this.is_barriers_loading=e}restorePreviousBarriersIfNeeded(){this.previous_accumulator_barriers_data.accumulators_high_barrier&&!this.accumulator_barriers_data.accumulators_high_barrier&&(this.setNewAccumulatorBarriersData(this.previous_accumulator_barriers_data),this.setBarriersLoadingState(!1))}onUnmount(){this.disposeSwitchAccount(),this.disposeAccountSwitchingComplete&&this.disposeAccountSwitchingComplete()}updateProposal(e){if("error"in e)return this.has_error=!0,void(this.error_message=e.error.message);if(e.proposal_open_contract){const t=+e.proposal_open_contract.contract_id,r=this.contracts_map[t],o=t===this.last_contract.contract_id;r.populateConfig(e.proposal_open_contract,o),e.proposal_open_contract.is_sold&&(this.root_store.notifications.removeNotificationMessage(i.switch_to_tick_chart),r.cacheProposalOpenContractResponse(e))}}get last_contract(){var e;if(this.last_contract_override)return this.last_contract_override;const t=this.applicable_contracts(),r=null!==(e=this.contracts[0])&&void 0!==e&&e.contract_info.current_spot_time?t.length:-1;return r>0?t[r-1]:{}}get prev_contract(){var e;const t=this.applicable_contracts();return t[(null!==(e=this.contracts[0])&&void 0!==e&&e.contract_info.current_spot_time?t.length:-1)-2]}clearError(){this.error_message="",this.has_error=!1}getContractById(e){return this.contracts_map[e]||this.root_store.contract_replay.contract_store}}function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach((function(t){Vt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ht extends P{constructor(e){super({root_store:e,local_storage_properties:["available_platforms","selected_region","is_cfd_restricted_country","is_financial_restricted_country"],store_name:"traders_hub_store"}),this.available_platforms=[],this.available_cfd_accounts=[],this.available_mt5_accounts=[],this.available_dxtrade_accounts=[],this.available_ctrader_accounts=[],this.combined_cfd_mt5_accounts=[],this.selected_account_type=void 0,this.selected_region=void 0,this.is_onboarding_visited=!1,this.is_first_time_visit=!0,this.is_verification_docs_list_modal_visible=!1,this.is_regulators_compare_modal_visible=!1,this.account_type_card="",this.selected_platform_type="options",this.modal_data={active_modal:"",data:{}},this.selected_jurisdiction_kyc_status={},this.is_account_transfer_modal_open=!1,this.selected_account={},this.is_real_wallets_upgrade_on=!1,this.is_wallet_migration_failed=!1,this.active_modal_tab=void 0,this.active_modal_wallet_id=void 0,this.is_cfd_restricted_country=!1,this.is_financial_restricted_country=!1,this.is_setup_real_account_or_go_to_demo_modal_visible=!1,this.getServerName=e=>{if(e){var t;const n=null===(t=e.server_info)||void 0===t||null===(t=t.geolocation)||void 0===t?void 0:t.region;var r,o;if(n)return`${n} ${1===(null==e||null===(r=e.server_info)||void 0===r||null===(r=r.geolocation)||void 0===r?void 0:r.sequence)?"":null==e||null===(o=e.server_info)||void 0===o||null===(o=o.geolocation)||void 0===o?void 0:o.sequence}`}return""},this.hasMultipleSVGAccounts=()=>{const e=[];return this.combined_cfd_mt5_accounts.map((t=>{"svg"===t.landing_company_short&&"synthetic"===t.market_type&&(e.length?e.forEach((r=>(r.server!==t.server&&e.push(t),e))):e.push(t))})),e.length>1},(0,u.makeObservable)(this,{account_type_card:u.observable,available_cfd_accounts:u.observable,available_dxtrade_accounts:u.observable,available_ctrader_accounts:u.observable,available_mt5_accounts:u.observable,available_platforms:u.observable,combined_cfd_mt5_accounts:u.observable,is_account_transfer_modal_open:u.observable,is_regulators_compare_modal_visible:u.observable,is_verification_docs_list_modal_visible:u.observable,modal_data:u.observable,is_onboarding_visited:u.observable,is_first_time_visit:u.observable,selected_account:u.observable,selected_jurisdiction_kyc_status:u.observable,selected_account_type:u.observable,selected_platform_type:u.observable,active_modal_tab:u.observable,active_modal_wallet_id:u.observable,selected_region:u.observable,is_real_wallets_upgrade_on:u.observable,is_wallet_migration_failed:u.observable,is_cfd_restricted_country:u.observable,is_financial_restricted_country:u.observable,is_setup_real_account_or_go_to_demo_modal_visible:u.observable,closeModal:u.action.bound,content_flag:u.computed,getAccount:u.action.bound,getAvailableCFDAccounts:u.action.bound,getAvailableDxtradeAccounts:u.action.bound,getAvailableCTraderAccounts:u.action.bound,setSelectedJurisdictionKYCStatus:u.action.bound,getExistingAccounts:u.action.bound,getMT5AccountKYCStatus:u.action.bound,handleTabItemClick:u.action.bound,setWalletModalActiveTab:u.action.bound,setWalletModalActiveWalletID:u.action.bound,has_any_real_account:u.computed,is_demo_low_risk:u.computed,is_demo:u.computed,is_eu_selected:u.computed,is_real:u.computed,is_low_risk_cr_eu_real:u.computed,no_CR_account:u.computed,no_MF_account:u.computed,CFDs_restricted_countries:u.computed,financial_restricted_countries:u.computed,openDemoCFDAccount:u.action.bound,openModal:u.action.bound,openRealAccount:u.action.bound,selectAccountType:u.action.bound,selectAccountTypeCard:u.action.bound,switchToCRAccount:u.action.bound,selectRegion:u.action.bound,setCombinedCFDMT5Accounts:u.action.bound,setSelectedAccount:u.action.bound,setTogglePlatformType:u.action.bound,should_show_exit_traders_modal:u.computed,show_eu_related_content:u.computed,startTrade:u.action.bound,toggleAccountTransferModal:u.action.bound,closeAccountTransferModal:u.action.bound,setIsOnboardingVisited:u.action.bound,setIsFirstTimeVisit:u.action.bound,setVerificationModalOpen:u.action.bound,toggleRegulatorsCompareModal:u.action.bound,showTopUpModal:u.action.bound,toggleWalletsUpgrade:u.action.bound,setWalletsMigrationFailedPopup:u.action.bound,cleanup:u.action.bound,setIsCFDRestrictedCountry:u.action.bound,setIsFinancialRestrictedCountry:u.action.bound,setIsSetupRealAccountOrGoToDemoModalVisible:u.action.bound,getDefaultJurisdiction:u.action.bound}),(0,u.reaction)((()=>{var e;return[this.selected_account_type,this.selected_region,this.root_store.client.is_switching,this.root_store.client.mt5_login_list,this.root_store.client.dxtrade_accounts_list,this.root_store.client.ctrader_accounts_list,this.root_store.client.is_landing_company_loaded,this.root_store.client.trading_platform_available_accounts,this.root_store.client.is_trading_platform_available_account_loaded,this.is_demo_low_risk,null===(e=this.root_store.modules)||void 0===e||null===(e=e.cfd)||void 0===e?void 0:e.current_list,this.root_store.client.landing_companies,this.root_store.common.current_language,this.financial_restricted_countries]}),(()=>{this.getAvailablePlatforms(),this.getAvailableCFDAccounts()})),(0,u.reaction)((()=>[this.selected_region,this.root_store.client.is_landing_company_loaded,this.root_store.client.loginid]),(()=>{"real"===this.selected_account_type&&this.setSwitchEU()})),(0,u.reaction)((()=>[this.root_store.client.loginid,this.root_store.client.residence]),(()=>{const e=this.root_store.client.residence,t=/^(VRT|VRW)/.test(this.root_store.client.loginid),r=/^(MF|MFW)/.test(this.root_store.client.loginid);this.selected_account_type=/^(VRT|VRW)/.test(this.root_store.client.loginid)?"demo":"real",this.selected_region=(t||r)&&(0,I.isEuCountry)(e)||r?"EU":"Non-EU"}))}async setSwitchEU(){var e,t;const{account_list:r,switchAccount:o,loginid:n,setIsLoggingIn:i}=this.root_store.client,a=null===(e=r.find((e=>{var t;return null===(t=e.loginid)||void 0===t?void 0:t.startsWith("MF")})))||void 0===e?void 0:e.loginid,s=null===(t=r.find((e=>{var t;return null===(t=e.loginid)||void 0===t?void 0:t.startsWith("CR")})))||void 0===t?void 0:t.loginid;"EU"!==this.selected_region||null!=n&&n.startsWith("MF")?"Non-EU"!==this.selected_region||null!=n&&n.startsWith("CR")||await o(s).then((()=>{i(!1)})):await o(a).then((()=>{i(!1)}))}setWalletModalActiveTab(e){this.active_modal_tab=e}setWalletModalActiveWalletID(e){this.active_modal_wallet_id=e}setIsCFDRestrictedCountry(e){this.is_cfd_restricted_country=e}setSelectedJurisdictionKYCStatus(e){this.selected_jurisdiction_kyc_status=e}setIsFinancialRestrictedCountry(e){this.is_financial_restricted_country=e}get no_MF_account(){const{has_maltainvest_account:e}=this.root_store.client;return"EU"===this.selected_region&&!e}get no_CR_account(){const{active_accounts:e}=this.root_store.client;return!e.some((e=>"svg"===e.landing_company_shortcode))&&"Non-EU"===this.selected_region}setSelectedAccount(e){this.selected_account=e}async selectAccountType(e){const{account_list:t,switchAccount:r,prev_real_account_loginid:o,has_active_real_account:n}=this.root_store.client;var a;if("demo"===e)await r(null===(a=t.find((e=>e.is_virtual&&!e.is_disabled)))||void 0===a?void 0:a.loginid);else if("real"===e){var s;if(n||this.content_flag!==i.ContentFlag.EU_DEMO?n||this.root_store.ui.openRealAccountSignup("svg"):this.root_store.client.real_account_creation_unlock_date?this.root_store.ui.setShouldShowCooldownModal(!0):this.root_store.ui.openRealAccountSignup("maltainvest"),o)await r(o);else await r(null===(s=t.find((e=>!e.is_virtual&&!e.is_disabled)))||void 0===s?void 0:s.loginid)}this.selected_account_type=n?e:"demo"}async switchToCRAccount(){const{account_list:e,switchAccount:t,prev_real_account_loginid:r}=this.root_store.client;var o;r&&!r.startsWith("MF")?await t(r):await t(null===(o=e.find((e=>!e.is_virtual&&!e.is_disabled&&!e.loginid.startsWith("MF"))))||void 0===o?void 0:o.loginid);this.selected_account_type="real",this.selected_region="Non-EU"}selectAccountTypeCard(e){this.account_type_card=e}selectRegion(e){this.selected_region=e}get is_demo_low_risk(){const{is_landing_company_loaded:e}=this.root_store.client;if(e){const{financial_company:e,gaming_company:t}=this.root_store.client.landing_companies;return this.content_flag===i.ContentFlag.CR_DEMO&&"maltainvest"===(null==e?void 0:e.shortcode)&&"svg"===(null==t?void 0:t.shortcode)}return!1}get content_flag(){const{is_logged_in:e,landing_companies:t,residence:r,is_landing_company_loaded:o}=this.root_store.client;if(o){const{financial_company:o,gaming_company:n}=t,a="svg"===(null==o?void 0:o.shortcode)||"svg"===(null==n?void 0:n.shortcode);if(!e)return"";if(!(null!=n&&n.shortcode||"maltainvest"!==(null==o?void 0:o.shortcode)))return this.is_demo?i.ContentFlag.EU_DEMO:i.ContentFlag.EU_REAL;if("maltainvest"===(null==o?void 0:o.shortcode)&&"svg"===(null==n?void 0:n.shortcode)&&this.is_real)return this.is_eu_user?i.ContentFlag.LOW_RISK_CR_EU:i.ContentFlag.LOW_RISK_CR_NON_EU;if(("svg"===(null==o?void 0:o.shortcode)&&"svg"===(null==n?void 0:n.shortcode)||a)&&this.is_real)return i.ContentFlag.HIGH_RISK_CR;if((0,I.isEuCountry)(r))return this.is_demo?i.ContentFlag.EU_DEMO:i.ContentFlag.EU_REAL;if(this.is_demo)return i.ContentFlag.CR_DEMO}return this.is_eu_user?i.ContentFlag.LOW_RISK_CR_EU:i.ContentFlag.LOW_RISK_CR_NON_EU}get show_eu_related_content(){return[i.ContentFlag.EU_DEMO,i.ContentFlag.EU_REAL,i.ContentFlag.LOW_RISK_CR_EU].includes(this.content_flag)}get is_low_risk_cr_eu_real(){return[i.ContentFlag.LOW_RISK_CR_EU,i.ContentFlag.EU_REAL].includes(this.content_flag)}getAvailablePlatforms(){if(!this.root_store.client.is_landing_company_loaded)return this.available_platforms;const e=(0,i.getAppstorePlatforms)();!this.financial_restricted_countries&&!this.is_eu_user||this.is_demo_low_risk?"Non-EU"===this.selected_region&&!this.financial_restricted_countries||this.is_demo_low_risk?this.available_platforms=e.filter((e=>["Non-EU","All"].some((t=>t===e.availability)))):this.available_platforms=e:this.available_platforms=e.filter((e=>["EU","All"].some((t=>t===e.availability))))}setIsOnboardingVisited(e){this.is_onboarding_visited=e}setIsFirstTimeVisit(e){this.is_first_time_visit=e}get is_eu_selected(){return"EU"===this.selected_region}get should_show_exit_traders_modal(){const e=[i.ContentFlag.LOW_RISK_CR_EU,i.ContentFlag.LOW_RISK_CR_NON_EU,i.ContentFlag.CR_DEMO].includes(this.content_flag),{active_accounts:t}=this.root_store.client;return e&&t.some((e=>"maltainvest"===e.landing_company_shortcode))}toggleRegulatorsCompareModal(){this.is_regulators_compare_modal_visible=!this.is_regulators_compare_modal_visible}get has_any_real_account(){return"real"===this.selected_account_type&&this.root_store.client.has_active_real_account}setTogglePlatformType(e){this.selected_platform_type=e}getAvailableCFDAccounts(){const{trading_platform_available_accounts:e,mt5_login_list:t,landing_company_shortcode:r,is_logged_in:o,is_trading_platform_available_account_loaded:n}=this.root_store.client,a=()=>!this.is_eu_user||this.is_demo_low_risk?"Financial":o?"CFDs":"Standard",s=[{name:"Standard",description:(0,y.localize)("CFDs on derived and financial instruments."),platform:i.CFD_PLATFORMS.MT5,market_type:"synthetic",product:"standard",icon:"Standard",availability:"Non-EU"},{name:a(),description:(()=>!this.is_eu_user||this.is_demo_low_risk?(0,y.localize)("CFDs on financial instruments."):(0,y.localize)("CFDs on derived and financial instruments."))(),platform:i.CFD_PLATFORMS.MT5,market_type:"financial",product:"financial",icon:a(),availability:"All"},...this.is_real?[{name:"Financial STP",description:(0,y.localize)("Direct access to market prices."),platform:i.CFD_PLATFORMS.MT5,market_type:"financial",product:i.PRODUCT.STP,icon:"Financial",availability:"Non-EU"}]:[],{name:"Swap-Free",description:(0,y.localize)("Swap-free CFDs on selected financial and derived instruments."),platform:i.CFD_PLATFORMS.MT5,market_type:"all",product:"swap_free",icon:"SwapFree",availability:"Non-EU"},{name:(0,y.localize)("Zero Spread"),description:(0,y.localize)("Zero spread CFDs on financial and derived instruments"),platform:i.CFD_PLATFORMS.MT5,market_type:"all",product:"zero_spread",icon:"ZeroSpread",availability:"Non-EU"},{name:(0,y.localize)("Gold"),description:(0,y.localize)("Trading opportunities on popular precious metals."),platform:i.CFD_PLATFORMS.MT5,market_type:"financial",product:"gold",icon:"Gold",availability:"Non-EU"}],c=e.reduce(((e,t)=>{const{product:o,is_default_jurisdiction:n,linkable_landing_companies:i}=t;return this.is_demo||this.no_CR_account&&!this.is_eu_user?("true"===n||e[o]&&e[o].some((e=>"true"===e.is_default_jurisdiction)))&&(e[o]||(e[o]=[]),e[o].push(t)):(i.includes(r)&&"true"===n||e[o]&&e[o].some((e=>"true"===e.is_default_jurisdiction)))&&(e[o]||(e[o]=[]),e[o].push(t)),e}),{}),l=[...(0,i.getCFDAvailableAccount)(),...(()=>{if(o&&this.content_flag===i.ContentFlag.LOW_RISK_CR_EU){const e=t.filter((e=>e.landing_company_short===r));return e.length?s.filter((t=>t.product===e[0].product)):[]}return o&&n?s.filter((e=>Object.prototype.hasOwnProperty.call(c,e.product))):s})()];this.available_cfd_accounts=l.map((e=>$t($t({},e),{},{description:e.description,tracking_name:e.name,name:(0,y.localize)(e.name),product:e.product}))),this.getAvailableDxtradeAccounts(),this.getAvailableCTraderAccounts(),this.getAvailableMt5Accounts(),this.setCombinedCFDMT5Accounts()}get financial_restricted_countries(){const{financial_company:e,gaming_company:t}=this.root_store.client.landing_companies,r=this.is_financial_restricted_country||"svg"===(null==e?void 0:e.shortcode)&&!t;return this.setIsFinancialRestrictedCountry(r),r}get CFDs_restricted_countries(){const{financial_company:e,gaming_company:t}=this.root_store.client.landing_companies,r=this.is_cfd_restricted_country||"svg"===(null==t?void 0:t.shortcode)&&!e;return this.setIsCFDRestrictedCountry(r),r}getAvailableMt5Accounts(){!this.is_eu_user||this.is_demo_low_risk||this.root_store.client.is_logged_in?this.financial_restricted_countries?this.available_mt5_accounts=this.available_cfd_accounts.filter((e=>"financial"===e.market_type&&e.platform===i.CFD_PLATFORMS.MT5)):this.CFDs_restricted_countries?this.available_mt5_accounts=this.available_cfd_accounts.filter((e=>"financial"!==e.market_type&&"all"!==e.market_type&&e.platform===i.CFD_PLATFORMS.MT5)):this.available_mt5_accounts=this.available_cfd_accounts.filter((e=>e.platform===i.CFD_PLATFORMS.MT5)):this.available_mt5_accounts=this.available_cfd_accounts.filter((e=>["EU","All"].some((t=>t===e.availability))))}getAvailableDxtradeAccounts(){this.CFDs_restricted_countries||this.financial_restricted_countries?this.available_dxtrade_accounts=[]:!this.is_eu_user||this.is_demo_low_risk?this.available_dxtrade_accounts=this.available_cfd_accounts.filter((e=>e.platform===i.CFD_PLATFORMS.DXTRADE)):this.available_dxtrade_accounts=this.available_cfd_accounts.filter((e=>["EU","All"].some((t=>t===e.availability))&&e.platform===i.CFD_PLATFORMS.DXTRADE))}getAvailableCTraderAccounts(){var e;this.CFDs_restricted_countries||this.financial_restricted_countries||this.root_store.client.is_logged_in&&"none"===(null===(e=this.root_store.client.landing_companies)||void 0===e||null===(e=e.ctrader)||void 0===e||null===(e=e.all)||void 0===e?void 0:e.standard)?this.available_ctrader_accounts=[]:!this.is_eu_user||this.is_demo_low_risk?this.available_ctrader_accounts=this.available_cfd_accounts.filter((e=>e.platform===i.CFD_PLATFORMS.CTRADER)):this.available_ctrader_accounts=this.available_cfd_accounts.filter((e=>["EU","All"].some((t=>t===e.availability))&&e.platform===i.CFD_PLATFORMS.CTRADER))}getDefaultJurisdiction(){var e;const{trading_platform_available_accounts:t}=this.root_store.client,{product:r}=this.root_store.modules.cfd;return null===(e=t.filter((e=>e.product===r&&"true"===e.is_default_jurisdiction))[0])||void 0===e?void 0:e.shortcode}getExistingAccounts(e,t,r){var o;const{residence:n}=this.root_store.client,a=(null===(o=this.root_store.modules)||void 0===o||null===(o=o.cfd)||void 0===o?void 0:o.current_list)||[],s=Object.keys(a),c=this.selected_account_type;return s.filter((o=>{const s="maltainvest"===a[o].landing_company_short;return r===i.PRODUCT.STP||r===i.PRODUCT.GOLD?o.startsWith(`${e}.${c}.${r}`):e!==i.CFD_PLATFORMS.MT5||"all"===t||this.is_eu_user||s?e===i.CFD_PLATFORMS.MT5&&"all"===t?o.startsWith(`${e}.${c}.${t}_${r}`):e===i.CFD_PLATFORMS.DXTRADE&&"all"===t||e===i.CFD_PLATFORMS.CTRADER&&"all"===t?o.startsWith(`${e}.${c}.${e}@${t}`):e===i.CFD_PLATFORMS.MT5&&(this.is_eu_user||(0,I.isEuCountry)(n))&&s?o.startsWith(`${e}.${c}.${t}`):o.startsWith(`${e}.${c}.${t}@${t}`):o.startsWith(`${e}.${c}.${t}`)})).reduce(((e,t)=>(e.push(a[t]),e)),[])}startTrade(e,t){const{common:r,modules:o}=this.root_store,{toggleMT5TradeModal:n,setMT5TradeAccount:i}=o.cfd,{setAppstorePlatform:a}=r;a(e),n(),i(t)}get is_demo(){return"demo"===this.selected_account_type}get is_real(){return"real"===this.selected_account_type}get is_eu_user(){return"EU"===this.selected_region}handleTabItemClick(e){this.selected_region=0===e?"Non-EU":"EU"}async openDemoCFDAccount(e,t){const{modules:r}=this.root_store,{createCFDAccount:o,enableCFDPasswordModal:n}=r.cfd;t!==i.CFD_PLATFORMS.CTRADER?n():await o($t($t({},e),{},{platform:t}))}async openRealAccount(e,t){const{client:r,modules:o}=this.root_store,{has_active_real_account:n}=r,{createCFDAccount:a,enableCFDPasswordModal:s}=o.cfd;var c;(await this.getMT5AccountKYCStatus(),n&&t===i.CFD_PLATFORMS.MT5)?this.selected_jurisdiction_kyc_status&&null!==(c=Object.keys(this.selected_jurisdiction_kyc_status))&&void 0!==c&&c.length?this.setVerificationModalOpen(!0):s():t===i.CFD_PLATFORMS.DXTRADE?s():await a($t($t({},e),{},{platform:t}))}openModal(e,t={}){this.modal_data={active_modal:e,data:t}}closeModal(){this.modal_data={active_modal:"",data:{}}}selectRealLoginid(e){const{accounts:t}=this.root_store.client;Object.keys(t).includes(e)&&(this.selected_loginid=e)}getAccount(){const{modules:e,common:t}=this.root_store,{account_type:r}=e.cfd,{platform:o}=t;this.is_demo?this.openDemoCFDAccount(r,o):this.openRealAccount(r,o)}getShortCodeAndRegion(e){let t;if(this.is_real&&!this.is_eu_user){var r,o,n;t=`${e.landing_company_short&&"svg"!==e.landing_company_short&&"bvi"!==e.landing_company_short&&"dml"!==e.landing_company_short?(null===(r=e.landing_company_short)||void 0===r?void 0:r.charAt(0).toUpperCase())+(null===(o=e.landing_company_short)||void 0===o?void 0:o.slice(1)):null===(n=e.landing_company_short)||void 0===n?void 0:n.toUpperCase()}`}return t}setCombinedCFDMT5Accounts(){var e;this.combined_cfd_mt5_accounts=[],null===(e=this.available_mt5_accounts)||void 0===e||e.forEach((e=>{const t=this.getExistingAccounts(e.platform,e.market_type,e.product);t.length>0?t.forEach((t=>{this.combined_cfd_mt5_accounts=[...this.combined_cfd_mt5_accounts,$t($t({},t),{},{icon:e.icon,sub_title:e.name,name:`${(0,i.formatMoney)(t.currency,t.display_balance,!0)} ${t.currency}`,short_code_and_region:e.product===i.PRODUCT.STP?"":this.getShortCodeAndRegion(t),platform:e.platform,description:t.display_login,key:`trading_app_card_${t.display_login}`,action_type:"multi-action",availability:this.selected_region,market_type:e.market_type,product:e.product,tracking_name:e.tracking_name})]})):this.combined_cfd_mt5_accounts=[...this.combined_cfd_mt5_accounts,{icon:e.icon,name:e.name,platform:e.platform,description:e.description,key:`trading_app_card_${e.name}`,action_type:"get",availability:this.selected_region,market_type:e.market_type,product:e.product,tracking_name:e.tracking_name}]}))}closeAccountTransferModal(){this.is_account_transfer_modal_open=!1}toggleAccountTransferModal(){this.is_account_transfer_modal_open=!this.is_account_transfer_modal_open}setVerificationModalOpen(e){this.is_verification_docs_list_modal_visible=e}showTopUpModal(e){const{ui:t,modules:r}=this.root_store,{openTopUpModal:o}=t,{setCurrentAccount:n}=r.cfd;n(e,{category:this.selected_account_type,type:e.market_type}),o()}toggleWalletsUpgrade(e){this.is_real_wallets_upgrade_on=e}setWalletsMigrationFailedPopup(e){this.is_wallet_migration_failed=e,e&&(0,C.logError)("Wallets migration failed popup",{loginid:this.root_store.client.loginid})}cleanup(){localStorage.getItem("active_loginid")&&(this.root_store.client.is_logged_in||"null"!==localStorage.getItem("active_loginid"))||(localStorage.removeItem("traders_hub_store"),this.setIsFinancialRestrictedCountry(!1),this.setIsCFDRestrictedCountry(!1),this.available_platforms=[])}setIsSetupRealAccountOrGoToDemoModalVisible(e){this.is_setup_real_account_or_go_to_demo_modal_visible=e}async getMT5AccountKYCStatus(){const{jurisdiction_selected_shortcode:e,product:t}=this.root_store.modules.cfd,{trading_platform_available_accounts:r}=await i.WS.authorized.tradingPlatformAvailableAccounts(i.CFD_PLATFORMS.MT5),{mt5_login_list:o}=await i.WS.authorized.mt5LoginList(),n=null==o?void 0:o.filter((r=>r.landing_company_short===e&&r.product===t&&r.account_type===this.selected_account_type));if(n.length){var a,s;this.setSelectedJurisdictionKYCStatus(null!==(a=null===(s=n[0])||void 0===s?void 0:s.client_kyc_status)&&void 0!==a?a:{})}else{const o=null==r?void 0:r.filter((r=>r.shortcode===e&&r.product===t&&"true"===r.is_default_jurisdiction));var c,l;if(o.length)this.setSelectedJurisdictionKYCStatus(null!==(c=null===(l=o[0])||void 0===l?void 0:l.client_kyc_status)&&void 0!==c?c:{});else this.setSelectedJurisdictionKYCStatus({})}}}class Gt{constructor(){this.client=new G(this),this.common=new te(this),this.modules=new ae(this),this.ui=new Te(this),this.gtm=new ie(this),this.notifications=new Ae(this),this.active_symbols=new Ne(this),this.portfolio=new Ue(this),this.contract_replay=new Bt(this),this.contract_trade=new Ut(this),this.chart_barrier_store=new i.ChartBarrierStore(this),this.traders_hub=new Ht(this)}}(0,u.configure)({enforceActions:"observed",isolateGlobalState:!0});const Yt=(e,t)=>{const r=window.location.search,o=new URLSearchParams(r);if(((e,t)=>{"signup"===t.get("action")&&(0,i.startPerformanceEventTimer)("signup_time"),t.get("acct1")&&(0,i.startPerformanceEventTimer)("login_time"),"deriv_com"===t.get("redirect_from")&&((0,i.startPerformanceEventTimer)("redirect_from_deriv_com_time"),history.replaceState(null,null,window.location.href.replace(`${e}`,(0,i.excludeParamsFromUrlQuery)(e,["redirect_from"]))))})(r,o),"signup"===o.get("action")){const e=localStorage.getItem("config.server_url"),t=localStorage.getItem("config.app_id");localStorage.clear(),e&&localStorage.setItem("config.server_url",e),t&&localStorage.setItem("config.app_id",t)}const n=new Gt;return(e=>{window.addEventListener("storage",(t=>{switch(t.key){case"client.accounts":{var r,o;const n=e.client.loginid,i=null===(r=JSON.parse(t.newValue))||void 0===r||null===(r=r[n])||void 0===r?void 0:r.currency,a=null===(o=JSON.parse(t.oldValue))||void 0===o||null===(o=o[n])||void 0===o?void 0:o.currency;document.hidden&&i&&a!==i&&e.client.updateAccountCurrency(i,!1);break}case"active_loginid":"null"!==localStorage.getItem("active_loginid")&&localStorage.getItem("active_loginid")||e.client.logout(),document.hidden&&window.location.reload()}}))})(n),m.init(n),n.client.init(t),n.common.init(),n.ui.init(e),n};var Kt=r(140994),qt=r(813665),Jt=r(822833),Zt=r(438295),Xt=r(819178),Qt=r.n(Xt),er=r(905719),tr=r.n(er),rr=r(285585),or=r(69141),nr=r(321709);const ir={dxtrade:()=>(0,y.localize)("Deriv X"),mt5:()=>(0,y.localize)("MT5"),mt5_cfds:()=>(0,y.localize)("MT5 CFDs"),ctrader:()=>(0,y.localize)("Deriv cTrader"),cfd:()=>(0,y.localize)("CFDs"),synthetic:()=>(0,y.localize)("Standard"),synthetic_demo:()=>(0,y.localize)("Standard Demo"),synthetic_bvi:()=>(0,y.localize)("Standard BVI"),synthetic_svg:()=>(0,y.localize)("Standard SVG"),synthetic_v:()=>(0,y.localize)("Standard Vanuatu"),financial:()=>(0,y.localize)("Financial"),financial_demo:()=>(0,y.localize)("Financial Demo"),financial_bvi:()=>(0,y.localize)("Financial BVI"),stp:()=>(0,y.localize)("Financial Labuan"),financial_v:()=>(0,y.localize)("Financial Vanuatu"),financial_svg:()=>(0,y.localize)("Financial SVG"),all_swap_free_demo:()=>(0,y.localize)("Swap-Free Demo"),all_zero_spread_demo:()=>(0,y.localize)("Zero Spread Demo"),all_swap_free_svg:()=>(0,y.localize)("Swap-Free SVG"),all_zero_spread_bvi:()=>(0,y.localize)("Zero Spread BVI"),gold:()=>(0,y.localize)("Gold"),gold_bvi:()=>(0,y.localize)("Gold BVI"),gold_v:()=>(0,y.localize)("Gold Vanuatu"),gold_dml:()=>(0,y.localize)("Gold DML")},ar={empty_address:()=>(0,y.localize)("This field is required"),empty_barrier:()=>(0,y.localize)("Barrier is a required field."),address:()=>(0,y.localize)("Use only the following special characters: {{permitted_characters}}",{permitted_characters:i.address_permitted_special_characters_message,interpolation:{escapeValue:!1}}),barrier:()=>(0,y.localize)("Should be a valid number."),email:()=>(0,y.localize)("Invalid email address."),general:()=>(0,y.localize)("Only letters, numbers, space, hyphen, period, and apostrophe are allowed."),name:()=>(0,y.localize)("Letters, spaces, periods, hyphens, apostrophes only."),password:()=>(0,y.localize)("Password should have lower and uppercase English letters with numbers."),po_box:()=>(0,y.localize)("P.O. Box is not accepted in address"),phone:()=>(0,y.localize)("Please enter a valid phone number (e.g. +15417541234)."),postcode:()=>(0,y.localize)("Only letters, numbers, space and hyphen are allowed."),signup_token:()=>(0,y.localize)("The length of token should be 8."),tax_id:()=>(0,y.localize)("Should start with letter or number, and may contain hyphen and underscore."),number:()=>(0,y.localize)("Should be a valid number."),decimalPlaces:e=>(0,y.localize)("Up to {{decimal_count}} decimal places are allowed.",{decimal_count:e}),value:e=>(0,y.localize)("Should be {{value}}",{value:e}),betweenMinMax:(e,t)=>(0,y.localize)("Should be between {{min_value}} and {{max_value}}",{min_value:e,max_value:t}),minNumber:e=>(0,y.localize)("Should be more than {{min_value}}",{min_value:e}),maxNumber:e=>(0,y.localize)("Should be less than {{max_value}}",{max_value:e}),password_warnings:{use_a_few_words:()=>(0,y.localize)("Use a few words, avoid common phrases"),no_need_for_mixed_chars:()=>(0,y.localize)("No need for symbols, digits, or uppercase letters"),uncommon_words_are_better:()=>(0,y.localize)("Add another word or two. Uncommon words are better."),straight_rows_of_keys_are_easy:()=>(0,y.localize)("Straight rows of keys are easy to guess"),short_keyboard_patterns_are_easy:()=>(0,y.localize)("Short keyboard patterns are easy to guess"),use_longer_keyboard_patterns:()=>(0,y.localize)("Use a longer keyboard pattern with more turns"),repeated_chars_are_easy:()=>(0,y.localize)('Repeats like "aaa" are easy to guess'),repeated_patterns_are_easy:()=>(0,y.localize)('Repeats like "abcabcabc" are only slightly harder to guess than "abc"'),avoid_repeated_chars:()=>(0,y.localize)("Avoid repeated words and characters"),sequences_are_easy:()=>(0,y.localize)("Sequences like abc or 6543 are easy to guess"),avoid_sequences:()=>(0,y.localize)("Avoid sequences"),recent_years_are_easy:()=>(0,y.localize)("Recent years are easy to guess"),avoid_recent_years:()=>(0,y.localize)("Avoid recent years"),avoid_associated_years:()=>(0,y.localize)("Avoid years that are associated with you"),dates_are_easy:()=>(0,y.localize)("Dates are often easy to guess"),avoid_associated_dates_and_years:()=>(0,y.localize)("Avoid dates and years that are associated with you"),top10_common_password:()=>(0,y.localize)("This is a top-10 common password"),top100_common_password:()=>(0,y.localize)("This is a top-100 common password"),very_common_password:()=>(0,y.localize)("This is a very common password"),similar_to_common_password:()=>(0,y.localize)("This is similar to a commonly used password"),a_word_is_easy:()=>(0,y.localize)("A word by itself is easy to guess"),names_are_easy:()=>(0,y.localize)("Names and surnames by themselves are easy to guess"),common_names_are_easy:()=>(0,y.localize)("Common names and surnames are easy to guess"),capitalization_doesnt_help:()=>(0,y.localize)("Capitalization doesn't help very much"),all_uppercase_doesnt_help:()=>(0,y.localize)("All-uppercase is almost as easy to guess as all-lowercase"),reverse_doesnt_help:()=>(0,y.localize)("Reversed words aren't much harder to guess"),substitution_doesnt_help:()=>(0,y.localize)("Predictable substitutions like '@' instead of 'a' don't help very much"),user_dictionary:()=>(0,y.localize)("This password is on the blacklist")}};var sr=r(291218),cr=r(8531),lr=r(317691),ur=r(140980),dr=r(488814),_r=r(418679),pr=r(974777),hr=r(413852),mr=r(414646),fr=r(331694),gr=r(919796),br=r(451309),vr=r(790236);const yr=e=>{var t,r;if(!e)return;const o="",n="",{dataDogSessionSampleRate:i=0,dataDogSessionReplaySampleRate:a=0,dataDogVersion:s="",dataDogEnv:c="",serviceName:l=""}=null!==(t="production"===(u=null!==(r="production")?r:"")?{serviceName:"app.deriv.com",dataDogVersion:"deriv-app-undefined",dataDogSessionReplaySampleRate:Number(1),dataDogSessionSampleRate:Number(10),dataDogEnv:"production"}:"staging"===u?{serviceName:"staging-app.deriv.com",dataDogVersion:"deriv-app-staging-vundefined",dataDogSessionReplaySampleRate:0,dataDogSessionSampleRate:100,dataDogEnv:"staging"}:void 0)&&void 0!==t?t:{};var u;vr.L.init({applicationId:o,clientToken:n,site:"datadoghq.com",service:l,env:c,sessionSampleRate:i,sessionReplaySampleRate:a,trackUserInteractions:!0,trackResources:!0,trackLongTasks:!0,defaultPrivacyLevel:"mask-user-input",version:s,enableExperimentalFeatures:["clickmap"],beforeSend:e=>{if("resource"===e.type&&(e.resource.url=e.resource.url.replace(/^https:\/\/api\.telegram\.org\/[a-zA-Z0-9]+(\?[a-zA-Z0-9_=&]+)?$/,"telegram token=REDACTED"),e.resource.url.match(/^https:\/\/eu\.deriv\.com\/ctrader-login[a-zA-Z0-9&?=]*$/))){const t=function(e){const t=e.indexOf("acct1=")+6,r=e.indexOf("&",t);return-1===r?e.substring(t):e.substring(t,r)}(e.resource.url);e.resource.url=e.resource.url.replace(/^https:\/\/eu\.deriv\.com\/ctrader-login[a-zA-Z0-9&?=]*$/,`https://eu.deriv.com/ctrader-login?acct1=${t}&token1=redacted`)}return!0}})},Dr=e=>{(function(t,r,o,n,a){t.hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},t._hjSettings={hjid:3050531,hjsv:6};const s=r.getElementsByTagName("head")[0],c=r.createElement("script");c.async=1,c.src="https://static.hotjar.com/c/hotjar-"+t._hjSettings.hjid+".js?sv="+t._hjSettings.hjsv,s.appendChild(c);const l=e.loginid,u=e.is_virtual?"Demo":"Real",d=e.account_open_date?(0,i.epochToMoment)(e.account_open_date):void 0;window.hj("identify",l,{"Account created":d?(0,i.toMoment)(d).format("YYYY-MM-DD"):"","Account type":u,"Passkey usage":!(null===(a=e.passkeys_list)||void 0===a||!a.length),"User country":e.clients_country})})(window,document)};var wr=r(445315);class Cr extends n.Component{constructor(e){super(e),this.componentDidCatch=(e,t)=>{window.TrackJS&&window.TrackJS.console.log(this.props.root_store),this.setState({hasError:!0,error:e,info:t})},this.render=()=>this.state.hasError?(0,ye.jsx)(wr.default,{should_show_refresh:!0}):this.props.children,this.state={hasError:!1}}}Cr.propTypes={root_store:Qe().object,children:Qe().oneOfType([Qe().string,Qe().arrayOf(Qe().node),Qe().node])};const Ar=Cr,xr=["styles"];function Er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(r),!0).forEach((function(t){Or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Or(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Sr=e=>{let{styles:t={}}=e,r=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,xr);return(0,ye.jsxs)("svg",jr(jr({xmlns:"http://www.w3.org/2000/svg",width:"80",height:"62",fill:"none"},r),{},{children:[(0,ye.jsx)("path",{fill:"#85ACB0",d:"M52.3 62H9.24a9.2 9.2 0 01-6.52-2.73A9.35 9.35 0 010 52.7V9.3a9.34 9.34 0 012.7-6.57A9.2 9.2 0 019.24 0h61.54a9.2 9.2 0 016.52 2.73A9.35 9.35 0 0180 9.3v24.8a3.1 3.1 0 01-1.54 2.69 3.06 3.06 0 01-3.07 0 3.1 3.1 0 01-1.54-2.69V9.3a3.12 3.12 0 00-.9-2.19 3.07 3.07 0 00-2.18-.91H9.23a3.07 3.07 0 00-2.17.91 3.12 3.12 0 00-.9 2.19v43.4a3.1 3.1 0 00.9 2.19 3.07 3.07 0 002.17.91h43.08c1.1 0 2.11.59 2.66 1.55.55.96.55 2.14 0 3.1A3.07 3.07 0 0152.31 62"}),(0,ye.jsx)("path",{fill:"#FF444F",d:"M76.92 62h-12.3c-1.1 0-2.12-.6-2.67-1.55a3.12 3.12 0 010-3.1 3.07 3.07 0 012.66-1.55h9.24v-9.3c0-1.1.58-2.13 1.53-2.69a3.06 3.06 0 013.08 0A3.1 3.1 0 0180 46.5v12.4c0 .82-.32 1.61-.9 2.2a3.07 3.07 0 01-2.18.9M52.35 31.05h12.3c1.1 0 2.12.59 2.67 1.55.55.95.55 2.13 0 3.1a3.07 3.07 0 01-2.66 1.54h-9.23v9.3a3.1 3.1 0 01-1.54 2.69 3.06 3.06 0 01-3.08 0 3.1 3.1 0 01-1.54-2.68v-12.4c0-.83.33-1.61.9-2.2a3.07 3.07 0 012.18-.9"}),(0,ye.jsx)("path",{fill:"#85ACB0",d:"M33.85 18.6H3.08c-1.1 0-2.12-.6-2.67-1.55a3.12 3.12 0 010-3.1 3.07 3.07 0 012.67-1.55h30.77a3.07 3.07 0 002.17-.91 3.12 3.12 0 00.9-2.19V3.1c0-1.1.59-2.13 1.54-2.69a3.06 3.06 0 013.08 0 3.1 3.1 0 011.54 2.69v6.2a9.34 9.34 0 01-2.7 6.57 9.2 9.2 0 01-6.53 2.73z"}),(0,ye.jsx)("path",{fill:"#FF444F",d:"M76.92 62a3.06 3.06 0 01-2.17-.9L54.66 40.84c-.76-.79-1.04-1.92-.76-2.97a3.09 3.09 0 012.16-2.17 3.06 3.06 0 012.95.76L79.1 56.7a3.11 3.11 0 010 4.38 3.06 3.06 0 01-2.18.91"})]}))},Fr=(0,Ze.observer)((()=>{const{isMobile:e}=(0,gr.Y)(),t=(0,sr.useLocation)(),r=null==t?void 0:t.pathname,o=(0,i.isDisabledLandscapeBlockerRoute)(r),n=r===i.routes.trade&&i.isTabletOs;return!e&&(0,i.isMobileOs)()&&(r.startsWith(i.routes.trade)||r.startsWith(i.routes.reports)||r.startsWith(i.routes.bot)||r.startsWith("/contract"))||!o&&!n?(0,ye.jsxs)("div",{id:"landscape_blocker",className:"landscape-blocker",children:[(0,ye.jsx)("div",{className:"landscape-blocker__icon",children:(0,ye.jsx)(Sr,{})}),(0,ye.jsx)("div",{className:"landscape-blocker__message--landscape",children:"Please adjust your screen size for optimal viewing."}),(0,ye.jsxs)("div",{className:"landscape-blocker__message--portrait",children:["Please adjust your ",(0,ye.jsx)("br",{}),"screen size for ",(0,ye.jsx)("br",{}),"optimal viewing."]})]}):null})),kr=["key","content"];function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){Nr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Lr=(0,Ze.observer)((()=>{const{ui:e}=(0,mr.A)(),{toasts:t,removeToast:r}=e;if(0===t.length)return null;const n=t.filter((e=>!e.is_bottom)),i=t.filter((e=>e.is_bottom)),a=e=>{const{key:t,content:o}=e,n=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,kr);return(0,ye.jsx)(le.Toast,Tr(Tr({},n),{},{onClose:()=>r(t),children:o}),t)},s=(0,ye.jsxs)(le.Div100vhContainer,{className:"toast-messages",height_offset:"15px",children:[(0,ye.jsx)("div",{className:"toast-messages__top",children:n.map(a)}),(0,ye.jsx)("div",{className:"toast-messages__bottom",children:i.map(a)})]});return o.createPortal(s,document.getElementById("popup_root"))})),Ir=({onAccept:e,onDecline:t,is_open:r,is_dark_mode:o})=>(0,ye.jsxs)("div",{className:Je()("cookie-banner",{"cookie-banner--is-closed":!r,"cookie-banner--theme-dark":o}),children:[(0,ye.jsxs)("div",{className:"description",children:[(0,ye.jsx)(y.Localize,{i18n_default_text:"Cookies help us to give you a better experience and personalised content on our site."}),(0,ye.jsx)("br",{}),(0,ye.jsx)(y.Localize,{i18n_default_text:"If you agree to our use of cookies, click on Accept. For more information, <0>see our policy</0>.",components:[(0,ye.jsx)(le.StaticUrl,{className:"link link--red",href:"/terms-and-conditions",is_eu_url:!0},0)]})]}),(0,ye.jsx)(le.Button,{className:"cookie-banner__btn-dont-accept",secondary:!0,onClick:t,children:(0,y.localize)("Don’t accept")}),(0,ye.jsx)(le.Button,{id:"dt_core_cookie-banner_accept-btn",className:"cookie-banner__btn-accept",secondary:!0,onClick:e,children:(0,y.localize)("Accept")})]});Ir.prototype={is_dark_mode:Qe().bool,is_open:Qe().bool,onAccept:Qe().func,onDecline:Qe().func};const Br=Ir,Rr=new i.CookieStorage(i.TRACKING_STATUS_KEY),Mr=(0,Ze.observer)((({children:e})=>{const[t,r]=n.useState(!1),[o,a]=n.useState(!1),{client:s,common:{platform:c,is_from_tradershub_os:l},gtm:{pushDataLayer:u},ui:d}=(0,mr.A)(),{isDesktop:_,isMobile:p}=(0,gr.Y)(),h=(0,sr.useLocation)(),m=h.search.includes("access_denied"),{is_eu_country:f,is_logged_in:g,is_logging_in:b,should_redirect_user_to_login:v,setShouldRedirectToLogin:w}=s,{is_app_disabled:C,is_cashier_visible:A,is_cfd_page:x,is_positions_drawer_on:E,is_route_modal_on:j,notifyAppInstall:O,setAppContentsScrollRef:S,is_dark_mode_on:F}=d,k=Rr.get(i.TRACKING_STATUS_KEY),P=n.useRef(null),T=n.useRef(null),[N]=(0,dr.A)({featureFlag:"dtrader_v2_enabled"}),[L]=(0,dr.A)({featureFlag:"dtrader_v2_enabled_desktop"}),[I]=(0,dr.A)({featureFlag:"duplicate-login"});n.useEffect((()=>{v&&(w(!1),(0,i.redirectToLogin)(g,(0,y.getLanguage)()))}),[v,g,w]),n.useEffect((()=>{P.current&&S(P)}),[]),n.useEffect((()=>{var e,t,r;D.Analytics.pageView(window.location.href,{loggedIn:g,device_type:p?"mobile":"desktop",network_rtt:null===(e=navigator)||void 0===e||null===(e=e.connection)||void 0===e?void 0:e.rtt,network_type:null===(t=navigator)||void 0===t||null===(t=t.connection)||void 0===t?void 0:t.effectiveType,network_downlink:null===(r=navigator)||void 0===r||null===(r=r.connection)||void 0===r?void 0:r.downlink})}),[window.location.href]),n.useEffect((()=>{(!f||"accepted"===k)&&!o&&(u({event:"allow_tracking"}),a(!0))}),[o,f,u,k]),n.useEffect((()=>{k||g||b||i.WS.wait("website_status").then((()=>{r(f)}))}),[k,g,f,b]),n.useEffect((()=>{T.current&&(T.current.scrollTop=0)}),[null==h?void 0:h.pathname]),n.useEffect((()=>{const e=e=>{e.preventDefault(),O(e)};return window.addEventListener("beforeinstallprompt",e),()=>window.removeEventListener("beforeinstallprompt",e)}),[O]);return(0,ye.jsxs)("div",{id:"app_contents",className:Je()("app-contents",{"app-contents--show-positions-drawer":E,"app-contents--is-disabled":C,"app-contents--is-mobile":p,"app-contents--is-route-modal":j,"app-contents--is-scrollable":x||A,"app-contents--is-hidden":I&&m||i.platforms[c]&&!(l&&p),"app-contents--is-onboarding":window.location.pathname===i.routes.onboarding,"app-contents--is-dtrader-v2":N||L}),ref:P,children:[p&&e,!p&&(window.location.pathname===i.routes.onboarding?(0,ye.jsx)(le.ThemedScrollbars,{style:{maxHeight:"",height:"100%"},refSetter:T,children:e}):(0,ye.jsx)(le.ThemedScrollbars,{height:_?"calc(100vh - 84px)":void 0,has_horizontal:!0,refSetter:T,children:e})),t&&(0,ye.jsx)(Br,{onAccept:()=>{Rr.set(i.TRACKING_STATUS_KEY,"accepted",{sameSite:"none",secure:!0}),u({event:"allow_tracking"}),r(!1),a(!0)},onDecline:()=>{Rr.set(i.TRACKING_STATUS_KEY,"declined",{sameSite:"none",secure:!0}),r(!1)},is_open:t,is_dark_mode:F})]})}));Mr.propTypes={children:Qe().any};const zr=(0,sr.withRouter)(Mr);var Ur=r(211509),Wr=r(597351),$r=r(206022),Vr=r(223753);const Hr=["styles"];function Gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(r),!0).forEach((function(t){Kr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const qr=e=>{let{styles:t={}}=e,r=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Hr);return(0,ye.jsx)("svg",Yr(Yr({width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),{},{children:(0,ye.jsx)("path",{d:"M8 12a4 4 0 110-8 4 4 0 010 8zm0-7C6.35 5 5 6.35 5 8s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3zm.5-2.5v-2C8.5.22 8.28 0 8 0s-.5.22-.5.5v2c0 .28.22.5.5.5s.5-.22.5-.5zm3.74 1.96l1.11-1.11a.5.5 0 000-.71.5.5 0 00-.71 0l-1.11 1.11a.5.5 0 000 .71.48.48 0 00.7 0h.01zm1.11 8.89a.5.5 0 000-.71l-1.11-1.11a.5.5 0 00-.71 0 .5.5 0 000 .71l1.11 1.11a.48.48 0 00.7 0h.01zm-10 0l1.11-1.11a.5.5 0 000-.71.5.5 0 00-.71 0l-1.11 1.11a.5.5 0 000 .71.48.48 0 00.7 0h.01zm1.11-8.89a.5.5 0 000-.71L3.35 2.64a.5.5 0 00-.71 0 .5.5 0 000 .71l1.11 1.11a.48.48 0 00.7 0h.01zM16 8a.5.5 0 00-.5-.5h-2c-.28 0-.5.22-.5.5s.22.5.5.5h2A.5.5 0 0016 8zm-7.5 7.5v-2c0-.28-.22-.5-.5-.5s-.5.22-.5.5v2c0 .28.22.5.5.5s.5-.22.5-.5zM3 8a.5.5 0 00-.5-.5h-2c-.28 0-.5.22-.5.5s.22.5.5.5h2A.5.5 0 003 8z",fill:"#333"})}))},Jr=["styles"];function Zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(r),!0).forEach((function(t){Qr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const eo=e=>{let{styles:t={}}=e,r=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Jr);return(0,ye.jsx)("svg",Xr(Xr({width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),{},{children:(0,ye.jsx)("path",{d:"M8 16a8 8 0 01-7.72-5.93.48.48 0 01.13-.48.53.53 0 01.48-.13A6.99 6.99 0 009.45.9a.48.48 0 01.13-.48c.13-.13.31-.18.48-.13a8.01 8.01 0 015.93 7.72c0 4.41-3.59 8-8 8L8 16zm-6.49-5.39A7 7 0 008 15a7 7 0 002.61-13.49 7.98 7.98 0 01-9.1 9.1z",fill:"#C2C2C2"})}))},to=()=>(0,ye.jsx)("div",{className:"footer-icon-separator"}),ro=(e,t)=>{const{Component:r}=e;return(0,ye.jsxs)(n.Fragment,{children:[e.has_left_separator&&(0,ye.jsx)(to,{}),(0,ye.jsx)(r,{}),e.has_right_separator&&(0,ye.jsx)(to,{})]},`footer-link-${e.position}-${t}`)},oo=(0,Ze.observer)((()=>{const{client:e,common:t,ui:r,traders_hub:o}=(0,mr.A)(),{show_eu_related_content:n}=o,{has_wallet:a,is_logged_in:s,is_eu:c,landing_company_shortcode:l,is_virtual:u}=e,{current_language:d}=t,{enableApp:_,footer_extensions:p,settings_extension:h,is_app_disabled:m,is_route_modal_on:f,is_settings_modal_on:g,is_language_settings_modal_on:b,disableApp:v,toggleSettingsModal:D,toggleLanguageSettingsModal:w,is_dark_mode_on:C,setDarkMode:A}=r;let x=[],E=[];p.filter&&(x=p.filter((e=>"left"===e.position)),E=p.filter((e=>"right"===e.position)));const j=()=>{A(!C)},O=window.location.pathname,{data:S}=(0,cr.A)(!0),{cs_chat_livechat:F,cs_chat_whatsapp:k}=S,P=!i.isTabletOs,T=C?(0,ye.jsx)(eo,{onClick:j}):(0,ye.jsx)(qr,{onClick:j});return(0,ye.jsxs)("footer",{className:Je()("footer",{"footer--is-disabled":m||f}),children:[x.length>0&&(0,ye.jsx)("div",{className:"footer__links footer__links--left",children:x.map(ro)}),(0,ye.jsx)(Ur.Ij,{}),(0,ye.jsx)(Ur.Ay,{}),(0,ye.jsx)(to,{}),(0,ye.jsx)(Vr.A,{}),(0,ye.jsx)(to,{}),(0,ye.jsxs)("div",{className:"footer__links",children:[E.map(ro),k&&(0,ye.jsx)($r.A,{showPopover:P}),F&&(0,ye.jsx)(Wr.A,{showPopover:P}),(0,ye.jsx)(Ur.WO,{showPopover:P}),s&&(0,ye.jsx)(Ur.qI,{showPopover:P}),s&&!u&&(0,ye.jsx)(Ur.Hg,{landing_company:l,is_eu:c,show_eu_related_content:n,showPopover:P}),!a&&(0,ye.jsx)("div",{className:"footer__links--dark-mode",children:P?(0,ye.jsx)(le.Popover,{alignment:"top",message:(0,y.localize)("Change theme"),zIndex:9999,children:T}):T}),(0,ye.jsx)(to,{}),(0,ye.jsx)(Ur.nX,{showPopover:P}),O===i.routes.trade&&(0,ye.jsx)(Ur.AL,{is_settings_visible:g,toggleSettings:D,disableApp:v,enableApp:_,settings_extension:h,showPopover:P}),(0,ye.jsx)(Ur.aZ,{is_settings_visible:b,toggleSettings:w,lang:d,showPopover:P}),(0,ye.jsx)(Ur.An,{showPopover:P})]})]})}));oo.propTypes={location:Qe().object};const no=(0,sr.withRouter)(oo),io=()=>{const{isDesktop:e,isTablet:t}=(0,gr.Y)(),{pathname:r}=(0,sr.useLocation)(),o=(0,i.isDisabledLandscapeBlockerRoute)(r),n=r===i.routes.trade,a=[i.routes.contract];return r===i.routes.onboarding?null:o||n?e||t&&a.includes(r)?(0,ye.jsx)(no,{}):null:(0,ye.jsx)(le.DesktopWrapper,{children:(0,ye.jsx)(no,{})})};var ao=r(592129);const so=()=>(0,ye.jsx)("div",{className:Je()("header")}),co=(0,i.makeLazyLoader)((()=>(0,i.moduleLoader)((()=>Promise.all([r.e(3195),r.e(3317)]).then(r.bind(r,289295))))),(()=>(0,ye.jsx)(so,{})))(),lo=(0,i.makeLazyLoader)((()=>(0,i.moduleLoader)((()=>Promise.all([r.e(3195),r.e(5788)]).then(r.bind(r,268149))))),(()=>(0,ye.jsx)(so,{})))(),uo=(0,Ze.observer)((()=>{const{client:e}=(0,mr.A)(),{accounts:t,has_wallet:r,is_logged_in:o,setAccounts:a,loginid:s,switchAccount:c}=e,{pathname:l}=(0,sr.useLocation)(),u=(0,ao.QH)("client.accounts");return n.useEffect((()=>{if(r&&o){const e=Object.keys(null!=t?t:{});Object.keys(null!=u?u:{}).length>e.length&&a(u)}}),[t,u,r,o,s,a,c]),l===i.routes.onboarding?null:r?(0,ye.jsx)(lo,{}):(0,ye.jsx)(co,{})}));var _o=r(422692),po=r(702001),ho=r(478784);const mo=(0,Ze.observer)((()=>{const{ui:e,traders_hub:t}=(0,mr.A)(),{is_eu_user:r}=t,{is_deriv_account_needed_modal_visible:o,openDerivRealAccountNeededModal:n,disableApp:i,enableApp:a,openRealAccountSignup:s}=e;return(0,ye.jsx)(le.Dialog,{className:"open-real-account-dialog",title:(0,y.localize)("You’ll need a Deriv account"),confirm_button_text:(0,y.localize)("Add Deriv Account"),onConfirm:()=>{r?(n(),s("maltainvest")):(n(),s("svg"))},cancel_button_text:(0,y.localize)("Cancel"),onCancel:n,is_closed_on_cancel:!0,disableApp:i,enableApp:a,is_closed_on_confirm:!0,is_visible:o,children:(0,y.localize)("A Deriv account will allow you to fund (and withdraw from) your CFDs account(s).")})})),fo=(0,Ze.observer)((()=>{const{client:e,ui:t}=(0,mr.A)(),{is_account_needed_modal_on:r,account_needed_modal_props:{target:o,target_label:n,target_dmt5_label:i},closeAccountNeededModal:a,disableApp:s,enableApp:c,openRealAccountSignup:l}=t,{is_eu:u}=e,d=u?(0,y.localize)("CFDs"):(0,y.localize)("Deriv MT5"),_=u?(0,y.localize)("Deriv Multipliers"):(0,y.localize)("Deriv");return(0,ye.jsx)(le.Dialog,{title:(0,y.localize)("You’ll need a {{deriv_account}} account",{deriv_account:n}),confirm_button_text:(0,y.localize)("Add {{deriv_account}} account",{deriv_account:n}),onConfirm:()=>{a(),l(o)},cancel_button_text:(0,y.localize)("Cancel"),onCancel:a,is_closed_on_cancel:!0,disableApp:s,enableApp:c,is_closed_on_confirm:!0,is_visible:r,children:(0,ye.jsx)(y.Localize,{i18n_default_text:"Please add a {{deriv_account}} account first before adding a {{dmt5_account}} account. Deposits and withdrawals for your {{dmt5_label}} account are done by transferring funds to and from your {{deriv_label}} account.",values:{deriv_account:n,dmt5_account:i,dmt5_label:d,deriv_label:_}})})})),go=({is_logged_in:e,is_eu:t,portal_id:r})=>{const[a,s]=n.useState(!1),[c,l]=n.useState(""),u=()=>{s(!1)},d=r=>{const o="A"===r.target.tagName?r.target:r.target.closest("a");o&&(e=>{let t;try{t=new URL(e)}catch(e){return!1}return!(!t.host||new RegExp(`^.*\\.${(0,i.getCurrentProductionDomain)()||"binary\\.com"}$`).test(t.host)||new RegExp("^.*\\.binary\\.bot$").test(t.host)||/^www\.(betonmarkets|xodds)\.com$/.test(t.host)||/deriv.(app|com)/.test(t.host)||window.location.host===t.host)})(o.href)&&e&&t&&(r.preventDefault(),r.stopPropagation(),l(o.href),s(!0))};return n.useEffect((()=>(document.addEventListener("click",d),()=>{document.removeEventListener("click",d)})),[e,t]),o.createPortal((0,ye.jsx)(le.Dialog,{className:"redirect-notice",is_visible:a,title:"Redirect notice",cancel_button_text:(0,y.localize)("Cancel"),confirm_button_text:(0,y.localize)("Proceed"),onCancel:u,onConfirm:()=>{s(!1),window.open(c)},dismissable:u,children:(0,y.localize)("You are being redirected to an external website.")}),document.getElementById(r))};var bo=r(824223),vo=r(809003),yo=r(827173),Do=r(527088);const wo=["name","portal_id"];function Co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ao(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(r),!0).forEach((function(t){xo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Co(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Eo=e=>{let{name:t,portal_id:r}=e,o=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,wo);return(0,ye.jsx)(bo.Field,{name:t,children:({field:e,form:{setFieldValue:n},meta:{error:a,touched:s}})=>(0,ye.jsx)(le.DateOfBirthPicker,Ao(Ao(Ao({},o),e),{},{error:s?a:void 0,name:t,onChange:({target:e})=>n(t,null!=e&&e.value?(0,i.toMoment)(e.value).format("YYYY-MM-DD"):"",!0),portal_id:r}))})},jo=["name","warn"];function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach((function(t){Fo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ko=e=>{let{name:t,warn:r}=e,o=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,jo);return(0,ye.jsx)(bo.Field,{name:t,children:({field:e,form:{errors:t,touched:n,setFieldTouched:i}})=>(0,ye.jsx)(le.Input,So(So(So({},e),o),{},{type:"text",autoComplete:"off",error:n[e.name]&&t[e.name]?t[e.name]:void 0,warn:r,onChange:o.onChange||(t=>{!n[e.name]&&i(e.name),e.onChange(t)})}))})};var Po=r(965582);const{address:To,addressCity:No,postalCode:Lo,postalOfficeBoxNumber:Io}=w.tn.patterns,{addressPermittedSpecialCharacters:Bo}=w.tn.messagesHints,Ro=(e,t,r)=>Po.Ik({currency:Po.Yj().when([],{is:()=>r,then:e=>e.required(),otherwise:e=>e}),date_of_birth:Po.Yj().when([],{is:()=>!(null!=t&&t.date_of_birth),then:e=>e.required("Date of birth is required.").test({name:"validate_dob",test:e=>ce()(e).isValid()&&ce()(e).isBefore(ce()().subtract(18,"years")),message:(0,y.localize)("You must be 18 years old and above.")}),otherwise:e=>e}),citizen:Po.Yj().when([],{is:()=>!(null!=t&&t.citizen),then:e=>e.required((0,y.localize)("Citizenship is required.")),otherwise:e=>e}),address_city:Po.Yj().when([],{is:()=>!(null!=t&&t.address_city),then:e=>e.required((0,y.localize)("City is required")).max(99,(0,y.localize)("Only 99 characters, please.")).matches(No,(0,y.localize)("Only letters, periods, hyphens, apostrophes, and spaces, please.")),otherwise:e=>e}),address_line_1:Po.Yj().when([],{is:()=>!(null!=t&&t.address_line_1),then:t=>t.required((0,y.localize)("First line of address is required")).max(70,(0,y.localize)("Only 70 characters, please.")).matches(To,`${(0,y.localize)("Use only the following special characters:")} ${Bo}`).when({is:()=>e,then:Po.Yj().test("po_box",(0,y.localize)("P.O. Box is not accepted in address"),(e=>!Io.test(null!=e?e:"")))}),otherwise:e=>e}),address_line_2:Po.Yj().when([],{is:()=>!(null!=t&&t.address_line_2),then:t=>t.max(70,(0,y.localize)("Only 70 characters, please.")).matches(To,`${(0,y.localize)("Use only the following special characters:")} ${Bo}`).when({is:()=>e,then:Po.Yj().test("po_box",(0,y.localize)("P.O. Box is not accepted in address"),(e=>!Io.test(null!=e?e:"")))}),otherwise:e=>e}),address_postcode:Po.Yj().when([],{is:()=>!(null!=t&&t.address_postcode),then:e=>e.max(20,(0,y.localize)("Please enter a postal/ZIP code under 20 characters.")).matches(Lo,(0,y.localize)("Only letters, numbers, space and hyphen are allowed.")),otherwise:e=>e}),address_state:Po.Yj().when([],{is:()=>!(null!=t&&t.address_state),then:e=>e.matches(/^[\w\s\W'.;,-]{0,99}$/,(0,y.localize)("State is not in a proper format")),otherwise:e=>e})});function Mo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(r),!0).forEach((function(t){Uo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Uo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Wo=(0,Ze.observer)((({account_settings:e,residence:t,noCurrency:r=!1})=>{const{client:o,ui:a}=(0,mr.A)(),{getChangeableFields:s,is_svg:c,upgradeable_currencies:l,setAccountCurrency:u,available_crypto_currencies:d,has_fiat:_}=o,{is_complete_user_profile_modal_open:p,setShouldShowCompleteUserProfileModal:h}=a,{isDesktop:m}=(0,gr.Y)(),{data:f,isFetched:g}=(0,vo.A)(),b=s(),[v,D]=n.useState(""),[w,C]=n.useState(""),[A,x]=n.useState(!1),{data:E,isFetched:j}=(0,yo.A)(t),{citizen:O,date_of_birth:S,address_line_1:F,address_line_2:k,address_city:P,address_state:T,address_postcode:N}=e||{},L={currency:"",citizen:O||"",date_of_birth:S||"",address_line_1:F||"",address_line_2:k||"",address_city:P||"",address_state:T||"",address_postcode:N||""},I=!F||!P,B=new Set(d.map((e=>e.value))),R=l.filter((e=>String(e.type)===i.CURRENCY_TYPE.CRYPTO&&B.has(String(null==e?void 0:e.value)))),M=l.filter((e=>String(e.type)===i.CURRENCY_TYPE.FIAT)),z=(0,i.reorderCurrencies)(M,i.CURRENCY_TYPE.FIAT),U=(0,i.reorderCurrencies)(R,i.CURRENCY_TYPE.CRYPTO),W=_?[...U||[]]:[...z||[],...U||[]],$=(W||[]).map((e=>{const t=`IcCurrency${(0,i.capitalizeFirstLetter)(null==e?void 0:e.value.toLowerCase())}`;return zo(zo({},e),{},{text:(0,ye.jsxs)("div",{className:"complete-user-profile-modal__dropdown-list",children:[(0,ye.jsx)(le.Icon,{icon:t}),(0,ye.jsxs)(le.Text,{size:"xs",children:[e.name," (",e.value,")"]})]})})})),V=async(t,{setSubmitting:r,setStatus:o})=>{r(!0),t.currency&&x(!0);try{const r=((e,t,r)=>{const o=(0,i.filterObjProperties)(e,t);return o.currency&&delete o.currency,Object.keys(o).forEach((e=>{r&&void 0!==r[e]&&r[e]===o[e]&&delete o[e]})),o.date_of_birth&&(o.date_of_birth=(0,i.formatDate)(o.date_of_birth,"YYYY-MM-DD")),o})(t,b,e),a=await i.WS.setSettings(r);var n;if(null!=a&&a.error)return void o({error_message:null===(n=a.error)||void 0===n?void 0:n.code});if(t.currency){const e=W.find((e=>e.value===t.currency));if(!e)return void o({error_message:"Missing currency list"});await u(e.value)}h(!1)}catch(e){o({error_message:e.message||"An error occurred"})}finally{x(!1),r(!1)}};return(0,ye.jsx)(le.Modal,{is_open:p,title:(0,y.localize)("Complete your profile"),height:"auto",width:"440px",should_header_stick_body:!0,has_close_icon:!1,className:"complete-user-profile-modal",children:(0,ye.jsx)(le.AutoHeightWrapper,{default_height:m?625:500,children:({height:t})=>(0,ye.jsx)(le.ThemedScrollbars,{autohide:!1,height:t,children:(0,ye.jsx)(bo.Formik,{initialValues:L,validateOnMount:!0,onSubmit:V,validationSchema:Ro(c,e,r),initialStatus:{error_message:""},children:({handleSubmit:e,isSubmitting:t,values:o,setFieldValue:n,handleChange:i,setFieldTouched:a,isValid:s,status:c})=>(0,ye.jsxs)(bo.Form,{onSubmit:e,noValidate:!0,className:"complete-user-profile-modal__form",children:[(0,ye.jsx)(Do.v,{variant:c&&c.error_message?"error":"info",type:"filled",className:"complete-user-profile-modal__bottom-margin",children:(0,ye.jsx)(le.Text,{size:"xxxs",children:c&&c.error_message?(0,ye.jsx)(y.Localize,{i18n_default_text:"An error has occurred. Click Submit to try again."}):(0,ye.jsx)(y.Localize,{i18n_default_text:"To continue trading, provide your additional details below."})})}),(r||A)&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(le.Text,{weight:"bold",className:"complete-user-profile-modal__heading complete-user-profile-modal__bottom-margin",children:(0,ye.jsx)(y.Localize,{i18n_default_text:"Account currency"})}),$.length>0?(0,ye.jsx)(bo.Field,{name:"currency",children:({field:e})=>(0,ye.jsx)(le.Dropdown,zo(zo({},e),{},{className:"complete-user-profile-modal__bottom-margin-field",is_align_text_left:!0,list:$,placeholder:(0,y.localize)("Select currency*"),onChange:e=>{n("currency",e.target.value,!0),i(e)}}))}):(0,ye.jsx)(ko,{className:"complete-user-profile-modal__bottom-margin",name:"currency",label:(0,y.localize)("Select currency*"),placeholder:(0,y.localize)("Select currency*")})]}),!S&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(le.Text,{weight:"bold",className:"complete-user-profile-modal__heading complete-user-profile-modal__bottom-margin",children:(0,ye.jsx)(y.Localize,{i18n_default_text:"Personal details"})}),(0,ye.jsx)(Eo,{name:"date_of_birth",label:(0,y.localize)("Date of birth*"),hint:(0,y.localize)("Your date of birth as in your identity document."),portal_id:"modal_root",data_testid:"date_of_birth",placeholder:(0,y.localize)("01-07-1999"),className:"complete-user-profile-modal__bottom-margin-field",value:o.date_of_birth})]}),!O&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(le.Text,{weight:"bold",className:"complete-user-profile-modal__heading complete-user-profile-modal__bottom-margin",children:(0,ye.jsx)(y.Localize,{i18n_default_text:"Citizenship"})}),!g&&(0,ye.jsx)("div",{className:"details-form__loader",children:(0,ye.jsx)(le.Loading,{is_fullscreen:!1})}),(null==f?void 0:f.length)>0?(0,ye.jsx)(bo.Field,{name:"citizen",children:({field:e})=>(0,ye.jsx)(ye.Fragment,{children:m?(0,ye.jsx)(le.Autocomplete,zo(zo({},e),{},{"data-lpignore":"true",autoComplete:"none",type:"text",label:(0,y.localize)("Citizenship*"),list_items:f,onItemSelection:({value:e,text:t})=>{n("citizen",e,!0),C(t)},list_portal_id:"modal_root",hint:(0,y.localize)("Select your citizenship/nationality as it appears on your passport or other government-issued ID"),className:"complete-user-profile-modal__bottom-margin-field",value:w||o.citizen,required:!0,onChange:t=>{w&&C(""),n("citizen","",!1),e.onChange(t)},onBlur:t=>{var r;!t.target.value&&o.citizen&&C((null===(r=f.find((e=>e.value===o.citizen)))||void 0===r?void 0:r.text)||o.citizen);e.onBlur(t)}})):(0,ye.jsx)(le.SelectNative,zo(zo({},e),{},{placeholder:(0,y.localize)("Citizenship"),label:(0,y.localize)("Citizenship*"),list_items:f,onChange:e=>{i(e),n("citizen",e.target.value,!0),C(e.target.text)},hint:(0,y.localize)("Select your citizenship/nationality as it appears on your passport or other government-issued ID"),className:"complete-user-profile-modal__bottom-margin-field",required:!0}))})}):(0,ye.jsx)(ko,{className:"complete-user-profile-modal__bottom-margin-field",name:"address_state",label:(0,y.localize)("Citizenship*"),placeholder:(0,y.localize)("Citizenship"),hint:(0,y.localize)("Select your citizenship/nationality as it appears on your passport or other government-issued ID"),required:!0})]}),I&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(le.Text,{weight:"bold",className:"complete-user-profile-modal__heading complete-user-profile-modal__bottom-margin",children:(0,ye.jsx)(y.Localize,{i18n_default_text:"Address details"})}),(0,ye.jsxs)("div",{children:[!F&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(ko,{name:"address_line_1",required:!0,label:(0,y.localize)("First line of address*"),maxLength:255,placeholder:(0,y.localize)("First line of address")}),(0,ye.jsx)(ko,{name:"address_line_2",label:(0,y.localize)("Second line of address"),maxLength:255,placeholder:(0,y.localize)("Second line of address")})]}),!P&&(0,ye.jsx)(ko,{name:"address_city",required:!0,label:(0,y.localize)("Town/City*"),placeholder:(0,y.localize)("Town/City")}),!T&&(0,ye.jsxs)(ye.Fragment,{children:[!j&&(0,ye.jsx)("div",{className:"details-form__loader",children:(0,ye.jsx)(le.Loading,{is_fullscreen:!1})}),(null==E?void 0:E.length)>0?(0,ye.jsx)(bo.Field,{name:"address_state",children:({field:e})=>(0,ye.jsx)(ye.Fragment,{children:m?(0,ye.jsx)(le.Autocomplete,zo(zo({},e),{},{"data-lpignore":"true",autoComplete:"off",label:(0,y.localize)("State/Province"),list_items:E,onItemSelection:({value:e,text:t})=>{n("address_state",e?t:"",!0),D("")},list_portal_id:"modal_root",className:"complete-user-profile-modal__bottom-margin"})):(0,ye.jsx)(le.SelectNative,{placeholder:(0,y.localize)("Please select"),label:(0,y.localize)("State/Province"),value:v||o.address_state,list_items:E,use_text:!0,onChange:e=>{n("address_state",e.target.value,!0),D("")},className:"complete-user-profile-modal__bottom-margin"})})}):(0,ye.jsx)(ko,{name:"address_state",label:(0,y.localize)("State/Province"),placeholder:(0,y.localize)("State/Province"),className:"complete-user-profile-modal__bottom-margin"})]}),!N&&(0,ye.jsx)(ko,{name:"address_postcode",label:(0,y.localize)("Postal/ZIP Code"),placeholder:(0,y.localize)("Postal/ZIP Code"),onChange:e=>{a("address_postcode",!0),i(e)}})]})]}),(0,ye.jsx)(le.Modal.Footer,{className:"complete-user-profile-modal__footer",children:(0,ye.jsx)(le.FormSubmitButton,{label:(0,y.localize)("Submit"),disabled:t||!s,is_loading:t,className:"complete-user-profile-modal__submit-button"})})]})})})})})})),$o=(0,Ze.observer)((()=>{const{ui:e}=(0,mr.A)(),{should_show_assessment_complete_modal:t,setShouldShowAssessmentCompleteModal:r}=e;return(0,ye.jsxs)(le.Modal,{width:"44rem",has_close_icon:!1,className:"center-risk-modal",is_open:t,children:[(0,ye.jsxs)(le.Modal.Body,{children:[(0,ye.jsx)(le.Icon,{icon:"IcVerificationSuccess",color:"green",size:80}),(0,ye.jsx)(le.Text,{as:"p",align:"center",weight:"bold",className:"verified-account__text",children:(0,ye.jsx)(y.Localize,{i18n_default_text:"Assessment Completed<0/><0/>",components:[(0,ye.jsx)("br",{},0)]})}),(0,ye.jsx)(le.Text,{as:"p",size:"xs",align:"center",children:(0,ye.jsx)(y.Localize,{i18n_default_text:"Thank you! Your response has been recorded into our system.<0/><0/>Please click ‘OK’ to continue.",components:[(0,ye.jsx)("br",{},0)]})})]}),(0,ye.jsx)(le.Modal.Footer,{children:(0,ye.jsx)(le.Button,{type:"button",large:!0,text:(0,y.localize)("OK"),primary:!0,onClick:()=>{r(!1)}})})]})})),Vo=(0,Ze.observer)((()=>{const{client:e,ui:t}=(0,mr.A)(),{real_account_creation_unlock_date:r}=e,{should_show_cooldown_modal:o,setShouldShowCooldownModal:n}=t,a=(0,i.formatDate)(r,"DD MMMM"),s=(0,i.formatTime)(r,"hh:mm [GMT]"),c=(0,y.localize)("{{unblock_date}} at {{unblock_time}}",{unblock_date:a,unblock_time:s});return(0,ye.jsxs)(le.Modal,{width:"44rem",title:(0,y.localize)("Account creation paused for 24 hours"),is_open:o,toggleModal:()=>n(!o),className:"center-risk-modal",has_close_icon:!(0,i.isMobile)(),children:[(0,ye.jsxs)(le.Modal.Body,{children:[(0,ye.jsx)(le.Icon,{icon:"IcRedWarning",size:63}),(0,ye.jsxs)(le.Text,{as:"p",size:"xs",align:"center",className:"risk-acceptance__text",children:[(0,ye.jsx)(y.Localize,{i18n_default_text:"Sorry, you're unable to create an account at this time. As you declined our previous risk warnings, we need you to wait for 24 hours before you can proceed.<0/><0/>",components:(0,ye.jsx)("br",{},0)}),(0,ye.jsx)(y.Localize,{i18n_default_text:"We take your financial well-being seriously and want to ensure you are fully aware of the risks before trading.<0/><0/>",components:(0,ye.jsx)("br",{},0)}),(0,ye.jsx)(y.Localize,{i18n_default_text:"Thank you for your understanding. You can create your account on {{real_account_unblock_date}} or later.",values:{real_account_unblock_date:c}})]})]}),(0,ye.jsx)(le.Modal.Footer,{children:(0,ye.jsx)(le.Button,{type:"button",large:!0,text:(0,y.localize)("OK"),primary:!0,onClick:()=>{n(!1)}})})]})}));var Ho=r(620993);const Go=(0,Ze.observer)((()=>{const{ui:e,traders_hub:t}=(0,mr.A)(),{is_eu_user:r,selectRegion:o}=t,{is_need_real_account_for_cashier_modal_visible:n,toggleNeedRealAccountForCashierModal:a,disableApp:s,enableApp:c,openRealAccountSignup:l}=e,u=(0,sr.useHistory)(),d=r?"EU":"non-EU",_=r?"non-EU":"EU";return(0,ye.jsx)(le.Dialog,{className:"need-real-account-for-cashier-dialog",title:(0,y.localize)("The cashier is for real accounts only"),confirm_button_text:(0,y.localize)("Add account"),onConfirm:()=>(a(),l(r?"maltainvest":"svg")),cancel_button_text:(0,y.localize)("Switch account"),onCancel:async()=>{a(),await o(r?"Non-EU":"EU"),u.push(i.routes.cashier_deposit)},is_closed_on_cancel:!0,disableApp:s,enableApp:c,is_closed_on_confirm:!0,is_visible:n,dismissable:!1,has_close_icon:!0,onClose:a,children:(0,ye.jsx)(y.Localize,{i18n_default_text:"It looks like you don’t have a real {{regulation}} account. To use the cashier, switch to your {{active_real_regulation}} real account, or get an {{regulation}} real account.",values:{regulation:d,active_real_regulation:_}})})})),Yo=(0,Ze.observer)((()=>{const{ui:e,traders_hub:t,client:r}=(0,mr.A)(),{is_eu_user:o}=t,{is_ready_to_deposit_modal_visible:n,toggleReadyToDepositModal:i,disableApp:a,enableApp:s,openRealAccountSignup:c,setShouldShowCooldownModal:l}=e,{real_account_creation_unlock_date:u}=r;return(0,ye.jsx)(le.Dialog,{className:"ready-to-deposit-dialog",title:(0,y.localize)("Ready to deposit and trade for real?"),confirm_button_text:(0,y.localize)("Add real account"),onConfirm:()=>(i(),u?l(!0):c(o?"maltainvest":"svg")),cancel_button_text:(0,y.localize)("Maybe later"),onCancel:i,is_closed_on_cancel:!0,disableApp:a,enableApp:s,is_closed_on_confirm:!0,is_visible:n,dismissable:!0,has_close_icon:!1,onEscapeButtonCancel:i,children:(0,y.localize)("You need a real Deriv account to access the cashier.")})}));var Ko=r(462518);const qo=(0,Ze.observer)((()=>{const{ui:e}=(0,mr.A)(),{should_show_account_success_modal:t,setShouldTriggerTourGuide:r,toggleAccountSuccessModal:o,disableApp:n,enableApp:i,setIsVerificationModalVisible:a,setIsFromSuccessDepositModal:s,is_mobile:c}=e,{has_mf_account_deposited:l}=(0,Ko.A)(),u=()=>{o(),r(!0)};return(0,ye.jsx)(le.Dialog,{className:"ready-to-verify-dialog",title:l?(0,y.localize)("Successfully deposited"):(0,y.localize)("Account added"),confirm_button_text:(0,y.localize)("Verify now"),onConfirm:()=>{l&&s(!0),o(),a(!0)},cancel_button_text:(0,y.localize)("Maybe later"),onCancel:u,disableApp:n,enableApp:i,is_visible:t,dismissable:!0,has_close_icon:!1,onEscapeButtonCancel:u,children:(0,ye.jsx)(le.Text,{align:"center",size:c?"xxs":"xs",children:l?(0,ye.jsx)(y.Localize,{i18n_default_text:"Your funds will be available for trading once the verification of your account is complete."}):(0,ye.jsx)(y.Localize,{i18n_default_text:"Your account will be available for trading once the verification of your account is complete."})})})}));var Jo=r(109582),Zo=r.n(Jo);const Xo=(0,Ze.observer)((()=>{const{ui:e}=(0,mr.A)(),{should_show_risk_accept_modal:t,setShouldShowWarningModal:r,setShouldShowAssessmentCompleteModal:o,setIsTradingAssessmentForNewUserEnabled:n}=e;return(0,ye.jsx)(Zo(),{show_risk_modal:t,body_content:(0,ye.jsxs)(le.Text,{as:"p",size:"xs",children:[(0,ye.jsx)(y.Localize,{i18n_default_text:"In providing our services to you, we are required to ask you for some information to assess if a given product or service is appropriate for you and whether you have the experience and knowledge to understand the risks involved.<0/><0/>",components:[(0,ye.jsx)("br",{},0)]}),(0,ye.jsx)(y.Localize,{i18n_default_text:"Based on your answers, it looks like you have insufficient knowledge and experience in trading CFDs. CFD trading is risky and you could potentially lose all of your capital.<0/><0/>",components:[(0,ye.jsx)("br",{},0)]}),(0,ye.jsx)(y.Localize,{i18n_default_text:"Please note that by clicking ‘OK’, you may be exposing yourself to risks. You may not have the knowledge or experience to properly assess or mitigate these risks, which may be significant, including the risk of losing the entire sum you have invested."})]}),footer_content:(0,ye.jsx)(le.Button,{type:"button",large:!0,text:(0,y.localize)("OK"),primary:!0,onClick:()=>{r(!1),window.location.href.includes(i.routes.trading_assessment)?o(!1):(o(!0),n(!0))}})})})),Qo=(0,Ze.observer)((()=>{const e=(0,sr.useHistory)(),{client:t,ui:r}=(0,mr.A)(),{is_mobile:o}=r,{setPreventRedirectToHub:a}=t,[s,c]=(0,n.useState)(!0);(0,n.useEffect)((()=>{a(!0)}),[]);const l=()=>{c(!1),g().remove("recent_wallets_migration"),a(!1),e.push(i.routes.traders_hub)},u=({children:e,footer:t})=>o?(0,ye.jsx)(le.MobileDialog,{portal_element_id:"modal_root",visible:s,onClose:l,footer:t,has_close_icon:!1,children:e}):(0,ye.jsxs)(le.Modal,{is_open:s,has_close_icon:!1,children:[e,t]}),d=()=>(0,ye.jsx)(le.Modal.Footer,{has_separator:!0,children:(0,ye.jsx)(le.Button,{primary:!0,large:!0,className:"wallets-upgrade-completed-modal__button",onClick:l,children:(0,ye.jsx)(y.Localize,{i18n_default_text:"Get started"})})});return(0,ye.jsx)(u,{footer:(0,ye.jsx)(d,{}),children:(0,ye.jsxs)("div",{className:"wallets-upgrade-completed-modal",children:[(0,ye.jsx)(le.Icon,{icon:"IcWalletUpgradeCompleted",className:"wallets-upgrade-completed-modal__pic"}),(0,ye.jsxs)("div",{className:"wallets-upgrade-completed-modal__text-container",children:[(0,ye.jsx)(y.Localize,{i18n_default_text:"<0>Your Wallets are ready!</0>",components:[(0,ye.jsx)(le.Text,{align:"center",size:o?"xsm":"m",weight:"bold"},0)]}),(0,ye.jsx)(y.Localize,{i18n_default_text:"<0>Explore the exciting new features that your Wallet offers.</0>",components:[(0,ye.jsx)(le.Text,{align:"center",size:o?"xs":"s"},0)]})]})]})})})),en=Qo,tn=(e,t)=>{D.Analytics.trackEvent("ce_tradershub_popup",{action:e,form_name:"ce_tradershub_popup",account_mode:t,popup_name:"almost_there_wallets_step_3_1",popup_type:"with_cta"})},rn=(0,Ze.observer)((()=>{const{client:e,ui:t}=(0,mr.A)(),{is_virtual:r,logout:o,setShouldRedirectToLogin:i}=e,{is_desktop:a}=t,s=r?"demo":"real";n.useEffect((()=>{tn("open",s)}),[s]);return(0,ye.jsxs)(le.Dialog,{className:"wallets-upgrade-logout-modal",confirm_button_text:(0,y.localize)("Log out"),onConfirm:async()=>{g().set("recent_wallets_migration","true",{path:"/",expires:.5,secure:!0}),await(async()=>{await o(),i(!0)})(),tn("click_cta",s)},is_closed_on_confirm:!0,is_visible:!0,dismissable:!1,has_close_icon:!1,children:[(0,ye.jsx)(le.Icon,{className:"wallets-upgrade-logout-modal__pic",icon:"IcWalletUpgradeLogout"}),(0,ye.jsxs)("div",{className:"wallets-upgrade-logout-modal__content",children:[(0,ye.jsx)(y.Localize,{i18n_default_text:"<0>You're almost there!</0>",components:[(0,ye.jsx)(le.Text,{weight:"bold",size:a?"m":"s"},0)]}),(0,ye.jsx)(y.Localize,{i18n_default_text:"<0>To complete your Wallet setup, log out and then log in again.</0>",components:[(0,ye.jsx)(le.Text,{align:a?"left":"center",size:a?"s":"xxs"},0)]})]})]})})),on=n.lazy((()=>(0,i.moduleLoader)((()=>r.e(6070).then(r.bind(r,331191)))))),nn=n.lazy((()=>(0,i.moduleLoader)((()=>r.e(3983).then(r.bind(r,208583)))))),an=n.lazy((()=>(0,i.moduleLoader)((()=>Promise.all([r.e(6764),r.e(7030),r.e(1470)]).then(r.bind(r,95627)))))),sn=n.lazy((()=>(0,i.moduleLoader)((()=>r.e(5283).then(r.bind(r,663226)))))),cn=n.lazy((()=>(0,i.moduleLoader)((()=>r.e(3225).then(r.bind(r,289881)))))),ln=n.lazy((()=>(0,i.moduleLoader)((()=>r.e(7884).then(r.bind(r,499399)))))),un=n.lazy((()=>r.e(7884).then(r.bind(r,158965)))),dn=n.lazy((()=>(0,i.moduleLoader)((()=>r.e(3854).then(r.bind(r,981285)))))),_n=n.lazy((()=>(0,i.moduleLoader)((()=>r.e(3438).then(r.bind(r,857703)))))),pn=n.lazy((()=>r.e(243).then(r.bind(r,217763)))),hn=n.lazy((()=>r.e(6151).then(r.bind(r,307481)))),mn=n.lazy((()=>r.e(3242).then(r.bind(r,354259)))),fn=n.lazy((()=>r.e(2984).then(r.bind(r,651688)))),gn=n.lazy((()=>r.e(3352).then(r.bind(r,199716)))),bn=n.lazy((()=>r.e(7671).then(r.bind(r,745848)))),vn=(0,Ze.observer)((()=>{const{client:e,ui:t,traders_hub:r}=(0,mr.A)(),{has_wallet:o,is_authorize:a,is_logged_in:s,fetchFinancialAssessment:c,setCFDScore:l,landing_company_shortcode:u,is_trading_experience_incomplete:d,account_settings:_,residence:p,accounts:h,loginid:m,is_client_store_initialized:f,has_active_real_account:b}=e,{content_flag:v}=r,{is_account_needed_modal_on:y,is_closing_create_real_account_modal:D,is_set_residence_modal_visible:w,should_show_cooldown_modal:C,should_show_assessment_complete_modal:A,toggleAccountSignupModal:x,is_trading_assessment_for_new_user_enabled:E,is_deriv_account_needed_modal_visible:j,is_ready_to_deposit_modal_visible:O,is_need_real_account_for_cashier_modal_visible:S,should_show_risk_accept_modal:F,is_verification_modal_visible:k,is_verification_submitted:P,isUrlUnavailableModalVisible:T,should_show_one_time_deposit_modal:N,should_show_account_success_modal:L,should_show_crypto_transaction_processing_modal:I,should_show_same_dob_phone_modal:B,is_tnc_update_modal_open:R,toggleTncUpdateModal:M,setShouldShowCompleteUserProfileModal:z,is_complete_user_profile_modal_open:U}=t,W=i.SessionStore.get("signup_query_param"),$=new URLSearchParams((0,sr.useLocation)().search||W).get("action"),V=[i.ContentFlag.LOW_RISK_CR_EU,i.ContentFlag.EU_REAL,i.ContentFlag.EU_DEMO].includes(v),{is_migrated:H}=(0,_o.A)(),G=g().get("recent_wallets_migration"),Y=(0,po.A)(),K=(0,ho.A)(),q=null==h?void 0:h[null!=m?m:""],J=null==q?void 0:q.is_virtual,Z=null==q?void 0:q.currency,X=!K||!J&&!Z;n.useEffect((()=>{Y&&M(!0)}),[Y,M]),n.useEffect((()=>{s&&a&&c().then((e=>{var t;l(null!==(t=null==e?void 0:e.cfd_score)&&void 0!==t?t:0)}))}),[s,a]),n.useEffect((()=>{if(!f||!_||R)return;const{citizen:e,date_of_birth:t,address_line_1:r,address_city:n}=_;!o&&s&&a&&b&&(!e||!t||!r||!n||X)&&z(!0)}),[s,a,b,_,o,X,f,z,R]);const Q=window.location.href.includes(i.routes.onboarding),ee=s&&"maltainvest"===u&&!E&&d&&v!==i.ContentFlag.LOW_RISK_CR_EU&&v!==i.ContentFlag.LOW_RISK_CR_NON_EU;W&&Q?x(!0):(i.SessionStore.remove("signup_query_param"),x(!1));let te=null;switch($){case"redirect_to_login":te=(0,ye.jsx)(dn,{});break;case"reset_password":te=(0,ye.jsx)(ln,{});break;case"signup":te=(0,ye.jsx)(cn,{});break;case"request_email":te=(0,ye.jsx)(pn,{});break;case"social_email_change":te=(0,ye.jsx)(un,{});break;case"system_email_change":te=(0,ye.jsx)(hn,{});break;default:w&&(te=(0,ye.jsx)(_n,{}))}return $||(ee?te=(0,ye.jsx)(nn,{}):D?te=(0,ye.jsx)(mn,{}):y?te=(0,ye.jsx)(fo,{}):C?te=(0,ye.jsx)(Vo,{}):A?te=(0,ye.jsx)($o,{}):j?te=(0,ye.jsx)(mo,{}):F?te=(0,ye.jsx)(Xo,{}):T&&(te=(0,ye.jsx)(sn,{})),o&&G&&(te=(0,ye.jsx)(en,{})),!o&&H&&s&&(te=(0,ye.jsx)(rn,{})),O&&(te=(0,ye.jsx)(Yo,{})),S&&(te=(0,ye.jsx)(Go,{})),k&&(te=(0,ye.jsx)(an,{})),P&&(te=(0,ye.jsx)(fn,{})),N&&(te=(0,ye.jsx)(gn,{})),I&&(te=(0,ye.jsx)(Ho.A,{})),L&&(te=(0,ye.jsx)(qo,{})),B&&(te=(0,ye.jsx)(on,{})),R&&(te=(0,ye.jsx)(bn,{})),U&&(te=(0,ye.jsx)(Wo,{account_settings:_,residence:p,noCurrency:X}))),(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(go,{is_logged_in:s,is_eu:V,portal_id:"popup_root"}),te?(0,ye.jsx)(n.Suspense,{fallback:(0,ye.jsx)("div",{}),children:te}):null]})}));var yn=r(668017);function Dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(r),!0).forEach((function(t){Cn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const An=r.n(yn)()({loader:()=>Promise.resolve().then(r.bind(r,445315)),loading:le.UILoader,render(e,t){const r=e.default;return(0,ye.jsx)(r,wn({},t))}}),xn=(0,Ze.observer)((({history:e,location:t,passthrough:r})=>{const{client:o,common:a}=(0,mr.A)(),{is_logged_in:s,is_logging_in:c}=o,{error:l,has_error:u,setAppRouterHistory:d,addRouteHistoryItem:_,setInitialRouteHistoryItem:p}=a,h=n.useRef(null),m=n.useRef(null);n.useEffect((()=>(m.current||h.current||(h.current=t.pathname),p(e.location),m.current=e.listen(((e,t)=>{["PUSH","POP"].includes(t)&&_(wn(wn({},e),{},{action:t}))})),d(e),()=>{"function"==typeof m.current&&(m.current(),m.current=null,h.current=null)})),[]);const f=(0,y.getLanguage)(),g=/[?&]lang=/.test(t.search);return u?(0,ye.jsx)(An,wn({},l)):((!g&&"EN"!==f||g&&"EN"===f)&&window.history.replaceState({},document.title,(0,i.urlForLanguage)(f)),(0,ye.jsx)(ue.Ay,{is_logged_in:s,is_logging_in:c,passthrough:r}))}));xn.propTypes={history:Qe().object,location:Qe().object,passthrough:Qe().object};const En=(0,sr.withRouter)(xn);function jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(r),!0).forEach((function(t){Sn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Fn=(0,Ze.observer)((()=>{const e=(0,bo.useFormik)({initialValues:{app_id:(0,i.getAppId)(),server:(0,i.getSocketURL)(),is_debug_service_worker_enabled:!!(0,i.getDebugServiceWorker)()},onSubmit:e=>{localStorage.setItem("config.app_id",e.app_id.toString()),localStorage.setItem("config.server_url",e.server),localStorage.setItem("debug_service_worker",(e.is_debug_service_worker_enabled?1:0).toString()),sessionStorage.removeItem("config.platform"),location.reload()},validate:e=>{const t={};return e.app_id?/^\d+$/.test(e.app_id.toString())||(t.app_id="Please enter a valid app ID."):t.app_id="App ID is required.",e.server?/^[\w|\-|.]+$/.test(e.server)||(t.server="Please enter a valid server."):t.server="Server is required.",t}});return(0,ye.jsxs)("div",{className:"devtools__endpoint-container",children:[(0,ye.jsx)(le.Input,On({type:"text",autoComplete:"off",maxLength:30,error:e.touched.server?e.errors.server:void 0,label:"Server",hint:"e.g. frontend.derivws.com"},e.getFieldProps("server"))),(0,ye.jsx)(le.Input,On({type:"text",autoComplete:"off",maxLength:30,error:e.touched.app_id?e.errors.app_id:void 0,label:"OAuth App ID",hint:(0,ye.jsxs)(n.Fragment,{children:["Register an"," ",(0,ye.jsx)("a",{href:"https://developers.binary.com/applications/",target:"_blank",rel:"noopener noreferrer",children:"app ID"})," ","to use the above server for logging in."]})},e.getFieldProps("app_id"))),(0,ye.jsx)(le.Checkbox,On({classNameLabel:"devtools__checkbox-label",label:"Enable Service Worker registration for this URL"},e.getFieldProps("is_debug_service_worker_enabled"))),(0,ye.jsxs)("div",{className:"devtools__endpoint-actions",children:[(0,ye.jsx)(le.Button,{type:"submit",is_disabled:!e.isValid||!e.dirty,text:"Submit",primary:!0,onClick:()=>e.handleSubmit()}),(0,ye.jsx)(le.Button,{type:"button",onClick:()=>{localStorage.removeItem("config.app_id"),localStorage.removeItem("config.server_url"),location.reload()},text:"Reset to original settings"})]})]})})),kn=(0,Ze.observer)((()=>{const{feature_flags:e}=(0,mr.A)();return e.data?(0,ye.jsx)("div",{className:"devtools__checkbox-container",children:Object.keys(e.data).map((t=>{var r;const o=t;return(0,ye.jsx)(le.Checkbox,{className:"devtools__checkbox",classNameLabel:"devtools__checkbox-label",label:o,value:null===(r=e.data)||void 0===r?void 0:r[o],onChange:t=>e.update((e=>On(On({},e),{},{[o]:t.target.checked})))},o)}))}):null})),Pn=((0,Ze.observer)((()=>{const[e,t]=(0,n.useState)(!1);return(0,ye.jsxs)("div",{children:[(0,ye.jsxs)("div",{className:"devtools__panel devtools__panel"+(e?"--open":"--close"),children:[(0,ye.jsxs)("div",{className:"devtools__panel-left",children:[(0,ye.jsx)("p",{className:"devtools__panel-title",children:"Endpoint"}),(0,ye.jsx)(Fn,{})]}),(0,ye.jsxs)("div",{className:"devtools__panel-right",children:[(0,ye.jsx)("p",{className:"devtools__panel-title",children:"Feature flags"}),(0,ye.jsx)(kn,{})]}),(0,ye.jsx)("button",{onClick:()=>t(!e),className:"devtools__close-button",children:"Close"})]}),(0,ye.jsx)("button",{onClick:()=>t(!e),className:"devtools__toggle-button",children:"</>"})]})})),()=>null),Tn=(0,Ze.observer)((({passthrough:e})=>{const t=(0,mr.A)(),{has_wallet:r,is_logged_in:o,loginid:i,is_client_store_initialized:a,landing_company_shortcode:s,currency:c,residence:l,email:u,setIsPasskeySupported:d,account_settings:_,setIsPhoneNumberVerificationEnabled:p,setIsCountryCodeDropdownEnabled:h,accounts:m}=t.client,{current_language:f,changeSelectedLanguage:g}=t.common,{is_dark_mode_on:b,setDarkMode:v}=t.ui,{isMobile:y}=(0,gr.Y)(),{switchLanguage:D}=(0,Y.useTranslations)(),w=(0,sr.useLocation)().search.includes("access_denied"),{isChangingToHubAppId:C}=(0,lr.A)(),A=localStorage.getItem("config.app_id"),x=localStorage.getItem("change_login_app_id"),[E,j]=(0,ur.A)({featureFlag:"web_passkeys"}),[O]=(0,ur.A)({featureFlag:"service_passkeys"}),[S,F]=(0,dr.A)({featureFlag:"phone_number_verification"}),[k,P]=(0,dr.A)({featureFlag:"enable_country_code_dropdown"}),[T]=(0,dr.A)({featureFlag:"duplicate-login"}),{data:N}=(0,cr.A)(!0),{tracking_datadog:L}=N,I=(0,br.zZ)(),B={is_client_store_initialized:a,is_logged_in:o,loginid:i,landing_company_shortcode:s,currency:c,residence:l,email:u,first_name:null==_?void 0:_.first_name,last_name:null==_?void 0:_.last_name};(0,_r.A)(B);const R=null==m?void 0:m[null!=i?i:""],M=R?R.token:null;(0,pr.A)(M),(0,hr.Ay)(M),n.useEffect((()=>{if(!C||A)x&&localStorage.removeItem("change_login_app_id");else{const e=61554;localStorage.setItem("change_login_app_id",e.toString())}}),[C,A,x]),n.useEffect((()=>{D(f)}),[f,D]),n.useEffect((()=>{F&&p(!!S)}),[S,p,F]),n.useEffect((()=>{P&&h(!!k)}),[k,h,P]),n.useEffect((()=>{j&&E&&O&&d(I&&O&&E&&y)}),[O,j,E,I,y,d]),n.useEffect((()=>{yr(L)}),[L]),n.useEffect((()=>{a&&Dr(t.client)}),[t.client,a]),n.useLayoutEffect((()=>{r&&b&&v(!1)}),[r,f,g,b,v]);const z=window.location.pathname.includes("callback");return(0,ye.jsxs)(fr.N,{theme:b?"dark":"light",children:[(0,ye.jsx)(Fr,{}),!z&&(0,ye.jsx)(uo,{}),(0,ye.jsx)(Ar,{root_store:t,children:(0,ye.jsx)(zr,{children:(0,ye.jsx)(En,{passthrough:e})})}),!(T&&w)&&(0,ye.jsx)(io,{}),(0,ye.jsx)(Ar,{root_store:t,children:(0,ye.jsx)(vn,{})}),(0,ye.jsx)(Lr,{}),(0,ye.jsx)(Pn,{})]})})),Nn=({root_store:e})=>{var t,o;const a=(0,Y.initializeI18n)({cdnUrl:"https://translations.deriv.com/deriv-app-account/staging"}),s=window.location,c=s.pathname.split("/")[1],l=/^\/(br_)/.test(s.pathname),[u]=(0,i.useOnLoadTranslation)(),{i18n:d}=(0,Kt.B)(),{preferred_language:_}=e.client,{is_dark_mode_on:p}=e.ui,h=p||(null===(t=JSON.parse(localStorage.getItem("ui_store")))||void 0===t?void 0:t.is_dark_mode_on),m=null!=_?_:(0,Y.getInitialLanguage)(),f=window.location.search,g=new URLSearchParams(f).get("account")||window.sessionStorage.getItem("account"),b=JSON.parse(null!==(o=localStorage.getItem("client.accounts"))&&void 0!==o?o:"{}");if(g){let e,t;const r=g.toUpperCase();"DEMO"===r?(e=Object.keys(b).find((e=>/^VRTC/.test(e))),t=Object.keys(b).find((e=>/^VRW/.test(e)))):(e=Object.keys(b).find((e=>{var t,o;return(null===(t=b[e].currency)||void 0===t?void 0:t.toUpperCase())===r&&"trading"===b[e].account_category&&!(null!==(o=b[e])&&void 0!==o&&o.is_virtual)})),t=Object.keys(b).find((e=>{var t,o;return(null===(t=b[e].currency)||void 0===t?void 0:t.toUpperCase())===r&&"wallet"===b[e].account_category&&!(null!==(o=b[e])&&void 0!==o&&o.is_virtual)}))),e&&sessionStorage.setItem("active_loginid",e),t&&sessionStorage.setItem("active_wallet_loginid",t)}n.useEffect((()=>{const e=d.dir(d.language.toLowerCase());document.documentElement.dir=e}),[d,d.language]),n.useEffect((()=>{sessionStorage.removeItem("redirect_url"),e.modules.attachModule("cashier",new(Qt())(e,J.A)),e.modules.cashier.general_store.init(),e.modules.attachModule("cfd",new(tr())({root_store:e,WS:J.A}));(0,y.initializeTranslations)(),(0,i.setUrlLanguage)((0,y.getLanguage)()),(0,i.initFormErrorMessages)(ar),(0,i.setSharedCFDText)(ir),e.common.setPlatform(),r.e(9238).then(r.bind(r,579238))}),[]);const v={root_store:e,WS:J.A,i18nInstance:a,language:m};return(0,i.setWebsocket)(J.A),n.useEffect((()=>{e.client.email||D.Analytics.reset()}),[e.client.email]),n.useEffect((()=>{var e;const t=null===(e=document)||void 0===e?void 0:e.querySelector("html");var r,o,n,i;t&&(h?(null===(r=t.classList)||void 0===r||r.remove("light"),null===(o=t.classList)||void 0===o||o.add("dark")):(null===(n=t.classList)||void 0===n||n.remove("dark"),null===(i=t.classList)||void 0===i||i.add("light")))}),[]),(0,ye.jsx)(ye.Fragment,{children:u?(0,ye.jsx)(Jt.BrowserRouter,{basename:l?`/${c}`:null,children:(0,ye.jsx)(rr.A,{store:e,children:(0,ye.jsx)(nr.p,{children:(0,ye.jsx)(Zt.Ay,{children:(0,ye.jsx)(i.POIProvider,{children:(0,ye.jsx)(or.A,{children:(0,ye.jsx)(Y.TranslationProvider,{defaultLang:m,i18nInstance:a,children:(0,ye.jsx)(n.Suspense,{fallback:(0,ye.jsx)(le.Loading,{}),children:(0,ye.jsx)(Tn,{passthrough:v})})})})})})})})}):(0,ye.jsx)(ye.Fragment,{})})};Nn.propTypes={root_store:Qe().object};const Ln=(0,qt.C)()(Nn);var In=r(766712),Bn=r(557344);const Rn=({onClick:e,className:t})=>(0,ye.jsx)("button",{className:t,type:"button",onClick:e,"aria-label":(0,y.localize)("Close")});Rn.propTypes={className:Qe().string,onClick:Qe().func.isRequired};const Mn=Rn,zn=({type:e,class_suffix:t})=>e&&"danger"===e?(0,ye.jsx)(le.Icon,{icon:"IcAlertDanger",className:Je()("inline-icon","notification__icon-type",{[`notification__icon-type--${t}`]:t})}):(0,ye.jsx)(n.Fragment,{children:!!e&&(0,ye.jsx)(le.Icon,{icon:de[e],className:Je()("notification__icon-type",{[`notification__icon-type--${t}`]:t}),color:"success"===e?"green":void 0})});zn.propTypes={class_suffix:Qe().string,type:Qe().string};const Un=zn,Wn=({className:e,header:t,message:r,primary_btn:o,secondary_btn:n,img_src:a,img_alt:s,onClose:c,icon:l})=>(0,ye.jsxs)("div",{className:Je()("notification-banner",{[`notification-banner__${e}`]:e}),"data-testid":"dt_notification_banner",children:[(0,ye.jsxs)("div",{className:"notification-banner--left",children:[(0,ye.jsx)(le.Text,{as:"h4",size:(0,i.isMobile)()?"xs":"s",weight:"bold",className:"notification-banner__title",children:t}),(0,ye.jsx)(le.Text,{as:"p",size:(0,i.isMobile)()?"xxs":"xs",className:"notification-banner__description",line_height:"xs",children:r}),!!o&&(0,ye.jsx)("div",{className:"notification-banner__btn-wrapper",children:(0,ye.jsx)(le.Button,{className:"notification-banner__btn",primary:!0,small:!0,onClick:o.onClick,children:o.text})}),!!n&&(0,ye.jsx)("div",{className:"notification-banner__btn-wrapper",children:n.children?(0,ye.jsx)("div",{className:"notification-banner__btn",children:n.children}):(0,ye.jsx)(le.Button,{className:"notification-banner__btn",secondary:!0,small:!0,onClick:n.onClick,children:n.text})})]}),(0,ye.jsxs)("div",{className:"notification-banner--right",children:[(0,ye.jsx)("div",{className:"notification-banner__bg"}),(0,ye.jsx)("img",{className:"notification-banner__img",src:a,alt:s}),(0,ye.jsx)(le.Icon,{className:"notification-banner__close-icon",icon:null!=l?l:"IcCloseLight",onClick:c})]})]});Wn.propTypes={className:Qe().string,secondary_btn:Qe().object,header:Qe().string,img_alt:Qe().string,img_src:Qe().string,message:Qe().string,onClose:Qe().func,primary_btn:Qe().shape({text:Qe().string,onClick:Qe().func}),icon:Qe().string};const $n=Wn,Vn=({cta_btn:e,img_alt:t,img_src:r,message:o,onClose:n})=>(0,ye.jsxs)("div",{"data-testid":"dt_notification_promo",className:"notification-promo",children:[(0,ye.jsx)("img",{className:"notification-promo__img",src:r,alt:t}),(0,ye.jsxs)("div",{className:"notification-promo--container",children:[(0,ye.jsxs)("div",{className:"notification-promo--left",children:[(0,ye.jsx)(le.Text,{as:"p",size:"xs",className:"notification-promo__message",children:o}),e&&(0,ye.jsx)(le.Button,{className:"notification-promo__btn",blue:!0,secondary:!0,onClick:e.onClick,children:e.text})]}),(0,ye.jsx)(le.Icon,{className:"notification-promo__close-icon",icon:"IcCloseLight",onClick:n})]})]}),Hn=({data:e,removeNotificationMessage:t})=>{var r;const o=n.useRef(null),a=(0,sr.useHistory)();n.useEffect((()=>{if("trustpilot"===e.type){const e=document.createElement("script");return e.type="text/javascript",e.src="https://widget.trustpilot.com/bootstrap/v5/tp.widget.bootstrap.min.js",e.async=!0,e.onload=()=>{if(window.Trustpilot){const e=document.querySelector(".trustpilot-widget");e&&window.Trustpilot.loadFromElement(e)}},document.body.appendChild(e),()=>{e.parentNode&&e.parentNode.removeChild(e)}}}),[e.type]);const s=r=>{if(t(e),e.should_show_again){var o;const t=null!==(o=JSON.parse(localStorage.getItem("closed_toast_notifications")))&&void 0!==o?o:[];t.includes(e.key)||(t.push(e.key),localStorage.setItem("closed_toast_notifications",JSON.stringify(t)))}e.closeOnClick&&e.closeOnClick(e,r)},c=()=>s(!0);e.is_auto_close&&setTimeout(s,e.delay||3e3);if((null!==(r=JSON.parse(localStorage.getItem("closed_toast_notifications")))&&void 0!==r?r:[]).includes(e.key))return null;switch(e.type){case"news":return(0,ye.jsx)($n,{className:e.className,header:e.header,message:e.message,primary_btn:e.primary_btn,secondary_btn:e.secondary_btn,img_src:e.img_src,img_alt:e.img_alt,onClose:s,icon:e.icon});case"trustpilot":return(0,ye.jsx)($n,{className:e.className,header:e.header_popup,message:e.message_popup,secondary_btn:e.action,img_src:e.img_src,img_alt:e.img_alt,onClose:s});case"promotions":return(0,ye.jsx)(Vn,{cta_btn:e.cta_btn,img_alt:e.img_alt,img_src:e.img_src,message:e.message,onClose:s});default:return(0,ye.jsxs)("div",{className:Je()("notification",_e[e.type],{"notification--small":"small"===e.size}),"data-testid":"dt_default_component",children:[(0,ye.jsx)("div",{className:Je()("notification__icon-background",{"notification__icon-background--header-only":!e.message}),children:(0,ye.jsx)(Un,{type:e.type,class_suffix:"is-background"})}),(0,ye.jsx)("div",{className:"notification__icon",children:(0,ye.jsx)(Un,{type:e.type})}),(0,ye.jsxs)("div",{className:"notification__text-container",children:[(0,ye.jsx)(le.Text,{as:"h4",weight:"bold",className:"notification__header",children:e.header}),e.timeout&&(0,ye.jsx)(le.LinearProgress,{className:"notification__timeout",timeout:e.timeout,action:e.action.onClick,render:e.timeoutMessage,should_store_in_session:!0,session_id:e.key,ref:o}),(0,ye.jsx)("p",{className:"notification__text-body",children:e.message}),(0,ye.jsx)("div",{className:"notification__action",children:!(0,i.isEmptyObject)(e.action)&&(0,ye.jsx)(n.Fragment,{children:e.action.route&&!e.action.onClick?(0,ye.jsx)(ue.Sm,{className:Je()("dc-btn","dc-btn--secondary","notification__cta-button"),onClick:c,to:e.action.route,children:(0,ye.jsx)(le.Text,{size:"xxs",weight:"bold",children:e.action.text})}):(0,ye.jsx)(le.Button,{className:"notification__cta-button",onClick:()=>{e.timeout&&o.current.removeTimeoutSession(),e.action.onClick(),e.action.route&&a.push(e.action.route)},text:e.action.text,secondary:!0,renderText:e=>(0,ye.jsx)(le.Text,{size:"xxs",weight:"bold",align:"center",children:e})})})})]}),!e.should_hide_close_btn&&(0,ye.jsx)(Mn,{className:"notification__close-button",onClick:c})]})}};Hn.propTypes={data:Qe().shape({action:Qe().shape({onClick:Qe().func,route:Qe().string,text:Qe().oneOfType([Qe().node,Qe().string,Qe().object])}),cta_btn:Qe().object,className:Qe().string,closeOnClick:Qe().func,delay:Qe().number,header:Qe().oneOfType([Qe().node,Qe().string,Qe().object]),header_popup:Qe().string,img_alt:Qe().string,img_src:Qe().string,is_auto_close:Qe().bool,key:Qe().string,icon:Qe().string,message:Qe().oneOfType([Qe().node,Qe().string,Qe().object]),message_popup:Qe().string,primary_btn:Qe().object,secondary_btn:Qe().object,should_hide_close_btn:Qe().bool,should_show_again:Qe().bool,size:Qe().oneOf(["small"]),timeout:Qe().number,timeoutMessage:Qe().func,type:Qe().oneOf(["warning","info","success","danger","contract_sold","news","trustpilot","announce","promotions"]).isRequired}),removeNotificationMessage:Qe().func};const Gn=Hn,Yn=(0,Ze.observer)((({show_trade_notifications:e})=>{const{notifications:{removeTradeNotifications:t,trade_notifications:r}}=(0,mr.A)();return e&&r.length?(0,ye.jsx)(le.MobileWrapper,{children:(0,ye.jsx)("div",{className:"trade-notifications",children:r.slice(0,3).map((e=>{const{buy_price:r,contract_id:o,currency:n,contract_type:a,id:s,profit:c,symbol:l,status:u,timestamp:d}=e,_="open"===u;return(0,ye.jsxs)(le.SwipeableNotification,{is_failure:!_&&c<0,is_success:!_&&c>=0,onUnmount:()=>t(s),redirect_to:(0,i.getContractPath)(o),timestamp:_?null:d,visibility_duration_ms:3e3,children:[(0,ye.jsx)(le.Text,{as:"p",size:"xxxs",line_height:"s",children:(0,ye.jsx)(y.Localize,{i18n_default_text:"<0>{{title}}:</0> {{trade_type_name}} on {{symbol}}",components:[(0,ye.jsx)("strong",{},0)],values:{symbol:l,title:_?(0,y.localize)("Trade opened"):(0,y.localize)("Trade closed"),trade_type_name:a},shouldUnescape:!0})}),(0,ye.jsxs)(le.Text,{as:"p",size:"xxxs",line_height:"s",children:[_?(0,i.getCardLabels)().STAKE:(0,i.getCardLabels)().TOTAL_PROFIT_LOSS," ",(0,ye.jsx)(le.Text,{size:"xxxs",line_height:"s",weight:"bold",children:(0,ye.jsx)(le.Money,{amount:_?r:c,currency:n,has_sign:!_,should_format:!0,show_currency:!0})})]})]},s)}))})}):null})),Kn=Yn,qn=({children:e})=>(0,i.isMobile)()?o.createPortal(e,document.getElementById("deriv_app")):e,Jn=({is_notification_loaded:e,style:t,notifications:r,removeNotificationMessage:o,show_trade_notifications:n})=>{const{pathname:a}=(0,sr.useLocation)();return(0,ye.jsx)("div",{className:Je()("notification-messages",{"notification-messages--traders-hub":a===i.routes.traders_hub}),style:t,children:(0,ye.jsxs)(In.A,{component:"div",children:[r.map((t=>(0,ye.jsx)(Bn.A,{appear:!!e,in:!!t.header,timeout:150,classNames:{appear:"notification--enter",enter:"notification--enter",enterDone:"notification--enter-done",exit:"notification--exit"},unmountOnExit:!0,children:(0,ye.jsx)(Gn,{data:t,removeNotificationMessage:o})},t.key))),(0,ye.jsx)(Kn,{show_trade_notifications:n})]})})},Zn=(0,Ze.observer)((({is_notification_loaded:e,is_mt5:t,stopNotificationLoading:r,show_trade_notifications:o})=>{const{notifications:a}=(0,mr.A)(),{marked_notifications:s,notification_messages:c,removeNotificationMessage:l,markNotificationMessage:u,should_show_popups:d}=a,[_,p]=n.useState({}),[h,m]=n.useState(null);n.useEffect((()=>{if(t&&r(),h&&(0,i.isMobile)()&&null!==h.parentElement){const e=h.parentElement.getBoundingClientRect();p({top:e.top+8})}}),[t,h]);const f=c.filter((e=>{const t=!s.includes(e.key),r=!(0,i.isMobile)()||[...ge,"account_currency_closure","authenticate","deriv_go","document_needs_action","dp2p","contract_sold","has_changed_two_fa","identity","install_pwa","need_fa","needs_poinc","notify_financial_assessment","phone_number_verification","poi_name_mismatch","poa_address_mismatch_failure","poa_address_mismatch_success","poa_address_mismatch_warning","poa_expired","poa_failed","poa_rejected_for_mt5","poa_verified","poi_expired","poi_failed","poi_verified","poinc_upload_limited","reaccept_tnc","resticted_mt5_with_failed_poa","resticted_mt5_with_pending_poa","svg_needs_poa","svg_needs_poi","svg_needs_poi_poa","svg_poi_expired","wallets_migrated","wallets_failed","tnc","trustpilot","unwelcome","update_fa_required","additional_kyc_info","notify_account_is_to_be_closed_by_residence"].includes(e.key),o=window.location.pathname!==i.routes.cashier_p2p||"P2P"===(null==e?void 0:e.platform),n=ge.includes(e.key);return t&&r&&(o||n)})),g=(0,i.isMobile)()?1:3,b=f.filter((e=>be.includes(e.key)?e:fe.includes(e.key))),v=window.location.pathname===i.routes.cashier_deposit?b.filter((e=>["switched_to_real",...ge].includes(e.key))):b.slice(0,g);return d||v.some((e=>"site_maintenance"===e.key))?v.length?(0,ye.jsx)("div",{ref:e=>m(e),className:"notification-messages-bounds",children:(0,ye.jsx)(qn,{children:(0,ye.jsx)(Jn,{notifications:v,is_notification_loaded:e,style:_,removeNotificationMessage:l,markNotificationMessage:u,show_trade_notifications:o})})}):(0,ye.jsx)(Kn,{show_trade_notifications:o}):null}));Zn.propTypes={is_mt5:Qe().bool,is_notification_loaded:Qe().bool,stopNotificationLoading:Qe().func,show_trade_notifications:Qe().bool};const Xn=Zn;var Qn,ei,ti;(async()=>{})(),(null!==(Qn=window)&&void 0!==Qn&&null!==(ei=(ti=Qn.localStorage).getItem)&&void 0!==ei&&ei.call(ti,"debug_service_worker")||!window.location.hostname.startsWith("localhost")&&!/binary\.sx/.test(window.location.hostname)||"deriv-app.binary.sx"===window.location.hostname)&&l();if(!(0,i.checkAndSetEndpointFromUrl)()){(async()=>{const e=await(0,C.isTmbEnabled)(),t=await(0,C.getActiveAccounts)(),r=e?Yt(Xn,t):Yt(Xn),n=document.getElementById("deriv_app");n&&o.render((0,ye.jsx)(Ln,{useSuspense:!1,root_store:r}),n)})()}},391049:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(504377),n=r(414646),i=r(317691);const a=(e="home")=>{const{client:t}=(0,n.A)(),{has_wallet:r}=t,{isHubRedirectionEnabled:a}=(0,i.A)(),s=new URLSearchParams(window.location.search).get("account");let c,l;if(r&&a){const t=`https://hub.${(0,o.getDomainUrl)()}`;c=`${t}/accounts/redirect?action=redirect_to&redirect_to=${e}&account=${s}`,l=`${t}/accounts/redirect?action=redirect_to&redirect_to=${e}&account=${s}`}else{if("account-limits"===e)c=o.routes.account_limits;else c=o.routes.personal_details;l=o.routes.account}return{redirect_url:c,mobile_redirect_url:l}}},383993:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var o=r(286326),n=r(504377),i=r(919796),a=r(3076);const s=()=>{const{isGBLoaded:e,isGBAvailable:t}=(0,a.A)(),r=e||!t,{isMobile:s,isDesktop:c}=(0,i.Y)(),l=(0,n.isDtraderV2MobileEnabled)(s),u=(0,n.isDtraderV2DesktopEnabled)(c),[d,_]=(0,o.useState)(!1),[p,h]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{(e||l)&&_(l),(e||u)&&h(u)}),[s,e,c]),{dtrader_v2_enabled_mobile:d,dtrader_v2_enabled_desktop:p,load_dtrader_module:r}}},974777:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,F:()=>a});var o=r(286326),n=r(592129),i=r(488814);const a=()=>{const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const e=Date.now(),r=setInterval((()=>{var o;null!==(o=window)&&void 0!==o&&null!==(o=o.fcWidget)&&void 0!==o&&o.isInitialized()?(t(!0),clearInterval(r)):Date.now()-e>=5e3&&clearInterval(r)}),100);return()=>clearInterval(r)}),[]),e},s=e=>{const[t]=(0,i.A)({featureFlag:"enable_freshworks_live_chat"}),r=(0,n.nW)(t?"https://static.deriv.com/scripts/freshchat/v1.0.2.js":null);(0,o.useEffect)((()=>{if(!t||"ready"!==r||!window.FreshChat||!window.fcSettings)return;let o;return window.FreshChat.initialize({hideButton:!0,token:e}),o=setInterval((()=>{var e;null!==(e=window)&&void 0!==e&&null!==(e=e.fcWidget)&&void 0!==e&&e.isInitialized()&&clearInterval(o)}),500),()=>{clearInterval(o)}}),[t,r,e])}},488814:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var o=r(286326),n=r(281476),i=r(978513),a=r(592129);const s=({featureFlag:e,defaultValue:t})=>{const r=void 0!==t&&t,[s,c]=(0,o.useState)(!1),[l,u]=(0,o.useState)(!1),d=(0,a.aq)();return"undefined"!=typeof window&&(window.Analytics=n.Analytics),(0,o.useEffect)((()=>{(async()=>{const t=await(0,i.getFeatureFlag)(e,r);d()&&(c(t),u(!0))})()}),[e,r,d]),[s,l]}},140980:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(286326),n=r(281476),i=r(3076);const a=({featureFlag:e})=>{const[t,r]=(0,o.useState)(null===n.Analytics||void 0===n.Analytics?void 0:n.Analytics.isFeatureOn(e)),{isGBLoaded:a}=(0,i.A)();return(0,o.useEffect)((()=>{var t;if(a&&(null!==n.Analytics&&void 0!==n.Analytics&&null!==(t=n.Analytics.getInstances())&&void 0!==t&&t.ab)){var o;const t=()=>{const t=null===n.Analytics||void 0===n.Analytics?void 0:n.Analytics.isFeatureOn(e);r(t)};t(),null===n.Analytics||void 0===n.Analytics||null===(o=n.Analytics.getInstances())||void 0===o||null===(o=o.ab)||void 0===o||null===(o=o.GrowthBook)||void 0===o||o.setRenderer((()=>{t()}))}}),[a,e]),[t,a]}},654846:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var o=r(414646);const n=()=>{const{client:e}=(0,o.A)(),{active_accounts:t}=e;return t.some((e=>0===e.is_virtual))}},462518:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var o=r(773835),n=r(286326);const i=["data"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l=()=>{const e=(0,n.useCallback)((e=>{var t;const r=["withdrawal_locked","cashier_locked"];return null!==(t=null==e?void 0:e.some((e=>r.includes(e))))&&void 0!==t&&t}),[]),t=(0,o.A)("get_account_status",{options:{refetchInterval:t=>{var r;return!e(null==t||null===(r=t.get_account_status)||void 0===r?void 0:r.status)&&2e3}}}),{data:r}=t,a=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(t,i),c=(0,n.useMemo)((()=>{var t,o;if(null==r||null===(t=r.get_account_status)||void 0===t||!t.status)return;const n=e(null==r||null===(o=r.get_account_status)||void 0===o?void 0:o.status);return s(s({},r.get_account_status),{},{has_mf_account_deposited:n})}),[null==r?void 0:r.get_account_status,e]);return s({data:c,has_mf_account_deposited:null==c?void 0:c.has_mf_account_deposited},a)}},478784:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(414646),n=r(654846);const i=()=>{const{client:e}=(0,o.A)(),{account_list:t}=e,r=(0,n.A)();return t.filter((e=>!e.is_virtual)).some((e=>"Real"!==e.title&&"Investment"!==e.title))||!r}},413852:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s,GZ:()=>a});var o=r(286326),n=r(592129),i=r(488814);const a=()=>{const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const e=Date.now(),r=setInterval((()=>{"function"==typeof window.Intercom?(t(!0),clearInterval(r)):Date.now()-e>=5e3&&clearInterval(r)}),100);return()=>clearInterval(r)}),[]),e},s=e=>{const[t]=(0,i.A)({featureFlag:"enable_intercom"}),r=(0,n.nW)(t?"https://static.deriv.com/scripts/intercom/v1.0.1.js":null);(0,o.useEffect)((()=>{var o;if(!t||"ready"!==r||null===(o=window)||void 0===o||!o.DerivInterCom)return;let n;return window.DerivInterCom.initialize({hideLauncher:!0,token:e}),n=setInterval((()=>{var e;null!==(e=window)&&void 0!==e&&e.Intercom&&clearInterval(n)}),500),()=>{clearInterval(n)}}),[t,r,e])}},3076:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(286326),n=r(281476),i=r(8531);const a=()=>{const[e,t]=(0,o.useState)(!1),{data:r}=(0,i.A)(!0),[a,s]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{let e;if(null!=r&&r.marketing_growthbook){let r=0;e=setInterval((()=>{var o;if(r>20)return clearInterval(e),void s(!1);r+=1,null!==n.Analytics&&void 0!==n.Analytics&&null!==(o=n.Analytics.getInstances())&&void 0!==o&&o.ab&&(t(!0),clearInterval(e))}),500)}else s(!1);return()=>{clearInterval(e)}}),[r.marketing_growthbook]),{isGBLoaded:e,isGBAvailable:a}}},317691:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var o=r(394559),n=r.n(o),i=r(8531),a=r(414646);const s=()=>{var e,t;const{data:r}=(0,i.A)(!0),o=null!==(e=null==r?void 0:r.hub_enabled_country_list)&&void 0!==e?e:[],{client:s}=(0,a.A)(),{account_settings:c,clients_country:l}=s,u=(null===(t=JSON.parse(n().get("client_information")||"{}"))||void 0===t?void 0:t.residence)||(null==c?void 0:c.country_code);return{isHubRedirectionEnabled:Array.isArray(o)&&u&&o.includes(u),isChangingToHubAppId:Array.isArray(o)&&l&&o.includes(l),isHubRedirectionLoaded:!!o.length}}},43180:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var o=r(286326);const n=()=>{const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{var e;null===(e=window.LiveChatWidget)||void 0===e||e.on("ready",(e=>{"online"===e.state.availability&&t(!0)}))}),[]),{is_livechat_available:e}}},768429:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(286326),n=r(140994);const i=()=>{const{i18n:e}=(0,n.B)(),t=o.useCallback((()=>{var t;return"rtl"===e.dir(null===(t=e.language)||void 0===t?void 0:t.toLowerCase())}),[e]),[r,i]=o.useState((()=>t()));return o.useEffect((()=>{i(t())}),[t,e.language]),r}},702001:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var o=r(414646);const n=()=>{const{client:e}=(0,o.A)(),{account_settings:t,landing_company_shortcode:r}=e,{tnc_status:n}=t||{};return n&&0===n[r]}},418679:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var o=r(286326),n=r(394559),i=r.n(n),a=r(294035),s=r(8531);const c=e=>{const{is_client_store_initialized:t,landing_company_shortcode:r=" ",currency:n=" ",email:c=" ",is_logged_in:l=" ",loginid:u=" ",residence:d=" ",last_name:_=" ",first_name:p=" "}=e,h=window.location.search,m=new URLSearchParams(h),f="reset_password"===a.vk.getQueryParameter("action"),g=m.get("code")&&f,{data:b}=(0,s.A)(!0),{cs_chat_livechat:v}=b;(0,o.useEffect)((()=>{var e;t&&v&&(null===(e=window.LiveChatWidget)||void 0===e||e.init())}),[t,v]),(0,o.useEffect)((()=>{var e;!g&&t&&(null===(e=window.LiveChatWidget)||void 0===e||e.on("ready",(e=>{var t,o;"minimized"===e.state.visibility&&(null===(o=window.LiveChatWidget)||void 0===o||o.call("hide"));const a=JSON.parse(i().get("utm_data")||"{}"),{utm_source:s,utm_medium:h,utm_campaign:m}=a,f={is_logged_in:String(l),utm_source:s||" ",utm_medium:h||" ",utm_campaign:m||" ",loginid:l?u:" ",landing_company_shortcode:l?r:" ",currency:l?n:" ",residence:l?d:" ",email:l?c:" "};var g,b,v,y;(null===(t=window.LiveChatWidget)||void 0===t||t.call("set_session_variables",f),l)?(null===(g=window.LiveChatWidget)||void 0===g||g.call("set_customer_email",c),null===(b=window.LiveChatWidget)||void 0===b||b.call("set_customer_name",`${p} ${_}`)):(null===(v=window.LiveChatWidget)||void 0===v||v.call("set_customer_email"," "),null===(y=window.LiveChatWidget)||void 0===y||y.call("set_customer_name"," "))})))}),[c,g,u,l,r,t,n,p,_,d])}},809003:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var o=r(773835);const n=["data"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=e=>{var t;const r=(0,o.A)("residence_list",{options:a({staleTime:1/0},e)}),{data:i}=r,s=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(r,n);return a({data:null!==(t=null==i?void 0:i.residence_list)&&void 0!==t?t:[]},s)}},827173:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var o=r(773835);const n=["data"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=(e,t)=>{var r;const i=(0,o.A)("states_list",{payload:{states_list:e},options:a({enabled:!!e,staleTime:1/0},t)}),{data:s}=i;return a(a({},function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(i,n)),{},{data:null!==(r=null==s?void 0:s.states_list)&&void 0!==r?r:[]})}},160756:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var o=r(286326),n=r(394559),i=r.n(n),a=r(504377),s=r(414646),c=r(978513),l=r(993843);const u=(e={})=>{const{showErrorModal:t}=e,{client:r}=(0,s.A)(),{init:n,setIsLoggingIn:u,is_logged_in:d}=r,_=window.location.pathname,p=_.endsWith("/endpoint")||"/endpoint"===_,h=_.endsWith("/redirect")||"/redirect"===_,m=(0,o.useMemo)((()=>["deriv.com","deriv.dev","binary.sx","pages.dev","localhost","deriv.be","deriv.me"]),[]),f=window.location.hostname.split(".").slice(-2).join(".");const g=(0,o.useCallback)((async()=>{var e,t,r,o;d&&((0,a.removeCookies)("affiliate_token","affiliate_tracking","utm_data","onfido_token","gclid"),localStorage.removeItem("closed_toast_notifications"),localStorage.removeItem("is_wallet_migration_modal_closed"),localStorage.removeItem("active_wallet_loginid"),localStorage.removeItem("config.account1"),localStorage.removeItem("config.tokens"),localStorage.removeItem("verification_code.system_email_change"),localStorage.removeItem("verification_code.request_email"),localStorage.removeItem("new_email.system_email_change"),localStorage.removeItem("active_loginid"),localStorage.removeItem("clientAccounts"),Object.keys(sessionStorage).filter((e=>"trade_store"!==e)).forEach((e=>sessionStorage.removeItem(e))),null===(e=window.LC_API)||void 0===e||null===(t=e.close_chat)||void 0===t||t.call(e),null===(r=window.LiveChatWidget)||void 0===r||r.call("hide"),null===(o=window.fcWidget)||void 0===o||o.close(),c.Chat.clear(),m.includes(f)&&i().set("logged_state","false",{domain:f,expires:30,path:"/",secure:!0}))}),[f,m]),b=(e,t=!1)=>{if(!e)return;const r=t?"active_wallet_loginid":"active_loginid";sessionStorage.setItem(r,e)},v=(0,o.useCallback)((async()=>{try{return await(0,l.Mp)()}catch(e){console.error("Failed to get active sessions",e),null==t||t()}}),[t]),y=(0,o.useCallback)((async()=>{u(!0);const e=await v();if(null==e||!e.active)return u(!1),g();if(null!=e&&e.active){var t,r;const l=localStorage.getItem("clientAccounts")!==JSON.stringify(null==e?void 0:e.tokens);localStorage.setItem("clientAccounts",JSON.stringify(null==e?void 0:e.tokens));const d=new URLSearchParams(location.search);let _=d.get("account");if(!_&&(null==e||null===(t=e.tokens)||void 0===t?void 0:t.length)>0){const t=e.tokens[0];_=t.loginid.startsWith("VR")?"demo":t.cur,d.set("account",null!=_?_:"");const r=`${window.location.pathname}?${d.toString()}${window.location.hash}`;window.history.replaceState({},"",r)}if("DEMO"===(null===(r=_)||void 0===r?void 0:r.toLocaleUpperCase())){var o,a;const t=null==e||null===(o=e.tokens)||void 0===o?void 0:o.find((e=>"USD"===(null==e?void 0:e.cur.toLocaleUpperCase())&&e.loginid.startsWith("VRTC"))),r=null==e||null===(a=e.tokens)||void 0===a?void 0:a.find((e=>"USD"===(null==e?void 0:e.cur.toLocaleUpperCase())&&e.loginid.startsWith("VRW")));t||!sessionStorage.getItem("active_loginid")&&!localStorage.getItem("active_loginid")||(sessionStorage.removeItem("active_loginid"),localStorage.removeItem("active_loginid")),r||!sessionStorage.getItem("active_wallet_loginid")&&!localStorage.getItem("active_wallet_loginid")||(sessionStorage.removeItem("active_wallet_loginid"),localStorage.removeItem("active_wallet_loginid")),b(null==t?void 0:t.loginid),b(null==r?void 0:r.loginid,!0)}else{var s,c;const t=null==e||null===(s=e.tokens)||void 0===s?void 0:s.find((e=>{var t;return(null==e?void 0:e.cur.toLocaleUpperCase())===(null===(t=_)||void 0===t?void 0:t.toLocaleUpperCase())&&((null==e?void 0:e.loginid.startsWith("CR"))&&!(null!=e&&e.loginid.startsWith("CRW"))||(null==e?void 0:e.loginid.startsWith("MF"))&&!e.loginid.startsWith("MFW"))})),r=null==e||null===(c=e.tokens)||void 0===c?void 0:c.find((e=>{var t;return(null==e?void 0:e.cur.toLocaleUpperCase())===(null===(t=_)||void 0===t?void 0:t.toLocaleUpperCase())&&((null==e?void 0:e.loginid.startsWith("CRW"))||(null==e?void 0:e.loginid.startsWith("MFW")))}));t||!sessionStorage.getItem("active_loginid")&&!localStorage.getItem("active_loginid")||(sessionStorage.removeItem("active_loginid"),localStorage.removeItem("active_loginid")),r||!sessionStorage.getItem("active_wallet_loginid")&&!localStorage.getItem("active_wallet_loginid")||(sessionStorage.removeItem("active_wallet_loginid"),localStorage.removeItem("active_wallet_loginid")),b(null==t?void 0:t.loginid),b(null==r?void 0:r.loginid,!0)}const p={};e.tokens.forEach(((e,t)=>{const r=t+1;(null==e?void 0:e.loginid)&&(p[`acct${r}`]=e.loginid),(null==e?void 0:e.token)&&(p[`token${r}`]=e.token),(null==e?void 0:e.cur)&&(p[`cur${r}`]=e.cur)})),l?n(p):u(!1),m.includes(f)&&i().set("logged_state","true",{domain:f,expires:30,path:"/",secure:!0})}if(h){const e=new URLSearchParams(location.search).get("from"),t=i().get("authtoken");if("tradershub"===e&&t){const e=decodeURIComponent(t).replace(/^"|"$/g,"");localStorage.setItem("authToken",e),i().remove("authtoken"),window.location.href=window.location.origin}}}),[v,p,g,m,f,h]);return{handleLogout:g,onRenderTMBCheck:y,isTmbEnabled:async()=>!0}}},422692:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var o=r(414646);const n=()=>{const{client:e}=(0,o.A)(),{wallet_migration_state:t,startWalletMigration:r,resetWalletMigration:n,is_wallet_migration_request_is_in_progress:i}=e;return{state:t,is_ineligible:"ineligible"===t,is_eligible:"eligible"===t,is_in_progress:"in_progress"===t,is_migrated:"migrated"===t,is_failed:"failed"===t,is_migrating:i,startMigration:r,resetMigration:n}}},504377:(e,t,r)=>{"use strict";let o;r.r(t),r.d(t,{ACCOUNTS_OS_DFA_URL:()=>yt.YP,ACCOUNTS_OS_POA_URL:()=>yt.vl,ACCOUNTS_OS_POI_STATUS_URL:()=>yt.w1,ACCOUNTS_OS_POI_URL:()=>yt.tQ,ACCOUNT_BADGE_STATUS:()=>Fr,AMOUNT_MAX_LENGTH:()=>In,ANIMATION_CORRECTION_TIME:()=>ge,AUTH_STATUS_CODES:()=>Sr,BARRIER_COLORS:()=>C,BARRIER_LINE_STYLES:()=>A,CFD_PLATFORMS:()=>po.$_,CFD_PRODUCTS_TITLE:()=>fo,CFD_text:()=>mo,CONTRACT_SHADES:()=>D,CONTRACT_STORAGE_VALUES:()=>ye,CONTRACT_TYPES:()=>De,CURRENCY_TYPE:()=>Bn,ChartBarrierStore:()=>Ii,ContentFlag:()=>ur,CookieStorage:()=>Ut,CryptoConfig:()=>Yn,DBVI_COMPANY_NAMES:()=>hr,DEFAULT_SHADES:()=>w,DELAY_TIME_1S_SYMBOL:()=>be,DISABLE_LANDSCAPE_BLOCKER_ROUTES:()=>yt.hl,EMPLOYMENT_VALUES:()=>wr,Errors:()=>Ks,IDV_ERROR_STATUS:()=>xr,JURISDICTION_MARKET_TYPES:()=>mr,Jurisdiction:()=>_r,LIMIT_ORDER_TYPES:()=>Da,LocalStore:()=>$t,MAX_MOBILE_WIDTH:()=>s,MAX_TABLET_WIDTH:()=>c,MT5_ACCOUNT_STATUS:()=>jr,ONFIDO_ERROR_STATUS:()=>Er,OSDetect:()=>Qa,PAGE_TYPE:()=>pi,POIContext:()=>rc,POIContextInitialState:()=>tc,POIProvider:()=>oc,POSITIONS_V2_TAB_NAME:()=>Qi,PRODUCT:()=>bo,Platforms:()=>pr,STATUS_CODES:()=>Ar,SessionStore:()=>Vt,State:()=>zt,TRACKING_STATUS_KEY:()=>zo,TRADE_FEATURE_FLAGS:()=>or,TRADE_TYPES:()=>we,TRADING_PLATFORM_STATUS:()=>Or,TranslationFlag:()=>lo,UNSUPPORTED_LANGUAGES:()=>dr.U,UPLOAD_FILE_TYPE:()=>_i,VANILLA_FX_SYMBOLS:()=>fe,VERIFICATION_SERVICES:()=>Nr,Validator:()=>Zs,WS:()=>o,addComma:()=>Wn,addDays:()=>un,addMonths:()=>_n,addWeeks:()=>dn,addYears:()=>pn,address_permitted_special_characters_message:()=>ds,barriersToString:()=>Ni,buildBarriersConfig:()=>ki,buildDurationConfig:()=>oa,buildForwardStartingConfig:()=>Ia,cacheTrackEvents:()=>ic,calcDecimalPlaces:()=>$n,capitalizeFirstLetter:()=>oe,checkAndSetEndpointFromUrl:()=>Io.GD,checkServerMaintenance:()=>Pa,clickAndKeyEventHandler:()=>ht,cloneObject:()=>I,cloneThorough:()=>K(),compareBigUnsignedInt:()=>Z,compressImageFiles:()=>ci,contractCancelled:()=>La,contractSold:()=>Na,convertDateFormat:()=>yn,convertDurationLimit:()=>sa,convertDurationUnit:()=>na,convertTimeFormat:()=>Dn,convertToUnix:()=>Ko,cryptoMathRandom:()=>Ga,daysFromTodayTo:()=>Xo,daysSince:()=>Qo,deepFreeze:()=>G,default_title:()=>Mo,deriv_urls:()=>Nt.G,diffInMonths:()=>en,domain_app_ids:()=>Io.Yp,emailOTPErrorMessage:()=>Mr,epochToMoment:()=>$o,excludeParamsFromUrlQuery:()=>xn.gx,extractInfoFromShortcode:()=>ce,filterByLandingCompany:()=>Ws,filterDisabledPositions:()=>pa,filterObjProperties:()=>N,filterUrlQuery:()=>xn.M5,findFirstOpenMarket:()=>ji,findValueByKeyRecursively:()=>H,flatten:()=>f,formatCurrency:()=>Un,formatDate:()=>Jo,formatDuration:()=>nn,formatDurationTime:()=>_a,formatIDVError:()=>fa,formatIDVFormValues:()=>Fn,formatInput:()=>te,formatMilliseconds:()=>vn,formatMoney:()=>zn,formatOnfidoError:()=>ga,formatPortfolioPosition:()=>ha,formatResetDuration:()=>Gi,formatTime:()=>Zo,generateValidationFunction:()=>$s,getAccountListKey:()=>xo,getAccountTypeFields:()=>yo,getAccuBarriersDTraderTimeout:()=>Je,getAccuBarriersDefaultTimeout:()=>qe,getAccuBarriersForContractDetails:()=>Ze,getActionFromUrl:()=>En.ci,getActivePlatform:()=>po.cC,getAddressDetailsFields:()=>vr,getAppId:()=>Io.R7,getAppstorePlatforms:()=>g.jn,getAuthenticationStatusInfo:()=>So,getBarrierPipSize:()=>Pi,getBrandWebsiteName:()=>g.Wt,getBuyPrice:()=>ka,getCFDAccount:()=>wo,getCFDAccountDisplay:()=>Do,getCFDAccountKey:()=>vo,getCFDAvailableAccount:()=>Lo,getCFDPlatformLabel:()=>Eo,getCFDPlatformNames:()=>jo,getCancellationPrice:()=>Ee,getCardLabels:()=>Xt,getCardLabelsV2:()=>Qt,getCarriers:()=>Lr,getCharCount:()=>re,getCleanedUpCategories:()=>nr,getContractCategoriesConfig:()=>Jt,getContractConfig:()=>ir,getContractDurationType:()=>qi,getContractPath:()=>xn.YQ,getContractStatus:()=>Ce,getContractSubtype:()=>_t,getContractTypeDisplay:()=>ar,getContractTypeFeatureFlag:()=>sr,getContractTypePosition:()=>cr,getContractTypesConfig:()=>qt,getContractUpdateConfig:()=>lt,getContractValidationRules:()=>Ba,getCurrencies:()=>Qn,getCurrencyDisplayCode:()=>Jn,getCurrencyName:()=>Zn,getCurrentProductionDomain:()=>Io.Du,getCurrentTick:()=>Xe,getDateFromNow:()=>rn,getDateFromTimestamp:()=>on,getDebugServiceWorker:()=>Io.h5,getDecimalPlaces:()=>Vn,getDefaultError:()=>Cr,getDefaultFields:()=>Us,getDiffDuration:()=>tn,getDigitInfo:()=>rt,getDisplayStatus:()=>ct,getDomainName:()=>g.Wq,getDomainUrl:()=>xn.aE,getDurationMinMaxValues:()=>ua,getDurationPeriod:()=>Yi,getDurationTime:()=>Ki,getDurationUnitText:()=>Hi,getDurationUnitValue:()=>Ri,getEndTime:()=>Fa,getErrorMessages:()=>Rs,getExpiryType:()=>aa,getFileExtension:()=>si,getFinalPrice:()=>Ae,getFormattedJurisdictionCode:()=>Po,getFormattedJurisdictionMarketTypes:()=>To,getFormattedText:()=>Mn,getGrowthRatePercentage:()=>st,getHostMap:()=>xn.TF,getHubSignupUrl:()=>xn.P2,getIDVError:()=>va,getIDVNotApplicableOption:()=>kn,getIndicativePrice:()=>xe,getKebabCase:()=>ee,getLastContractMarkerIndex:()=>Qe,getLastTickFromTickStream:()=>et,getLegalEntityName:()=>g.oP,getLimitOrder:()=>Ca,getLimitOrderAmount:()=>it,getLocalizedBasis:()=>Kt,getLocalizedTurbosSubtype:()=>pt,getLocation:()=>ti,getLongDate:()=>Go,getMT5AccountTitle:()=>No,getMT5Icon:()=>Co,getMT5Title:()=>go,getMarketInformation:()=>Ji,getMarketName:()=>Zi,getMarketNamesMap:()=>er,getMinPayout:()=>Xn,getMinWithdrawal:()=>Kn,getOSNameWithUAParser:()=>is,getOnfidoError:()=>ba,getPath:()=>xn.Yn,getPathname:()=>po.Hm,getPersonalDetailsFields:()=>yr,getPlatformFromUrl:()=>En.PR,getPlatformInformation:()=>po.Kv,getPlatformRedirect:()=>po.Qj,getPlatformSettings:()=>g.bn,getPlatformSettingsAppstore:()=>g.zv,getPosition:()=>ei,getPositionsV2TabIndexFromURL:()=>ea,getPreBuildDVRs:()=>Bs,getPropertyValue:()=>U,getRoundedNumber:()=>Rn,getSelectedRoute:()=>cs,getSignupFormFields:()=>Dr,getSocketURL:()=>Io.J3,getSortedTradeTypes:()=>mt,getStartOfMonth:()=>bn,getStartTime:()=>ue,getStaticUrl:()=>xn.YG,getSupportedContracts:()=>rr,getSupportedFiles:()=>hi,getSymbolDisplayName:()=>Fi,getTimePercentage:()=>at,getTimeSince:()=>wn,getTomorrowDate:()=>Cn,getTotalProfit:()=>ot,getTradeNotificationMessage:()=>ta,getTradeTypeName:()=>Xi,getTradeURLParams:()=>Ft,getTransferFee:()=>qn,getUnitMap:()=>zi,getUnsupportedContracts:()=>tr,getUrlBase:()=>xn.ts,getUrlBot:()=>En.Xz,getUrlP2P:()=>En.Kt,getUrlSmartTrader:()=>En.lE,getUseRequestPhoneNumberOTPErrorMessage:()=>Br,getValidationFunction:()=>Hs,getWithdrawalInfoMessage:()=>_o,getWithdrawalTitle:()=>uo,getlangFromUrl:()=>En.ui,hasBarrier:()=>Te,hasContractEntered:()=>Pe,hasContractStarted:()=>Oa,hasForwardContractStarted:()=>_e,hasIntradayDurationUnit:()=>ca,hasInvalidCharacters:()=>Os,hasTwoBarriers:()=>Ne,initFormErrorMessages:()=>Is,initMoment:()=>Wo,isAccumulatorContract:()=>Le,isAccumulatorContractOpen:()=>Ie,isAsiansContract:()=>Ve,isBarrierSupported:()=>Ti,isBot:()=>po.w2,isCallPut:()=>lr,isContractElapsed:()=>xa,isContractSupportedAndStarted:()=>Ta,isCryptoContract:()=>Ke,isCryptocurrency:()=>Gn,isDXtrade:()=>po.l2,isDateValid:()=>ln,isDeepEqual:()=>B,isDesktop:()=>d,isDesktopOs:()=>Ja,isDigitContract:()=>tt,isDisabledLandscapeBlockerRoute:()=>yt.R0,isDtraderV2DesktopEnabled:()=>po.oS,isDtraderV2MobileEnabled:()=>po.gk,isEmptyObject:()=>L,isEndTime:()=>Mi,isEnded:()=>je,isEndedBeforeCancellationExpired:()=>Ea,isEqualArray:()=>R,isEqualObject:()=>M,isEuCountry:()=>oi,isEuResidenceWithOnlyVRTC:()=>ii,isFormattedCardNumber:()=>Ss,isForwardStarting:()=>de,isForwardStartingBuyTransaction:()=>ft,isHighLow:()=>le,isHourValid:()=>sn,isIDVReportNotAvailable:()=>ma,isLandingCompanyEnabled:()=>Oo,isLocal:()=>Io.IX,isLookBacksContract:()=>He,isMT5:()=>po.hB,isMarketClosed:()=>Di,isMinuteValid:()=>cn,isMobile:()=>u,isMobileOs:()=>Za,isMultiplierContract:()=>Be,isNavigationFromDerivGO:()=>po.Zz,isNavigationFromExternalPlatform:()=>po.XM,isNavigationFromP2P:()=>po.ZJ,isNavigationFromP2PV2:()=>po.NZ,isNavigationFromPlatform:()=>po.uc,isNavigationFromTradersHubOS:()=>po.JS,isOpen:()=>Oe,isProduction:()=>Io.KV,isResetContract:()=>Ye,isRiseFallContract:()=>Re,isRouteVisible:()=>ls,isSafari:()=>b,isSafariBrowser:()=>v,isSmartTraderContract:()=>$e,isSoldBeforeStart:()=>ja,isStaging:()=>En.YG,isStorageSupported:()=>Bt,isTablet:()=>_,isTabletOs:()=>Xa,isTestDerivApp:()=>En.WP,isTestLink:()=>Io.Tn,isTicksContract:()=>Ge,isTimeValid:()=>an,isTouchContract:()=>Me,isTouchDevice:()=>l,isTurbosContract:()=>ze,isUserCancelled:()=>Sa,isUserSold:()=>Se,isValidToCancel:()=>Fe,isValidToSell:()=>ke,isVanillaContract:()=>Ue,isVanillaFxContract:()=>We,isVerificationServiceSupported:()=>ya,legacyUrlForLanguage:()=>xn.sr,livechat_client_id:()=>Io.Pg,livechat_license_id:()=>Io.Zr,loginUrl:()=>vi,makeCancellablePromise:()=>as,makeLazyLoader:()=>Va,matchRoute:()=>ss,matchStringByChar:()=>X,max_document_size:()=>ui,minDate:()=>gn,mobileOSDetect:()=>es,mobileOSDetectAsync:()=>ns,mockContractInfo:()=>vt,moduleLoader:()=>Ha,mt5_community_url:()=>Fo,mt5_help_centre_url:()=>ko,normalizePath:()=>xn.Fd,numberToString:()=>Q,padLeft:()=>J,params:()=>xn.tz,phoneOTPErrorMessage:()=>Rr,pick:()=>V,pickDefaultSymbol:()=>wi,platform_app_ids:()=>Io.JT,platform_name:()=>po.i2,platforms:()=>On,readFiles:()=>li,redirectToLogin:()=>gi,redirectToSignUp:()=>bi,regex_checks:()=>Ys,removeActionParam:()=>En.yo,removeBarrier:()=>Li,removeBranchName:()=>xn.G$,removeCookies:()=>Wt,removeEmptyPropertiesFromObject:()=>W,removeObjProperties:()=>T,reorderCurrencies:()=>Ln,reset:()=>xn.cL,resetEndTimeOnVolatilityIndices:()=>la,routes:()=>yt.JZ,sequence:()=>$,setCurrencies:()=>Hn,setLimitOrderBarriers:()=>wa,setLocale:()=>An,setPerformanceValue:()=>h,setSharedCFDText:()=>Ao,setTime:()=>Yo,setTradeURLParams:()=>kt,setUrlLanguage:()=>xn.I8,setWebsocket:()=>n,shouldHideOccupationField:()=>Gs,shouldShowCancellation:()=>dt,shouldShowExpiration:()=>ut,shouldShowPhoneVerificationNotification:()=>Ir,showDigitalOptionsUnavailableError:()=>ni,showUnavailableLocationError:()=>yi,shuffleArray:()=>m,sortApiData:()=>Aa,startPerformanceEventTimer:()=>p,subDays:()=>hn,subMonths:()=>mn,subYears:()=>fn,supported_filetypes:()=>di,switch_to_tick_chart:()=>Bi,symbols_2s:()=>ve,systems:()=>qa,template:()=>qs,toGMTFormat:()=>qo,toLocalFormat:()=>Ho,toMoment:()=>Vo,toTitleCase:()=>q,tradershub_os_url:()=>jn,truncateFileName:()=>ai,unique:()=>z,unsupported_contract_types_list:()=>Zt,urlFor:()=>xn.dk,urlForCurrentDomain:()=>xn.IK,urlForLanguage:()=>xn.J9,useIsMounted:()=>Ra,useNewRowTransition:()=>Ma,useOnLoadTranslation:()=>Sn,useWS:()=>i,validAddress:()=>_s,validAddressState:()=>Ds,validEmail:()=>ys,validFile:()=>Fs,validLength:()=>bs,validLetterSymbol:()=>fs,validMT5Password:()=>ks,validName:()=>gs,validNumber:()=>Ls,validPassword:()=>vs,validPhone:()=>ms,validPostCode:()=>ps,validTaxID:()=>hs,websiteUrl:()=>xn.$w,website_domain:()=>Bo,website_name:()=>Ro,whatsapp_url:()=>Nt.R});const n=e=>{o=e},i=()=>o;var a=r(281476);const s=600,c=1279,l=()=>"ontouchstart"in window||"ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,u=()=>window.innerWidth<=s,d=()=>_()||window.innerWidth>c,_=()=>s<window.innerWidth&&window.innerWidth<=c,p=e=>{window.performance_metrics||(window.performance_metrics={create_ctrader_account_time:0,create_dxtrade_account_time:0,create_mt5_account_time:0,load_cashier_time:0,load_crypto_deposit_cashier_time:0,load_fiat_deposit_cashier_time:0,login_time:0,redirect_from_deriv_com_time:0,signup_time:0,switch_currency_accounts_time:0,switch_from_demo_to_real_time:0,switch_from_real_to_demo_time:0,options_multipliers_section_loading_time:0}),window.performance_metrics[e]=Date.now()},h=e=>{var t;if(null!==(t=window.performance_metrics)&&void 0!==t&&t[e]){const t=(Date.now()-window.performance_metrics[e])/1e3;window.performance_metrics[e]=0;const r="ce_traders_hub_performance_metrics";a.Analytics.trackEvent(r,{action:e,value:t,device:u()?"mobile":"desktop"})}},m=e=>{for(let r=e.length-1;r>0;r--){const o=window.crypto||window.msCrypto,n=new Uint32Array(1),i=o.getRandomValues(n),a=Math.floor((t=i[0],Number(String(t)[0])/10*(r+1)));[e[r],e[a]]=[e[a],e[r]]}var t;return e},f=e=>[].concat(...e);var g=r(150518);const b=()=>/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||void 0!==window.safari&&window.safari.pushNotification).toString(),v=()=>"Safari"==(-1!==(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?"Opera":-1!==navigator.userAgent.indexOf("Edg")||-1!==navigator.userAgent.indexOf("EdgiOS")?"Edge":-1!==navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("CriOS")?"Chrome":-1!==navigator.userAgent.indexOf("Firefox")||-1!==navigator.userAgent.indexOf("FxiOS")?"Firefox":-1!==navigator.userAgent.indexOf("Safari")?"Safari":"unknown");var y=r(33118);const D={ACCU:"NONE_DOUBLE",CALL:"NONE_SINGLE",PUT:"NONE_SINGLE",CALLE:"NONE_SINGLE",PUTE:"NONE_SINGLE",EXPIRYRANGE:"BETWEEN",EXPIRYMISS:"OUTSIDE",RANGE:"BETWEEN",UPORDOWN:"OUTSIDE",ONETOUCH:"NONE_SINGLE",NOTOUCH:"NONE_SINGLE",ASIANU:"ABOVE",ASIAND:"BELOW",MULTUP:"NONE_SINGLE",MULTDOWN:"NONE_SINGLE",TURBOSLONG:"NONE_SINGLE",TURBOSSHORT:"NONE_SINGLE",VANILLALONGCALL:"NONE_SINGLE",VANILLALONGPUT:"NONE_SINGLE",RESETCALL:"ABOVE",RESETPUT:"BELOW",LBFLOATPUT:"NONE_SINGLE",LBFLOATCALL:"NONE_SINGLE",LBHIGHLOW:"NONE_DOUBLE"},w={1:"NONE_SINGLE",2:"NONE_DOUBLE"},C={GREEN:"#008832",RED:"#e6190e",ORANGE:"#ff6444",BLUE:"#2c9aff"},A={DASHED:"dashed",DOTTED:"dotted",SOLID:"solid"};var x=r(214867),E=r.n(x),j=r(286326);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},k.apply(null,arguments)}const P=r(103771),T=(e,t)=>{let r=k({},(F(t),t));return e.forEach((e=>delete r[e])),r},N=(e,t)=>{let r=k({},(F(e),e));return Object.fromEntries(Object.entries(r).filter((([e,r])=>t.includes(e))))},L=e=>{let t=!0;return e&&e instanceof Object&&Object.keys(e).forEach((r=>{Object.prototype.hasOwnProperty.call(e,r)&&(t=!1)})),t},I=e=>L(e)?e:P(!0,Array.isArray(e)?[]:{},e),B=(e,t)=>typeof e==typeof t&&(Array.isArray(e)?R(e,t):e&&t&&"object"==typeof e?M(e,t):!("number"!=typeof e||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t),R=(e,t)=>e===t||e.length===t.length&&e.every(((e,r)=>B(e,t[r]))),M=(e,t)=>e===t||Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((r=>B(e[r],t[r]))),z=(e,t)=>e.filter(((r,o)=>e.findIndex(((e,n)=>e[t]?e[t]===r[t]:n===o))===o)),U=(e,t)=>{let r=t;return Array.isArray(r)||(r=[r]),!L(e)&&r[0]in e&&r&&r.length>1?U(e[r[0]],r.slice(1)):e?I(e[r[0]]):void 0},W=e=>{const t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return Object.getOwnPropertyNames(e).forEach((r=>{[void 0,null,""].includes(e[r])&&delete t[r]})),t},$=e=>Array.from(Array(e).keys()),V=(e,t)=>t.reduce(((t,r)=>(Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]),t)),{}),H=(e,t)=>{let r;return Object.keys(e).some((o=>{const n=e[o];if(o===t)return r=e[t],!0;if("object"==typeof n){const e=H(n,t);if(e)return r=e,!0}return!1})),r},G=e=>(Object.getOwnPropertyNames(e).forEach((t=>{const r=e[t];r&&"object"==typeof r&&!Object.isFrozen(r)&&G(r)})),Object.freeze(e));var Y=r(197186),K=r.n(Y);const q=e=>(e||"").replace(/\w[^\s/\\]*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())),J=(e,t,r)=>{const o=String(e||"");return o.length>=t?o:`${Array(t-o.length+1).join(r)}${o}`},Z=(e,t)=>{let r=Q(e),o=Q(t);if(!r||!o)return"";const n=Math.max(r.length,o.length);r=J(r,n,"0"),o=J(o,n,"0");let i=0;return r!==o&&(i=r>o?1:-1),i},X=(e,t)=>{if((null==t?void 0:t.length)<1)return!0;const r=t.split("").reduce(((e,t)=>`${e}[^${t}]*${t}`),"");return RegExp(r,"i").test(e)},Q=e=>"number"==typeof e?String(e):e,ee=e=>e?e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/[\s]+/g,"-").toLowerCase():e,te=(e,t,r)=>{const o=e.indexOf(r),n=re(e,r),i=re(t,r);return-1!==o&&i<n&&t.length-1>=o?t.slice(0,o)+r+t.slice(o):t},re=(e,t)=>{var r;return(null===(r=e.match(new RegExp(t,"g")))||void 0===r?void 0:r.length)||0},oe=e=>e&&e[0].toUpperCase()+e.slice(1),ne="^([A-Z]+)_((?:1HZ[0-9-V]+)|(?:(?:CRASH|BOOM|STPRNG)[0-9\\d]+[A-Z]?)|(?:cry_[A-Z]+)|(?:JD[0-9]+)|(?:OTC_[A-Z0-9]+)|(?:RB[0-9]+)|R_[\\d]{2,3}|[A-Z]+)_([\\d.]+)",ie=new RegExp(`${ne}_(\\d+)_(\\d*\\.?\\d*)_(\\d+)_(\\d*\\.?\\d*)_(\\d+)`),ae=new RegExp(`${ne}_(\\d+)_(\\d+)`),se=new RegExp(`${ne}_([A-Z\\d]+)_([A-Z\\d]+)_?([A-Z\\d]+)?`),ce=e=>{const t={category:"",underlying:"",barrier_1:"",multiplier:"",start_time:"",payout_tick:"",growth_rate:"",growth_frequency:""},r=/^ACCU/i.test(e),o=/^MULT/i.test(e);let n;n=o?ae:r?ie:se;const i=n.exec(e);return null!==i&&(t.category=i[1].charAt(0).toUpperCase()+i[1].slice(1).toLowerCase(),t.underlying=i[2],o?(t.multiplier=i[4],t.start_time=i[5]):r?(t.payout_tick=i[4],t.growth_rate=i[5],t.growth_frequency=i[6],t.start_time=i[8]):t.start_time=i[4],/^(CALL|PUT)$/i.test(t.category)&&(t.barrier_1=i[6])),t},le=({shortcode:e="",shortcode_info:t})=>{const r=e?ce(e):t;return!(!r||!r.barrier_1)&&!/^S0P$/.test(r.barrier_1)},ue=e=>{const t=ce(e);return(null==t||!t.multiplier)&&((null==t?void 0:t.start_time)||"")},de=(e,t)=>{const r=ue(e);return r&&t&&/f$/gi.test(r)},_e=e=>{const t=ue(e);return t&&Date.now()/1e3>Number(t.slice(0,-1))};var pe=r(836870);function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function me(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const fe=["frxAUDUSD","frxEURUSD","frxGBPUSD","frxUSDCAD","frxUSDJPY","frxXAUUSD","frxXAGUSD"],ge=200,be=500,ve=["R_10","R_25","R_50","R_75","R_100"],ye={MULTIPLIERS:"multipliers",ACCUMULATORS:"accumulators",OPTIONS:"options"},De={ACCUMULATOR:"ACCU",ASIAN:{UP:"ASIANU",DOWN:"ASIAND"},CALL:"CALL",CALLE:"CALLE",CALL_BARRIER:"CALL_BARRIER",CALL_PUT_SPREAD:{CALL:"CALLSPREAD",PUT:"PUTSPREAD"},END:{IN:"EXPIRYRANGE",OUT:"EXPIRYMISS"},EVEN_ODD:{ODD:"DIGITODD",EVEN:"DIGITEVEN"},EXPIRYRANGEE:"EXPIRYRANGEE",FALL:"FALL",HIGHER:"HIGHER",LB_HIGH_LOW:"LBHIGHLOW",LB_CALL:"LBFLOATCALL",LB_PUT:"LBFLOATPUT",LOWER:"LOWER",MATCH_DIFF:{MATCH:"DIGITMATCH",DIFF:"DIGITDIFF"},MULTIPLIER:{UP:"MULTUP",DOWN:"MULTDOWN"},OVER_UNDER:{OVER:"DIGITOVER",UNDER:"DIGITUNDER"},PUT:"PUT",PUTE:"PUTE",PUT_BARRIER:"PUT_BARRIER",RESET:{CALL:"RESETCALL",PUT:"RESETPUT"},RISE:"RISE",RUN_HIGH_LOW:{HIGH:"RUNHIGH",LOW:"RUNLOW"},STAY:{IN:"RANGE",OUT:"UPORDOWN"},TICK_HIGH_LOW:{HIGH:"TICKHIGH",LOW:"TICKLOW"},TOUCH:{ONE_TOUCH:"ONETOUCH",NO_TOUCH:"NOTOUCH"},TURBOS:{LONG:"TURBOSLONG",SHORT:"TURBOSSHORT"},VANILLA:{CALL:"VANILLALONGCALL",PUT:"VANILLALONGPUT"}},we={ACCUMULATOR:"accumulator",ASIAN:"asian",CALL_PUT_SPREAD:"callputspread",END:"end",EVEN_ODD:"even_odd",HIGH_LOW:"high_low",LB_HIGH_LOW:"lb_high_low",LB_CALL:"lb_call",LB_PUT:"lb_put",MATCH_DIFF:"match_diff",MULTIPLIER:"multiplier",OVER_UNDER:"over_under",RESET:"reset",RISE_FALL:"rise_fall",RISE_FALL_EQUAL:"rise_fall_equal",RUN_HIGH_LOW:"run_high_low",STAY:"stay",TICK_HIGH_LOW:"tick_high_low",TOUCH:"touch",TURBOS:{LONG:De.TURBOS.LONG.toLowerCase(),SHORT:De.TURBOS.SHORT.toLowerCase()},VANILLA:{CALL:De.VANILLA.CALL.toLowerCase(),PUT:De.VANILLA.PUT.toLowerCase(),FX:"vanilla_fx"}},Ce=({contract_type:e,exit_tick_time:t,profit:r,status:o})=>{const n=r&&r<0&&t?"lost":"won";return Le(e)?"open"!==o||t?n:"open":o},Ae=e=>e.sell_price||e.bid_price,xe=e=>Ae(e)&&je(e)?Ae(e):Number(e.bid_price),Ee=e=>{const{cancellation:{ask_price:t=0}={}}=e;return t},je=e=>!!(null!=e&&e.status&&"open"!==e.status||null!=e&&e.is_expired||null!=e&&e.is_settleable),Oe=e=>"open"===Ce(e),Se=e=>"sold"===(null==e?void 0:e.status),Fe=e=>!(null==e||!e.is_valid_to_cancel),ke=e=>!je(e)&&!Se(e)&&!(null==e||!e.is_valid_to_sell),Pe=e=>!(null==e||!e.entry_spot),Te=(e="")=>/VANILLA|TURBOS|HIGH_LOW|TOUCH/i.test(e),Ne=(e="")=>/EXPIRY|RANGE|UPORDOWN/i.test(e),Le=(e="")=>/ACCU/i.test(e),Ie=(e={})=>Le(e.contract_type)&&"open"===Ce(e),Be=(e="")=>/MULT/i.test(e),Re=(e="")=>/RISE_FALL/i.test(e),Me=e=>/TOUCH/i.test(e),ze=(e="")=>/TURBOS/i.test(e),Ue=(e="")=>/VANILLA/i.test(e),We=(e="",t="")=>Ue(e)&&fe.includes(t),$e=(e="")=>/RUN|EXPIRY|RANGE|UPORDOWN|ASIAN|RESET|TICK|LB/i.test(e),Ve=(e="")=>/ASIAN/i.test(e),He=(e="")=>/LB/i.test(e),Ge=(e="")=>/TICK/i.test(e),Ye=(e="")=>/RESET/i.test(e),Ke=(e="")=>e.startsWith("cry"),qe=e=>ve.includes(e)?2*be:be,Je=({barriers_update_timestamp:e,has_default_timeout:t,tick_update_timestamp:r,underlying:o})=>{if(t||!r)return qe(o);const n=r+qe(o)+ge-e;return n<0?0:n},Ze=e=>{if(!Le(e.contract_type))return{};const t=Oe(e),{current_spot_high_barrier:r,current_spot_low_barrier:o,high_barrier:n,low_barrier:i}=e||{};return{accu_high_barrier:t?r:n,accu_low_barrier:t?o:i}},Xe=e=>{var t;const r=z(e.tick_stream||[],"epoch"),o=tt(e.contract_type)||Ve(e.contract_type)?r.length:null!==(t=e.tick_passed)&&void 0!==t?t:r.length-1;return!o||o<0?0:o},Qe=(e=[])=>{const t=[...e].sort(((e,t)=>Number(t.contract_info.date_start)-Number(e.contract_info.date_start))),r=t[0].contract_info.date_start?e.indexOf(t[0]):-1;return r>=0?r:e.length-1},et=(e=[])=>e[e.length-1]||{},tt=(e="")=>/digit/i.test(e),rt=(e,t)=>{const{tick_stream:r}=t,{tick_display_value:o,epoch:n}=et(r);if(!o||!n)return{};return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n in e?{}:nt(o,n))},ot=e=>Number(e.bid_price)-Number(e.buy_price),nt=(e,t)=>{const r=+`${e}`.slice(-1);return{[+t]:{digit:r,spot:e}}},it=e=>{if(!e)return{stop_loss:null,take_profit:null};const{stop_loss:{order_amount:t}={},take_profit:{order_amount:r}={}}=e;return{stop_loss:t,take_profit:r}},at=(e,t,r)=>{const o=E().duration(E().unix(r).diff(E().unix(t)));let n=E().duration(E().unix(r).diff(e)).asMilliseconds()/o.asMilliseconds()*100;return n<.5?n=0:n>100&&(n=100),isNaN(n)&&(n=0),Math.round(n)},st=e=>100*e,ct=e=>{let t="purchased";return je(e)&&(t=ot(e)>=0?"won":"lost"),t},lt=({contract_update:e,limit_order:t})=>{const{stop_loss:r,take_profit:o}=it(t||e);return{contract_update_stop_loss:r?Math.abs(r).toString():"",contract_update_take_profit:o?o.toString():"",has_contract_update_stop_loss:!!r,has_contract_update_take_profit:!!o}},ut=(e="")=>e.startsWith("cry"),dt=(e="")=>!/^(cry|CRASH|BOOM|stpRNG|WLD|JD)/.test(e),_t=(e="")=>/(VANILLALONG|TURBOS)/i.test(e)?oe(e.replace(/(VANILLALONG|TURBOS)/i,"").toLowerCase()):"",pt=(e="")=>ze(e)?"Long"===_t(e)?(0,pe.jsx)(y.Localize,{i18n_default_text:"Up"}):(0,pe.jsx)(y.Localize,{i18n_default_text:"Down"}):"",ht=(e,t)=>{t?(t.preventDefault(),("keydown"!==t.type||"keydown"===t.type&&"Enter"===t.key)&&(null==e||e())):null==e||e()},mt=(e=[])=>e.includes(we.ACCUMULATOR)?[we.ACCUMULATOR,...e.filter((e=>e!==we.ACCUMULATOR))]:e.includes(we.MULTIPLIER)?[we.MULTIPLIER,...e.filter((e=>e!==we.MULTIPLIER))]:e,ft=(e,t,r)=>"buy"===e&&!!de(t,r);function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function bt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const vt=(e={})=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({account_id:84780920,barrier_count:1,bid_price:19.32,buy_price:10,contract_id:224304409908,contract_type:"CALL",currency:"USD",current_spot:2415.18,current_spot_display_value:"2415.18",current_spot_time:1700481950,date_expiry:1700482235,date_settlement:1700482235,date_start:1700481935,display_name:"Volatility 100 (1s) Index",expiry_time:1700482235,id:"1498e9ed-ef07-a793-76aa-4bee79cab438",is_expired:0,is_forward_starting:0,is_intraday:1,is_path_dependent:0,is_settleable:0,is_sold:0,is_valid_to_cancel:0,is_valid_to_sell:0,longcode:"Win payout if Volatility 100 (1s) Index is strictly higher than entry spot at 5 minutes after contract start time.",payout:19.55,profit:9.32,profit_percentage:93.2,purchase_time:1700481935,shortcode:"CALL_1HZ100V_19.55_1700481935_1700482235_S0P_0",status:"open",transaction_ids:{buy:447576512008},underlying:"1HZ100V",validation_error:"Waiting for entry tick.",validation_error_code:"General"},e);var yt=r(326876);function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){Ct(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ct(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const At="chart_type",xt="interval",Et="symbol",jt="trade_type",Ot={chartType:[{text:"area",value:"line"},{text:"candle",value:"candles"},{text:"hollow",value:"hollow"},{text:"ohlc",value:"ohlc"}],interval:[{text:"1t",value:"0"},{text:"1m",value:"60"},{text:"2m",value:"120"},{text:"3m",value:"180"},{text:"5m",value:"300"},{text:"10m",value:"600"},{text:"15m",value:"900"},{text:"30m",value:"1800"},{text:"1h",value:"3600"},{text:"2h",value:"7200"},{text:"4h",value:"14400"},{text:"8h",value:"28800"},{text:"1d",value:"86400"}]},St=(e,t)=>{var r,o;return null!==(r=null===(o=Ot[t].find((t=>t.value===e.toString())))||void 0===o?void 0:o.text)&&void 0!==r?r:""},Ft=({active_symbols:e=[],contract_types_list:t={}}={})=>{const r=new URLSearchParams(window.location.search),o={};if(r.toString()){const{chart_type:n,interval:i,trade_type:a,symbol:s}=[...r.entries()].reduce(((e,[t,r])=>wt(wt({},e),{},{[t]:r})),{}),c=Ot.interval.find((e=>e.text===i)),l=Ot.chartType.find((e=>e.text===n)),u=0===Number(null==c?void 0:c.value)?"line":null==l?void 0:l.value,d=e.some((e=>e.symbol===s)),_=Object.keys(t).reduce(((e,r)=>{var o;return[...e,...((null===(o=t[r])||void 0===o?void 0:o.categories)||[]).map((e=>e.value))]}),[]),p=0===_.length&&""!==a||_.length>0&&_.includes(null!=a?a:"");c&&(o.granularity=Number(c.value)),l&&(o.chartType=u),d&&(o.symbol=s),p&&(o.contractType=a),(!d&&s&&e.length||!p&&a&&_.length)&&(o.showModal=!0)}return o},kt=({contractType:e,symbol:t,chartType:r,granularity:o})=>{const n=new URLSearchParams(window.location.search);if(r&&n.set(At,St(r,"chartType")),!isNaN(Number(o))&&n.set(xt,St(Number(o),xt)),t&&n.set(Et,t),e&&n.set(jt,e),n.toString()&&window.location.pathname===yt.JZ.trade){const e=`${window.location.pathname}?${n.toString()}`;window.history.replaceState({},document.title,e)}};var Pt=r(205410),Tt=r.n(Pt),Nt=r(682274);const Lt=function(e){return JSON.parse(this.getItem(e)||"{}")},It=function(e,t){if(t&&t instanceof Object)try{this.setItem(e,JSON.stringify(t))}catch(e){}};"undefined"!=typeof Storage&&(Storage.prototype.getObject=Lt,Storage.prototype.setObject=It);const Bt=e=>{if(void 0===e)return!1;const t="test";try{return e.setItem(t,"1"),e.removeItem(t),!0}catch(e){return!1}},Rt=function(e){this.storage=e,this.storage.getObject=Lt,this.storage.setObject=It};Rt.prototype={get(e){return this.storage.getItem(e)||void 0},set(e,t){void 0!==t&&this.storage.setItem(e,t)},getObject(e){return"function"==typeof this.storage.getObject?this.storage.getObject(e):JSON.parse(this.storage.getItem(e)||"{}")},setObject(e,t){"function"==typeof this.storage.setObject?this.storage.setObject(e,t):this.storage.setItem(e,JSON.stringify(t))},remove(e){this.storage.removeItem(e)},clear(){this.storage.clear()}};const Mt=function(e){this.store=void 0!==e?e:{}};Mt.prototype={get(e){return U(this.store,e)},set(e,t,r=this.store){let o=e;Array.isArray(o)||(o=[o]),o.length>1?(o[0]in r&&!L(r[o[0]])||(r[o[0]]={}),this.set(o.slice(1),t,r[o[0]])):r[o[0]]=t},getObject(e){return JSON.parse(this.get(e)||"{}")},setObject(e,t){this.set(e,JSON.stringify(t))},remove(...e){e.forEach((e=>{delete this.store[e]}))},clear(){this.store={}},has(e){return void 0!==this.get(e)},keys(){return Object.keys(this.store)},call(e){"function"==typeof this.get(e)&&this.get(e)()}};const zt=new Mt;zt.prototype=Mt.prototype,zt.prototype.getResponse=function(e){let t=e;if("string"==typeof t){const e=t.split(".");t=["response",e[0]].concat(e)}return this.get(t)},zt.prototype.getByMsgType=zt.getResponse,zt.set("response",{});const Ut=function(e,t){const r=window.location.hostname;this.initialized=!1,this.cookie_name=e,this.domain=t||(r.includes("binary.sx")?"binary.sx":Nt.G.DERIV_HOST_NAME),this.path="/",this.expires=new Date("Thu, 1 Jan 2037 12:00:00 GMT"),this.value={}};Ut.prototype={read(){const e=Tt().get(this.cookie_name);try{this.value=e?JSON.parse(e):{}}catch(e){this.value={}}this.initialized=!0},write(e,t,r){this.initialized||this.read(),this.value=e,t&&(this.expires=t),Tt().set(this.cookie_name,this.value,{expires:this.expires,path:this.path,domain:this.domain,secure:!!r})},get(e){return this.initialized||this.read(),this.value[e]},set(e,t){this.initialized||this.read(),this.value[e]=t,Tt().set(this.cookie_name,this.value,{expires:new Date(this.expires),path:this.path,domain:this.domain})},remove(){Tt().remove(this.cookie_name,{path:this.path,domain:this.domain})}};const Wt=(...e)=>{const t=[`.${document.domain.split(".").slice(-2).join(".")}`,`.${document.domain}`];let r=window.location.pathname.split("/",2)[1];""!==r&&(r=`/${r}`),e.forEach((e=>{Tt().remove(e,{path:"/",domain:t[0]}),Tt().remove(e,{path:"/",domain:t[1]}),Tt().remove(e),new RegExp(e).test(document.cookie)&&r&&(Tt().remove(e,{path:r,domain:t[0]}),Tt().remove(e,{path:r,domain:t[1]}),Tt().remove(e,{path:r}))}))},$t=Bt(window.localStorage)?new Rt(window.localStorage):new Mt,Vt=Bt(window.sessionStorage)?new Rt(window.sessionStorage):new Mt;function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Kt=()=>({accumulator:(0,y.localize)("Accumulators"),current_stake:(0,y.localize)("Current stake"),multiplier:(0,y.localize)("Multiplier"),max_payout:(0,y.localize)("Max payout"),payout_per_pip:(0,y.localize)("Payout per pip"),payout_per_point:(0,y.localize)("Payout per point"),payout:(0,y.localize)("Payout"),stake:(0,y.localize)("Stake"),turbos:(0,y.localize)("Turbos")}),qt=e=>({[we.RISE_FALL]:{title:(0,y.localize)("Rise/Fall"),trade_types:[De.CALL,De.PUT],basis:["stake","payout"],components:["start_date"],barrier_count:0},[we.RISE_FALL_EQUAL]:{title:(0,y.localize)("Rise/Fall"),trade_types:[De.CALLE,De.PUTE],basis:["stake","payout"],components:["start_date"],barrier_count:0},[we.HIGH_LOW]:{title:(0,y.localize)("Higher/Lower"),trade_types:[De.CALL,De.PUT],basis:["stake","payout"],components:["barrier"],barrier_count:1},[we.TOUCH]:{title:(0,y.localize)("Touch/No Touch"),trade_types:[De.TOUCH.ONE_TOUCH,De.TOUCH.NO_TOUCH],basis:["stake","payout"],components:["barrier"]},[we.END]:{title:(0,y.localize)("Ends In/Ends Out"),trade_types:[De.END.IN,De.END.OUT],basis:["stake","payout"],components:["barrier"]},[we.STAY]:{title:(0,y.localize)("Stays In/Goes Out"),trade_types:[De.STAY.IN,De.STAY.OUT],basis:["stake","payout"],components:["barrier"]},[we.ASIAN]:{title:(0,y.localize)("Asian Up/Asian Down"),trade_types:[De.ASIAN.UP,De.ASIAN.DOWN],basis:["stake","payout"],components:[]},[we.MATCH_DIFF]:{title:(0,y.localize)("Matches/Differs"),trade_types:[De.MATCH_DIFF.MATCH,De.MATCH_DIFF.DIFF],basis:["stake","payout"],components:["last_digit"]},[we.EVEN_ODD]:{title:(0,y.localize)("Even/Odd"),trade_types:[De.EVEN_ODD.ODD,De.EVEN_ODD.EVEN],basis:["stake","payout"],components:[]},[we.OVER_UNDER]:{title:(0,y.localize)("Over/Under"),trade_types:[De.OVER_UNDER.OVER,De.OVER_UNDER.UNDER],basis:["stake","payout"],components:["last_digit"]},[we.LB_CALL]:{title:(0,y.localize)("Close-to-Low"),trade_types:[De.LB_CALL],basis:["multiplier"],components:[]},[we.LB_PUT]:{title:(0,y.localize)("High-to-Close"),trade_types:[De.LB_PUT],basis:["multiplier"],components:[]},[we.LB_HIGH_LOW]:{title:(0,y.localize)("High-to-Low"),trade_types:[De.LB_HIGH_LOW],basis:["multiplier"],components:[]},[we.TICK_HIGH_LOW]:{title:(0,y.localize)("High Tick/Low Tick"),trade_types:[De.TICK_HIGH_LOW.HIGH,De.TICK_HIGH_LOW.LOW],basis:[],components:[]},[we.RUN_HIGH_LOW]:{title:(0,y.localize)("Only Ups/Only Downs"),trade_types:[De.RUN_HIGH_LOW.HIGH,De.RUN_HIGH_LOW.LOW],basis:[],components:[]},[we.RESET]:{title:(0,y.localize)("Reset Up/Reset Down"),trade_types:[De.RESET.CALL,De.RESET.PUT],basis:[],components:[]},[we.CALL_PUT_SPREAD]:{title:(0,y.localize)("Spread Up/Spread Down"),trade_types:[De.CALL_PUT_SPREAD.CALL,De.CALL_PUT_SPREAD.PUT],basis:[],components:[]},[we.ACCUMULATOR]:{title:(0,y.localize)("Accumulators"),trade_types:[De.ACCUMULATOR],basis:["stake"],components:["take_profit","accumulator","accu_info_display"],barrier_count:2,config:{hide_duration:!0}},[we.MULTIPLIER]:{title:(0,y.localize)("Multipliers"),trade_types:[De.MULTIPLIER.UP,De.MULTIPLIER.DOWN],basis:["stake"],components:["take_profit","stop_loss",...dt(e)?["cancellation"]:[],...ut(e)?["expiration"]:[]],config:{hide_duration:!0}},[we.TURBOS.LONG]:{title:(0,y.localize)("Turbos"),trade_types:[De.TURBOS.LONG],basis:["stake"],barrier_count:1,components:["trade_type_tabs","payout_selector","take_profit"]},[we.TURBOS.SHORT]:{title:(0,y.localize)("Turbos"),trade_types:[De.TURBOS.SHORT],basis:["stake"],barrier_count:1,components:["trade_type_tabs","payout_selector","take_profit"]},[we.VANILLA.CALL]:{title:(0,y.localize)("Call/Put"),trade_types:[De.VANILLA.CALL],basis:["stake"],components:["duration","strike","amount","trade_type_tabs"],barrier_count:1},[we.VANILLA.PUT]:{title:(0,y.localize)("Call/Put"),trade_types:[De.VANILLA.PUT],basis:["stake"],components:["duration","strike","amount","trade_type_tabs"],barrier_count:1}}),Jt=()=>({Turbos:{name:(0,y.localize)("Turbos"),categories:[we.TURBOS.LONG,we.TURBOS.SHORT]},Multipliers:{name:(0,y.localize)("Multipliers"),categories:[we.MULTIPLIER]},"Ups & Downs":{name:(0,y.localize)("Ups & Downs"),categories:[we.RISE_FALL,we.RISE_FALL_EQUAL,we.HIGH_LOW,we.RUN_HIGH_LOW,we.RESET,we.ASIAN,we.CALL_PUT_SPREAD]},"Touch & No Touch":{name:(0,y.localize)("Touch & No Touch"),categories:[we.TOUCH,we.TICK_HIGH_LOW]},"Ins & Outs":{name:(0,y.localize)("Ins & Outs"),categories:[we.END,we.STAY]},"Look Backs":{name:(0,y.localize)("Look Backs"),categories:[we.LB_HIGH_LOW,we.LB_PUT,we.LB_CALL]},Digits:{name:(0,y.localize)("Digits"),categories:[we.MATCH_DIFF,we.EVEN_ODD,we.OVER_UNDER]},Vanillas:{name:(0,y.localize)("Vanillas"),categories:[we.VANILLA.CALL,we.VANILLA.PUT]},Accumulators:{name:(0,y.localize)("Accumulators"),categories:[we.ACCUMULATOR]}}),Zt=[we.CALL_PUT_SPREAD,we.RUN_HIGH_LOW,we.RESET,we.ASIAN,we.TICK_HIGH_LOW,we.END,we.STAY,we.LB_CALL,we.LB_PUT,we.LB_HIGH_LOW],Xt=()=>({APPLY:(0,y.localize)("Apply"),BARRIER:(0,y.localize)("Barrier:"),BUY_PRICE:(0,y.localize)("Buy price:"),CANCEL:(0,y.localize)("Cancel"),CLOSE:(0,y.localize)("Close"),CLOSED:(0,y.localize)("Closed"),COMMISSION:(0,y.localize)("Commission"),CONTRACT_COST:(0,y.localize)("Contract cost:"),CONTRACT_VALUE:(0,y.localize)("Contract value:"),CURRENT_STAKE:(0,y.localize)("Current stake:"),DAY:(0,y.localize)("day"),DAYS:(0,y.localize)("days"),DEAL_CANCEL_FEE:(0,y.localize)("Deal cancel. fee:"),DECREMENT_VALUE:(0,y.localize)("Decrement value"),DONT_SHOW_THIS_AGAIN:(0,y.localize)("Don't show this again"),DURATION:(0,y.localize)("Duration"),ENTRY_SPOT:(0,y.localize)("Entry spot:"),GROWTH_RATE:(0,y.localize)("Growth rate"),INCREMENT_VALUE:(0,y.localize)("Increment value"),INDICATIVE_PRICE:(0,y.localize)("Indicative price:"),INITIAL_STAKE:(0,y.localize)("Initial stake:"),LOST:(0,y.localize)("Lost"),MULTIPLIER:(0,y.localize)("Multiplier:"),NOT_AVAILABLE:(0,y.localize)("N/A"),NOT_SET:(0,y.localize)("Not set"),PAYOUT:(0,y.localize)("Sell price:"),PAYOUT_PER_POINT:(0,y.localize)("Payout per point"),POTENTIAL_PAYOUT:(0,y.localize)("Potential payout:"),POTENTIAL_PROFIT_LOSS:(0,y.localize)("Potential profit/loss:"),PROFIT_LOSS:(0,y.localize)("Profit/Loss:"),PURCHASE_PRICE:(0,y.localize)("Buy price:"),REFERENCE_ID:(0,y.localize)("Reference ID"),RESALE_NOT_OFFERED:(0,y.localize)("Resale not offered"),SELL:(0,y.localize)("Sell"),STAKE:(0,y.localize)("Stake:"),STOP_LOSS:(0,y.localize)("Stop loss:"),STOP_OUT_LEVEL:(0,y.localize)("Stop out level"),STRIKE:(0,y.localize)("Strike:"),STRIKE_PRICE:(0,y.localize)("Strike Price"),TAKE_PROFIT:(0,y.localize)("Take profit:"),TAKE_PROFIT_IS_NOT_AVAILABLE:(0,y.localize)("Take profit can't be adjusted for ongoing accumulator contracts."),TAKE_PROFIT_LOSS_NOT_AVAILABLE:(0,y.localize)("Take profit and/or stop loss are not available while deal cancellation is active."),TARGET:(0,y.localize)("Target"),TICK:(0,y.localize)("Tick"),TICKS:(0,y.localize)("Ticks"),TOTAL_PROFIT_LOSS:(0,y.localize)("Total profit/loss:"),WON:(0,y.localize)("Won")}),Qt=()=>({APPLY:(0,y.localize)("Apply"),BARRIER:(0,y.localize)("Barrier"),HIGH_BARRIER:(0,y.localize)("High Barrier"),LOW_BARRIER:(0,y.localize)("Low Barrier"),BUY_PRICE:(0,y.localize)("Buy price"),BUY:(0,y.localize)("Buy"),CANCEL:(0,y.localize)("Cancel"),CLOSE:(0,y.localize)("Close"),CLOSED:(0,y.localize)("Closed"),COMMISSION:(0,y.localize)("Commission"),CONTRACT_COST:(0,y.localize)("Contract cost"),CONTRACT_VALUE:(0,y.localize)("Contract value"),CURRENT_STAKE:(0,y.localize)("Current stake"),DAY:(0,y.localize)("day"),DAYS:(0,y.localize)("days"),DEAL_CANCEL_FEE:(0,y.localize)("Deal cancellation fees"),DECREMENT_VALUE:(0,y.localize)("Decrement value"),DONT_SHOW_THIS_AGAIN:(0,y.localize)("Don't show this again"),DURATION:(0,y.localize)("Duration"),ENTRY_SPOT:(0,y.localize)("Entry spot"),GROWTH_RATE:(0,y.localize)("Growth rate"),INCREMENT_VALUE:(0,y.localize)("Increment value"),INDICATIVE_PRICE:(0,y.localize)("Indicative price"),INDICATIVE_HIGH_SPOT:(0,y.localize)("Indicative high spot"),INDICATIVE_LOW_SPOT:(0,y.localize)("Indicative low spot"),HIGH_SPOT:(0,y.localize)("High spot"),LOW_SPOT:(0,y.localize)("Low spot"),INITIAL_STAKE:(0,y.localize)("Initial stake"),LOST:(0,y.localize)("Lost"),MULTIPLIER:(0,y.localize)("Multiplier"),NOT_AVAILABLE:(0,y.localize)("N/A"),NOT_SET:(0,y.localize)("Not set"),PAYOUT:(0,y.localize)("Sell price"),ACTIVE:(0,y.localize)("active"),EXECUTED:(0,y.localize)("executed"),EXPIRED:(0,y.localize)("expired"),PAYOUT_PER_POINT:(0,y.localize)("Payout per point"),POTENTIAL_PAYOUT:(0,y.localize)("Potential payout"),POTENTIAL_PROFIT_LOSS:(0,y.localize)("Potential profit/loss"),PROFIT_LOSS:(0,y.localize)("Profit/Loss"),PURCHASE_PRICE:(0,y.localize)("Buy price"),REFERENCE_ID:(0,y.localize)("Reference ID"),RESALE_NOT_OFFERED:(0,y.localize)("Resale not offered"),SELL:(0,y.localize)("Sell"),STAKE:(0,y.localize)("Stake"),STOP_LOSS:(0,y.localize)("Stop loss"),STOP_OUT_LEVEL:(0,y.localize)("Stop out level"),STRIKE:(0,y.localize)("Strike"),STRIKE_PRICE:(0,y.localize)("Strike Price"),TAKE_PROFIT:(0,y.localize)("Take profit"),TAKE_PROFIT_IS_NOT_AVAILABLE:(0,y.localize)("Take profit can't be adjusted for ongoing accumulator contracts."),TAKE_PROFIT_LOSS_NOT_AVAILABLE:(0,y.localize)("Take profit and/or stop loss are not available while deal cancellation is active."),TARGET:(0,y.localize)("Target"),TICK:(0,y.localize)("Tick"),TICKS:(0,y.localize)("Ticks"),TOTAL_PROFIT_LOSS:(0,y.localize)("Total profit/loss"),WON:(0,y.localize)("Won"),RESET_BARRIER:(0,y.localize)("Reset barrier"),RESET_TIME:(0,y.localize)("Reset time"),SELECTED_TICK:(0,y.localize)("Selected tick")}),er=()=>({FRXAUDCAD:(0,y.localize)("AUD/CAD"),FRXAUDCHF:(0,y.localize)("AUD/CHF"),FRXAUDJPY:(0,y.localize)("AUD/JPY"),FRXAUDNZD:(0,y.localize)("AUD/NZD"),FRXAUDPLN:(0,y.localize)("AUD/PLN"),FRXAUDUSD:(0,y.localize)("AUD/USD"),FRXBROUSD:(0,y.localize)("Oil/USD"),FRXEURAUD:(0,y.localize)("EUR/AUD"),FRXEURCAD:(0,y.localize)("EUR/CAD"),FRXEURCHF:(0,y.localize)("EUR/CHF"),FRXEURGBP:(0,y.localize)("EUR/GBP"),FRXEURJPY:(0,y.localize)("EUR/JPY"),FRXEURNZD:(0,y.localize)("EUR/NZD"),FRXEURUSD:(0,y.localize)("EUR/USD"),FRXGBPAUD:(0,y.localize)("GBP/AUD"),FRXGBPCAD:(0,y.localize)("GBP/CAD"),FRXGBPCHF:(0,y.localize)("GBP/CHF"),FRXGBPJPY:(0,y.localize)("GBP/JPY"),FRXGBPNOK:(0,y.localize)("GBP/NOK"),FRXGBPUSD:(0,y.localize)("GBP/USD"),FRXNZDJPY:(0,y.localize)("NZD/JPY"),FRXNZDUSD:(0,y.localize)("NZD/USD"),FRXUSDCAD:(0,y.localize)("USD/CAD"),FRXUSDCHF:(0,y.localize)("USD/CHF"),FRXUSDJPY:(0,y.localize)("USD/JPY"),FRXUSDNOK:(0,y.localize)("USD/NOK"),FRXUSDPLN:(0,y.localize)("USD/PLN"),FRXUSDSEK:(0,y.localize)("USD/SEK"),FRXXAGUSD:(0,y.localize)("Silver/USD"),FRXXAUUSD:(0,y.localize)("Gold/USD"),FRXXPDUSD:(0,y.localize)("Palladium/USD"),FRXXPTUSD:(0,y.localize)("Platinum/USD"),OTC_AEX:(0,y.localize)("Netherlands 25"),OTC_AS51:(0,y.localize)("Australia 200"),OTC_DJI:(0,y.localize)("Wall Street 30"),OTC_FCHI:(0,y.localize)("France 40"),OTC_FTSE:(0,y.localize)("UK 100"),OTC_GDAXI:(0,y.localize)("Germany 40"),OTC_HSI:(0,y.localize)("Hong Kong 50"),OTC_IBEX35:(0,y.localize)("Spanish Index"),OTC_N225:(0,y.localize)("Japan 225"),OTC_NDX:(0,y.localize)("US Tech 100"),OTC_SPC:(0,y.localize)("US 500"),OTC_SSMI:(0,y.localize)("Swiss 20"),OTC_SX5E:(0,y.localize)("Euro 50"),R_10:(0,y.localize)("Volatility 10 Index"),R_25:(0,y.localize)("Volatility 25 Index"),R_50:(0,y.localize)("Volatility 50 Index"),R_75:(0,y.localize)("Volatility 75 Index"),R_100:(0,y.localize)("Volatility 100 Index"),BOOM300N:(0,y.localize)("Boom 300 Index"),BOOM500:(0,y.localize)("Boom 500 Index"),BOOM600:(0,y.localize)("Boom 600 Index"),BOOM900:(0,y.localize)("Boom 900 Index"),BOOM1000:(0,y.localize)("Boom 1000 Index"),CRASH300N:(0,y.localize)("Crash 300 Index"),CRASH500:(0,y.localize)("Crash 500 Index"),CRASH600:(0,y.localize)("Crash 600 Index"),CRASH900:(0,y.localize)("Crash 900 Index"),CRASH1000:(0,y.localize)("Crash 1000 Index"),RDBEAR:(0,y.localize)("Bear Market Index"),RDBULL:(0,y.localize)("Bull Market Index"),STPRNG:(0,y.localize)("Step 100 Index"),STPRNG2:(0,y.localize)("Step 200 Index"),STPRNG3:(0,y.localize)("Step 300 Index"),STPRNG4:(0,y.localize)("Step 400 Index"),STPRNG5:(0,y.localize)("Step 500 Index"),WLDAUD:(0,y.localize)("AUD Basket"),WLDEUR:(0,y.localize)("EUR Basket"),WLDGBP:(0,y.localize)("GBP Basket"),WLDXAU:(0,y.localize)("Gold Basket"),WLDUSD:(0,y.localize)("USD Basket"),"1HZ10V":(0,y.localize)("Volatility 10 (1s) Index"),"1HZ15V":(0,y.localize)("Volatility 15 (1s) Index"),"1HZ25V":(0,y.localize)("Volatility 25 (1s) Index"),"1HZ30V":(0,y.localize)("Volatility 30 (1s) Index"),"1HZ50V":(0,y.localize)("Volatility 50 (1s) Index"),"1HZ75V":(0,y.localize)("Volatility 75 (1s) Index"),"1HZ90V":(0,y.localize)("Volatility 90 (1s) Index"),"1HZ100V":(0,y.localize)("Volatility 100 (1s) Index"),"1HZ150V":(0,y.localize)("Volatility 150 (1s) Index"),"1HZ200V":(0,y.localize)("Volatility 200 (1s) Index"),"1HZ250V":(0,y.localize)("Volatility 250 (1s) Index"),"1HZ300V":(0,y.localize)("Volatility 300 (1s) Index"),RB100:(0,y.localize)("Range Break 100 Index"),RB200:(0,y.localize)("Range Break 200 Index"),JD10:(0,y.localize)("Jump 10 Index"),JD25:(0,y.localize)("Jump 25 Index"),JD50:(0,y.localize)("Jump 50 Index"),JD75:(0,y.localize)("Jump 75 Index"),JD100:(0,y.localize)("Jump 100 Index"),JD150:(0,y.localize)("Jump 150 Index"),JD200:(0,y.localize)("Jump 200 Index"),CRYBCHUSD:(0,y.localize)("BCH/USD"),CRYBNBUSD:(0,y.localize)("BNB/USD"),CRYBTCLTC:(0,y.localize)("BTC/LTC"),CRYIOTUSD:(0,y.localize)("IOT/USD"),CRYNEOUSD:(0,y.localize)("NEO/USD"),CRYOMGUSD:(0,y.localize)("OMG/USD"),CRYTRXUSD:(0,y.localize)("TRX/USD"),CRYBTCETH:(0,y.localize)("BTC/ETH"),CRYZECUSD:(0,y.localize)("ZEC/USD"),CRYXMRUSD:(0,y.localize)("ZMR/USD"),CRYXMLUSD:(0,y.localize)("XLM/USD"),CRYXRPUSD:(0,y.localize)("XRP/USD"),CRYBTCUSD:(0,y.localize)("BTC/USD"),CRYDSHUSD:(0,y.localize)("DSH/USD"),CRYETHUSD:(0,y.localize)("ETH/USD"),CRYEOSUSD:(0,y.localize)("EOS/USD"),CRYLTCUSD:(0,y.localize)("LTC/USD")}),tr=()=>({CALLSPREAD:{name:(0,y.localize)("Spread Up"),position:"top"},PUTSPREAD:{name:(0,y.localize)("Spread Down"),position:"bottom"}}),rr=e=>({[De.ACCUMULATOR]:{button_name:(0,y.localize)("Buy"),name:(0,y.localize)("Accumulators"),position:"top"},[De.CALL]:{name:e?(0,y.localize)("Higher"):(0,y.localize)("Rise"),position:"top"},[De.PUT]:{name:e?(0,y.localize)("Lower"):(0,y.localize)("Fall"),position:"bottom"},[De.CALLE]:{name:(0,y.localize)("Rise"),position:"top"},[De.PUTE]:{name:(0,y.localize)("Fall"),position:"bottom"},[De.MATCH_DIFF.MATCH]:{name:(0,y.localize)("Matches"),position:"top"},[De.MATCH_DIFF.DIFF]:{name:(0,y.localize)("Differs"),position:"bottom"},[De.EVEN_ODD.EVEN]:{name:(0,y.localize)("Even"),position:"top"},[De.EVEN_ODD.ODD]:{name:(0,y.localize)("Odd"),position:"bottom"},[De.OVER_UNDER.OVER]:{name:(0,y.localize)("Over"),position:"top"},[De.OVER_UNDER.UNDER]:{name:(0,y.localize)("Under"),position:"bottom"},[De.TOUCH.ONE_TOUCH]:{name:(0,y.localize)("Touch"),position:"top"},[De.TOUCH.NO_TOUCH]:{name:(0,y.localize)("No Touch"),position:"bottom"},[De.MULTIPLIER.UP]:{name:(0,y.localize)("Up"),position:"top",main_title:(0,y.localize)("Multipliers")},[De.MULTIPLIER.DOWN]:{name:(0,y.localize)("Down"),position:"bottom",main_title:(0,y.localize)("Multipliers")},[De.TURBOS.LONG]:{name:(0,y.localize)("Up"),position:"top",main_title:(0,y.localize)("Turbos")},[De.TURBOS.SHORT]:{name:(0,y.localize)("Down"),position:"bottom",main_title:(0,y.localize)("Turbos")},[De.VANILLA.CALL]:{name:(0,y.localize)("Call"),position:"top",main_title:(0,y.localize)("Vanillas")},[De.VANILLA.PUT]:{name:(0,y.localize)("Put"),position:"bottom",main_title:(0,y.localize)("Vanillas")},[De.RUN_HIGH_LOW.HIGH]:{name:(0,y.localize)("Only Ups"),position:"top"},[De.RUN_HIGH_LOW.LOW]:{name:(0,y.localize)("Only Downs"),position:"bottom"},[De.END.OUT]:{name:(0,y.localize)("Ends Outside"),position:"top"},[De.END.IN]:{name:(0,y.localize)("Ends Between"),position:"bottom"},[De.STAY.IN]:{name:(0,y.localize)("Stays Between"),position:"top"},[De.STAY.OUT]:{name:(0,y.localize)("Goes Outside"),position:"bottom"},[De.ASIAN.UP]:{name:(0,y.localize)("Asian Up"),position:"top"},[De.ASIAN.DOWN]:{name:(0,y.localize)("Asian Down"),position:"bottom"},[De.TICK_HIGH_LOW.HIGH]:{name:(0,y.localize)("High Tick"),position:"top"},[De.TICK_HIGH_LOW.LOW]:{name:(0,y.localize)("Low Tick"),position:"bottom"},[De.RESET.CALL]:{name:(0,y.localize)("Reset Call"),position:"top"},[De.RESET.PUT]:{name:(0,y.localize)("Reset Put"),position:"bottom"},[De.LB_CALL]:{name:(0,y.localize)("Close-Low"),position:"top"},[De.LB_PUT]:{name:(0,y.localize)("High-Close"),position:"top"},[De.LB_HIGH_LOW]:{name:(0,y.localize)("High-Low"),position:"top"}}),or=["sharkfin","dtrader_v2"],nr=e=>{var t,r;const o=I(e),n=Object.entries(null!==(t=null===(r=$t.getObject("FeatureFlagsStore"))||void 0===r?void 0:r.data)&&void 0!==t?t:{}).filter((([e,t])=>or.includes(e)&&!t)).map((([e])=>e));return Object.keys(o).reduce(((e,t)=>{var r;const i=null===(r=o[t].categories)||void 0===r?void 0:r.filter((e=>"object"==typeof e&&(null==n?void 0:n.every((t=>!e.value.startsWith(t))))));return 0===(null==i?void 0:i.length)?delete e[t]:e[t].categories=i,e}),o)},ir=e=>Gt(Gt({},rr(e)),tr()),ar=(e,t={})=>{var r;const{isHighLow:o=!1,showButtonName:n=!1,showMainTitle:i=!1}=t,a=ir(o)[e];return i?null!==(r=null==a?void 0:a.main_title)&&void 0!==r?r:"":n&&(null==a?void 0:a.button_name)||(null==a?void 0:a.name)||""},sr=(e,t=!1)=>{var r;const o=ir(t)[e];return null!==(r=null==o?void 0:o.feature_flag)&&void 0!==r?r:""},cr=(e,t=!1)=>{var r;return(null===(r=ir(t))||void 0===r||null===(r=r[e])||void 0===r?void 0:r.position)||"top"},lr=e=>e===we.RISE_FALL||e===we.RISE_FALL_EQUAL||e===we.HIGH_LOW,ur=Object.freeze({LOW_RISK_CR_EU:"low_risk_cr_eu",LOW_RISK_CR_NON_EU:"low_risk_cr_non_eu",HIGH_RISK_CR:"high_risk_cr",CR_DEMO:"cr_demo",EU_DEMO:"eu_demo",EU_REAL:"eu_real"});var dr=r(485365);const _r=Object.freeze({SVG:"svg",BVI:"bvi",VANUATU:"vanuatu",LABUAN:"labuan",MALTA_INVEST:"maltainvest",MAURITIUS:"dml"}),pr=Object.freeze({DXTRADE:"dxtrade",MT5:"mt5"}),hr={bvi:{tnc_url:"tnc/deriv-(bvi)-ltd.pdf"},maltainvest:{tnc_url:"tnc/deriv-investments-(europe)-limited.pdf"},vanuatu:{tnc_url:"tnc/deriv-(v)-ltd.pdf"},labuan:{tnc_url:"tnc/deriv-(fx)-ltd.pdf"},svg:{tnc_url:""},dml:{tnc_url:"tnc/deriv-mauritius-ltd.pdf"}},mr={FINANCIAL:"financial",DERIVED:"synthetic"};function fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(r),!0).forEach((function(t){br(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function br(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const vr=()=>({address_line_1:(0,y.localize)("First line of address"),address_line_2:(0,y.localize)("Second line of address"),address_city:(0,y.localize)("Town/City"),address_state:(0,y.localize)("State/Province"),address_postcode:(0,y.localize)("Postal/ZIP code")}),yr=()=>({salutation:(0,y.localize)("Title and name"),first_name:(0,y.localize)("First name"),last_name:(0,y.localize)("Last name"),date_of_birth:(0,y.localize)("Date of birth"),place_of_birth:(0,y.localize)("Place of birth"),phone:(0,y.localize)("Phone number"),citizen:(0,y.localize)("Citizenship"),residence:(0,y.localize)("Country of residence"),tax_identification_number:(0,y.localize)("Tax identification number"),tax_residence:(0,y.localize)("Tax residence"),account_opening_reason:(0,y.localize)("Account opening reason"),employment_status:(0,y.localize)("Employment status")}),Dr=()=>gr(gr({},yr()),vr()),wr=Object.freeze({EMPLOYED:"Employed",UNEMPLOYED:"Unemployed",SELF_EMPLOYED:"Self-Employed"}),Cr=()=>({header:(0,y.localize)("Sorry for the interruption"),description:(0,y.localize)("Our servers hit a bump. Let’s refresh to move on."),cta_label:(0,y.localize)("Refresh")}),Ar=Object.freeze({NONE:"none",PENDING:"pending",REJECTED:"rejected",VERIFIED:"verified",EXPIRED:"expired",SUSPECTED:"suspected"}),xr=Object.freeze({DobMismatch:{code:"DobMismatch",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The <0>date of birth</0> on your identity document doesn't match your profile.",components:[(0,pe.jsx)("strong",{},0)]})},DocumentRejected:{code:"DocumentRejected",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We were unable to verify the identity document with the details provided."})},EmptyStatus:{code:"EmptyStatus",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The verification status was empty, rejected for lack of information."})},Expired:{code:"Expired",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your identity document has expired."})},InformationLack:{code:"InformationLack",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The verification is passed but the personal info is not available to compare."})},MalformedJson:{code:"MalformedJson",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The verification status is not available, provider says: Malformed JSON."})},NameMismatch:{code:"NameMismatch",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The <0>name</0> on your identity document doesn't match your profile.",components:[(0,pe.jsx)("strong",{},0)]})},RejectedByProvider:{code:"RejectedByProvider",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The document was rejected by the Provider."})},Underage:{code:"Underage",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"You’re under legal age."})},Deceased:{code:"Deceased",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The document’s owner is deceased."})},Failed:{code:"Failed",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We were unable to verify the identity document with the details provided."})},NameDobMismatch:{code:"NameDobMismatch",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The <0>name</0> and <0>date of birth</0> on your identity document don't match your profile.",components:[(0,pe.jsx)("strong",{},0)]})},NeedsTechnicalInvestigation:{code:"NeedsTechnicalInvestigation",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The verification status is not available, provider says: Needs Technical Investigation."})},HighRisk:{code:"HighRisk",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"For enhanced security, we need to reverify your identity. Kindly resubmit your proof of identity to unlock your account."})},ReportNotAvailable:{code:"ReportNotAvailable",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We were unable to verify the identity document with the details provided."})}}),Er=Object.freeze({AgeValidationMinimumAcceptedAge:{code:"AgeValidationMinimumAcceptedAge",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your age in the document you provided appears to be below 18 years. We’re only allowed to offer our services to clients above 18 years old, so we’ll need to close your account. If you have a balance in your account, contact us via live chat and we’ll help to withdraw your funds before your account is closed."})},CompromisedDocument:{code:"CompromisedDocument",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document failed our verification checks."})},DataComparisonDateOfBirth:{code:"DataComparisonDateOfBirth",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The date of birth on your document doesn’t match your profile."})},DataComparisonDateOfExpiry:{code:"DataComparisonDateOfExpiry",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document has expired."})},DataComparisonDocumentNumbers:{code:"DataComparisonDocumentNumbers",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be invalid."})},DataComparisonDocumentType:{code:"DataComparisonDocumentType",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be invalid."})},DataComparisonIssuingCountry:{code:"DataComparisonIssuingCountry",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be invalid."})},DataComparisonName:{code:"DataComparisonName",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The name on your document doesn’t match your profile."})},DataValidationDateOfBirth:{code:"DataValidationDateOfBirth",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Some details on your document appear to be invalid, missing, or unclear."})},DataValidationDocumentExpiration:{code:"DataValidationDocumentExpiration",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document has expired."})},DataValidationDocumentNumbers:{code:"DataValidationDocumentNumbers",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Some details in your document appear to be invalid, missing, or unclear."})},DataValidationExpiryDate:{code:"DataValidationExpiryDate",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Some details on your document appear to be invalid, missing, or unclear."})},DataValidationMrz:{code:"DataValidationMrz",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Some details on your document appear to be invalid, missing, or unclear."})},DataValidationNoDocumentNumbers:{code:"DataValidationNoDocumentNumbers",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The serial number of your document couldn’t be verified."})},DuplicatedDocument:{code:"DuplicatedDocument",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your verification documents were already used for another account."})},Expired:{code:"Expired",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document has expired."})},ImageIntegrityColourPicture:{code:"ImageIntegrityColourPicture",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be in black and white. Please upload a colour photo of your document."})},ImageIntegrityConclusiveDocumentQuality:{code:"ImageIntegrityConclusiveDocumentQuality",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be invalid."})},ImageIntegrityConclusiveDocumentQualityAbnormalDocumentFeatures:{code:"ImageIntegrityConclusiveDocumentQualityAbnormalDocumentFeatures",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Some details on your document appear to be invalid, missing, or unclear."})},ImageIntegrityConclusiveDocumentQualityCornerRemoved:{code:"ImageIntegrityConclusiveDocumentQualityCornerRemoved",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be damaged or cropped."})},ImageIntegrityConclusiveDocumentQualityDigitalDocument:{code:"ImageIntegrityConclusiveDocumentQualityDigitalDocument",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be a digital document."})},ImageIntegrityConclusiveDocumentQualityMissingBack:{code:"ImageIntegrityConclusiveDocumentQualityMissingBack",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The back of your document appears to be missing. Please include both sides of your identity document."})},ImageIntegrityConclusiveDocumentQualityObscuredDataPoints:{code:"ImageIntegrityConclusiveDocumentQualityObscuredDataPoints",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Some details on your document appear to be invalid, missing, or unclear."})},ImageIntegrityConclusiveDocumentQualityObscuredSecurityFeatures:{code:"ImageIntegrityConclusiveDocumentQualityObscuredSecurityFeatures",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Some details on your document appear to be invalid, missing, or unclear."})},ImageIntegrityConclusiveDocumentQualityPuncturedDocument:{code:"ImageIntegrityConclusiveDocumentQualityPuncturedDocument",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be damaged or cropped."})},ImageIntegrityConclusiveDocumentQualityWatermarksDigitalTextOverlay:{code:"ImageIntegrityConclusiveDocumentQualityWatermarksDigitalTextOverlay",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document contains markings or text that should not be on your document."})},ImageIntegrityImageQuality:{code:"ImageIntegrityImageQuality",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The image quality of your document is too low. Please provide a hi-res photo of your identity document."})},ImageIntegrityImageQualityBlurredPhoto:{code:"ImageIntegrityImageQualityBlurredPhoto",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We were unable to verify your selfie because it’s not clear. Please take a clearer photo and try again. Ensure that there's enough light where you are and that your entire face is in the frame."})},ImageIntegrityImageQualityCoveredPhoto:{code:"ImageIntegrityImageQualityCoveredPhoto",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We’re unable to verify the document you provided because some details appear to be missing. Please try again or provide another document."})},ImageIntegrityImageQualityCutOffDocument:{code:"ImageIntegrityImageQualityCutOffDocument",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We’re unable to verify the document you provided because it appears to be damaged. Please try again or upload another document."})},ImageIntegrityImageQualityDamagedDocument:{code:"ImageIntegrityImageQualityDamagedDocument",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We’re unable to verify the document you provided because it appears to be damaged. Please try again or upload another document."})},ImageIntegrityImageQualityDarkPhoto:{code:"ImageIntegrityImageQualityDarkPhoto",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We were unable to verify your selfie because it’s not clear. Please take a clearer photo and try again. Ensure that there’s enough light where you are and that your entire face is in the frame."})},ImageIntegrityImageQualityGlareOnPhoto:{code:"ImageIntegrityImageQualityGlareOnPhoto",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We were unable to verify your selfie because it’s not clear. Please take a clearer photo and try again. Ensure that there’s enough light where you are and that your entire face is in the frame."})},ImageIntegrityImageQualityIncorrectSide:{code:"ImageIntegrityImageQualityIncorrectSide",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The front of your document appears to be missing. Please provide both sides of your identity document."})},ImageIntegrityImageQualityNoDocumentInImage:{code:"ImageIntegrityImageQualityNoDocumentInImage",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We’re unable to verify the document you provided because it appears to be a blank image. Please try again or upload another document."})},ImageIntegrityImageQualityOtherPhotoIssue:{code:"ImageIntegrityImageQualityOtherPhotoIssue",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We’re unable to verify the document you provided because some details appear to be missing. Please try again or provide another document."})},ImageIntegrityImageQualityTwoDocumentsUploaded:{code:"ImageIntegrityImageQualityTwoDocumentsUploaded",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The document you provided appears to be two different types. Please try again or provide another document."})},ImageIntegritySupportedDocument:{code:"ImageIntegritySupportedDocument",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"The document you provided is not supported for your country. Please provide a supported document for your country."})},SelfieRejected:{code:"SelfieRejected",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your selfie does not match your document."})},VisualAuthenticityDigitalTampering:{code:"VisualAuthenticityDigitalTampering",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be invalid."})},VisualAuthenticityFaceDetection:{code:"VisualAuthenticityFaceDetection",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be invalid."})},VisualAuthenticityFonts:{code:"VisualAuthenticityFonts",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be invalid."})},VisualAuthenticityOriginalDocumentPresent:{code:"VisualAuthenticityOriginalDocumentPresent",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be a scanned copy that contains markings or text that shouldn’t be on your document."})},VisualAuthenticityOriginalDocumentPresentDocumentOnPrintedPaper:{code:"VisualAuthenticityOriginalDocumentPresentDocumentOnPrintedPaper",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be a printed copy."})},VisualAuthenticityOriginalDocumentPresentPhotoOfScreen:{code:"VisualAuthenticityOriginalDocumentPresentPhotoOfScreen",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be a photo of a device screen."})},VisualAuthenticityOriginalDocumentPresentScan:{code:"VisualAuthenticityOriginalDocumentPresentScan",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"We’re unable to verify the document you provided because it contains markings or text that should not be on your document. Please provide a clear photo or a scan of your original identity document."})},VisualAuthenticityOriginalDocumentPresentScreenshot:{code:"VisualAuthenticityOriginalDocumentPresentScreenshot",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be a screenshot."})},VisualAuthenticityPictureFaceIntegrity:{code:"VisualAuthenticityPictureFaceIntegrity",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be invalid."})},VisualAuthenticitySecurityFeatures:{code:"VisualAuthenticitySecurityFeatures",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be invalid."})},VisualAuthenticityTemplate:{code:"VisualAuthenticityTemplate",message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Your document appears to be invalid."})}}),jr={FAILED:"failed",MIGRATED_WITH_POSITION:"migrated_with_position",MIGRATED_WITHOUT_POSITION:"migrated_without_position",NEEDS_VERIFICATION:"needs_verification",PENDING:"pending",POA_REQUIRED:"poa_required",POA_PENDING:"poa_pending",POA_OUTDATED:"poa_outdated",POA_VERIFIED:"poa_verified",UNDER_MAINTENANCE:"under_maintenance",UNAVAILABLE:"unavailable"},Or={ACTIVE:"active",DISABLED:"disabled",MAINTENANCE:"maintenance",UNAVAILABLE:"unavailable"},Sr={NONE:"none",PENDING:"pending",REJECTED:"rejected",VERIFIED:"verified",EXPIRED:"expired",SUSPECTED:"suspected"},Fr={FAILED:"failed",NEEDS_VERIFICATION:"needs_verification",PENDING:"pending",UNDER_MAINTENANCE:"under_maintenance",UNAVAILABLE:"unavailable"};var kr=r(994343),Pr=r.n(kr),Tr=r(978513);const Nr={SMS:"sms",WHATSAPP:"whatsapp"},Lr=()=>({SMS:(0,y.localize)("SMS"),WHATSAPP:(0,y.localize)("WhatsApp")}),Ir=(e,t)=>{const r=Pr()(1e3*e);return Math.round(r.diff(t)/1e3)>0},Br=(e,t,r)=>{switch(e){case"PhoneNumberTaken":return(0,pe.jsx)(y.Localize,{i18n_default_text:"Number already exists in our system. Enter a new one or contact us via <0>live chat</0> for help.",components:[(0,pe.jsx)("span",{className:"phone-verification__card--inputfield__livechat",onClick:Tr.Chat.open},0)]});case"PhoneNumberVerificationSuspended":return(0,pe.jsx)(y.Localize,{i18n_default_text:"We're unable to send codes via {{ current_carrier }} right now. Get your code by {{other_carriers}}.",values:{current_carrier:t(),other_carriers:r()}});case"InvalidPhone":return(0,pe.jsx)(y.Localize,{i18n_default_text:"Enter a valid phone number, including the country code (e.g. +15417541234)."})}},Rr=(e,t)=>{switch(e){case"PhoneCodeExpired":return(0,pe.jsx)(y.Localize,{i18n_default_text:"Code expired. Get a new one."});case"InvalidOTP":return t-1==1?(0,pe.jsx)(y.Localize,{i18n_default_text:"Try again. You have 1 attempt left."}):(0,pe.jsx)(y.Localize,{i18n_default_text:"Invalid code. Try again."})}},Mr=(e,t,r,o)=>{switch(e){case"EmailCodeExpired":return(0,pe.jsx)(y.Localize,{i18n_default_text:"Code expired. Get a new code."});case"InvalidToken":return o-1==1?(0,pe.jsx)(y.Localize,{i18n_default_text:"Try again. You have 1 attempt left."}):(0,pe.jsx)(y.Localize,{i18n_default_text:"Invalid code. Try again or get a new code."});case"PhoneNumberVerificationSuspended":return(0,pe.jsx)(y.Localize,{i18n_default_text:"We're unable to send codes via {{ current_carrier }} right now. Get your code by {{other_carriers}}.",values:{current_carrier:t(),other_carriers:r()}})}};var zr=r(741417),Ur=r(172124),Wr=r(200473),$r=r(757961),Vr=r(989837),Hr=r(144231),Gr=r(816262),Yr=r(738547),Kr=r(697914),qr=r(62985),Jr=r(272358),Zr=r(482064),Xr=r(362274),Qr=r(653369),eo=r(9711),to=r(138270),ro=r(848814),oo=r(42958),no=r(761644),io=r(777665),ao=r(31744),so=r(655635);const co={AR:zr.A,EN:Ur.A,ES:Wr.A,BN:$r.A,DE:Vr.A,FR:Hr.A,ID:Gr.h,IT:Yr.A,KM:Kr.A,KO:qr.A,MN:Jr.A,PL:Zr.A,PT:Xr.A,RU:Qr.A,SI:eo.A,SW:to.A,TR:ro.A,UZ:oo.A,VI:no.A,ZH_CN:io.A,ZH_TW:ao.A,TH:so.A},lo=Object.fromEntries(Object.entries(co).map((([e,t])=>[e,(e,r)=>(0,pe.jsx)(t,{width:e,height:r})]))),uo=(e,t)=>({lifetime_limit:(0,y.localize)("Total withdrawal allowed (Lifetime)"),num_of_days_limit:(0,y.localize)("Total withdrawal allowed ({{num_of_days}} days).",{num_of_days:t}),withdrawal_since_inception_monetary:(0,y.localize)("Total withdrawn (Lifetime)"),withdrawal_for_x_days_monetary:(0,y.localize)("Total withdrawn ({{num_of_days}} days)",{num_of_days:t}),remainder:(0,y.localize)("Maximum withdrawal remaining")}[e]||null),_o=e=>({lifetime_limit:(0,y.localize)("Total amount you can withdraw over the life of this account."),num_of_days_limit:(0,y.localize)("Total amount you can withdraw over this period."),withdrawal_since_inception_monetary:(0,y.localize)("Total amount withdrawn since account opening."),withdrawal_for_x_days_monetary:(0,y.localize)("Total amount withdrawn over this period."),remainder:(0,y.localize)("Maximum funds available for withdrawal.")}[e]);var po=r(536640);let ho;const mo={dxtrade:"Deriv X",mt5:"MT5",mt5_cfds:"MT5 CFDs",cfd:"CFDs",ctrader:"Deriv cTrader",synthetic:"Standard",synthetic_demo:"Standard Demo",synthetic_bvi:"Standard BVI",synthetic_svg:"Standard SVG",synthetic_v:"Standard Vanuatu",financial:"Financial",financial_demo:"Financial Demo",financial_bvi:"Financial BVI",financial_fx:"Financial Labuan",financial_v:"Financial Vanuatu",financial_svg:"Financial SVG",all_swap_free_demo:"Swap-Free Demo",all_zero_spread_demo:"Zero Spread Demo",all_swap_free_svg:"Swap-Free SVG",all_zero_spread_bvi:"Zero Spread BVI",stp:"Financial Labuan"},fo={ZEROSPREAD:"Zero Spread",SWAPFREE:"Swap-Free",GOLD:"Gold"},go=e=>"synthetic"===e?mo.synthetic:"all"===e?mo.all:mo.financial,bo={SWAPFREE:"swap_free",ZEROSPREAD:"zero_spread",CTRADER:"ctrader",DERIVX:"derivx",STP:"stp",FINANCIAL:"financial",STANDARD:"standard",GOLD:"gold"},vo=({market_type:e,sub_account_type:t,platform:r,shortcode:o,product:n})=>{if(r===po.$_.MT5&&"all"===e)switch(n){case"swap_free":return o?"all_swap_free_svg":"all_swap_free_demo";case"zero_spread":return o?"all_zero_spread_bvi":"all_zero_spread_demo";default:return"all_demo"}if("all"===e&&r!==po.$_.MT5)return r===po.$_.CTRADER?"ctrader":"dxtrade";if(!("gaming"!==e&&"synthetic"!==e||r!==po.$_.DXTRADE&&"financial"!==t))switch(o){case"svg":return"synthetic_svg";case"bvi":return"synthetic_bvi";case"vanuatu":return"synthetic_v";default:return"synthetic_demo"}if("financial"===e){if(n===bo.STP&&"financial_stp"===t)return"stp";if(r===po.$_.DXTRADE||"financial"===t)switch(o){case"svg":return"financial_svg";case"bvi":return"financial_bvi";case"vanuatu":return"financial_v";case"maltainvest":return"financial";default:return"financial_demo"}else if(n===bo.GOLD)switch(o){case"bvi":return"gold_bvi";case"vanuatu":return"gold_v";case"dml":return"gold_dml";default:return"gold"}}},yo=({category:e,type:t})=>({real:{synthetic:{account_type:"gaming"},financial:{account_type:"financial",mt5_account_type:"financial"},all:{account_type:"all"}},demo:{synthetic:{account_type:"demo"},financial:{account_type:"demo",mt5_account_type:"financial"},all:{account_type:"demo"}}}[e][t]),Do=({market_type:e,sub_account_type:t,platform:r,is_eu:o,product:n,shortcode:i,is_mt5_trade_modal:a,is_transfer_form:s=!1})=>{const c=vo({market_type:e,sub_account_type:t,platform:r,shortcode:i,product:n});if(!c)return;if(a&&o)return"financial"===c?(0,y.localize)("CFDs"):(0,y.localize)("CFDs Demo");const l=ho[c]();return"synthetic"===e&&r===po.$_.DXTRADE?(0,y.localize)("Synthetic"):"all"===e&&r===po.$_.DXTRADE&&s||"all"===e&&r===po.$_.CTRADER&&s?"":(po.$_.CTRADER,l)},wo=({market_type:e,sub_account_type:t,platform:r,is_eu:o,is_transfer_form:n=!1,product:i})=>{let a=vo({market_type:e,sub_account_type:t,platform:r,product:i});if(a)return"financial_demo"===a&&o&&(a="cfd"),"ctrader"===a&&n?"Ctrader":mo[a]},Co=({market_type:e,is_eu:t,product:r})=>"all"!==e||t?"gold"===r?"Gold":"financial"===e&&t?"CFDs":e:"SwapFree",Ao=e=>{ho=e},xo=(e,t,r)=>`${e.platform||t}.${e.account_type}.${vo({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:t,shortcode:r,product:e.product})}@${t===po.$_.DXTRADE||t===po.$_.CTRADER?e.market_type:e.server}`,Eo=e=>{switch(e){case po.$_.MT5:return"Deriv MT5";case po.$_.DXTRADE:return"Deriv X";case po.$_.CTRADER:return"Deriv cTrader";default:return""}},jo=e=>{switch(e){case po.$_.MT5:return"MT5";case po.$_.DXTRADE:return"Deriv X";case po.$_.CTRADER:return"cTrader";default:return""}},Oo=({landing_companies:e,platform:t,type:r})=>{if(t===po.$_.MT5){var o,n,i;if("gaming"===r)return!(null==e||null===(o=e.mt_gaming_company)||void 0===o||!o.financial);if("financial"===r)return!(null==e||null===(n=e.mt_financial_company)||void 0===n||!n.financial);if("financial_stp"===r)return!(null==e||null===(i=e.mt_financial_company)||void 0===i||!i.financial_stp)}else if(t===po.$_.DXTRADE){var a,s,c;if("all"===r)return!(null==e||null===(a=e.dxtrade_all_company)||void 0===a||!a.standard);if("gaming"===r)return!(null==e||null===(s=e.dxtrade_gaming_company)||void 0===s||!s.standard);if("financial"===r)return!(null==e||null===(c=e.dxtrade_financial_company)||void 0===c||!c.standard)}return!1},So=e=>{var t,r,o,n,i;const a=null==e?void 0:e.risk_classification,s=(null==e||null===(t=e.authentication)||void 0===t||null===(t=t.document)||void 0===t?void 0:t.status)||"",c=(null==e||null===(r=e.authentication)||void 0===r||null===(r=r.identity)||void 0===r?void 0:r.status)||"",l=null!==(o=null==e||null===(n=e.authentication)||void 0===n||null===(n=n.identity)||void 0===n?void 0:n.services)&&void 0!==o?o:{},{idv:{status:u}={},onfido:{status:d}={},manual:{status:_}={}}=l,p=null==e||null===(i=e.status)||void 0===i?void 0:i.includes("idv_revoked"),h=["pending","verified"],m="none"===s,f=!h.includes(s),g=["rejected","expired","suspected"].includes(s),b="verified"===s,v="pending"===s,y=h.includes(s),D="none"===c,w=m||D,C=m&&D,A=[d,_].filter((e=>e)),x=[u,d,_].filter((e=>e)),E=A.includes("verified"),j=A.some((e=>h.includes(e))),O=A.some((e=>"pending"===e))&&!E,S=!j,F=A.every((e=>"none"===e)),k=!O&&!F&&!E,P=E&&b;let T=x.some((e=>h.includes(e)));T="high"===a?Boolean(d&&h.includes(d)):x.some((e=>h.includes(e)));const N=!T,L=x.every((e=>"none"===e)),I=x.includes("verified"),B=x.includes("pending")&&!I;return{poa_status:s,poi_status:c,idv_status:u,onfido_status:d,manual_status:_,acknowledged_status:h,poi_acknowledged_for_maltainvest:j,poi_poa_verified_for_bvi_labuan_vanuatu:I&&b,poa_acknowledged:y,poi_poa_verified_for_maltainvest:P,need_poa_submission:f,poi_verified_for_maltainvest:E,poi_acknowledged_for_bvi_labuan_vanuatu:T,poi_verified_for_bvi_labuan_vanuatu:I,poa_verified:b,poi_or_poa_not_submitted:w,need_poa_resubmission:g,poi_and_poa_not_submitted:C,poa_not_submitted:m,poi_not_submitted:D,need_poi_for_maltainvest:S,need_poi_for_bvi_labuan_vanuatu:N,poi_not_submitted_for_maltainvest:F,poi_pending_for_bvi_labuan_vanuatu:B,poi_pending_for_maltainvest:O,poi_resubmit_for_maltainvest:k,poi_resubmit_for_bvi_labuan_vanuatu:!B&&!L&&!I,poa_pending:v,is_idv_revoked:p}},Fo="https://community.deriv.com/t/mt5-new-server-name-and-mobile-app-re-login-guide/70617",ko="/help-centre/dmt5/#log-in-to-my-Deriv-MT5-account",Po=e=>{let t="";switch(e){case _r.SVG:t=(0,y.localize)("SVG");break;case _r.BVI:t=(0,y.localize)("BVI");break;case _r.LABUAN:t=(0,y.localize)("Labuan");break;case _r.VANUATU:t=(0,y.localize)("Vanuatu");break;case _r.MALTA_INVEST:t=(0,y.localize)("Malta")}return t},To=e=>{let t="";switch(e){case"synthetic":case mr.DERIVED:t=(0,y.localize)("Standard");break;case mr.FINANCIAL:t=(0,y.localize)("Financial")}return t},No=({account_type:e,jurisdiction:t})=>`${jo(po.$_.MT5)} ${To(e)} ${Po(t)}`,Lo=()=>[{name:"Deriv X",description:(0,y.localize)("CFDs on financial and derived instruments, powered by TradingView."),platform:po.$_.DXTRADE,market_type:"all",product:"derivx",icon:"DerivX",availability:"Non-EU"},{name:"Deriv cTrader",description:(0,y.localize)("CFDs on financial and derived instruments with copy trading."),platform:po.$_.CTRADER,market_type:"all",product:"ctrader",icon:"CTrader",availability:"Non-EU"}];var Io=r(722568);const Bo="app.deriv.com",Ro="Deriv",Mo=Ro,zo="tracking_status";var Uo=r(712279);E().createFromInputFallback=function(e){e._d=new Date(NaN)};const Wo=e=>{if(!e)return E();let t=e.toLowerCase().replace("_","-");return["EN","AR","BN","SI","KM"].includes(e)&&(t="en-gb"),r(31350)(`./${t}`).then((()=>E().locale(t))).catch((()=>E()))},$o=e=>E().unix(e).utc(),Vo=e=>{if(!e)return E()().utc();if(e instanceof E()&&e.isValid()&&e.isUTC())return e;if("number"==typeof e)return $o(e);if(/invalid/i.test(E()(e).toString())){const t=E()(),r=t.utc().daysInMonth();return E().utc(e,"DD MMM YYYY").valueOf()/864e5>r?E().utc(t.add(e,"d"),"DD MMM YYYY"):E().utc(e,"DD MMM YYYY")}return E().utc(e)},Ho=e=>E().utc(e).local().format("YYYY-MM-DD HH:mm:ss Z"),Go=e=>(E().locale((0,y.getLanguage)().toLowerCase()),E().unix(e/1e3).format("MMMM Do, YYYY")),Yo=(e,t)=>{const[r,o,n]=t?t.split(":"):[0,0,0];return e.hour(+r).minute(+o||0).second(+n||0),e},Ko=(e,t)=>Yo(Vo(e),t).unix(),qo=e=>E()(e||void 0).utc().format("YYYY-MM-DD HH:mm:ss [GMT]"),Jo=(e,t="YYYY-MM-DD",r=!0)=>r||null!==e?Vo(e).format(t):void 0,Zo=(e,t="HH:mm:ss [GMT]")=>Vo(e).format(t),Xo=e=>{const t=Vo(e).startOf("day").diff(Vo().startOf("day"),"days");return!e||t<0?"":t},Qo=e=>{const t=Vo().startOf("day").diff(Vo(e).startOf("day"),"days");return e?t:""},en=(e,t)=>t.diff(e,"month"),tn=(e,t)=>E().duration(E().unix(t).diff(E().unix(e))),rn=(e,t,r)=>E()(new Date).add(e,t).format(r),on=e=>E().unix(e).format("DD MM YYYY"),nn=(e,t)=>{const r=Math.floor(e.asDays()),o=e.hours(),n=e.minutes(),i=e.seconds();return{days:r,timestamp:E()(0).hour(o).minute(n).seconds(i).format(t||"HH:mm:ss")}},an=e=>/^([0-9]|[0-1][0-9]|2[0-3]):([0-9]|[0-5][0-9])(:([0-9]|[0-5][0-9]))?$/.test(e),sn=e=>an(e)&&/^([01][0-9]|2[0-3])$/.test(e.split(":")[0]),cn=e=>an(e)&&/^[0-5][0-9]$/.test(e.split(":")[1]),ln=e=>E()(e,"DD MMM YYYY").isValid(),un=(e,t)=>Vo(e).clone().add(t,"day"),dn=(e,t)=>Vo(e).clone().add(t,"week"),_n=(e,t)=>Vo(e).clone().add(t,"month"),pn=(e,t)=>Vo(e).clone().add(t,"year"),hn=(e,t)=>Vo(e).clone().subtract(t,"day"),mn=(e,t)=>Vo(e).clone().subtract(t,"month"),fn=(e,t)=>Vo(e).clone().subtract(t,"year"),gn=(e,t)=>E().min(Vo(e),Vo(t)),bn=e=>Vo(e).clone().startOf("month").format("YYYY-MM-DD"),vn=(e,t,r=!1)=>r?E()(e).format(t):E().utc(e).format(t),yn=(e,t,r)=>E()(e,t).format(r),Dn=e=>{const t=E()(e,"HH:mm"),r=t.format("HH"),o=t.format("mm");return`${`${Number(r)%12||12}:${o}`} ${""+(Number(r)>=12?"pm":"am")}`},wn=e=>{if(!e)return"";const t=Math.floor((Date.now()-e)/1e3);return t<60?(0,y.localize)("{{seconds_passed}}s ago",{seconds_passed:t}):t<3600?(0,y.localize)("{{minutes_passed}}m ago",{minutes_passed:Math.floor(t/60)}):t<86400?(0,y.localize)("{{hours_passed}}h ago",{hours_passed:Math.floor(t/3600)}):(0,y.localize)("{{days_passed}}d ago",{days_passed:Math.floor(t/86400)})},Cn=e=>Vo(e).clone().add(1,"day").format("YYYY-MM-DD"),An=async e=>{let t=e.toLowerCase().replace("_","-");["AR","BN","SI"].includes(e)&&(t="en");try{const e=await r(466390)(`./${t}.js`);Pr().locale(e.default)}catch(e){console.error(`Locale ${t} could not be loaded`,e)}};var xn=r(372858),En=r(590734);const jn=`https://hub.${(0,xn.aE)()}/tradershub`,On={p2p:{icon_text:void 0,is_hard_redirect:!0,platform_name:"Deriv P2P",route_to_path:yt.JZ.cashier_p2p,url:"https://app.deriv.com/cashier/p2p"},derivgo:{icon_text:void 0,is_hard_redirect:!0,platform_name:"Deriv GO",route_to_path:"",url:"https://app.deriv.com/redirect/derivgo"},p2p_v2:{icon_text:void 0,is_hard_redirect:!0,platform_name:"Deriv P2P",route_to_path:"",url:"https://p2p.deriv.com"},tradershub_os:{icon_text:void 0,is_hard_redirect:!0,platform_name:"TradersHub",route_to_path:"",url:jn}},Sn=()=>{const[e,t]=j.useState(!1);return j.useEffect((()=>{Uo.Ay.language||(Uo.Ay.language=(0,y.getInitialLanguage)()),(async()=>{await Wo(Uo.Ay.language),await An(Uo.Ay.language)})();return"EN"===Uo.Ay.language?t(!0):Uo.Ay.store.on("added",(()=>{t(!0)})),()=>Uo.Ay.store.off("added")}),[]),[e,t]},Fn=(e,t)=>{const r=kn();return{document_number:e.document_type.id===r.id?r.value:e.document_number,document_additional:e.document_additional,document_type:e.document_type.id,issuing_country:t}},kn=e=>({id:"none",text:e?(0,y.localize)("I want to do this later"):(0,y.localize)("I don't have any of these"),value:"none"});let Pn={};const Tn=["USD","EUR","GBP","AUD"],Nn=["TUSDT","BTC","ETH","LTC","UST","eUSDT","BUSD","DAI","EURS","IDK","PAX","TUSD","USDC","USDK","XRP"],Ln=(e,t="fiat")=>{const r="fiat"===t?Tn:Nn;return e.sort(((e,t)=>r.indexOf(e.value)<r.indexOf(t.value)?-1:r.indexOf(e.value)>r.indexOf(t.value)?1:0))},In=10,Bn={CRYPTO:"crypto",FIAT:"fiat"},Rn=(e,t)=>Number(Number(e).toFixed(Vn(t))),Mn=(e,t)=>`${Wn(e,Vn(t),Gn(t))} ${t}`,zn=(e,t,r,o=0,n=0)=>{let i=t;i&&(i=String(i).replace(/,/g,""));const a=i&&Number(i)<0?"-":"",s=o||Vn(e);if(i=isNaN(+i)?0:Math.abs(+i),"undefined"!=typeof Intl){const e={minimumFractionDigits:n||s,maximumFractionDigits:s};i=new Intl.NumberFormat("en",e).format(i)}else i=Wn(i,s);return a+(r?"":Un(e))+i},Un=e=>`<span class="symbols ${(e||"").toLowerCase()}"></span>`,Wn=(e,t,r)=>{let o=String(e||0).replace(/,/g,"");return void 0!==t&&(o=(+o).toFixed(t)),r&&(o=parseFloat(String(o))),o.toString().replace(/(^|[^\w.])(\d{4,})/g,((e,t,r)=>t+r.replace(/\d(?=(?:\d\d\d)+(?!\d))/g,"$&,")))},$n=e=>Gn(e)?U(Yn.get(),[e,"fractional_digits"]):2,Vn=(e="")=>Pn[e]?U(Pn,[e,"fractional_digits"]):$n(e),Hn=e=>{Pn=e.currencies_config},Gn=e=>/crypto/i.test(U(Pn,[e,"type"]))||e in Yn.get(),Yn=(()=>{let e;return{get:()=>(e||(e=G({BTC:{display_code:"BTC",name:"Bitcoin",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:8},BUSD:{display_code:"BUSD",name:"Binance USD",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:2},DAI:{display_code:"DAI",name:"Multi-Collateral DAI",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:2},EURS:{display_code:"EURS",name:"STATIS Euro",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:2},IDK:{display_code:"IDK",name:"IDK",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:0},PAX:{display_code:"PAX",name:"Paxos Standard",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:2},TUSD:{display_code:"TUSD",name:"True USD",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:2},USDC:{display_code:"USDC",name:"USD Coin",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:2},USDK:{display_code:"USDK",name:"USDK",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:2},eUSDT:{display_code:"eUSDT",name:"Tether ERC20",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:2},tUSDT:{display_code:"tUSDT",name:"Tether TRC20",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:2},BCH:{display_code:"BCH",name:"Bitcoin Cash",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:8},ETH:{display_code:"ETH",name:"Ether",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:8},ETC:{display_code:"ETC",name:"Ether Classic",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:8},LTC:{display_code:"LTC",name:"Litecoin",min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002,fractional_digits:8},UST:{display_code:"USDT",name:"Tether Omni",min_withdrawal:.02,pa_max_withdrawal:2e3,pa_min_withdrawal:10,fractional_digits:2},XRP:{display_code:"XRP",name:"Ripple",fractional_digits:6}})),e)}})(),Kn=e=>Gn(e)?U(Yn.get(),[e,"min_withdrawal"])||.002:1,qn=(e,t)=>{const r=U(Pn,[e,"transfer_between_accounts","fees",t]);return`${void 0===r?"1":r}%`},Jn=(e="")=>("eUSDT"!==e&&"tUSDT"!==e&&(e=e.toUpperCase()),U(Yn.get(),[e,"display_code"])||e),Zn=(e="")=>"USDT"===e?"Tether Omni":U(Pn,[e,"name"])||"",Xn=e=>U(Pn,[e,"stake_default"]),Qn=()=>Pn,ei=({preferred_alignment:e="bottom",child_el:t,parent_el:r,should_consider_parent_height:o=!0})=>{const n=null==r?void 0:r.getBoundingClientRect(),i=null==t?void 0:t.clientHeight,a=document.body.getBoundingClientRect(),{top:s,bottom:c,left:l,width:u}=n||{top:0,bottom:0,left:0,width:0},d=(({parent_rect:e,child_height:t=0})=>((null==e?void 0:e.top)||0)+((null==e?void 0:e.height)||0)+t)({parent_rect:n,child_height:i}),_={bottom:a.bottom-(o?s:c)+8,insetInlineStart:l,width:u,transformOrigin:"bottom"},p={top:o?c:s,insetInlineStart:l,width:u,transformOrigin:"top"};if("bottom"===e&&d<=a.height)return{style:p,placement:"bottom"};const h=(({parent_rect:e,child_height:t=0})=>Number(null==e?void 0:e.top)-t)({parent_rect:n,child_height:i});return"top"===e&&h>=0?{style:_,placement:"top"}:d-a.height<0-h?{style:p,placement:"bottom"}:{style:_,placement:"top"}},ti=(e,t,r)=>{var o;if(!t||!e.length)return"";const n=e.find((e=>{var o;return(null===(o=e["text"===r?"value":"text"])||void 0===o?void 0:o.toLowerCase())===t.toLowerCase()}));return null!==(o=null==n?void 0:n[r])&&void 0!==o?o:""},ri=["it","de","fr","lu","gr","mf","es","sk","lt","nl","at","bg","si","cy","be","ro","hr","pt","pl","lv","ee","cz","fi","hu","dk","se","ie","im","gb","mt"],oi=e=>ri.includes(e),ni=(e,t,r,o,n=!0)=>{const{title:i,text:a,link:s}=t;e({message:a,header:i,redirect_label:s,redirectOnClick:r,should_show_refresh:!1,redirect_to:yt.JZ.traders_hub,should_clear_error_on_click:n,should_redirect:o})},ii=e=>1===(null==e?void 0:e.length)&&e.every((e=>{var t;return oi(null!==(t=e.residence)&&void 0!==t?t:"")&&"virtual"===e.landing_company_shortcode}));r(656701);const ai=(e,t)=>{var r;const o=new RegExp(`(.{${t||30}})..+`);return null==e||null===(r=e.name)||void 0===r?void 0:r.replace(o,`$1….${si(e)}`)},si=e=>{var t;const r=null==e||null===(t=e.type)||void 0===t?void 0:t.match(/[^/]+$/);return r&&r[0]},ci=e=>{if(null==e||!e.length)return Promise.resolve([]);const t=[];return Array.from(e).forEach((e=>{const r=new Promise((t=>{var r;r=null==e?void 0:e.type,/(gif|jpg|jpeg|tiff|png)$/i.test(r)?(e=>new Promise((t=>{const r=new FileReader;r.readAsDataURL(e),r.onloadend=()=>{const o={src:r.result,filename:e.name};t(o)}})))(e).then((e=>{var r;(r=e,new Promise((e=>{const t=new Image;t.src=r.src,t.onload=()=>{const o=document.createElement("canvas"),n=o.getContext("2d");if(!(n&&n instanceof CanvasRenderingContext2D))throw new Error("Failed to get 2D context");const i=n;if(t.naturalWidth>2560){const e=2560,r=e/t.naturalWidth;o.width=e,o.height=t.naturalHeight*r}else o.height=t.naturalHeight,o.width=t.naturalWidth;i.fillStyle="transparent",i.fillRect(0,0,o.width,o.height),i.save(),i.drawImage(t,0,0,o.width,o.height),o.toBlob((t=>{const o=r.filename.replace(/\.[^/.]+$/,".jpg"),n=new Blob([t],{type:"image/jpeg"});n.lastModifiedDate=Date.now(),n.name=o,e(n)}),"image/jpeg",.9)}}))).then(t)})):t(e)}));t.push(r)})),Promise.all(t)},li=(e,t,r)=>{const o=[];return e.forEach((e=>{const n=new FileReader,i=new Promise((o=>{n.onload=()=>{var t;const i={filename:e.name,buffer:n.result,documentFormat:(a=e,(a.type.split("/")[1]||(a.name.match(/\.([\w\d]+)$/)||[])[1]||"").toUpperCase()),file_size:e.size,documentType:null!==(t=null==r?void 0:r.document_type)&&void 0!==t?t:_i.utility_bill,documentId:null==r?void 0:r.document_id,expirationDate:null==r?void 0:r.expiration_date,lifetimeValid:null==r?void 0:r.lifetime_valid,pageType:null==r?void 0:r.page_type,proof_of_ownership:null==r?void 0:r.proof_of_ownership,document_issuing_country:null==r?void 0:r.document_issuing_country};var a;o(i)},n.onerror=()=>{o({message:"function"==typeof t?t(e.name):`Unable to read file ${e.name}`})},n.readAsArrayBuffer(e)}));o.push(i)})),Promise.all(o)},ui=8388608,di="image/png, image/jpeg, image/jpg, image/gif, application/pdf",_i=Object.freeze({amlglobalcheck:"amlglobalcheck",bankstatement:"bankstatement",docverification:"docverification",driverslicense:"driverslicense",driving_licence:"driving_licence",national_identity_card:"national_identity_card",other:"other",passport:"passport",power_of_attorney:"power_of_attorney",proof_of_ownership:"proof_of_ownership",proofaddress:"proofaddress",proofid:"proofid",utility_bill:"utility_bill"}),pi=Object.freeze({back:"back",front:"front",photo:"photo"}),hi=e=>/^.*\.(png|PNG|jpg|JPG|jpeg|JPEG|gif|GIF|pdf|PDF)$/.test(e);var mi=r(351447),fi=r(119180);const gi=(e,t,r=!0,o=0)=>{if(!e&&Bt(sessionStorage)){const e=window.location,n=r?window.location.href:`${e.protocol}//${e.host}${e.pathname}`;sessionStorage.setItem("redirect_url",n),setTimeout((()=>{const e=vi({language:t});window.location.href=e}),o)}},bi=()=>{const e=window.location.href;window.location.pathname.includes(fi.routes.trade)?window.open((0,xn.P2)(e)):window.open((0,xn.P2)())},vi=({language:e})=>{const t=$t.get("config.server_url"),r=$t.get("change_login_app_id"),o=new Ut("signup_device").get("signup_device"),n=new Ut("date_first_contact").get("date_first_contact"),i=`${o?`&signup_device=${o}`:""}${n?`&date_first_contact=${n}`:""}`,a=()=>`https://oauth.${Nt.G.DERIV_HOST_NAME}/oauth2/authorize?app_id=${r||(0,Io.R7)()}&l=${e}${i}&brand=${Ro.toLowerCase()}`;return t&&/qa/.test(t)?`https://${t}/oauth2/authorize?app_id=${(0,Io.R7)()}&l=${e}${i}&brand=${Ro.toLowerCase()}`:(0,Io.R7)()===Io.Yp[window.location.hostname]?a():(0,xn.IK)(a())},yi=(0,mi.flow)((function*(e,t){const r=yield o.wait("website_status"),n=yield o.residenceList(),i=r.website_status.clients_country,a=(n.residence_list.find((e=>e.value===i))||{}).text,s=a?(0,y.localize)("Sorry, this app is unavailable in {{clients_country}}.",{clients_country:a}):(0,y.localize)("Sorry, this app is unavailable in your current location.");e({message:(0,y.localize)("If you have an account, log in to continue."),header:s,redirect_label:(0,y.localize)("Log in"),redirectOnClick:()=>gi(t,(0,y.getLanguage)()),should_show_refresh:!1})})),Di=(e=[],t)=>!!e.length&&(!!e.filter((e=>e.symbol===t))[0]&&!e.filter((e=>e.symbol===t))[0].exchange_is_open),wi=async(e=[])=>{if(!e.length)return"";const t=await Ci(e);if(t)return t;return await Ai(e)},Ci=async e=>{try{const t=$t.get("cq-favorites");if(!t)return;const r=JSON.parse(t)["chartTitle&Comparison"].map((t=>e.find((e=>e.symbol===t))));if(r){const e=r.filter((e=>e)).find(Oi);if(e){if(await Si(e.symbol))return e.symbol}}return}catch(e){return}},Ai=async e=>{var t;const r=await xi(e,"1HZ100V")||await Ei(e,/random_index/)||await Ei(e,/major_pairs/);return r?r.symbol:null===(t=e.find((e=>"major_pairs"===e.submarket)))||void 0===t?void 0:t.symbol},xi=async(e,t)=>{const r=e.find((e=>e.symbol===t&&Oi(e)));if(await Si(null==r?void 0:r.symbol))return r},Ei=async(e,t)=>{const r=e.find((e=>t.test(e.submarket)&&Oi(e)));if(await Si(null==r?void 0:r.symbol))return r},ji=async(e,t)=>{const r=t.shift(),o=e.find((e=>r===e.market&&Oi(e)));return await Si(null==o?void 0:o.symbol)?{category:null==o?void 0:o.market,subcategory:null==o?void 0:o.submarket}:t.length>0?ji(e,t):void 0},Oi=e=>1===(null==e?void 0:e.exchange_is_open),Si=async e=>{var t;if(!e)return!1;const r=await o.storage.contractsFor(e);return!["InvalidSymbol","InputValidationFailed"].includes(null===(t=r.error)||void 0===t?void 0:t.code)},Fi=(e=[],t)=>(e.find((e=>e.symbol.toUpperCase()===t.toUpperCase()))||{display_name:""}).display_name,ki=(e,t={count:e.barriers})=>{if(!e.barriers)return;const r={};return["barrier","low_barrier","high_barrier"].forEach((t=>{t in e&&(r[t]=e[t])})),Object.assign(t||{},{[e.expiry_type]:r})},Pi=e=>{var t;return!e||e.length<1||isNaN(+e)?0:(null===(t=e.split(".")[1])||void 0===t?void 0:t.length)||0},Ti=e=>e in D,Ni=(e,...t)=>t.filter((e=>null!=e)).map((t=>{var r;return`${e&&!/^[+-]/.test(null!==(r=null==t?void 0:t.toString())&&void 0!==r?r:"")?"+":""}${t}`})),Li=(e,t)=>{const r=e.findIndex((e=>e.key===t));r>-1&&e.splice(r,1)};class Ii{constructor(e,t,r=null,{color:o,hideBarrierLine:n,line_style:i,not_draggable:a,shade:s}={}){this.color=void 0,this.lineStyle=void 0,this.shade=void 0,this.shadeColor=void 0,this.high=void 0,this.low=void 0,this.onChange=void 0,this.relative=void 0,this.draggable=void 0,this.hidePriceLines=void 0,this.hideBarrierLine=void 0,this.hideOffscreenLine=void 0,this.title=void 0,this.onChartBarrierChange=void 0,(0,mi.makeObservable)(this,{color:mi.observable,lineStyle:mi.observable,shade:mi.observable,shadeColor:mi.observable,high:mi.observable,low:mi.observable,relative:mi.observable,draggable:mi.observable,hidePriceLines:mi.observable,hideBarrierLine:mi.observable,hideOffscreenLine:mi.observable,title:mi.observable,updateBarriers:mi.action.bound,updateBarrierShade:mi.action.bound,updateColor:mi.action.bound,onBarrierChange:mi.action.bound,barrier_count:mi.computed,default_shade:mi.computed}),this.color=o,this.hideBarrierLine=n,this.lineStyle=i||A.DOTTED,this.onChange=this.onBarrierChange,this.onChartBarrierChange="function"==typeof r?r.bind(this):()=>{},this.high=e||0,t&&(this.low=t),this.shade=null!=s?s:this.default_shade;const c=!!e;this.relative=!c||/^[+-]/.test(e.toString()),this.draggable=!a&&c,this.hidePriceLines=!c}updateBarriers(e,t,r,o,n=!1){n||(this.relative=/^[+-]/.test(e.toString())),this.high=e||void 0,this.low=t||void 0,this.title=null!=r?r:this.title,this.hidePriceLines=null!=o?o:this.hidePriceLines}updateBarrierShade(e,t){this.shade=e&&D[t]||this.default_shade}updateColor({barrier_color:e,shade_color:t}){t&&(this.shadeColor=t),e&&(this.color=e)}onBarrierChange({high:e,low:t,title:r,hidePriceLines:o}){var n;this.updateBarriers(e,t,r,o,!0),null===(n=this.onChartBarrierChange)||void 0===n||n.call(this,...Ni(this.relative,e,t))}get barrier_count(){return+(void 0!==this.high)+ +(void 0!==this.low)}get default_shade(){return w[this.barrier_count]}}const Bi={key:"switch_to_tick_chart",header:(0,y.localize)("This chart display is not ideal for tick contracts"),message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Please change the chart duration to tick for a better trading experience."}),type:"info"},Ri=e=>{const t=e.asMilliseconds()/1e3;if(t>=864e5){const e=t/864e5;return Math.floor(e)}if(t>=36e5&&t<864e5){const e=Mi(t/36e5),r=Mi(t/6e4);return e?vn(t,r?"HH[h] mm[m] ss[s]":"HH[h] mm[m]"):Math.floor(t/36e5)}if(t>=6e4&&t<36e5){return Mi(t/6e4)?vn(t,"mm[m] ss[s]"):Math.floor(t/6e4)}return Math.floor(t/1e3)},Mi=e=>e%1!=0,zi=()=>({d:{name_plural:(0,y.localize)("days"),name_singular:(0,y.localize)("day")},h:{name_plural:(0,y.localize)("hours"),name_singular:(0,y.localize)("hour")},m:{name_plural:(0,y.localize)("minutes"),name_singular:(0,y.localize)("minute")},s:{name:(0,y.localize)("seconds")},t:{name_plural:(0,y.localize)("ticks"),name_singular:(0,y.localize)("tick")}}),Ui=1e3,Wi=6e4,$i=36e5,Vi=864e5,Hi=(e,t)=>{const r=zi(),o=e.asMilliseconds()/Ui;if(o>=Vi){return o/Vi<=2?r.d.name_singular:r.d.name_plural}return o>=$i&&o<Vi?!t&&Mi(o/$i)?"":o===$i?r.h.name_singular:r.h.name_plural:o>=Wi&&o<$i?!t&&Mi(o/Wi)?"":o===Wi?r.m.name_singular:r.m.name_plural:r.s.name},Gi=e=>{const t=zi(),r=Yi(e).asMilliseconds()/Ui/2,o=r===$i?`h [${t.h.name_singular}] `:`h [${t.h.name_plural}] `,n=r===Wi?`m [${t.m.name_singular}] `:`m [${t.m.name_plural}] `,i=r%Wi==0?"":`s [${t.s.name}]`;return E().utc(E().duration(r,"milliseconds").asMilliseconds()).format(`${r>=$i?o:""}${r>=Wi&&r%$i!=0?n:""}${i}`.trim())},Yi=e=>tn(+$o(e.date_start||e.purchase_time||0),+$o(e.date_expiry||0)),Ki=e=>e.tick_count?e.tick_count:Ri(Yi(e)),qi=(e,t)=>{if(t&&/^(MULTUP|MULTDOWN)/.test(t))return"";const r=/ticks|tick|seconds|minutes|minute|hour|hours/.exec(e);if(null!==r){const e=r[0],t=e[0].toUpperCase()+e.slice(1);return t.endsWith("s")?t:`${t}s`}return(0,y.localize)("Days")},Ji=e=>{const t={category:"",underlying:""},r=new RegExp("^([A-Z]+)_((1HZ[0-9-V]+)|((CRASH|BOOM|STPRNG)[0-9\\d]+[A-Z]?)|(OTC_[A-Z0-9]+)|R_[\\d]{2,3}|[A-Z]+)").exec(e);return null!==r&&(t.category=r[1].toLowerCase(),t.underlying=r[2]),t},Zi=e=>e?er()[e.toUpperCase()]:null,Xi=(e,t={})=>{var r;const{isHighLow:o=!1,showButtonName:n=!1,showMainTitle:i=!1}=t,a=e&&ir(o)[e.toUpperCase()];return a?i?null!==(r=null==a?void 0:a.main_title)&&void 0!==r?r:"":n&&a.button_name||a.name||null:null},Qi={OPEN:"Open",CLOSED:"Closed"},ea=()=>{const e=new URLSearchParams(window.location.search),t=Object.keys(Qi).map((e=>e.toLowerCase()));if(e.toString()){var r;const o=[...e.values()].filter((e=>t.includes(null==e?void 0:e.toLowerCase())));return(null===(r=o[0])||void 0===r?void 0:r.toLowerCase())!==Qi.OPEN.toLowerCase()&&o[0]?1:0}return 0},ta=e=>{const t=ce(e),r=Zi(t.underlying),o=t.category;return`${`${Xi(o,{isHighLow:le({shortcode:e}),showMainTitle:!0})} ${Xi(o,{isHighLow:le({shortcode:e})})}`.trim()} - ${r}`},ra=()=>({t:{display:(0,y.localize)("Ticks"),order:1,to_second:null},s:{display:(0,y.localize)("Seconds"),order:2,to_second:1},m:{display:(0,y.localize)("Minutes"),order:3,to_second:60},h:{display:(0,y.localize)("Hours"),order:4,to_second:3600},d:{display:(0,y.localize)("Days"),order:5,to_second:86400}}),oa=(e,t={min_max:{spot:{},forward:{}},units_display:{}})=>{var r,o;t.units_display[e.start_type]=t.units_display[e.start_type]||[];t.min_max[e.start_type];const n=ia(e.min_contract_duration),i=ia(e.max_contract_duration);t.min_max[e.start_type][e.expiry_type]={min:na(n.duration,n.unit,"s")||0,max:na(i.duration,i.unit,"s")||0};const a=[];null==t||null===(r=t.units_display)||void 0===r||null===(r=r[e.start_type])||void 0===r||null===(o=r.forEach)||void 0===o||o.call(r,(e=>{a.push(e.value)}));const s=ra();return/^(?:tick|daily)$/.test(e.expiry_type)?-1===a.indexOf(n.unit)&&a.push(n.unit):Object.keys(s).forEach((e=>{"d"!==e&&-1===a.indexOf(e)&&s[e].order>=s[n.unit].order&&s[e].order<=s[i.unit].order&&a.push(e)})),t.units_display[e.start_type]=a.sort(((e,t)=>s[e].order>s[t].order?1:-1)).reduce(((e,t)=>[...e,{text:s[t].display,value:t}]),[]),t},na=(e,t,r)=>{var o,n,i,a;if(!e||!t||!r||isNaN(e))return null;const s=ra();return t===r||null===s[t].to_second?e:e*(null!==(o=null===(n=s[t])||void 0===n?void 0:n.to_second)&&void 0!==o?o:1)/(null!==(i=null===(a=s[r])||void 0===a?void 0:a.to_second)&&void 0!==i?i:1)},ia=e=>{const t=e.toString().match(/[a-zA-Z]+|[0-9]+/g)||"";return{duration:+t[0],unit:t[1]}},aa=e=>{const{duration_unit:t,expiry_date:r,expiry_type:o,duration_units_list:n}=e,i=e.root_store.common.server_time,a="duration"===o&&"d"===t,s="endtime"===o&&(Vo(r).isAfter(Vo(i),"day")||!ca(n));let c="daily";return a||s||(c="t"===t?"tick":"intraday"),c},sa=(e,t)=>{if(!(e>=0&&t&&Number.isInteger(e)))return null;if("m"===t){const t=e/60;return t>=1?Math.floor(t):1}if("h"===t){const t=e/3600;return t>=1?Math.floor(t):1}if("d"===t){const t=e/86400;return t>=1?Math.floor(t):1}return e},ca=e=>e.some((e=>-1!==["m","h"].indexOf(e.value))),la=(e,t)=>/^R_/.test(e)&&"endtime"===t?Vo(null).format("DD MMM YYYY"):null,ua=(e,t,r)=>{if(!e[t])return[];const o=sa(+e[t].max,r);return[sa(+e[t].min,r),o]},da=e=>e<10?`0${e}`:e,_a=e=>{if(e&&!isNaN(e)){const t=Math.floor(e/60),r=da(t),o=Math.floor(e%60);return`${r}:${da(o)}`}return"00:00"},pa=e=>{var t,r,o,n;const{contract_type:i,shortcode:a}=e,s=null!==(t=null!=i?i:null===(r=ce(null!=a?a:"").category)||void 0===r?void 0:r.toUpperCase())&&void 0!==t?t:"";return Object.entries(null!==(o=null===(n=$t.getObject("FeatureFlagsStore"))||void 0===n?void 0:n.data)&&void 0!==o?o:{}).every((([e,t])=>!!t||e!==sr(s,le({shortcode:a}))))},ha=(e,t=[],r)=>{var o;const n=e.buy_price,i=e.payout,a=Fi(t,Ji(e.shortcode||"").underlying),s=e.transaction_id||e.transaction_ids&&e.transaction_ids.buy;return{contract_info:e,details:null===(o=e.longcode)||void 0===o?void 0:o.replace(/\n/g,"<br />"),display_name:a,id:e.contract_id,indicative:r&&isNaN(r)||!r?0:r,payout:i,purchase:n,reference:Number(s),type:e.contract_type,contract_update:e.limit_order}},ma=e=>"report_available"in e&&0===(null==e?void 0:e.report_available),fa=(e,t,r,o)=>{if(((e,t,r)=>0===e.length&&(t===Ar.NONE||t===Ar.VERIFIED)&&!r)(e,t,r))return null;if(r){if(t===Ar.NONE)return null;if(t===Ar.VERIFIED)return xr.HighRisk.code}return t===Ar.EXPIRED?xr.Expired.code:((e,t)=>{var r;const o=[];return e.forEach((e=>{var t;const r=null===(t=xr[e])||void 0===t?void 0:t.code;r&&o.push(r)})),t&&(o.includes(xr.NameMismatch.code)||o.includes(xr.DobMismatch.code))?xr.ReportNotAvailable.code:o.includes(xr.Failed.code)?xr.Failed.code:o.includes(xr.NameMismatch.code)&&o.includes(xr.DobMismatch.code)?xr.NameDobMismatch.code:null!==(r=o[0])&&void 0!==r?r:xr.Failed.code})(e,o)},ga=(e,t=[])=>e===Ar.EXPIRED?[Er.Expired.code,...t]:t,ba=e=>{var t,r;return null!==(t=null===(r=Er[e])||void 0===r?void 0:r.message)&&void 0!==t?t:""},va=e=>{var t,r;return null!==(t=null===(r=xr[e])||void 0===r?void 0:r.message)&&void 0!==t?t:""},ya=(e,t,r)=>{var o;const n=(null==t?void 0:t.citizen)||(null==t?void 0:t.country_code);if(!n)return!1;const i=e.find((e=>e.value===n));return!(null==i||null===(o=i.identity)||void 0===o||null===(o=o.services)||void 0===o||null===(o=o[r])||void 0===o||!o.is_country_supported)},Da={STOP_OUT:"stop_out",TAKE_PROFIT:"take_profit",STOP_LOSS:"stop_loss"},wa=({barriers:e,contract_type:t="",contract_info:r={},is_over:o})=>{if(o&&((e,t)=>Be(e)&&t.limit_order)(t,r)){const t=Object.values(Da),o=void 0!==r.limit_order&&Object.keys(r.limit_order).some((e=>{var t;return e===Da.STOP_LOSS&&(null==r||null===(t=r.limit_order)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.value)}));t.forEach((t=>{var n;const i=null===(n=r.limit_order)||void 0===n?void 0:n[t];if(null==i||!i.value)return void Li(e,t);let a=e.find((e=>e.key===t));const s=o&&t===Da.STOP_OUT;if(a)a.high===+i.value&&a.title===i.display_name&&a.hidePriceLines===s||a.onChange({high:i.value,title:i.display_name,hidePriceLines:s});else{const r={key:t,title:i.display_name,color:t===Da.TAKE_PROFIT?C.GREEN:C.ORANGE,draggable:!1,lineStyle:t===Da.STOP_OUT?A.DOTTED:A.SOLID,hidePriceLines:s,hideOffscreenLine:!0,showOffscreenArrows:!0,isSingleBarrier:!0,opacityOnOverlap:t===Da.STOP_OUT&&.15};a=new Ii(i.value),Object.assign(a,r),e.push(a)}}))}else{Object.values(Da).forEach((t=>Li(e,t)))}},Ca=e=>{var t,r,o,n;const{has_contract_update_stop_loss:i,has_contract_update_take_profit:a,contract_update_stop_loss:s,contract_update_take_profit:c,contract_info:l}=e,u={},d=a?+c:null;Math.abs(null!==(t=null===(r=l.limit_order)||void 0===r||null===(r=r.take_profit)||void 0===r?void 0:r.order_amount)&&void 0!==t?t:0)!==Math.abs(null!=d?d:0)&&(u.take_profit=d);const _=i?+s:null;return Math.abs(null!==(o=null==l||null===(n=l.limit_order)||void 0===n||null===(n=n.stop_loss)||void 0===n?void 0:n.order_amount)&&void 0!==o?o:0)!==Math.abs(null!=_?_:0)&&(u.stop_loss=_),u},Aa=e=>e.slice().sort(((e,t)=>{const r=null==e?void 0:e.login,o=null==t?void 0:t.login;if(r&&o){if(r<o)return-1;if(r>o)return 1}return 0})),xa=(e,t)=>{if(L(t)||L(e))return!1;const r=Fa(e)||0;if(r&&t&&t.epoch){return E().duration(E().unix(t.epoch).diff(E().unix(r))).asSeconds()>=2}return!1},Ea=e=>{var t;const r=Fa(e)||0;return!!(null!==(t=e.cancellation)&&void 0!==t&&t.date_expiry&&r<e.cancellation.date_expiry)},ja=e=>e.sell_time&&+e.sell_time<+e.date_start,Oa=e=>Number(null==e?void 0:e.current_spot_time)>Number(null==e?void 0:e.date_start),Sa=e=>"cancelled"===e.status,Fa=e=>{const{contract_type:t,exit_tick_time:r,date_expiry:o,is_expired:n,is_path_dependent:i,sell_time:a,tick_count:s}=e;if(!Oe(e)&&(n||Le(t))||Se(e)||Sa(e))return Se(e)&&a?a>Number(o)?o:a:!s&&a&&a>Number(o)||Number(o)>Number(r)&&!Number(i)?o:r},ka=e=>e.contract_info.buy_price,Pa=e=>{const{site_status:t=""}=e||{};return"down"===t||"updating"===t},Ta=(e,t)=>!!t&&e===t.underlying&&!!rr()[null==t?void 0:t.contract_type]&&Oa(t),Na=(e,t,r)=>({key:"contract_sold",header:(0,y.localize)("Contract sold"),message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Contract was sold for <0 />.",components:[(0,pe.jsx)(r,{amount:t,currency:e,show_currency:!0},t)]}),type:"contract_sold",size:"small",should_hide_close_btn:!0,is_auto_close:!0}),La=()=>({key:"contract_sold",header:(0,y.localize)("Contract cancelled"),message:(0,pe.jsx)(y.Localize,{i18n_default_text:"Contract was cancelled."}),type:"contract_sold",size:"small",should_hide_close_btn:!0,is_auto_close:!0}),Ia=(e,t)=>{const r=[];var o;(e.forward_starting_options||[]).length&&(null!==(o=e.forward_starting_options)&&void 0!==o?o:[]).forEach((e=>{const t=r.find((t=>{var r;return t.value===parseInt(null!==(r=e.date)&&void 0!==r?r:"")})),o={open:Vo(e.open),close:Vo(e.close)};var n;t?t.sessions.push(o):r.push({text:Vo(e.date).format("ddd - DD MMM, YYYY"),value:parseInt(null!==(n=e.date)&&void 0!==n?n:""),sessions:[o]})}));return r.length?r:t},Ba=()=>({has_contract_update_stop_loss:{trigger:"contract_update_stop_loss"},contract_update_stop_loss:{rules:[["req",{condition:e=>!e.contract_update_stop_loss,message:(0,y.localize)("Please enter a stop loss amount.")}],["custom",{func:(e,t,r)=>{const o=ot(r.contract_info);return!(o<0&&-e>o)},message:(0,y.localize)("Please enter a stop loss amount that's higher than the current potential loss.")}],["custom",{func:(e,t,r)=>{const o=ka(r);return e<Number(o)+1},message:(0,y.localize)("Invalid stop loss. Stop loss cannot be more than stake.")}]]},has_contract_update_take_profit:{trigger:"contract_update_take_profit"},contract_update_take_profit:{rules:[["req",{condition:e=>!e.contract_update_take_profit,message:(0,y.localize)("Please enter a take profit amount.")}],["custom",{func:(e,t,r)=>{const o=ot(r.contract_info);return!(o>0&&+e<o)},message:(0,y.localize)("Please enter a take profit amount that's higher than the current potential profit.")}]]}}),Ra=()=>{const e=j.useRef(!1);return j.useEffect((()=>(e.current=!0,()=>{e.current=!1})),[]),()=>e.current},Ma=e=>{const[t,r]=j.useState(!e);return j.useEffect((()=>{e&&r(!0)}),[e]),{in_prop:t}};var za=r(668017),Ua=r.n(za);function Wa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function $a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Va=(e,t)=>r=>Ua().Map({loader:{ComponentModule:e},render(e,t){const o=r?e.ComponentModule.default[r]:e.ComponentModule.default;return(0,pe.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(r),!0).forEach((function(t){$a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t))},loading:t}),Ha=(e,t=2,r=1500)=>new Promise(((o,n)=>{e().then(o).catch((i=>{setTimeout((()=>{1!==t?Ha(e,t-1,r).then(o,n):n(i)}),r)}))})),Ga=()=>{const e=new Uint8Array(1);return crypto.getRandomValues(e)[0]/(Math.pow(2,8)-.1)};var Ya=r(831250),Ka=r.n(Ya);const qa={mac:["Mac68K","MacIntel","MacPPC"],linux:["HP-UX","Linux i686","Linux amd64","Linux i686 on x86_64","Linux i686 X11","Linux x86_64","Linux x86_64 X11","FreeBSD","FreeBSD i386","FreeBSD amd64","X11"],ios:["iPhone","iPod","iPad","iPhone Simulator","iPod Simulator","iPad Simulator"],android:["Android","Linux armv7l","Linux armv8l",null],windows:["Win16","Win32","Win64","WinCE"]},Ja=()=>{const e=Qa();return!!["windows","mac","linux"].find((t=>t===e))},Za=()=>/android/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||/webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Xa=/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||/android/i.test(navigator.userAgent.toLowerCase())&&!/mobile/i.test(navigator.userAgent.toLowerCase())||/MacIntel|Linux/.test(navigator.platform)&&navigator.maxTouchPoints>0,Qa=()=>localStorage.getItem("config.os")?localStorage.getItem("config.os"):"undefined"!=typeof navigator&&navigator.platform?Object.keys(qa).map((e=>!!qa[e].some((e=>navigator.platform===e))&&e)).filter((e=>e))[0]:"Unknown OS",es=()=>{const e=navigator.userAgent||navigator.vendor||window.opera||"",t=/\bK\b|ALP-|AMN-|ANA-|ANE-|ANG-|AQM-|ARS-|ART-|ATU-|BAC-|BLA-|BRQ-|CAG-|CAM-|CAN-|CAZ-|CDL-|CDY-|CLT-|CRO-|CUN-|DIG-|DRA-|DUA-|DUB-|DVC-|ELE-|ELS-|EML-|EVA-|EVR-|FIG-|FLA-|FRL-|GLK-|HMA-|HW-|HWI-|INE-|JAT-|JEF-|JER-|JKM-|JNY-|JSC-|LDN-|LIO-|LON-|LUA-|LYA-|LYO-|MAR-|MED-|MHA-|MLA-|MRD-|MYA-|NCE-|NEO-|NOH-|NOP-|OCE-|PAR-|PIC-|POT-|PPA-|PRA-|RNE-|SEA-|SLA-|SNE-|SPN-|STK-|TAH-|TAS-|TET-|TRT-|VCE-|VIE-|VKY-|VNS-|VOG-|VTR-|WAS-|WKG-|WLZ-|JAD-|WKG-|MLD-|RTE-|NAM-|NEN-|BAL-|JAD-|JLN-|YAL/i;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?t.test(e)||/huawei/i.test(e)?"huawei":"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"},ts=/\b([A-Z]{3}-)\b/gi,rs=new Set(["ALP-","AMN-","ANA-","ANE-","ANG-","AQM-","ARS-","ART-","ATU-","BAC-","BLA-","BRQ-","CAG-","CAM-","CAN-","CAZ-","CDL-","CDY-","CLT-","CRO-","CUN-","DIG-","DRA-","DUA-","DUB-","DVC-","ELE-","ELS-","EML-","EVA-","EVR-","FIG-","FLA-","FRL-","GLK-","HMA-","HW-","HWI-","INE-","JAT-","JEF-","JER-","JKM-","JNY-","JSC-","LDN-","LIO-","LON-","LUA-","LYA-","LYO-","MAR-","MED-","MHA-","MLA-","MRD-","MYA-","NCE-","NEO-","NOH-","NOP-","OCE-","PAR-","PIC-","POT-","PPA-","PRA-","RNE-","SEA-","SLA-","SNE-","SPN-","STK-","TAH-","TAS-","TET-","TRT-","VCE-","VIE-","VKY-","VNS-","VOG-","VTR-","WAS-","WKG-","WLZ-","JAD-","MLD-","RTE-","NAM-","NEN-","BAL-","JLN-","YAL-","MGA-","FGD-","XYAO-","BON-","ALN-","ALT-","BRA-","DBY2-","STG-","MAO-","LEM-","GOA-","FOA-","MNA-","LNA-"]);function os(e){const t=e.match(ts);return!!t&&t.filter((e=>rs.has(e.toUpperCase()))).length>0}const ns=async()=>{var e,t;const r=null!==(e=null!==(t=navigator.userAgent)&&void 0!==t?t:window.opera)&&void 0!==e?e:"";if(/windows phone/i.test(r))return"Windows Phone";if(/android/i.test(r)){var o;if(null!==(o=navigator)&&void 0!==o&&o.userAgentData){const e=await navigator.userAgentData.getHighEntropyValues(["model"]);if(os((null==e?void 0:e.model)||""))return"huawei"}else if(os(r)||/huawei/i.test(r))return"huawei";return"Android"}return/iPad|iPhone|iPod/.test(r)&&!window.MSStream?"iOS":"unknown"},is=()=>Ka()().os.name,as=e=>{let t=!1,r=()=>t=!0;return{promise:new Promise(((o,n)=>{r=()=>{t||(t=!0,n(new Error("Cancelled")))},e.then((e=>{t&&n(e),t=!0,o(e)})).catch((e=>{t=!0,n(e)}))})),cancel:r}},ss=(e,t)=>new RegExp(`^${null==e?void 0:e.path}(/.*)?$`).test(t),cs=({routes:e,pathname:t})=>{const r=e.find((e=>ss(e,t)));return r||(e.find((e=>e.default))||e[0]||null)},ls=(e,t)=>!(e&&e.is_authenticated&&!t),us=e=>{if(null==e)return!1;return e.toString().replace(/\s/g,"").length>0},ds=". , ' : ; ( ) ° @ # / -",_s=(e,t)=>{var r,o,n;return null==t||!t.is_required||e&&!e.match(/^\s*$/)?bs(e,{min:0,max:70})?/^(?:[\t-\r #'-\),-;@-Za-z\xA0\xAA\xB0\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BEF\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D66-\u0D6F\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F29\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2000-\u200A\u2028\u2029\u202F\u205F\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3000\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC66-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]){0,70}$/.test(e)?{is_ok:!0}:{is_ok:!1,message:null===(n=Ts)||void 0===n?void 0:n.address()}:{is_ok:!1,message:null===(o=Ts)||void 0===o?void 0:o.maxNumber(70)}:{is_ok:!1,message:null===(r=Ts)||void 0===r?void 0:r.empty_address()}},ps=e=>""===e||/^[A-Za-z0-9][A-Za-z0-9\s-]*$/.test(e),hs=e=>/(?!^$|\s+)[A-Za-z0-9./\s-]$/.test(e),ms=e=>/^\+?([0-9-]+\s)*[0-9-]+$/.test(e),fs=e=>/^[A-Za-z]+([a-zA-Z.' -])*[a-zA-Z.' -]+$/.test(e),gs=e=>/^(?!(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]{2,})(?![\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])(?:[\t-\r '\x2D\.A-Za-z\xA0\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2000-\u200A\u2028\u2029\u202F\u205F\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3000\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]){1,50}$/.test(e),bs=(e="",t)=>(!t.min||e.length>=Number(t.min))&&(!t.max||e.length<=Number(t.max)),vs=e=>/^(?=.*[a-z])(?=.*\d)(?=.*[A-Z])[!-~]{8,25}$/.test(e),ys=e=>/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,63}$/.test(e),Ds=e=>/^[\w\s\W'.;,-]{0,99}$/.test(e),ws=e=>{var t;return"+"===e||"-"===e?{is_ok:!1,message:null===(t=Ts)||void 0===t?void 0:t.empty_barrier()}:{is_ok:/^[+-]?\d+(\.\d+)?$/.test(e)}},Cs=e=>!/[`~!@#$%^&*)(_=+[}{\]\\/";:?><|]+/.test(e),As=(e,t)=>{var r;return null===(r=t.regex)||void 0===r?void 0:r.test(e)},xs=e=>!!e,Es=e=>!/p[.\s]+o[.\s]+box/i.test(e),js=e=>8===e.trim().length,Os=e=>/[^\dX\s]/.test(e),Ss=e=>/(^\d{4})\s(\d{2}X{2})\s(X{4})\s(\d{4}$)/.test(e),Fs=e=>(null==e?void 0:e.type)&&/(image|application)\/(jpe?g|pdf|png)$/.test(null==e?void 0:e.type),ks=e=>/^(?=.*[!@#$%^&*()+\-=[\]{};':"|,.<>/?_~])[ -~]{8,16}$/.test(e);let Ps,Ts;const Ns=(e,t)=>"float"===t.type?+e>Number(t.max):1===Z(e,t.max),Ls=(e,t)=>{const r=I(t);let o=null;if(r.allow_empty&&0===e.length)return{is_ok:!0};let n=!0;if("min"in r&&"function"==typeof r.min&&(r.min=r.min()),"max"in r&&"function"==typeof r.max&&(r.max=r.max()),!("float"===r.type?/^\d*(\.\d+)?$/:/^\d+$/).test(e)||isNaN(+e))n=!1,o=Ts.number();else if("min"in r&&"max"in r&&+r.min==+r.max&&+e!=+r.min)n=!1,o=Ts.value(Wn(r.min,r.decimals));else if("min"in r&&"max"in r&&r.min>0&&(+e<+r.min||Ns(+e,r))){n=!1;const e=Wn(r.min,r.decimals),t=Wn(r.max,r.decimals);o=Ts.betweenMinMax(e,t)}else if("float"===r.type&&r.decimals&&!new RegExp(`^\\d+(\\.\\d{0,${r.decimals}})?$`).test(e))n=!1,o=Ts.decimalPlaces(r.decimals);else if("min"in r&&+e<+r.min){n=!1;const e=Wn(r.min,r.decimals);o=Ts.minNumber(e)}else if("max"in r&&Ns(+e,r)){n=!1;const e=Wn(r.max,r.decimals);o=Ts.maxNumber(e)}return{is_ok:n,message:o}},Is=e=>{Ps||(Ts=e,Ps={address:{func:_s,message:Ts.address},barrier:{func:ws,message:Ts.barrier},email:{func:ys,message:Ts.email},general:{func:Cs,message:Ts.general},length:{func:bs,message:""},name:{func:gs,message:Ts.name},number:{func:(...e)=>{const[t,r]=e;return Ls(t,r)},message:Ts.number},password:{func:vs,message:Ts.password},phone:{func:ms,message:Ts.phone},po_box:{func:Es,message:Ts.po_box},postcode:{func:ps,message:Ts.postcode},regular:{func:As,message:""},req:{func:us,message:""},confirm:{func:xs,message:""},signup_token:{func:js,message:Ts.signup_token},tax_id:{func:hs,message:Ts.validTaxID}})},Bs=()=>Ps,Rs=()=>Ts;var Ms=r(725822),zs=r.n(Ms);const Us=(e,t)=>{const r={};return Object.entries(Ws(e,t)).forEach((([e,t])=>{r[e]=t.default_value})),r},Ws=(e,t)=>zs()(Object.entries(t).filter((([,t])=>t.supported_in.includes(e)))),$s=(e,t)=>{const r=e?Ws(e,t):t,o={};return Object.entries(r).forEach((([e,t])=>{o[e]=t.rules})),e=>{const t={};return Object.entries(e).forEach((([r,n])=>{var i;r in o&&(null===(i=o[r])||void 0===i||i.some((([o,i,a])=>!!Vs({field_name:r,value:n,rule:o,options:a,values:e})&&(t[r]="string"==typeof i?["error",i]:i,!0))))})),t}},Vs=({value:e,rule:t,options:r,values:o})=>!Hs(t)(e,r,o),Hs=e=>{var t,r;const o=null!==(t=null===(r=Bs()[e])||void 0===r?void 0:r.func)&&void 0!==t?t:e;if("function"!=typeof o)throw new Error(`validation rule ${e} not found. Available validations are: ${JSON.stringify(Object.keys(Bs()))}`);return(e,t,r)=>!!o(e,t,r)},Gs=e=>wr.UNEMPLOYED===e,Ys={address_details:{address_city:/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\t-\r '\x2D\.A-Za-z\xA0\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2000-\u200A\u2028\u2029\u202F\u205F\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3000\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]){0,99}$/,address_line_1:/^(?:[\t-\r #'-\),-;@-Za-z\xA0\xAA\xB0\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BEF\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D66-\u0D6F\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F29\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2000-\u200A\u2028\u2029\u202F\u205F\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3000\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC66-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]){1,70}$/,address_line_2:/^(?:[\t-\r #'-\),-;@-Za-z\xA0\xAA\xB0\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BEF\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D66-\u0D6F\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F29\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2000-\u200A\u2028\u2029\u202F\u205F\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3000\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC66-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]){0,70}$/,address_postcode:/^(?! )[a-zA-Z0-9\s-]{0,20}$/,address_state:/^[\w\s\W'.;,-]{0,99}$/}};const Ks=class{constructor(){this.errors=void 0,this.errors={}}add(e,t){this.has(e)||(this.errors[e]=[]),-1===this.errors[e].indexOf(t)&&this.errors[e].push(t)}all(){return this.errors}first(e){return this.has(e)?this.errors[e][0]:null}get(e){return this.has(e)?this.errors[e]:[]}has(e){return Object.prototype.hasOwnProperty.call(this.errors,e)}},qs=(e,t)=>{let r=t;return t&&!Array.isArray(t)&&(r=[t]),e.replace(/\[_(\d+)]/g,((e,t)=>r[+t-1]))};class Js{constructor(e,t,r){this.input=void 0,this.rules=void 0,this.store=void 0,this.errors=void 0,this.error_count=void 0,this.input=e,this.rules=t,this.store=r,this.errors=new Ks,this.error_count=0}addFailure(e,t,r){let o=r||t.options.message||Bs()[t.name].message();var n,i;if("length"===t.name)o=qs(o,[t.options.min===t.options.max?null!==(n=null===(i=t.options.min)||void 0===i?void 0:i.toString())&&void 0!==n?n:"":`${t.options.min}-${t.options.max}`]);else if("min"===t.name){var a,s;o=qs(o,[null!==(a=null===(s=t.options.min)||void 0===s?void 0:s.toString())&&void 0!==a?a:""])}else if("not_equal"===t.name){var c,l;o=qs(o,[null!==(c=t.options.name1)&&void 0!==c?c:"",null!==(l=t.options.name2)&&void 0!==l?l:""])}this.errors.add(e,o),this.error_count++}check(){return Object.keys(this.input).forEach((e=>{Object.prototype.hasOwnProperty.call(this.rules,e)&&this.rules[e].forEach((t=>{const r=Js.getRuleObject(t);if(!r.validator&&"function"!=typeof r.validator)return;if(r.options.condition&&!r.options.condition(this.store))return;if(""===this.input[e]&&"req"!==r.name)return;const o=r.validator(this.input[e],r.options,this.store,this.input);if("boolean"!=typeof o||o){if("object"==typeof o){const{is_ok:t,message:n}=o;t||this.addFailure(e,r,n)}}else this.addFailure(e,r)}))})),!this.error_count}isPassed(){return this.check()}static getRuleObject(e){const t="string"==typeof e,r=t?e:e[0],o=t?{}:e[1]||{};return{name:r,options:o,validator:"custom"===r?o.func:Bs()[r].func}}}const Zs=Js;var Xs=r(291218);const Qs="selecting",ec="idv",tc={submission_status:Qs,setSubmissionStatus:()=>Qs,submission_service:ec,setSubmissionService:()=>ec,selected_country:{},setSelectedCountry:()=>({})},rc=j.createContext(tc),oc=({children:e})=>{const[t,r]=j.useState(Qs),[o,n]=j.useState(ec),[i,a]=j.useState({}),s=(0,Xs.useLocation)(),c=j.useMemo((()=>({submission_status:t,setSubmissionStatus:r,submission_service:o,setSubmissionService:n,selected_country:i,setSelectedCountry:a})),[i,o,t]);return j.useEffect((()=>{r(Qs),n(ec),a({})}),[s.pathname]),(0,pe.jsx)(rc.Provider,{value:c,children:e})},nc={interval:null,responses:[],isTrackingResponses:!1,trackPageUnload:()=>{window.addEventListener("beforeunload",(e=>{nc.isPageViewSent()||nc.push("cached_analytics_page_views",{name:window.location.href,properties:{url:window.location.href}})}))},isReady:()=>{if(void 0===a.Analytics||null===a.Analytics)return!1;const e=null===a.Analytics||void 0===a.Analytics?void 0:a.Analytics.getInstances();return!(null==e||!e.tracking)},parseCookies:e=>{const t=document.cookie.split("; ").reduce(((e,t)=>{const[r,o]=t.split("=");return e[decodeURIComponent(r)]=decodeURIComponent(o),e}),{});try{return t[e]?JSON.parse(t[e]):null}catch(e){return null}},isPageViewSent:()=>!!nc.responses.find((e=>{var t,r;return"page"===(null===(t=e.payload)||void 0===t?void 0:t.type)&&(null===(r=e.payload)||void 0===r?void 0:r.anonymousId)})),set:e=>{nc.push("cached_analytics_events",e)},push:(e,t)=>{let r=[];const o=nc.parseCookies(e);o&&(r=o),r.push(t),document.cookie=`${e}=${JSON.stringify(r)}; path=/; Domain=.${(0,g.Wq)()};`},processEvent:e=>{var t;const r=Tt().get("client_information");if(r){const{email:t=null}=JSON.parse(r);t&&(e.properties.email=t)}if(null!=e&&null!==(t=e.properties)&&void 0!==t&&t.email){e.properties.email;delete e.properties.email}return e},track:(e,t)=>{const r=nc.processEvent(e);nc.isReady()&&!t?null===a.Analytics||void 0===a.Analytics||a.Analytics.trackEvent(r.name,r.properties):nc.set(r)},pageView:()=>{nc.isTrackingResponses||nc.trackPageUnload();let e=null;e=setInterval((()=>{const t=!!Tt().get("client_information"),r=Tt().get("signup_device");void 0!==a.Analytics&&"function"==typeof(null===a.Analytics||void 0===a.Analytics?void 0:a.Analytics.pageView)&&nc.isReady()&&(null===a.Analytics||void 0===a.Analytics||a.Analytics.pageView(window.location.href,"Deriv-App",{loggedIn:t,signup_device:r||"none"})),nc.isPageViewSent()&&clearInterval(e)}),1e3)},loadEvent:e=>(e.forEach((({event:e,cache:t})=>{const{name:r,properties:o}=e;nc.track({name:r,properties:o},t)})),nc),pageLoadEvent:e=>{const t=window.location.pathname.slice(1);return Array.isArray(e)?(e.forEach((({pages:e=[],excludedPages:r=[],event:o,callback:n=null})=>{let i=!1;if(e.length?e.includes(t)&&(i=!0):r.length&&r.includes(t)||(i=!0),i){const e=n?n():o;nc.loadEvent([{event:e}])}})),nc):nc},trackConsoleErrors:e=>{const t=console.error;console.error=function(...r){t.apply(console,r);const o=r.map((e=>e&&"object"==typeof e&&"message"in e?e.message:"object"==typeof e?JSON.stringify(e,((e,t)=>e.startsWith("__trackjs")?void 0:t)):String(e))).join(" ");"function"==typeof e&&e(o)}}},ic=nc},150518:(e,t,r)=>{"use strict";r.d(t,{jn:()=>s,Wt:()=>i,Wq:()=>l,oP:()=>n,bn:()=>a,zv:()=>c});const o=JSON.parse('{"lm":"Deriv.com","o5":{"fx":"Deriv (FX) Ltd","malta":"Deriv (Europe) Limited","maltainvest":"Deriv Investments (Europe) Limited","mx":"Deriv (MX) Ltd","samoa":"Deriv Capital International Ltd","svg":"Deriv (SVG) LLC","v":"Deriv (V) Ltd"},"Bn":{"trader":{"name":"Deriv Trader","icon":"IcRebrandingDerivTrader"},"dbot":{"name":"Deriv Bot","icon":"IcRebrandingDerivBot"},"mt5":{"name":"Deriv MT5","icon":"IcRebrandingDmt5"},"ctrader":{"name":"Deriv cTrader","icon":"IcRebrandingCtrader"},"dxtrade":{"name":"Deriv X","icon":"IcRebrandingDxtrade"},"smarttrader":{"name":"SmartTrader","icon":"IcRebrandingSmarttrader"},"go":{"name":"Deriv GO","icon":"IcRebrandingDerivGo"}},"g3":{"trader":{"name":"Deriv Trader","icon":"DTrader","availability":"All"},"dbot":{"name":"Deriv Bot","icon":"DBot","availability":"Non-EU"},"smarttrader":{"name":"SmartTrader","icon":"SmartTrader","availability":"Non-EU"},"go":{"name":"Deriv GO","icon":"DerivGo","availability":"Non-EU"},"ctrader":{"name":"","icon":"","availability":""}}}'),n=e=>o.o5[e],i=()=>o.lm,a=e=>{const t=o.Bn[e];var r;return r=window.location.host,/^(((.*)\.)?(localhost:8443|pages.dev|binary\.(sx|com)|deriv.(com|me|be|dev)))$/.test(r)||(t.icon=""),t},s=()=>{const e=o.g3;return Object.keys(e).map((t=>e[t]))},c=e=>o.g3[e],l=()=>{const e=window.location.hostname.split(".");if(e.length>=2){return`${e[e.length-2]}.${e[e.length-1]}`}return""}},722568:(e,t,r)=>{"use strict";r.d(t,{Du:()=>l,GD:()=>m,IX:()=>_,J3:()=>h,JT:()=>c,KV:()=>u,Pg:()=>a,R7:()=>p,Tn:()=>d,Yp:()=>s,Zr:()=>i,h5:()=>f});var o=r(536640),n=r(590734);const i=12049137,a="66aa088aad5a414484c1fd1fa8a5ace7",s={"deriv.app":16929,"app.deriv.com":16929,"staging-app.deriv.com":16303,"app.deriv.me":1411,"staging-app.deriv.me":1411,"app.deriv.be":30767,"staging-app.deriv.be":31186,"binary.com":1,"test-app.deriv.com":51072},c={derivgo:23789},l=()=>!/^staging\./.test(window.location.hostname)&&Object.keys(s).find((e=>window.location.hostname===e)),u=()=>{const e=Object.keys(s).map((e=>`(www\\.)?${e.replace(".","\\.")}`));return new RegExp(`^(${e.join("|")})$`,"i").test(window.location.hostname)},d=()=>/^((.*)\.binary\.sx)$/i.test(window.location.hostname),_=()=>/localhost(:\d+)?$/i.test(window.location.hostname),p=()=>{let e=null;const t=window.localStorage.getItem("config.app_id"),r=l()||"";window.localStorage.removeItem("config.platform");const i=window.sessionStorage.getItem("config.platform"),a=(0,o.w2)();return i&&c[i]?e=c[i]:t?e=t:(0,n.YG)()?(window.localStorage.removeItem("config.default_app_id"),e=a?19112:s[r]||16303):/localhost/i.test(window.location.hostname)?e=36300:(window.localStorage.removeItem("config.default_app_id"),e=a?19111:s[r]||16929),e},h=(e=!1)=>{const t=window.localStorage.getItem("config.server_url");if(t)return t;let r;if(window.location.search){r=new URLSearchParams(document.location.search.substring(1)).get("acct1")}const o=(e?window.sessionStorage.getItem("active_wallet_loginid")||window.localStorage.getItem("active_wallet_loginid"):window.sessionStorage.getItem("active_loginid")||window.localStorage.getItem("active_loginid"))||r;return`${o&&!/^(VRT|VRW)/.test(o)?"green":"blue"}.derivws.com`},m=()=>{if(d()){const e=new URLSearchParams(location.search.slice(1));if(e.has("qa_server")&&e.has("app_id")){const t=e.get("qa_server")||"",r=e.get("app_id")||"";e.delete("qa_server"),e.delete("app_id"),/^(^(www\.)?qa[0-9]{1,4}\.deriv.dev|(.*)\.derivws\.com)$/.test(t)&&/^[0-9]+$/.test(r)&&(localStorage.setItem("config.app_id",r),localStorage.setItem("config.server_url",t));const o=e.toString(),n=location.hash;return location.href=`${location.protocol}//${location.hostname}${location.pathname}${o?`?${o}`:""}${n||""}`,!0}}return!1},f=()=>{const e=window.localStorage.getItem("debug_service_worker");return!!e&&!!parseInt(e)}},485365:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});const o=(0,r(722568).KV)()?["ID","MN"]:["MN"]},197186:e=>{const t=function(){function e(e,t){return null!=t&&e instanceof t}let t,r,o;try{t=Map}catch(e){t=function(){}}try{r=Set}catch(e){r=function(){}}try{o=Promise}catch(e){o=function(){}}function n(i,s,c,l,u){"object"==typeof s&&(c=s.depth,l=s.prototype,u=s.includeNonEnumerable,s=s.circular);const d=[],_=[],p="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===c&&(c=1/0),function i(c,h){if(null===c)return null;if(0===h)return c;let m,f;if("object"!=typeof c)return c;if(e(c,t))m=new t;else if(e(c,r))m=new r;else if(e(c,o))m=new o((function(e,t){c.then((function(t){e(i(t,h-1))}),(function(e){t(i(e,h-1))}))}));else if(n.__isArray(c))m=[];else if(n.__isRegExp(c))m=new RegExp(c.source,a(c)),c.lastIndex&&(m.lastIndex=c.lastIndex);else if(n.__isDate(c))m=new Date(c.getTime());else{if(p&&Buffer.isBuffer(c))return Buffer.from?m=Buffer.from(c):(m=new Buffer(c.length),c.copy(m)),m;e(c,Error)?m=Object.create(c):void 0===l?(f=Object.getPrototypeOf(c),m=Object.create(f)):(m=Object.create(l),f=l)}if(s){const e=d.indexOf(c);if(-1!=e)return _[e];d.push(c),_.push(m)}for(var g in e(c,t)&&c.forEach((function(e,t){const r=i(t,h-1),o=i(e,h-1);m.set(r,o)})),e(c,r)&&c.forEach((function(e){const t=i(e,h-1);m.add(t)})),c){if(Object.getOwnPropertyDescriptor(c,g)){if(Object.keys(c).indexOf(g)<0)continue;m[g]=i(c[g],h-1)}try{if("undefined"===Object.getOwnPropertyDescriptor(c,g).set)continue;m[g]=i(c[g],h-1)}catch(e){if(e instanceof TypeError)continue;if(e instanceof ReferenceError)continue}}if(Object.getOwnPropertySymbols){const e=Object.getOwnPropertySymbols(c);for(g=0;g<e.length;g++){const t=e[g];(!(b=Object.getOwnPropertyDescriptor(c,t))||b.enumerable||u)&&(m[t]=i(c[t],h-1),Object.defineProperty(m,t,b))}}if(u){const e=Object.getOwnPropertyNames(c);for(g=0;g<e.length;g++){const t=e[g];var b;(b=Object.getOwnPropertyDescriptor(c,t))&&b.enumerable||(m[t]=i(c[t],h-1),Object.defineProperty(m,t,b))}}return m}(i,c)}function i(e){return Object.prototype.toString.call(e)}function a(e){let t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return n.clonePrototype=function(e){if(null===e)return null;const t=function(){};return t.prototype=e,new t},n.__objToStr=i,n.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},n.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},n.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},n.__getRegExpFlags=a,n}();e.exports&&(e.exports=t)},536640:(e,t,r)=>{"use strict";r.d(t,{$_:()=>s,cC:()=>g,Hm:()=>m,Kv:()=>f,Qj:()=>b,w2:()=>c,l2:()=>u,oS:()=>w,gk:()=>D,hB:()=>l,Zz:()=>d,XM:()=>y,ZJ:()=>_,NZ:()=>p,uc:()=>v,JS:()=>h,i2:()=>a});var o=r(281476),n=r(150518),i=r(326876);const a=Object.freeze({DBot:(0,n.bn)("dbot").name,DTrader:(0,n.bn)("trader").name,DXtrade:(0,n.bn)("dxtrade").name,DMT5:(0,n.bn)("mt5").name,SmartTrader:(0,n.bn)("smarttrader").name,DerivGO:(0,n.bn)("go").name}),s=Object.freeze({MT5:"mt5",DXTRADE:"dxtrade",CTRADER:"ctrader"}),c=()=>/^\/bot/.test(window.location.pathname)||/^\/(br_)/.test(window.location.pathname)&&"bot"===window.location.pathname.split("/")[2],l=()=>/^\/mt5/.test(window.location.pathname)||/^\/(br_)/.test(window.location.pathname)&&window.location.pathname.split("/")[2]===s.MT5,u=()=>/^\/derivx/.test(window.location.pathname)||/^\/(br_)/.test(window.location.pathname)&&"derivx"===window.location.pathname.split("/")[2],d=()=>"derivgo"===window.sessionStorage.getItem("config.platform"),_=()=>"dp2p"===window.sessionStorage.getItem("config.platform"),p=()=>"p2p-v2"===window.sessionStorage.getItem("config.platform"),h=()=>"tradershub_os"===window.sessionStorage.getItem("config.platform"),m=()=>{if(c())return a.DBot;if(l())return a.DMT5;if(u())return a.DXtrade;switch(window.location.pathname.split("/")[1]){case"":return a.DTrader;case"reports":return"Reports";case"cashier":return"Cashier";default:return a.SmartTrader}},f=e=>c()||v(e,i.JZ.bot)?{header:a.DBot,icon:(0,n.bn)("dbot").icon}:l()||v(e,i.JZ.mt5)?{header:a.DMT5,icon:(0,n.bn)("mt5").icon}:u()||v(e,i.JZ.dxtrade)?{header:a.DXtrade,icon:(0,n.bn)("dxtrade").icon}:y(e,i.JZ.smarttrader)?{header:a.SmartTrader,icon:(0,n.bn)("smarttrader").icon}:{header:a.DTrader,icon:(0,n.bn)("trader").icon},g=e=>{switch(!0){case y(e,i.JZ.smarttrader):return a.SmartTrader;case v(e,"/"):return"";default:return a.DTrader}},b=e=>c()||v(e,i.JZ.bot)?{name:a.DBot,route:i.JZ.bot}:l()||v(e,i.JZ.mt5)?{name:a.DMT5,route:i.JZ.mt5}:u()||v(e,i.JZ.dxtrade)?{name:a.DXtrade,route:i.JZ.dxtrade}:y(e,i.JZ.smarttrader)?{name:a.SmartTrader,route:i.JZ.smarttrader}:p()?{name:"P2P",ref:"p2p_v2",route:i.JZ.cashier_p2p}:y(e,i.JZ.cashier_p2p)?{name:"P2P",route:i.JZ.cashier_p2p}:_()?{name:"P2P",route:i.JZ.cashier_p2p,ref:"p2p"}:{name:a.DTrader,route:i.JZ.trade},v=(e,t,r=!1)=>{if(e.length>0){const o=e=>!/^http/.test(e)&&e.split("/")[1];for(let n=0;n<e.length;n++){const a=e[n],s=o(a.pathname),c=e.length>n+1&&e[n+1];if(s===o(t)||r&&a.pathname===t)return!0;if(!c)return!1;if(s!==o(c.pathname)){if([i.JZ.mt5,i.JZ.dxtrade,i.JZ.bot,i.JZ.trade].map((e=>o(e))).includes(s))break}}}return!1},y=(e,t)=>{const r=e.findIndex((e=>e.pathname===t)),o=e.findIndex((e=>e.pathname===i.JZ.trade));return!(-1===r)&&(!(-1!==o)||r<o)},D=e=>{var t,r;const n=null===o.Analytics||void 0===o.Analytics?void 0:o.Analytics.getFeatureValue("dtrader_v2_enabled",!1);return((null===(t=JSON.parse(null!==(r=localStorage.getItem("FeatureFlagsStore"))&&void 0!==r?r:"{}"))||void 0===t||null===(t=t.data)||void 0===t?void 0:t.dtrader_v2_mobile)||n)&&e&&(window.location.pathname.startsWith(i.JZ.trade)||window.location.pathname.startsWith("/contract/"))},w=e=>{var t,r;const n=null===o.Analytics||void 0===o.Analytics?void 0:o.Analytics.getFeatureValue("dtrader_v2_enabled_desktop",!1);return((null===(t=JSON.parse(null!==(r=localStorage.getItem("FeatureFlagsStore"))&&void 0!==r?r:"{}"))||void 0===t||null===(t=t.data)||void 0===t?void 0:t.dtrader_v2_desktop)||n)&&e&&(window.location.pathname.startsWith(i.JZ.trade)||window.location.pathname.startsWith("/contract/"))}},326876:(e,t,r)=>{"use strict";r.d(t,{JZ:()=>o.routes,R0:()=>o.isDisabledLandscapeBlockerRoute,YP:()=>o.ACCOUNTS_OS_DFA_URL,hl:()=>o.DISABLE_LANDSCAPE_BLOCKER_ROUTES,tQ:()=>o.ACCOUNTS_OS_POI_URL,vl:()=>o.ACCOUNTS_OS_POA_URL,w1:()=>o.ACCOUNTS_OS_POI_STATUS_URL});var o=r(119180)},119180:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ACCOUNTS_OS_DFA_URL:()=>u,ACCOUNTS_OS_POA_URL:()=>l,ACCOUNTS_OS_POI_STATUS_URL:()=>c,ACCOUNTS_OS_POI_URL:()=>s,DISABLE_LANDSCAPE_BLOCKER_ROUTES:()=>i,isDisabledLandscapeBlockerRoute:()=>a,routes:()=>n});const o=()=>{const e=window.location.hostname;return e.includes(".deriv.be")?"deriv.be":e.includes(".deriv.me")?"deriv.me":"deriv.com"},n={callback_page:"/callback",reset_password:"/",error404:"/404",index:"/index",redirect:"/redirect",endpoint:"/endpoint",complaints_policy:"/complaints-policy",contract:"/contract/:contract_id",mt5:"/mt5",dxtrade:"/derivx",bot:"/bot",trade:"/dtrader",trader_positions:"/dtrader/positions",smarttrader:(0,r(590734).lE)(),account:"/account",trading_assessment:"/account/trading-assessment",languages:"/account/languages",financial_assessment:"/account/financial-assessment",personal_details:"/account/personal-details",proof_of_identity:"/account/proof-of-identity",proof_of_address:"/account/proof-of-address",proof_of_ownership:"/account/proof-of-ownership",proof_of_income:"/account/proof-of-income",passwords:"/account/passwords",passkeys:"/account/passkeys",phone_verification:"/account/personal-details/phone-verification",closing_account:"/account/closing-account",deactivate_account:"/account/deactivate-account",account_closed:"/account-closed",account_limits:"/account/account-limits",connected_apps:"/account/connected-apps",api_token:"/account/api-token",login_history:"/account/login-history",two_factor_authentication:"/account/two-factor-authentication",self_exclusion:"/account/self-exclusion",settings:"/settings",account_password:"/settings/account_password",apps:"/settings/apps",cashier_password:"/settings/cashier_password",exclusion:"/settings/exclusion",financial:"/settings/financial",history:"/settings/history",limits:"/settings/limits",token:"/settings/token",personal:"/settings/personal",reports:"/reports",positions:"/reports/positions",profit:"/reports/profit",statement:"/reports/statement",cashier:"/cashier",cashier_deposit:"/cashier/deposit",cashier_withdrawal:"/cashier/withdrawal",cashier_pa:"/cashier/payment-agent",cashier_acc_transfer:"/cashier/account-transfer",cashier_transactions_crypto:"/cashier/crypto-transactions",cashier_onramp:"/cashier/on-ramp",cashier_p2p:"/cashier/p2p",cashier_pa_transfer:"/cashier/payment-agent-transfer",p2p_verification:"/cashier/p2p/verification",p2p_buy_sell:"/cashier/p2p/buy-sell",p2p_orders:"/cashier/p2p/orders",p2p_my_ads:"/cashier/p2p/my-ads",p2p_my_profile:"/cashier/p2p/my-profile",p2p_advertiser_page:"/cashier/p2p/advertiser",old_traders_hub:"/appstore/traders-hub",traders_hub:"/",onboarding:"/onboarding",compare_cfds:"/cfd-compare-accounts",wallets:"/wallet",wallets_deposit:"/wallet/deposit",wallets_withdrawal:"/wallet/withdrawal",wallets_transfer:"/wallet/account-transfer",wallets_transactions:"/wallet/transactions",wallets_compare_accounts:"/compare-accounts",wallets_on_ramp:"/wallet/on-ramp",wallets_reset_balance:"/wallet/reset-balance",os_redirect:"/os-redirect"},i=[n.trade,n.onboarding,n.compare_cfds,n.reports,n.bot,n.account,n.endpoint,n.wallets,n.wallets_compare_accounts,n.cashier,"/contract"],a=e=>e===n.traders_hub||i.some((t=>e.startsWith(t))),s=`https://hub.${o()}/Accounts/ProofOfIdentity`,c=`https://hub.${o()}/Accounts/ProofOfIdentityStatus`,l=`https://hub.${o()}/Accounts/ProofOfAddress`,u=`https://hub.${o()}/Accounts/UserFinancialAssessment`},682274:(e,t,r)=>{"use strict";r.d(t,{G:()=>s,R:()=>c});const o="deriv.com",n=[o,"deriv.me","deriv.be"],i="undefined"!=typeof window&&window.location.hostname.split("app.")[1]||"",a=n.includes(i)?i:o,s=Object.freeze({DERIV_HOST_NAME:a,DERIV_COM_PRODUCTION:`https://${a}`,DERIV_COM_PRODUCTION_EU:`https://eu.${a}`,DERIV_COM_STAGING:`https://staging.${a}`,DERIV_APP_PRODUCTION:`https://app.${a}`,DERIV_APP_STAGING:`https://staging-app.${a}`,HUB_PRODUCTION:`https://hub.${a}/tradershub`,HUB_STAGING:`https://staging-hub.${a}/tradershub`,SMARTTRADER_PRODUCTION:`https://smarttrader.${a}`,SMARTTRADER_STAGING:`https://staging-smarttrader.${a}`,P2P_PRODUCTION:`https://p2p.${a}`,P2P_STAGING:`https://staging-p2p.${a}`,BOT_PRODUCTION:`https://dbot.${a}`,BOT_STAGING:`https://staging-dbot.${a}`}),c="https://wa.me/35699578341"},590734:(e,t,r)=>{"use strict";r.d(t,{Kt:()=>_,PR:()=>p,WP:()=>m,Xz:()=>d,YG:()=>h,ci:()=>l,lE:()=>u,ui:()=>c,yo:()=>f});var o=r(294035),n=r(682274);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=()=>{const e=window.location.search;return new URLSearchParams(e).get("lang")},l=()=>{const e=window.location.search;return new URLSearchParams(e).get("action")},u=()=>{const{is_staging_deriv_app:e}=p(),t=o.Sp.getValue("i18n_language"),r=o.vk.getQueryParameter("lang"),i=t||r||"en";let a="";return a=e?n.G.SMARTTRADER_STAGING:n.G.SMARTTRADER_PRODUCTION,`${a}/${i.toLowerCase()}/trading.html`},d=()=>{const{is_staging_deriv_app:e}=p(),t=o.Sp.getValue("i18n_language"),r=o.vk.getQueryParameter("lang"),i=t||r||"en";let a="";a=e?n.G.BOT_STAGING:n.G.BOT_PRODUCTION;return`${a}?lang=${i.toLowerCase()}`},_=(e=!0)=>{const{is_staging_deriv_app:t}=p(),r=o.Sp.getValue("i18n_language"),i=o.vk.getQueryParameter("lang"),a=r||i||"en",s=t?n.G.P2P_STAGING:n.G.P2P_PRODUCTION;return e?`${s}/?l=${a.toLowerCase()}`:s},p=(e=window.location.hostname)=>{const t={is_staging_deriv_app:/^staging-app\.deriv\.(com|me|be)$/i.test(e),is_deriv_app:/^app\.deriv\.(com|me|be)$/i.test(e),is_test_link:/^(.*)\.binary\.sx$/i.test(e),is_test_deriv_app:/^test-app\.deriv\.com$/i.test(e)};return a(a({},t),{},{is_staging:t.is_staging_deriv_app,is_test_link:t.is_test_link})},h=(e=window.location.hostname)=>{const{is_staging_deriv_app:t}=p(e);return t},m=(e=window.location.hostname)=>{const{is_test_deriv_app:t}=p(e);return t},f=e=>{const{pathname:t,search:r}=window.location,o=new URLSearchParams(r);o.get("action")===e&&o.delete("action");const n=o.toString(),i=`${t}${n?`?${n}`:""}`;window.history.pushState({},"",i)}},372858:(e,t,r)=>{"use strict";r.d(t,{$w:()=>b,Fd:()=>m,G$:()=>y,I8:()=>w,IK:()=>g,J9:()=>_,M5:()=>j,P2:()=>A,TF:()=>D,YG:()=>C,YQ:()=>E,Yn:()=>x,aE:()=>S,cL:()=>p,dk:()=>f,gx:()=>O,sr:()=>d,ts:()=>v,tz:()=>h});var o=r(682274),n=r(590734),i=r(722568),a=r(326876);const s="binary.com",c={"bot.binary.com":"www.binary.bot","developers.binary.com":"developers.binary.com","academy.binary.com":"academy.binary.com","blog.binary.com":"blog.binary.com"};let l,u;const d=(e,t=window.location.href)=>t.replace(new RegExp(`/${u}/`,"i"),`/${(e||"EN").trim().toLowerCase()}/`),_=(e,t=window.location.href)=>{const r=new URL(t);return"EN"===e?r.searchParams.delete("lang"):r.searchParams.set("lang",e),`${r}`},p=()=>{var e,t;l=null!==(e=null===(t=window)||void 0===t?void 0:t.location)&&void 0!==e?e:l},h=e=>{const t=[],r=((e?new URL(e):l).search||"").substr(1).split("&");let o=r.length;for(;o--;){const e=r[o].split("=");t.push(e)}return t},m=e=>e?e.replace(/(^\/|\/$|[^a-zA-Z0-9-_./()#])/g,""):"",f=(e,t={query_string:void 0,legacy:!1,language:void 0})=>{var r,o;const{legacy:i,language:a,query_string:s}=t;if(i&&/^bot$/.test(e))return`https://${c["bot.binary.com"]}`;const l=null!==(r=null==a||null===(o=a.toLowerCase)||void 0===o?void 0:o.call(a))&&void 0!==r?r:u;let p=`https://${window.location.hostname}/`;i&&(p=(0,n.PR)().is_staging_deriv_app?p.replace(/staging-app\.deriv\.com/,`staging.binary.com/${l||"en"}`):(0,n.PR)().is_deriv_app?p.replace(/app\.deriv\.com/,`binary.com/${l||"en"}`):`https://binary.com/${l||"en"}/`);const h=`${p}${m(e)||"home"}.html${s?`?${s}`:""}`;return l&&!i?_(l,h):i?d(l,h):h},g=e=>{const t=(0,i.Du)();if(!t)return e;const r=new URL(e);if(Object.keys(c).includes(r.hostname))r.hostname=c[r.hostname];else{if(!r.hostname.match(s))return e;r.hostname=r.hostname.replace(new RegExp(`\\.${s}`,"i"),`.${t}`)}return r.href},b=()=>`${location.protocol}//${location.hostname}/`,v=(e="")=>{const t=window.location;return/^\/(br_)/.test(t.pathname)?`/${t.pathname.split("/")[1]}${/^\//.test(e)?e:`/${e}`}`:e},y=(e="")=>e.replace(/^\/br_.*?\//,"/"),D=()=>c,w=e=>{u=e},C=(e="",t=!1,r=!1)=>{var n;const i=r?o.G.DERIV_COM_PRODUCTION_EU:o.G.DERIV_COM_PRODUCTION;let a=null===(n=u)||void 0===n?void 0:n.toLowerCase();return a=a&&"en"!==a?`/${a}`:"",t?`${i}/${m(e)}`:(i===o.G.DERIV_COM_PRODUCTION&&a.includes("_")&&(a=a.replace("_","-")),`${i}${a}/${m(e)}`)},A=e=>{var t;return`${o.G.HUB_PRODUCTION}/signup${`?lang=${(null===(t=u)||void 0===t?void 0:t.toLowerCase())||"en"}`}${e?`&redirect_url=${encodeURIComponent(e)}`:""}`},x=(e,t={})=>Object.keys(t).reduce(((e,r)=>e.replace(`:${r}`,t[r])),e),E=e=>x(a.JZ.contract,{contract_id:e}),j=(e,t)=>{const r=[...new URLSearchParams(e)].filter((e=>t.includes(e[0])));return new URLSearchParams(r||"").toString()},O=(e,t)=>{const r=[...new URLSearchParams(e)].filter((([e])=>!t.includes(e)));return r.length?`?${new URLSearchParams(r).toString()}`:""},S=()=>{const e=window.location.hostname;return e.includes(".deriv.be")?"deriv.be":e.includes(".deriv.me")?"deriv.me":"deriv.com"}},69141:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var o=r(286326),n=r(961946),i=r(959259),a=r(592129),s=r(836870);const c=["data","subscribe"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const _=({children:e})=>{const t=(0,n.A)("p2p_settings"),{data:r,subscribe:l}=t,d=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(t,c),{isSubscribed:_,unsubscribe:p}=d,[h,m]=(0,a.Mj)("p2p_settings",{});return o.useEffect((()=>{if(r){var e;const t=r.p2p_settings;if(!t)return;const o=()=>{if(null==t||!t.fixed_rate_adverts_end_date)return!1;return new Date((new Date).getTime()).setUTCHours(23,59,59,999)>new Date(new Date(null==t?void 0:t.fixed_rate_adverts_end_date).getTime()).setUTCHours(23,59,59,999)},n=t.local_currencies.map((e=>{const{display_name:t,has_adverts:r,is_default:o,symbol:n}=e;return{display_name:t,has_adverts:r,is_default:o,text:n,value:n}}));m(u(u({},t),{},{currency_list:n,float_rate_offset_limit_string:(null==t||null===(e=t.float_rate_offset_limit)||void 0===e||null===(e=e.toString().split("."))||void 0===e||null===(e=e[1])||void 0===e?void 0:e.length)>2?((null==t?void 0:t.float_rate_offset_limit)-.005).toFixed(2):null==t?void 0:t.float_rate_offset_limit.toFixed(2),is_cross_border_ads_enabled:Boolean(null==t?void 0:t.cross_border_ads_enabled),is_disabled:Boolean(null==t?void 0:t.disabled),is_payment_methods_enabled:Boolean(null==t?void 0:t.payment_methods_enabled),order_payment_period_string:(60*(null==t?void 0:t.order_payment_period)).toString(),rate_type:"enabled"===(null==t?void 0:t.float_rate_adverts)?"float":"fixed",reached_target_date:o()}))}return()=>{_&&p()}}),[r,_,m,p]),(0,s.jsx)(i.A.Provider,{value:{p2p_settings:h,subscribe:l,rest:d},children:e})}},800746:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const o=(0,r(286326).createContext)(null)},285585:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var o=r(286326),n=r(800746),i=r(351447),a=r(979268);class s{constructor(e,t){this.data=void 0,(0,i.makeObservable)(this,{data:i.observable,update:i.action.bound,unmount:i.action.bound}),(0,a.pu)(this,{name:e,properties:["data"],storage:window.localStorage}).then((()=>null==t?void 0:t()))}update(e){this.data=e instanceof Function?e(this.data):e}unmount(){(0,a.xC)(this)}}const c={dtrader_v2_mobile:!1,dtrader_v2_desktop:!1,next_qs:!1,sharkfin:!1,wallet:!1};class l extends s{constructor(){l.instance&&l.instance.cleanup(),super("FeatureFlagsStore",(()=>{this.data||this.update(c),this.data&&Object.keys(this.data).length!==Object.keys(c).length&&this.update((e=>{const t=c;return Object.keys(c).forEach((r=>{void 0!==e[r]&&(t[r]=e[r])})),t}))})),this.data=c,l.instance=this}cleanup(){this.unmount()}}l.instance=null;var u=r(836870);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=({children:e,store:t})=>{const r=(0,o.useMemo)((()=>"is_mock"in t&&t.is_mock?t:_(_({},t),{},{feature_flags:new l})),[t]);return(0,o.useEffect)((()=>()=>{Object.values(r).forEach((e=>{"object"==typeof e&&"unmount"in e&&e.unmount()}))}),[r]),(0,u.jsx)(n.A.Provider,{value:r,children:e})}},959259:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const o=(0,r(286326).createContext)(null)},414646:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(286326),n=r(800746);const i=()=>{const e=(0,o.useContext)(n.A);if(!e)throw new Error("useStore must be used within StoreProvider");return e}},33118:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Localize:()=>N,changeLanguage:()=>T,getAllLanguages:()=>E,getAllowedLanguages:()=>D,getInitialLanguage:()=>j,getLanguage:()=>P,getRedirectionLanguage:()=>x,initializeTranslations:()=>k,localize:()=>L});var o=r(870864),n=r(712279),i=r(634172),a=r(722568),s=r(485365),c=r(597598),l=r.n(c),u=(r(286326),r(380035)),d=r(836870);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=({i18n_default_text:e,values:t,components:r,options:o,i18n:n,shouldUnescape:i})=>(0,d.jsx)(u.x,{i18n:n,defaults:e,values:t,components:r,tOptions:o,shouldUnescape:i});h.propTypes={components:l().arrayOf(l().node),i18n:l().object.isRequired,i18n_default_text:l().string,options:l().object,values:l().object,shouldUnescape:l().bool};const m=e=>t=>(0,d.jsx)(h,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({i18n:e},t));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const b="i18n_language",v="EN",y=Object.freeze({ACH:"Translations",AR:"العربية",EN:"English",ES:"Español",BN:"বাংলা",DE:"Deutsch",FR:"Français",ID:"Indonesian",IT:"Italiano",KM:"ខ្មែរ",KO:"한국어",PL:"Polish",PT:"Português",SW:"Kiswahili",RU:"Русский",SI:"සිංහල",TR:"Türkçe",UZ:"O'zbek",VI:"Tiếng Việt",ZH_CN:"简体中文",ZH_TW:"繁體中文",TH:"ไทย"}),D=()=>{const e=["ACH",...s.U];let t=Object.keys(E()).filter((t=>!e.includes(t))).reduce(((e,t)=>(e[t]=E()[t],e)),{});return(0,a.KV)()&&(t={EN:"English",AR:"العربية",ES:"Español",BN:"বাংলা",DE:"Deutsch",KM:"ខ្មែរ",KO:"한국어",PT:"Português",PL:"Polish",SW:"Kiswahili",RU:"Русский",FR:"Français",IT:"Italiano",SI:"සිංහල",TH:"ไทย",TR:"Türkçe",UZ:"O'zbek",VI:"Tiếng Việt",ZH_CN:"简体中文",ZH_TW:"繁體中文"}),t},w=()=>/staging-app\.deriv\.com/i.test(window.location.hostname),C=()=>/localhost(:\d+)?$/i.test(window.location.hostname),A=e=>{if(!e)return!1;const t=e.toUpperCase();return"ACH"===t?w()||C():Object.keys(D()).includes(t)},x=(e,t=!1)=>{var r;const o=new URLSearchParams(window.location.search).get("lang");return null!==(r=o&&A(o)&&!t?o:e)&&void 0!==r?r:v},E=()=>y,j=()=>{const e=new URLSearchParams(window.location.search).get("lang"),t=(e=>{const t=localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}})(b);if(e){const t=e.toUpperCase();if(A(t))return localStorage.setItem(b,t),t}return t&&A(t)?t:v},O=async e=>{if(!n.Ay.hasResourceBundle(e,"translations")&&e.toUpperCase()!==v){const t=await r(153546)(`./${e.toLowerCase()}.json`);n.Ay.addResourceBundle(e,"translations",t),document.documentElement.setAttribute("lang",e)}},S=j(),F={react:{hashTransKey:e=>(0,o.str)(null!=e?e:""),useSuspense:!1},lng:S,fallbackLng:"EN",ns:["translations"],defaultNS:"translations"};n.Ay.use(i.r9).init(F);const k=async()=>{(w()||C())&&I(),await O(S)},P=()=>n.Ay.language||S,T=async(e,t)=>{A(e)&&(await O(e),await n.Ay.changeLanguage(e,(()=>{localStorage.setItem(b,e),t(e)})))},N=m(n.Ay),L=(e,t)=>e?n.Ay.t((0,o.str)(e).toString(),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({defaultValue:e},t)):"",I=()=>{if("ACH"===P().toUpperCase()){const e=document.createElement("script");e.type="text/javascript",e.text="\n            var _jipt = []; _jipt.push(['project', 'deriv-app']);\n            var crowdin = document.createElement(\"script\");\n            crowdin.setAttribute('src', '//cdn.crowdin.com/jipt/jipt.js');\n            document.head.appendChild(crowdin);\n        ",document.head.appendChild(e)}}},978513:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Chat:()=>O,epochToMoment:()=>M,getAccountListWithAuthToken:()=>n,getAccountsFromLocalStorage:()=>o,getActiveAccounts:()=>B,getActiveAuthTokenIDFromLocalStorage:()=>a,getActiveLoginIDFromLocalStorage:()=>i,getFeatureFlag:()=>E,getLocalStorage:()=>c,getLoginHistoryFormattedData:()=>A,getTmbToken:()=>F,getToken:()=>u,getTruncatedString:()=>b,getWalletCurrencyIcon:()=>l,groupTransactionsByDay:()=>g,isExternalLink:()=>R,isTmbEnabled:()=>P,logError:()=>H,renameFile:()=>U,safeParse:()=>s,toMoment:()=>z,unFormatLocaleString:()=>v});const o=()=>{const e=localStorage.getItem("client.accounts");if(e)return JSON.parse(e)},n=e=>{const t=o();return null==e?void 0:e.filter((e=>{var r;if("object"==typeof e&&null!==e&&"loginid"in e&&"is_disabled"in e)return Boolean(null==t||null===(r=t[e.loginid])||void 0===r?void 0:r.token)||Boolean(e.is_disabled)}))},i=(e="active_loginid")=>{const t=sessionStorage.getItem(e)||localStorage.getItem(e);return null!=t?t:void 0},a=e=>{var t;const r=o(),n=i(e);if(n&&r)return null===(t=r[n])||void 0===t?void 0:t.token},s=e=>{try{return JSON.parse(e)}catch(t){return e}},c=e=>{const t=localStorage.getItem(e);return t?s(t):null},l=(e,t=!1,r=!1)=>{switch(e){case"demo":return r?"IcWalletDerivDemoLight":t?"IcWalletDerivDemoDark":"IcWalletDerivDemoLight";case"USD":return"IcWalletCurrencyUsd";case"EUR":return"IcWalletCurrencyEur";case"AUD":return"IcWalletCurrencyAud";case"GBP":return"IcWalletCurrencyGbp";case"BTC":return t?"IcWalletBitcoinDark":"IcWalletBitcoinLight";case"ETH":return t?"IcWalletEthereumDark":"IcWalletEthereumLight";case"USDT":case"eUSDT":case"tUSDT":case"UST":return r?t?"IcWalletModalTetherDark":"IcWalletModalTetherLight":t?"IcWalletTetherDark":"IcWalletTetherLight";case"LTC":return t?"IcWalletLiteCoinDark":"IcWalletLiteCoinLight";case"USDC":return t?"IcWalletUsdCoinDark":"IcWalletUsdCoinLight";default:return""}},u=e=>{var t,r,n;const i=null!==(t=o())&&void 0!==t?t:{};if(e&&(null===(r=i[e])||void 0===r||!r.is_disabled))return null===(n=i[e])||void 0===n?void 0:n.token};var d=r(734182),_=r.n(d),p=r(917556),h=r.n(p),m=r(214867),f=r.n(m);const g=e=>h()(_()(e,(e=>e.transaction_time?f()(1e3*e.transaction_time).startOf("day").format("DD MMM YYYY"):null)),((e,t)=>null!==t)),b=(e,t)=>{const{type:r="tail",length:o=8}=t||{};if(e.length<=o)return e;switch(r){case"head":return`...${e.substring(e.length-o)}`;case"middle":return`${e.substring(0,o/2)}...${e.substring(e.length-o/2)}`;case"tail":return`${e.substring(0,o)}...`;default:return e}},v=(e,t)=>{const r=12345.6789.toLocaleString(t).match(/(\D+)/g);if(r&&r.length>1){const t="."!==r[r.length-1],o=r[r.length-1],n=r[0];return t?e.replaceAll(o,"temp").replaceAll(n,"").replaceAll("temp","."):e.replaceAll(n,"")}return e};var y=r(994343),D=r.n(y),w=r(872154),C=r.n(w);const A=e=>{const t=[],r=Math.min(50,e.length);for(let i=0;i<r;i++){var o,n;t[i]={date:"",action:"",browser:"",ip:"",status:"",id:0};const r=e[i].environment,a=r.split(" "),s=r.match(/(?<date>[0-9a-zA-Z-]+\s[0-9:]+GMT)[\s](IP=)(?<ip>[\w:.]+)\sIP_COUNTRY=(?<country>([a-zA-Z]{2}))\s(User_AGENT=)(\w.*)(?<name>iPhone|Android)([\W\w]+)\s(?<app>Deriv P2P|Deriv GO)(?<version>[\w\W]+)\s(LANG=)([\w]{2})/),c=a[0],l=a[1].replace("GMT"," GMT");t[i].date=`${D()(c).format("YYYY-MM-DD")} ${l}`,t[i].action="login"===e[i].action?"Login":"Logout";const u=r.substring(r.indexOf("User_AGENT"),r.indexOf("LANG")),d=s?s.groups:null===(o=C().getParser(u))||void 0===o?void 0:o.getBrowser();t[i].browser=d?`${d.name} ${null!==(n=d.app)&&void 0!==n?n:""} v${d.version}`:"Unknown",t[i].ip=a[2].split("=")[1],t[i].status=1===e[i].status?"Successful":"Failed",t[i].id=i}return t};var x=r(281476);const E=async(e,t)=>{var r;let o=!1;if(void 0===(null===(r=window)||void 0===r?void 0:r.GrowthbookFeatures)&&(window.GrowthbookFeatures={}),void 0!==window.GrowthbookFeatures[e])return window.GrowthbookFeatures[e];const n=await new Promise((e=>{const t=Date.now(),r=async()=>{var o;if(Date.now()-t>=1e4)e(!1);else if(void 0!==x.Analytics)if(void 0!==(null===(o=x.Analytics.getInstances())||void 0===o?void 0:o.ab))e(!0);else{const t=await(null===x.Analytics||void 0===x.Analytics?void 0:x.Analytics.getGrowthbookStatus());null!=t&&t.isLoaded?e(!0):setTimeout(r,50)}else setTimeout(r,50)};r()}));if(x.Analytics&&null!==x.Analytics&&void 0!==x.Analytics&&x.Analytics.getGrowthbookStatus&&n){var i;const r=await(null===x.Analytics||void 0===x.Analytics?void 0:x.Analytics.getGrowthbookStatus());r.isLoaded&&null!==(i=r.status)&&void 0!==i&&i.success&&(o=null===x.Analytics||void 0===x.Analytics?void 0:x.Analytics.getFeatureValue(e,!!t))}return window.GrowthbookFeatures[e]=o,o},j={isFreshChat:async()=>E("enable_freshworks_live_chat"),isIntercom:async()=>E("enable_intercom"),getFlags:async()=>{try{const[e,t]=await Promise.all([j.isFreshChat(),j.isIntercom()]);return{isFreshChat:e,isIntercom:t}}catch(e){return{isFreshChat:!1,isIntercom:!1}}},open:async()=>{const e=await j.isFreshChat(),t=await j.isIntercom();var r;if(e)null===(r=window.fcWidget)||void 0===r||r.open();else if(t)window.Intercom("show");else{var o;null===(o=window.LiveChatWidget)||void 0===o||o.call("maximize")}},clear:async()=>{const{isFreshChat:e,isIntercom:t}=await j.getFlags();var r;e?null===(r=window.fcWidget)||void 0===r||r.user.clear():t&&window.Intercom&&(window.Intercom("shutdown"),window.DerivInterCom.initialize({hideLauncher:!0,token:null}))},close:async()=>{const{isFreshChat:e,isIntercom:t}=await j.getFlags();var r;if(e)null===(r=window.fcWidget)||void 0===r||r.close();else if(t)window.Intercom("hide");else{var o;null===(o=window.LiveChatWidget)||void 0===o||o.call("hide")}}},O=j;var S=r(77107);const F=async(e,t)=>{const r=await(async()=>{try{return await(0,S.Mp)()}catch(e){console.error("Failed to get active sessions",e)}})();if(null==r||!r.active)return e;if(null!=r&&r.active){var o,n,i,a,s;const e=new URLSearchParams(location.search);let p=e.get("account");if(!p&&(null==r||null===(o=r.tokens)||void 0===o?void 0:o.length)>0){const t=r.tokens[0];p=t.loginid.startsWith("VR")?"demo":t.cur,e.set("account",null!=p?p:"");const o=`${window.location.pathname}?${e.toString()}${window.location.hash}`;window.history.replaceState({},"",o)}if("DEMO"===(null===(n=p)||void 0===n?void 0:n.toLocaleUpperCase())){var c,l,u;const e=null==r||null===(c=r.tokens)||void 0===c?void 0:c.find((e=>"USD"===(null==e?void 0:e.cur.toLocaleUpperCase())&&e.loginid.startsWith("VRTC"))),o=null==r||null===(l=r.tokens)||void 0===l?void 0:l.find((e=>"USD"===(null==e?void 0:e.cur.toLocaleUpperCase())&&e.loginid.startsWith("VRW")));var d;return o||!sessionStorage.getItem("active_wallet_loginid")&&!localStorage.getItem("active_wallet_loginid")||(sessionStorage.removeItem("active_wallet_loginid"),localStorage.removeItem("active_wallet_loginid")),t?null!==(d=null==o?void 0:o.token)&&void 0!==d?d:null==e?void 0:e.token:null!==(u=null==e?void 0:e.token)&&void 0!==u?u:null==o?void 0:o.token}const h=null==r||null===(i=r.tokens)||void 0===i?void 0:i.find((e=>{var t;return(null==e?void 0:e.cur.toLocaleUpperCase())===(null===(t=p)||void 0===t?void 0:t.toLocaleUpperCase())&&((null==e?void 0:e.loginid.startsWith("CR"))&&!(null!=e&&e.loginid.startsWith("CRW"))||(null==e?void 0:e.loginid.startsWith("MF"))&&!e.loginid.startsWith("MFW"))})),m=null==r||null===(a=r.tokens)||void 0===a?void 0:a.find((e=>{var t;return(null==e?void 0:e.cur.toLocaleUpperCase())===(null===(t=p)||void 0===t?void 0:t.toLocaleUpperCase())&&((null==e?void 0:e.loginid.startsWith("CRW"))||(null==e?void 0:e.loginid.startsWith("MFW")))}));var _;return h||!sessionStorage.getItem("active_loginid")&&!localStorage.getItem("active_loginid")||(sessionStorage.removeItem("active_loginid"),localStorage.removeItem("active_loginid")),m||!sessionStorage.getItem("active_wallet_loginid")&&!localStorage.getItem("active_wallet_loginid")||(sessionStorage.removeItem("active_wallet_loginid"),localStorage.removeItem("active_wallet_loginid")),t?null!==(_=null==m?void 0:m.token)&&void 0!==_?_:null==h?void 0:h.token:null!==(s=null==h?void 0:h.token)&&void 0!==s?s:null==m?void 0:m.token}};var k=r(610447);const P=async()=>{const e=window.location.search;let t;if(e){t=new URLSearchParams(e).get("platform")}const r="derivgo"===t||"true"===sessionStorage.getItem("is_disable_tmb");r&&sessionStorage.setItem("is_disable_tmb","true");const o=localStorage.getItem("is_tmb_enabled");return null!==o?"true"===o:!r&&!0},T=["deriv.com","deriv.dev","binary.sx","pages.dev","localhost","deriv.be","deriv.me"];const N=window.location.hostname.split(".").slice(-2).join("."),L=async()=>{var e,t,r,o;localStorage.removeItem("closed_toast_notifications"),localStorage.removeItem("is_wallet_migration_modal_closed"),localStorage.removeItem("active_wallet_loginid"),localStorage.removeItem("config.account1"),localStorage.removeItem("config.tokens"),localStorage.removeItem("verification_code.system_email_change"),localStorage.removeItem("verification_code.request_email"),localStorage.removeItem("new_email.system_email_change"),localStorage.removeItem("active_loginid"),localStorage.removeItem("clientAccounts"),Object.keys(sessionStorage).filter((e=>"trade_store"!==e)).forEach((e=>sessionStorage.removeItem(e))),null===(e=window.LC_API)||void 0===e||null===(t=e.close_chat)||void 0===t||t.call(e),null===(r=window.LiveChatWidget)||void 0===r||r.call("hide"),null===(o=window.fcWidget)||void 0===o||o.close(),O.clear(),T.includes(N)&&k.A.set("logged_state","false",{domain:N,expires:30,path:"/",secure:!0})},I=(e,t=!1)=>{if(!e)return;const r=t?"active_wallet_loginid":"active_loginid";sessionStorage.setItem(r,e)},B=async()=>{if(!await P())return;const e=await(async()=>{try{return await(0,S.Mp)()}catch(e){console.error("Failed to get active sessions",e)}})();if(null!=e&&e.active){if(null!=e&&e.active){var t,r,o;const _=localStorage.getItem("clientAccounts"),p=JSON.stringify(null==e?void 0:e.tokens),h=_!==p;h&&localStorage.removeItem("client.accounts"),localStorage.setItem("clientAccounts",p);const m=new URLSearchParams(location.search);let f=m.get("account");const g=m.get("loginid")||sessionStorage.getItem("active_wallet_loginid")||sessionStorage.getItem("active_loginid");if(!f&&!g&&(null==e||null===(t=e.tokens)||void 0===t?void 0:t.length)>0){const t=e.tokens[0];f=t.loginid.startsWith("VR")?"demo":t.cur,m.set("account",null!=f?f:"");const r=`${window.location.pathname}?${m.toString()}${window.location.hash}`;window.history.replaceState({},"",r)}else if(!f&&g&&(null==e||null===(r=e.tokens)||void 0===r?void 0:r.length)>0){const t=e.tokens.find((e=>e.loginid===g));if(t){f=t.loginid.startsWith("VR")?"demo":t.cur,m.set("account",null!=f?f:"");const e=`${window.location.pathname}?${m.toString()}${window.location.hash}`;window.history.replaceState({},"",e)}else{const t=e.tokens[0];f=t.loginid.startsWith("VR")?"demo":t.cur,m.set("account",null!=f?f:"");const r=`${window.location.pathname}?${m.toString()}${window.location.hash}`;window.history.replaceState({},"",r)}}if("DEMO"===(null===(o=f)||void 0===o?void 0:o.toLocaleUpperCase())){var n,i;const t=null==e||null===(n=e.tokens)||void 0===n?void 0:n.find((e=>{var t;return"USD"===(null==e||null===(t=e.cur)||void 0===t?void 0:t.toLocaleUpperCase())&&e.loginid.startsWith("VRTC")})),r=null==e||null===(i=e.tokens)||void 0===i?void 0:i.find((e=>{var t;return"USD"===(null==e||null===(t=e.cur)||void 0===t?void 0:t.toLocaleUpperCase())&&e.loginid.startsWith("VRW")}));t||!sessionStorage.getItem("active_loginid")&&!localStorage.getItem("active_loginid")||(sessionStorage.removeItem("active_loginid"),localStorage.removeItem("active_loginid")),r||!sessionStorage.getItem("active_wallet_loginid")&&!localStorage.getItem("active_wallet_loginid")||(sessionStorage.removeItem("active_wallet_loginid"),localStorage.removeItem("active_wallet_loginid")),I(null==t?void 0:t.loginid),I(null==r?void 0:r.loginid,!0)}else{var a,s,c,l,u,d;const t=null==e||null===(a=e.tokens)||void 0===a?void 0:a.find((e=>{var t,r;return(null==e||null===(t=e.cur)||void 0===t?void 0:t.toLocaleUpperCase())===(null===(r=f)||void 0===r?void 0:r.toLocaleUpperCase())&&((null==e?void 0:e.loginid.startsWith("CR"))&&!(null!=e&&e.loginid.startsWith("CRW"))||(null==e?void 0:e.loginid.startsWith("MF"))&&!e.loginid.startsWith("MFW"))})),r=null==e||null===(s=e.tokens)||void 0===s?void 0:s.find((e=>{var t,r;return(null==e||null===(t=e.cur)||void 0===t?void 0:t.toLocaleUpperCase())===(null===(r=f)||void 0===r?void 0:r.toLocaleUpperCase())&&((null==e?void 0:e.loginid.startsWith("CRW"))||(null==e?void 0:e.loginid.startsWith("MFW")))})),o=sessionStorage.getItem("active_loginid")||localStorage.getItem("active_loginid"),n=sessionStorage.getItem("active_wallet_loginid")||localStorage.getItem("active_wallet_loginid"),i=o&&(null==e||null===(c=e.tokens)||void 0===c?void 0:c.some((e=>e.loginid===o))),_=n&&(null==e||null===(l=e.tokens)||void 0===l?void 0:l.some((e=>e.loginid===n)));t||!o||i||(sessionStorage.removeItem("active_loginid"),localStorage.removeItem("active_loginid")),r||!n||_||(sessionStorage.removeItem("active_wallet_loginid"),localStorage.removeItem("active_wallet_loginid"));const p=null!=t?t:null==e||null===(u=e.tokens)||void 0===u?void 0:u.find((e=>e.loginid===o)),h=null!=r?r:null==e||null===(d=e.tokens)||void 0===d?void 0:d.find((e=>e.loginid===n));I(null==p?void 0:p.loginid),I(null==h?void 0:h.loginid,!0)}const b={};return e.tokens.forEach(((e,t)=>{const r=t+1;(null==e?void 0:e.loginid)&&(b[`acct${r}`]=e.loginid),(null==e?void 0:e.token)&&(b[`token${r}`]=e.token),(null==e?void 0:e.cur)&&(b[`cur${r}`]=e.cur)})),h?b:void 0}}else L()},R=e=>/^(http|https|mailto):/i.test(e),M=e=>f().unix(e).utc(),z=e=>{if(!e)return f()().utc();if(f().isMoment(e)&&e.isValid()&&e.isUTC())return e;if("number"==typeof e)return M(e);if(/invalid/i.test(f()(e).toString())){const t=f()(),r=t.utc().daysInMonth();return f().utc(e,"DD MMM YYYY").valueOf()/864e5>r?f().utc(t.add(e.valueOf(),"d"),"DD MMM YYYY"):f().utc(e,"DD MMM YYYY")}return f().utc(e)},U=e=>{const t=new Blob([e],{type:e.type});return t.name=e.name.split("").filter((e=>e.charCodeAt(0)>=32&&e.charCodeAt(0)<=126)).join(""),t};var W=r(790236);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function V(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const H=(e,t={})=>{var r;const o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({message:e},t);null!==(r=window.TrackJS)&&void 0!==r&&r.track&&window.TrackJS.track(o),"function"==typeof(null===W.L||void 0===W.L?void 0:W.L.addError)?W.L.addError(e,{extra:t}):window.DD_RUM&&"function"==typeof window.DD_RUM.addError&&window.DD_RUM.addError(e,{extra:t})}},153546:(e,t,r)=>{var o={"./ach.json":[16864,7808],"./ar.json":[735987,9785],"./bn.json":[885328,4050],"./de.json":[994011,9409],"./es.json":[847924,9146],"./fr.json":[186408,5826],"./id.json":[2977,9823],"./it.json":[915185,8159],"./km.json":[789860,9422],"./ko.json":[712214,2800],"./mn.json":[855899,7521],"./pl.json":[876180,2634],"./pt.json":[784812,1490],"./ru.json":[20997,4191],"./si.json":[505168,8834],"./sw.json":[55494,7456],"./th.json":[851692,3522],"./tr.json":[917382,28],"./uz.json":[670847,7813],"./vi.json":[730765,7935],"./zh_cn.json":[439658,4606],"./zh_tw.json":[53614,7602]};function n(e){if(!r.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],n=t[0];return r.e(t[1]).then((()=>r.t(n,19)))}n.keys=()=>Object.keys(o),n.id=153546,e.exports=n},917208:()=>{}},c={};function l(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={id:e,loaded:!1,exports:{}};return s[e].call(r.exports,r,r.exports,l),r.loaded=!0,r.exports}l.m=s,l.amdO={},e=[],l.O=(t,r,o,n)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,o,n]=e[u],a=!0,s=0;s<r.length;s++)(!1&n||i>=n)&&Object.keys(l.O).every((e=>l.O[e](r[s])))?r.splice(s--,1):(a=!1,n<i&&(i=n));if(a){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,o,n]},l.H={},l.G=e=>{Object.keys(l.H).map((t=>{l.H[t](e)}))},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var n=Object.create(null);l.r(n);var i={};t=t||[null,r({}),r([]),r(r)];for(var a=2&o&&e;"object"==typeof a&&!~t.indexOf(a);a=r(a))Object.getOwnPropertyNames(a).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,l.d(n,i),n},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,r)=>(l.f[r](e,t),t)),[])),l.u=e=>"js/core.chunk."+({28:"tr-json",243:"reset-email-modal",1470:"verification-modal",1490:"pt-json",2634:"pl-json",2800:"ko-json",2984:"verification-document-submitted-modal",3225:"account-signup-modal",3242:"warning-close-create-real-account",3317:"dtrader-header",3352:"one-time-deposit-modal",3438:"set-residence-modal",3522:"th-json",3528:"reports",3854:"reset-password-modal",3983:"trading-assessment-existing-user-modal",4050:"bn-json",4191:"ru-json",4483:"cfd-compare-accounts",4492:"complaints-policy",4606:"zh_cn-json",4773:"account-info",4931:"trader",4956:"bot-web-ui-app",5283:"url-unavailable-modal",5788:"dtrader-header-wallets",5826:"fr-json",6070:"same-dob-phone-modal",6151:"update-email-modal",6967:"wallets",7182:"cashier",7456:"sw-json",7521:"mn-json",7602:"zh_tw-json",7671:"tnc-status-update-modal",7808:"ach-json",7813:"uz-json",7884:"reset-or-unlink-password-modal",7935:"vi-json",8159:"it-json",8440:"cfd",8644:"account",8775:"appstore",8834:"si-json",9146:"es-json",9409:"de-json",9422:"km-json",9636:"account-wizard-modal",9785:"ar-json",9823:"id-json"}[e]||e)+"."+l.h()+".js",l.miniCssF=e=>8792===e?"css/core.main.b55e278961995b06d319.main.css":"css/core.chunk."+({1470:"verification-modal",2984:"verification-document-submitted-modal",3225:"account-signup-modal",3242:"warning-close-create-real-account",3317:"dtrader-header",3352:"one-time-deposit-modal",3438:"set-residence-modal",3983:"trading-assessment-existing-user-modal",4483:"cfd-compare-accounts",4492:"complaints-policy",5283:"url-unavailable-modal",6070:"same-dob-phone-modal",7671:"tnc-status-update-modal",9636:"account-wizard-modal"}[e]||e)+"."+{1470:"49a1b1109183e0cc5daa",2984:"a4df93a68d3c86a0bb1f",3195:"126ad404ad33f63d5849",3225:"1078efb049c6a3d05437",3242:"d0e6cd37589db990c833",3317:"fd2720e6523dfc0d65f9",3352:"cc4817568e157faf962d",3438:"9393fc604e82bffa8706",3983:"d81c070aaf6922a992fa",4483:"5e24c904555e0c08dab0",4492:"c3e66b04451e0efbc657",5283:"ca2d9690b6d51e90e8e8",6070:"8961fbc2ccf82ee3bdc6",7671:"a48b3034a536692dd790",9238:"2dbe05d9e175aaf0122d",9636:"339d9cb3b524eedf1bbc"}[e]+".css",l.h=()=>"78973846415b1162ad96",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},l.l=(e,t,r,n)=>{if(o[e])o[e].push(t);else{var i,a;if(void 0!==r)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var u=s[c];if(u.getAttribute("src")==e){i=u;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.src=e),o[e]=[t];var d=(t,r)=>{i.onerror=i.onload=null,clearTimeout(_);var n=o[e];if(delete o[e],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(r))),t)return t(r)},_=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),a&&document.head.appendChild(i)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),l.p="/",n=e=>new Promise(((t,r)=>{var o=l.miniCssF(e),n=l.p+o;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var n=(a=r[o]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(n===e||n===t))return a}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){var a;if((n=(a=i[o]).getAttribute("data-href"))===e||n===t)return a}})(o,n))return t();((e,t,r,o)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.onerror=n.onload=i=>{if(n.onerror=n.onload=null,"load"===i.type)r();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,n.parentNode.removeChild(n),o(c)}},n.href=t,document.head.appendChild(n)})(e,n,t,r)})),i={8792:0},l.f.miniCss=(e,t)=>{i[e]?t.push(i[e]):0!==i[e]&&{1470:1,2984:1,3195:1,3225:1,3242:1,3317:1,3352:1,3438:1,3983:1,4483:1,4492:1,5283:1,6070:1,7671:1,9238:1,9636:1}[e]&&t.push(i[e]=n(e).then((()=>{i[e]=0}),(t=>{throw delete i[e],t})))},(()=>{var e={8792:0};l.f.j=(t,r)=>{var o=l.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var n=new Promise(((r,n)=>o=e[t]=[r,n]));r.push(o[2]=n);var i=l.p+l.u(t),a=new Error;l.l(i,(r=>{if(l.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",a.name="ChunkLoadError",a.type=n,a.request=i,o[1](a)}}),"chunk-"+t,t)}},l.H.j=t=>{if(!l.o(e,t)||void 0===e[t]){e[t]=null;var r=document.createElement("link");r.charset="utf-8",l.nc&&r.setAttribute("nonce",l.nc),r.rel="preload",r.as="script",r.href=l.p+l.u(t),document.head.appendChild(r)}},l.O.j=t=>0===e[t];var t=(t,r)=>{var o,n,[i,a,s]=r,c=0;if(i.some((t=>0!==e[t]))){for(o in a)l.o(a,o)&&(l.m[o]=a[o]);if(s)var u=s(l)}for(t&&t(r);c<i.length;c++)n=i[c],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(u)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a={3317:[4773],5788:[4773]},l.f.preload=e=>{var t=a[e];Array.isArray(t)&&t.map(l.G)};var u=l.O(void 0,[6557,5084,2760,8519,2518,3020],(()=>l(277496)));u=l.O(u)})();
//# sourceMappingURL=core.main.78973846415b1162ad96.js.map