{"version":3,"file":"js/core.chunk.reset-or-unlink-password-modal.78973846415b1162ad96.js","mappings":"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","sources":["webpack:///../../api/src/useMutation.ts","webpack:///./App/Containers/LinkExpiredModal/email-resent.tsx","webpack:///./App/Containers/LinkExpiredModal/link-expired-modal.tsx","webpack:///./App/Containers/ResetPasswordModal/reset-password-modal.tsx","webpack:///./App/Containers/ResetPasswordModal/index.ts","webpack:///./App/Containers/ResetOrUnlinkPasswordModal/reset-or-unlink-password-modal.jsx","webpack:///./App/Containers/ResetOrUnlinkPasswordModal/index.js","webpack:///./App/Containers/UnlinkPasswordModal/unlink-password-modal.jsx","webpack:///./App/Containers/UnlinkPasswordModal/index.js","webpack:///../../hooks/src/useCountdown.ts","webpack:///../../hooks/src/useVerifyEmail.ts","webpack:///../../../node_modules/@tanstack/query-core/build/lib/mutationObserver.mjs","webpack:///../../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs"],"sourcesContent":["import { useCallback } from 'react';\nimport { useMutation as _useMutation } from '@tanstack/react-query';\nimport useAPI from './useAPI';\nimport type {\n    TSocketAcceptableProps,\n    TSocketEndpointNames,\n    TSocketError,\n    TSocketRequestMutationOptions,\n    TSocketRequestPayload,\n    TSocketResponseData,\n} from '../types';\n\nconst useMutation = <T extends TSocketEndpointNames>(name: T, options?: TSocketRequestMutationOptions<T>) => {\n    const { send } = useAPI();\n    const {\n        mutate: _mutate,\n        mutateAsync: _mutateAsync,\n        ...rest\n    } = _useMutation<TSocketResponseData<T>, TSocketError<T>, TSocketAcceptableProps<T>>(props => {\n        const prop = props?.[0];\n        const payload = prop && 'payload' in prop ? (prop.payload as TSocketRequestPayload<T>) : undefined;\n\n        return send(name, payload);\n    }, options);\n\n    const mutate = useCallback((...payload: TSocketAcceptableProps<T>) => _mutate(payload), [_mutate]);\n    const mutateAsync = useCallback((...payload: TSocketAcceptableProps<T>) => _mutateAsync(payload), [_mutateAsync]);\n\n    return {\n        mutate,\n        mutateAsync,\n        ...rest,\n    };\n};\n\nexport default useMutation;\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\n\nconst EmailResent = () => {\n    return (\n        <div className='link-expired__spaced-container__content link-expired__spaced-container__email_sent'>\n            <Icon data_testid='dt_email-resent' icon='IcEmailVerificationResent' size={128} />\n            <Text as='p' size='s' align='center'>\n                <Localize i18n_default_text=\"<0>We've sent you an email.</0>\" components={[<strong key={0} />]} />\n            </Text>\n            <Text as='p' size='s' align='center'>\n                <Localize i18n_default_text='Please click on the link in the email to reset your password.' />\n            </Text>\n        </div>\n    );\n};\n\nexport default EmailResent;\n","import classNames from 'classnames';\nimport { useFormik } from 'formik';\nimport React from 'react';\nimport { Dialog, FormSubmitButton, Input, Text } from '@deriv/components';\nimport { useVerifyEmail } from '@deriv/hooks';\nimport { getErrorMessages, validEmail } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport EmailResent from './email-resent';\n\nconst LinkExpiredModal = observer(() => {\n    const { ui, client } = useStore();\n    const { setPreventRedirectToHub } = client;\n    const { enableApp, disableApp, is_link_expired_modal_visible: is_visible, toggleLinkExpiredModal } = ui;\n\n    const { send, error: verify_error, data: verify_data } = useVerifyEmail('reset_password');\n    const [is_email_sent, setIsEmailSent] = React.useState(false);\n\n    const formik = useFormik({\n        initialValues: { email: '' },\n        initialStatus: { error_msg: '' },\n        validate: values => (!validEmail(values.email) ? { email: getErrorMessages().email() } : {}),\n        onSubmit: values => send(values.email),\n    });\n    const {\n        errors,\n        handleBlur,\n        handleChange,\n        handleSubmit,\n        isSubmitting,\n        resetForm,\n        setStatus,\n        setSubmitting,\n        status,\n        touched,\n        values,\n    } = formik;\n\n    React.useEffect(() => {\n        if (verify_data) {\n            setSubmitting(false);\n            setIsEmailSent(true);\n        }\n    }, [verify_data, setSubmitting]);\n\n    React.useEffect(() => {\n        if (verify_error && typeof verify_error === 'object' && 'message' in verify_error) {\n            resetForm();\n            setStatus({ error_msg: verify_error?.message });\n        }\n    }, [verify_error, resetForm, setStatus]);\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <Dialog\n                className={classNames('link-expired__spaced-container', {\n                    'link-expired__spaced-container__fullscreen': is_email_sent,\n                })}\n                is_visible={is_visible}\n                disableApp={disableApp}\n                enableApp={enableApp}\n                title={is_email_sent ? '' : localize('Link expired')}\n                has_close_icon\n                onConfirm={() => {\n                    toggleLinkExpiredModal(false);\n                    setPreventRedirectToHub(false);\n                }}\n            >\n                <div className='link-expired'>\n                    {is_email_sent ? (\n                        <EmailResent />\n                    ) : (\n                        <div className='link-expired__spaced-container__content'>\n                            <Text as='p' size='xs' align='left'>\n                                <Localize\n                                    i18n_default_text='The link you clicked has expired. Ensure to click the link in the latest email in your inbox. Alternatively, enter your email below and click <0>Resend email</0> for a new link.'\n                                    components={[<strong key={0} />]}\n                                />\n                            </Text>\n                            <fieldset className='email-platform__content__fieldset'>\n                                <Input\n                                    className='email-input'\n                                    data-lpignore='true'\n                                    type='text'\n                                    name='email'\n                                    id='email'\n                                    onChange={e => {\n                                        setStatus({ error_msg: '' });\n                                        handleChange(e);\n                                    }}\n                                    disabled={isSubmitting}\n                                    onBlur={handleBlur}\n                                    error={(touched.email && errors.email) || status.error_msg}\n                                    label={localize('Email address')}\n                                    value={values.email}\n                                />\n                            </fieldset>\n                            <FormSubmitButton\n                                has_cancel\n                                cancel_label={localize('Close')}\n                                onCancel={() => {\n                                    toggleLinkExpiredModal(false);\n                                    setPreventRedirectToHub(false);\n                                }}\n                                is_disabled={!values.email || !!errors.email || isSubmitting}\n                                is_loading={isSubmitting}\n                                label={localize('Resend email')}\n                            />\n                        </div>\n                    )}\n                </div>\n            </Dialog>\n        </form>\n    );\n});\n\nexport default LinkExpiredModal;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Formik, Form, FormikHelpers, FormikErrors } from 'formik';\nimport { Button, Dialog, PasswordInput, PasswordMeter, Text } from '@deriv/components';\nimport { redirectToLogin, validPassword, validLength, getErrorMessages, WS, removeActionParam } from '@deriv/shared';\nimport { requestOidcAuthentication } from '@deriv-com/auth-client';\nimport { getLanguage, localize, Localize } from '@deriv/translations';\nimport { observer, useStore } from '@deriv/stores';\nimport { TSocketError, TSocketRequest, TSocketResponse } from '@deriv/api/types';\nimport { useDevice } from '@deriv-com/ui';\nimport { useTMB } from '@deriv/hooks';\n\ntype TResetPasswordModalValues = {\n    password: string;\n};\n\nconst ResetPasswordModal = observer(() => {\n    const { ui, client } = useStore();\n    const { logout: logoutClient, verification_code, setVerificationCode, setPreventRedirectToHub } = client;\n    const is_deriv_com = /deriv\\.(com)/.test(window.location.hostname) || /localhost:8443/.test(window.location.host);\n    const {\n        disableApp,\n        enableApp,\n        is_loading,\n        is_reset_password_modal_visible: is_visible,\n        toggleResetPasswordModal,\n        toggleLinkExpiredModal,\n    } = ui;\n    const { isTmbEnabled } = useTMB();\n\n    const { isDesktop } = useDevice();\n\n    const onResetComplete = async (\n        error: TSocketError<'reset_password'>['error'] | null,\n        actions: FormikHelpers<TResetPasswordModalValues>\n    ) => {\n        const is_tmb_enabled = await isTmbEnabled();\n        actions.setSubmitting(false);\n        const error_code = error?.code;\n        // Error would be returned on invalid token (and the like) cases.\n        if (error_code) {\n            if (error_code === 'InvalidToken') {\n                toggleResetPasswordModal(false);\n                toggleLinkExpiredModal(true);\n            } else {\n                actions.resetForm({\n                    values: {\n                        password: '',\n                    },\n                });\n                actions.setStatus({ error_msg: error?.message });\n            }\n            return;\n        }\n        setPreventRedirectToHub(false);\n        actions.setStatus({ reset_complete: true });\n        logoutClient().then(() => {\n            if (is_deriv_com && !is_tmb_enabled) {\n                try {\n                    requestOidcAuthentication({\n                        redirectCallbackUri: `${window.location.origin}/callback`,\n                    }).catch(err => {\n                        // eslint-disable-next-line no-console\n                        console.error(err);\n                    });\n                } catch (err) {\n                    // eslint-disable-next-line no-console\n                    console.error(err);\n                }\n            } else {\n                redirectToLogin(false, getLanguage());\n            }\n        });\n    };\n\n    const handleSubmit = (values: TResetPasswordModalValues, actions: FormikHelpers<TResetPasswordModalValues>) => {\n        const api_request: TSocketRequest<'reset_password'> = {\n            reset_password: 1,\n            new_password: values.password,\n            verification_code: verification_code.reset_password,\n        };\n        WS.resetPassword(api_request).then(\n            async (response: TSocketResponse<'reset_password'> & TSocketError<'reset_password'>) => {\n                if (response.error) {\n                    onResetComplete(response?.error, actions);\n                } else {\n                    onResetComplete(null, actions);\n                }\n                setVerificationCode('', 'reset_password');\n            }\n        );\n    };\n\n    const validateReset = (values: TResetPasswordModalValues) => {\n        const errors: FormikErrors<TResetPasswordModalValues> = {};\n\n        if (\n            !validLength(values.password, {\n                min: 8,\n                max: 25,\n            })\n        ) {\n            errors.password = localize('You should enter {{min_number}}-{{max_number}} characters.', {\n                min_number: 8,\n                max_number: 25,\n            });\n        } else if (!validPassword(values.password)) {\n            errors.password = getErrorMessages().password();\n        }\n        return errors;\n    };\n\n    const reset_initial_values: TResetPasswordModalValues = { password: '' };\n\n    const closeResetPasswordModal = () => {\n        setPreventRedirectToHub(false);\n        toggleResetPasswordModal(false);\n        removeActionParam('reset_password');\n    };\n\n    return (\n        <Formik\n            initialValues={reset_initial_values}\n            initialStatus={{ reset_complete: false, error_msg: '' }}\n            validate={validateReset}\n            onSubmit={handleSubmit}\n        >\n            {({ handleBlur, errors, values, touched, isSubmitting, handleChange, status }) => (\n                <Dialog\n                    className='reset-password__spaced-container'\n                    is_visible={is_visible}\n                    disableApp={disableApp}\n                    enableApp={enableApp}\n                    is_loading={is_loading}\n                    dismissable={status.error_msg}\n                    onConfirm={closeResetPasswordModal}\n                    title={localize('Reset your password')}\n                    has_close_icon\n                    is_closed_on_cancel={false}\n                >\n                    <div className='reset-password'>\n                        <Form>\n                            {status.reset_complete ? (\n                                <div className='reset-password__password-set'>\n                                    <Text align='center' as='p' weight='bold' className='reset-password__heading'>\n                                        <Localize i18n_default_text='Your password has been changed' />\n                                    </Text>\n                                    <Text align='center' as='p' size='xxs' className='reset-password__subtext'>\n                                        <Localize i18n_default_text='We will now redirect you to the login page.' />\n                                    </Text>\n                                </div>\n                            ) : (\n                                <div className='reset-password__password-selection'>\n                                    <fieldset className='reset-password__fieldset'>\n                                        <PasswordMeter\n                                            input={values.password}\n                                            has_error={!!((touched.password && errors.password) || status.error_msg)}\n                                            custom_feedback_messages={\n                                                getErrorMessages().password_warnings as unknown as Record<\n                                                    string,\n                                                    string\n                                                >\n                                            }\n                                        >\n                                            <PasswordInput\n                                                autoComplete='new-password'\n                                                className='reset-password__password-field'\n                                                name='password'\n                                                label={localize('Create a password')}\n                                                onChange={handleChange}\n                                                onBlur={handleBlur}\n                                                error={(touched.password && errors.password) || status.error_msg}\n                                                value={values.password}\n                                                data-lpignore='true'\n                                                required\n                                            />\n                                        </PasswordMeter>\n                                    </fieldset>\n                                    <Text align='center' as='p' size='xxs' className='reset-password__subtext'>\n                                        {status.error_msg ? (\n                                            <Localize\n                                                i18n_default_text='{{error_msg}}'\n                                                values={{ error_msg: status.error_msg }}\n                                            />\n                                        ) : (\n                                            <Localize i18n_default_text='Strong passwords contain at least 8 characters. combine uppercase and lowercase letters, numbers, and symbols.' />\n                                        )}\n                                    </Text>\n                                    {isDesktop && <div className='reset-password__divider' />}\n                                    <Button\n                                        className={classNames('reset-password__btn', {\n                                            'reset-password__btn--disabled':\n                                                !values.password || errors.password || isSubmitting,\n                                        })}\n                                        type='submit'\n                                        is_disabled={!values.password || !!errors.password || isSubmitting}\n                                        primary\n                                    >\n                                        <Localize i18n_default_text='Reset my password' />\n                                    </Button>\n                                </div>\n                            )}\n                        </Form>\n                    </div>\n                </Dialog>\n            )}\n        </Formik>\n    );\n});\n\nexport default ResetPasswordModal;\n","import ResetPasswordModal from './reset-password-modal';\n\nexport default ResetPasswordModal;\n","import React from 'react';\nimport { Loading } from '@deriv/components';\nimport { WS } from 'Services';\nimport { observer, useStore } from '@deriv/stores';\nimport LinkExpiredModal from '../LinkExpiredModal';\nimport ResetPasswordModal from '../ResetPasswordModal';\nimport UnlinkPasswordModal from '../UnlinkPasswordModal';\n\nconst ResetOrUnlinkPasswordModal = observer(() => {\n    const { client, ui } = useStore();\n    const { is_logged_in } = client;\n    const { is_link_expired_modal_visible } = ui;\n    const [state, dispatch] = React.useReducer(\n        (old_state, updated_state) => {\n            return {\n                ...old_state,\n                ...updated_state,\n            };\n        },\n        {\n            is_loading: true,\n            is_unlinking: false,\n        }\n    );\n\n    React.useEffect(() => {\n        async function waitForAccountStatus() {\n            if (is_logged_in) {\n                const data = await WS.wait('get_account_status');\n                if (data?.get_account_status?.social_identity_provider) {\n                    dispatch({ is_unlinking: true, is_loading: false });\n                } else {\n                    dispatch({ is_unlinking: false, is_loading: false });\n                }\n            } else {\n                dispatch({ is_unlinking: false, is_loading: false });\n            }\n        }\n\n        waitForAccountStatus();\n    }, [is_logged_in]);\n\n    if (state.is_loading) {\n        return <Loading is_fullscreen={false} />;\n    }\n\n    if (state.is_unlinking) {\n        return <UnlinkPasswordModal />;\n    } else if (is_link_expired_modal_visible) {\n        return <LinkExpiredModal />;\n    }\n    return <ResetPasswordModal />;\n});\n\nexport default ResetOrUnlinkPasswordModal;\n","import ResetOrUnlinkPasswordModal from './reset-or-unlink-password-modal.jsx';\n\nexport default ResetOrUnlinkPasswordModal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Formik, Form } from 'formik';\nimport { Button, Dialog, Icon, PasswordInput, PasswordMeter, Text } from '@deriv/components';\nimport {\n    getErrorMessages,\n    redirectToLogin,\n    toTitleCase,\n    validPassword,\n    validLength,\n    getActionFromUrl,\n    removeActionParam,\n} from '@deriv/shared';\nimport { getLanguage, localize, Localize } from '@deriv/translations';\nimport { WS } from 'Services';\nimport { observer, useStore } from '@deriv/stores';\n\nconst UnlinkPassword = ({\n    logoutClient,\n    social_identity_provider,\n    toggleResetPasswordModal,\n    verification_code,\n    new_email,\n}) => {\n    const url_action = getActionFromUrl();\n    const onResetComplete = (error_msg, actions) => {\n        actions.setSubmitting(false);\n        actions.resetForm({ password: '' });\n        // Error would be returned on invalid token (and the like) cases.\n        // TODO: Proper error handling (currently we have no place to put the message)\n        if (error_msg) {\n            // eslint-disable-next-line no-console\n            console.error(error_msg);\n            actions.setStatus({ error_msg });\n            return;\n        }\n        actions.setStatus({ reset_complete: true });\n    };\n\n    const onGetPasswordResponse = (response, actions) => {\n        if (response.error) {\n            onResetComplete(response.error.message, actions);\n        } else {\n            onResetComplete(null, actions);\n        }\n    };\n\n    const handleSubmit = (values, actions) => {\n        if (url_action === 'social_email_change') {\n            const api_request = {\n                change_email: 'update',\n                new_email,\n                new_password: values.password,\n                verification_code,\n            };\n\n            WS.changeEmail(api_request).then(async response => {\n                onGetPasswordResponse(response, actions);\n            });\n        } else {\n            const api_request = {\n                reset_password: 1,\n                new_password: values.password,\n                verification_code,\n            };\n            WS.resetPassword(api_request).then(async response => {\n                onGetPasswordResponse(response, actions);\n            });\n        }\n        removeActionParam('social_email_change');\n    };\n\n    const validateReset = values => {\n        const errors = {};\n\n        if (\n            !validLength(values.password, {\n                min: 8,\n                max: 25,\n            })\n        ) {\n            errors.password = localize('You should enter {{min_number}}-{{max_number}} characters.', {\n                min_number: 8,\n                max_number: 25,\n            });\n        } else if (!validPassword(values.password)) {\n            errors.password = getErrorMessages().password();\n        }\n\n        return errors;\n    };\n\n    const reset_initial_values = { password: '' };\n\n    return (\n        <div className='unlink-password'>\n            <Formik\n                initialValues={reset_initial_values}\n                initialStatus={{ reset_complete: false, error_msg: '' }}\n                validate={validateReset}\n                onSubmit={handleSubmit}\n            >\n                {({ handleBlur, errors, values, touched, isSubmitting, handleChange, status }) => (\n                    <Form>\n                        <React.Fragment>\n                            {status.reset_complete ? (\n                                <div className='unlink-password__password-success'>\n                                    <Icon\n                                        className='unlink-password__icon'\n                                        icon={`IcUnlink${toTitleCase(social_identity_provider)}`}\n                                        size={128}\n                                    />\n                                    <Text as='p' weight='bold' className='unlink-password__heading'>\n                                        <Localize i18n_default_text='Success!' />\n                                    </Text>\n                                    <Text align='center' as='p' size='xs' className='unlink-password__subtext'>\n                                        <Localize\n                                            i18n_default_text={\n                                                'Your Deriv account has been unlinked from your {{social_identity_provider}} account. You can now log in to Deriv using your new email address and password.'\n                                            }\n                                            values={{\n                                                social_identity_provider: toTitleCase(social_identity_provider),\n                                            }}\n                                        />\n                                    </Text>\n                                    <Button\n                                        type='button'\n                                        onClick={() => {\n                                            toggleResetPasswordModal(false);\n                                            logoutClient().then(() => {\n                                                redirectToLogin(false, getLanguage(), false);\n                                            });\n                                        }}\n                                        primary\n                                        large\n                                    >\n                                        <Localize i18n_default_text='Login now' />\n                                    </Button>\n                                </div>\n                            ) : (\n                                <div className='unlink-password__set-password'>\n                                    <Text as='p' weight='bold' className='unlink-password__heading'>\n                                        <Localize i18n_default_text='Deriv password' />\n                                    </Text>\n                                    <Text as='p' size='xs' className='unlink-password__subtext'>\n                                        <Localize i18n_default_text='Enter a new password for your Deriv account.' />\n                                    </Text>\n                                    <fieldset className='unlink-password__input-field'>\n                                        <PasswordMeter\n                                            input={values.password}\n                                            has_error={!!(touched.password && errors.password)}\n                                            custom_feedback_messages={getErrorMessages().password_warnings}\n                                        >\n                                            <PasswordInput\n                                                autoComplete='new-password'\n                                                className='unlink-password__password-field'\n                                                name='password'\n                                                label={localize('Deriv password')}\n                                                onChange={handleChange}\n                                                onBlur={handleBlur}\n                                                error={touched.password && errors.password}\n                                                value={values.password}\n                                                data-lpignore='true'\n                                                required\n                                            />\n                                        </PasswordMeter>\n                                    </fieldset>\n                                    <Text as='p' size='xs' className='unlink-password__hint'>\n                                        {status.error_msg ? (\n                                            localize(status.error_msg)\n                                        ) : (\n                                            <Localize i18n_default_text='Strong passwords contain at least 8 characters, combine uppercase and lowercase letters, numbers, and symbols.' />\n                                        )}\n                                    </Text>\n                                    <Button\n                                        className={classNames('unlink-password__btn', {\n                                            'unlink-password__btn--disabled':\n                                                !values.password || errors.password || isSubmitting,\n                                        })}\n                                        type='submit'\n                                        is_disabled={!values.password || !!errors.password || isSubmitting}\n                                        primary\n                                        large\n                                    >\n                                        <Localize i18n_default_text='Confirm' />\n                                    </Button>\n                                </div>\n                            )}\n                        </React.Fragment>\n                    </Form>\n                )}\n            </Formik>\n        </div>\n    );\n};\n\nUnlinkPassword.propTypes = {\n    logoutClient: PropTypes.func,\n    toggleResetPasswordModal: PropTypes.func,\n    verification_code: PropTypes.string,\n    social_identity_provider: PropTypes.string,\n};\n\nconst UnlinkPasswordModal = observer(() => {\n    const { ui, client } = useStore();\n    const { logout: logoutClient, social_identity_provider, verification_code } = client;\n    const {\n        disableApp,\n        enableApp,\n        is_loading,\n        is_reset_password_modal_visible: is_visible,\n        toggleResetPasswordModal,\n    } = ui;\n    const reset_verification_code = verification_code.reset_password;\n    const unlink_verification_code = verification_code.social_email_change;\n    const new_email = client.new_email.social_email_change;\n    return (\n        <Dialog\n            className='unlink-password__dialog'\n            is_visible={is_visible}\n            disableApp={disableApp}\n            enableApp={enableApp}\n            is_loading={is_loading}\n        >\n            <UnlinkPassword\n                logoutClient={logoutClient}\n                social_identity_provider={social_identity_provider}\n                toggleResetPasswordModal={toggleResetPasswordModal}\n                verification_code={unlink_verification_code || reset_verification_code}\n                new_email={new_email}\n            />\n        </Dialog>\n    );\n});\n\nexport default UnlinkPasswordModal;\n","import UnlinkPasswordModal from './unlink-password-modal.jsx';\n\nexport default UnlinkPasswordModal;\n","import { useEffect, useState } from 'react';\n\nconst ONE_SECOND = 1000;\n\nexport type TCountdownOptions = {\n    from: number;\n    to?: number;\n    increment?: boolean;\n};\n\nconst useCountdown = ({ from, to = 0, increment = false }: TCountdownOptions) => {\n    const [count, setCount] = useState(from);\n    const [is_running, setIsRunning] = useState(false);\n\n    useEffect(() => {\n        let timer: NodeJS.Timeout;\n\n        if (is_running) {\n            timer = setTimeout(() => {\n                if (count === to) {\n                    pause();\n                } else {\n                    setCount(old => (increment ? old + 1 : old - 1));\n                }\n            }, ONE_SECOND);\n        }\n\n        return () => clearTimeout(timer);\n    }, [count, is_running, to, increment]);\n\n    const start = () => setIsRunning(true);\n\n    const pause = () => setIsRunning(false);\n\n    const reset = () => setCount(from);\n\n    const stop = () => {\n        pause();\n        reset();\n    };\n\n    return {\n        count,\n        is_running,\n        start,\n        pause,\n        reset,\n        stop,\n    };\n};\n\nexport default useCountdown;\n","import { useCallback, useState } from 'react';\nimport { useRequest } from '@deriv/api';\nimport { useStore } from '@deriv/stores';\nimport useCountdown from './useCountdown';\n\nconst RESEND_COUNTDOWN = 60;\n\nconst useVerifyEmail = (\n    type: Parameters<ReturnType<typeof useRequest<'verify_email'>>['mutate']>[0]['payload']['type']\n) => {\n    const WS = useRequest('verify_email');\n    const counter = useCountdown({ from: RESEND_COUNTDOWN });\n    const { client } = useStore();\n    const [sent_count, setSentCount] = useState(0);\n\n    const send = useCallback(\n        (email?: Parameters<ReturnType<typeof useRequest<'verify_email'>>['mutate']>[0]['payload']['verify_email']) => {\n            const request_email = email ?? client.email;\n            if (!request_email) return;\n            if (counter.is_running) return;\n\n            counter.reset();\n            counter.start();\n\n            setSentCount(count => count + 1);\n\n            WS.mutate({ payload: { verify_email: request_email, type } });\n        },\n        [WS, client.email, counter, type]\n    );\n\n    const sendPhoneNumberVerifyEmail = useCallback(() => {\n        WS.mutate({ payload: { verify_email: client.email, type } });\n    }, [WS, client.email, type]);\n\n    return {\n        WS,\n        is_loading: WS.isLoading,\n        error: WS.error,\n        data: WS.data,\n        counter: counter.count,\n        is_counter_running: counter.is_running,\n        sent_count,\n        has_been_sent: sent_count !== 0,\n        send,\n        sendPhoneNumberVerifyEmail,\n    };\n};\n\nexport default useVerifyEmail;\n","import { getDefaultState } from './mutation.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { Subscribable } from './subscribable.mjs';\nimport { shallowEqualObjects } from './utils.mjs';\n\n// CLASS\nclass MutationObserver extends Subscribable {\n  constructor(client, options) {\n    super();\n    this.client = client;\n    this.setOptions(options);\n    this.bindMethods();\n    this.updateResult();\n  }\n\n  bindMethods() {\n    this.mutate = this.mutate.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n\n  setOptions(options) {\n    var _this$currentMutation;\n\n    const prevOptions = this.options;\n    this.options = this.client.defaultMutationOptions(options);\n\n    if (!shallowEqualObjects(prevOptions, this.options)) {\n      this.client.getMutationCache().notify({\n        type: 'observerOptionsUpdated',\n        mutation: this.currentMutation,\n        observer: this\n      });\n    }\n\n    (_this$currentMutation = this.currentMutation) == null ? void 0 : _this$currentMutation.setOptions(this.options);\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$currentMutation2;\n\n      (_this$currentMutation2 = this.currentMutation) == null ? void 0 : _this$currentMutation2.removeObserver(this);\n    }\n  }\n\n  onMutationUpdate(action) {\n    this.updateResult(); // Determine which callbacks to trigger\n\n    const notifyOptions = {\n      listeners: true\n    };\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = true;\n    } else if (action.type === 'error') {\n      notifyOptions.onError = true;\n    }\n\n    this.notify(notifyOptions);\n  }\n\n  getCurrentResult() {\n    return this.currentResult;\n  }\n\n  reset() {\n    this.currentMutation = undefined;\n    this.updateResult();\n    this.notify({\n      listeners: true\n    });\n  }\n\n  mutate(variables, options) {\n    this.mutateOptions = options;\n\n    if (this.currentMutation) {\n      this.currentMutation.removeObserver(this);\n    }\n\n    this.currentMutation = this.client.getMutationCache().build(this.client, { ...this.options,\n      variables: typeof variables !== 'undefined' ? variables : this.options.variables\n    });\n    this.currentMutation.addObserver(this);\n    return this.currentMutation.execute();\n  }\n\n  updateResult() {\n    const state = this.currentMutation ? this.currentMutation.state : getDefaultState();\n    const result = { ...state,\n      isLoading: state.status === 'loading',\n      isSuccess: state.status === 'success',\n      isError: state.status === 'error',\n      isIdle: state.status === 'idle',\n      mutate: this.mutate,\n      reset: this.reset\n    };\n    this.currentResult = result;\n  }\n\n  notify(options) {\n    notifyManager.batch(() => {\n      // First trigger the mutate callbacks\n      if (this.mutateOptions && this.hasListeners()) {\n        if (options.onSuccess) {\n          var _this$mutateOptions$o, _this$mutateOptions, _this$mutateOptions$o2, _this$mutateOptions2;\n\n          (_this$mutateOptions$o = (_this$mutateOptions = this.mutateOptions).onSuccess) == null ? void 0 : _this$mutateOptions$o.call(_this$mutateOptions, this.currentResult.data, this.currentResult.variables, this.currentResult.context);\n          (_this$mutateOptions$o2 = (_this$mutateOptions2 = this.mutateOptions).onSettled) == null ? void 0 : _this$mutateOptions$o2.call(_this$mutateOptions2, this.currentResult.data, null, this.currentResult.variables, this.currentResult.context);\n        } else if (options.onError) {\n          var _this$mutateOptions$o3, _this$mutateOptions3, _this$mutateOptions$o4, _this$mutateOptions4;\n\n          (_this$mutateOptions$o3 = (_this$mutateOptions3 = this.mutateOptions).onError) == null ? void 0 : _this$mutateOptions$o3.call(_this$mutateOptions3, this.currentResult.error, this.currentResult.variables, this.currentResult.context);\n          (_this$mutateOptions$o4 = (_this$mutateOptions4 = this.mutateOptions).onSettled) == null ? void 0 : _this$mutateOptions$o4.call(_this$mutateOptions4, undefined, this.currentResult.error, this.currentResult.variables, this.currentResult.context);\n        }\n      } // Then trigger the listeners\n\n\n      if (options.listeners) {\n        this.listeners.forEach(({\n          listener\n        }) => {\n          listener(this.currentResult);\n        });\n      }\n    });\n  }\n\n}\n\nexport { MutationObserver };\n//# sourceMappingURL=mutationObserver.mjs.map\n","'use client';\nimport * as React from 'react';\nimport { parseMutationArgs, MutationObserver, notifyManager } from '@tanstack/query-core';\nimport { useSyncExternalStore } from './useSyncExternalStore.mjs';\nimport { useQueryClient } from './QueryClientProvider.mjs';\nimport { shouldThrowError } from './utils.mjs';\n\nfunction useMutation(arg1, arg2, arg3) {\n  const options = parseMutationArgs(arg1, arg2, arg3);\n  const queryClient = useQueryClient({\n    context: options.context\n  });\n  const [observer] = React.useState(() => new MutationObserver(queryClient, options));\n  React.useEffect(() => {\n    observer.setOptions(options);\n  }, [observer, options]);\n  const result = useSyncExternalStore(React.useCallback(onStoreChange => observer.subscribe(notifyManager.batchCalls(onStoreChange)), [observer]), () => observer.getCurrentResult(), () => observer.getCurrentResult());\n  const mutate = React.useCallback((variables, mutateOptions) => {\n    observer.mutate(variables, mutateOptions).catch(noop);\n  }, [observer]);\n\n  if (result.error && shouldThrowError(observer.options.useErrorBoundary, [result.error])) {\n    throw result.error;\n  }\n\n  return { ...result,\n    mutate,\n    mutateAsync: result.mutate\n  };\n} // eslint-disable-next-line @typescript-eslint/no-empty-function\n\nfunction noop() {}\n\nexport { useMutation };\n//# sourceMappingURL=useMutation.mjs.map\n"],"names":["useMutation","name","options","send","useAPI","_useMutation2","_useMutation","props","prop","payload","undefined","mutate","_mutate","mutateAsync","_mutateAsync","rest","_objectWithoutProperties","_excluded","_objectSpread","useCallback","EmailResent","_jsxs","className","children","_jsx","Icon","data_testid","icon","size","Text","as","align","Localize","i18n_default_text","components","observer","ui","client","useStore","setPreventRedirectToHub","enableApp","disableApp","is_link_expired_modal_visible","is_visible","toggleLinkExpiredModal","error","verify_error","data","verify_data","useVerifyEmail","is_email_sent","setIsEmailSent","React","formik","useFormik","initialValues","email","initialStatus","error_msg","validate","values","validEmail","getErrorMessages","onSubmit","errors","handleBlur","handleChange","handleSubmit","isSubmitting","resetForm","setStatus","setSubmitting","status","touched","message","Dialog","classNames","title","localize","has_close_icon","onConfirm","Input","type","id","onChange","e","disabled","onBlur","label","value","FormSubmitButton","has_cancel","cancel_label","onCancel","is_disabled","is_loading","logout","logoutClient","verification_code","setVerificationCode","is_deriv_com","test","window","location","hostname","host","is_reset_password_modal_visible","toggleResetPasswordModal","isTmbEnabled","useTMB","isDesktop","useDevice","onResetComplete","async","actions","is_tmb_enabled","error_code","code","password","reset_complete","then","requestOidcAuthentication","redirectCallbackUri","origin","catch","err","console","redirectToLogin","getLanguage","closeResetPasswordModal","removeActionParam","Formik","validLength","min","max","validPassword","min_number","max_number","api_request","reset_password","new_password","WS","resetPassword","response","dismissable","is_closed_on_cancel","Form","weight","PasswordMeter","input","has_error","custom_feedback_messages","password_warnings","PasswordInput","autoComplete","required","Button","primary","is_logged_in","state","dispatch","old_state","updated_state","is_unlinking","_data$get_account_sta","wait","get_account_status","social_identity_provider","waitForAccountStatus","Loading","is_fullscreen","UnlinkPasswordModal","LinkExpiredModal","ResetPasswordModal","UnlinkPassword","new_email","url_action","getActionFromUrl","onGetPasswordResponse","change_email","changeEmail","toTitleCase","onClick","large","propTypes","PropTypes","reset_verification_code","unlink_verification_code","social_email_change","useCountdown","from","to","increment","count","setCount","useState","is_running","setIsRunning","useEffect","timer","setTimeout","pause","old","clearTimeout","reset","start","stop","useRequest","counter","sent_count","setSentCount","request_email","verify_email","sendPhoneNumberVerifyEmail","isLoading","is_counter_running","has_been_sent","MutationObserver","constructor","super","this","setOptions","bindMethods","updateResult","bind","_this$currentMutation","prevOptions","defaultMutationOptions","getMutationCache","notify","mutation","currentMutation","onUnsubscribe","_this$currentMutation2","hasListeners","removeObserver","onMutationUpdate","action","notifyOptions","listeners","onSuccess","onError","getCurrentResult","currentResult","variables","mutateOptions","build","addObserver","execute","result","isSuccess","isError","isIdle","notifyManager","batch","_this$mutateOptions$o","_this$mutateOptions","_this$mutateOptions$o2","_this$mutateOptions2","call","context","onSettled","_this$mutateOptions$o3","_this$mutateOptions3","_this$mutateOptions$o4","_this$mutateOptions4","forEach","listener","arg1","arg2","arg3","queryClient","useSyncExternalStore","onStoreChange","subscribe","batchCalls","noop","useErrorBoundary"],"sourceRoot":""}