"use strict";(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["vendors-node_modules_cloudflare_stream-react_dist_stream-react_esm_js-node_modules_deriv_quil-def6bf"],{"../../node_modules/@cloudflare/stream-react/dist/stream-react.esm.js":(e,t,n)=>{n.d(t,{Z:()=>d});var r=n("react"),a=n.n(r),i="https://embed.cloudflarestream.com/embed/sdk.latest.js",o=function(){if("undefined"!=typeof window)return window.Stream};function s(e,t,n){(0,r.useEffect)((function(){t.current&&(t.current[e]=n)}),[e,n,t])}function l(e,t,n){void 0===n&&(n=u),(0,r.useEffect)((function(){if(t.current){var r=t.current;return r.addEventListener(e,n),function(){return r.removeEventListener(e,n)}}}),[n,e,t])}var u=function(){},d=function(e){return function(){var e=(0,r.useState)(o),t=e[0],n=e[1];return(0,r.useEffect)((function(){if(!t){var e=document.querySelector("script[src='"+i+"']"),r=null!=e?e:document.createElement("script");r.addEventListener("load",(function(){n(o)})),e||(r.src=i,document.head.appendChild(r))}}),[t]),t}()?a().createElement(m,Object.assign({},e)):null},c={position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%"},h=function(e){var t=e.children,n=e.responsive,i=e.className,o=e.videoDimensions,s=o.videoHeight,l=o.videoWidth,u=(0,r.useMemo)((function(){return{position:"relative",paddingTop:l>0?s/l*100+"%":void 0}}),[l,s]);return a().createElement("div",{className:i,style:n?u:void 0},t)},m=function(e){var t=e.src,n=e.customerCode,i=e.adUrl,u=e.controls,d=void 0!==u&&u,m=e.muted,f=void 0!==m&&m,p=e.autoplay,v=void 0!==p&&p,g=e.loop,_=void 0!==g&&g,y=e.preload,w=void 0===y?"metadata":y,b=e.primaryColor,C=e.letterboxColor,L=e.defaultTextTrack,E=e.height,M=e.width,x=e.poster,S=e.currentTime,I=void 0===S?0:S,F=e.volume,P=void 0===F?1:F,A=e.playbackRate,T=void 0===A?1:A,k=e.startTime,j=e.streamRef,D=e.responsive,R=void 0===D||D,O=e.className,$=e.title,W=e.onAbort,z=e.onCanPlay,U=e.onCanPlayThrough,N=e.onDurationChange,H=e.onEnded,B=e.onError,q=e.onLoadedData,V=e.onLoadedMetaData,Y=e.onLoadStart,G=e.onPause,J=e.onPlay,Q=e.onPlaying,K=e.onProgress,Z=e.onRateChange,X=e.onResize,ee=e.onSeeked,te=e.onSeeking,ne=e.onStalled,re=e.onSuspend,ae=e.onTimeUpdate,ie=e.onVolumeChange,oe=e.onWaiting,se=e.onStreamAdStart,le=e.onStreamAdEnd,ue=e.onStreamAdTimeout,de=(0,r.useRef)(),ce=null!=j?j:de,he=(0,r.useState)({videoHeight:0,videoWidth:0}),me=he[0],fe=he[1],pe=(0,r.useRef)(null),ve=function(e,t){var n=t.muted,a=t.preload,i=t.loop,o=t.autoplay,s=t.controls,l=t.poster,u=t.primaryColor,d=t.letterboxColor,c=t.adUrl,h=t.startTime,m=t.defaultTextTrack,f=t.customerCode,p=[l&&"poster="+encodeURIComponent(l),c&&"ad-url="+encodeURIComponent(c),m&&"defaultTextTrack="+encodeURIComponent(m),u&&"primaryColor="+encodeURIComponent(u),d&&"letterboxColor="+encodeURIComponent(d),h&&"startTime="+h,n&&"muted=true",a&&"preload="+a,i&&"loop=true",o&&"autoplay=true",!s&&"controls=false"].filter(Boolean).join("&");return(0,r.useMemo)((function(){return f?"https://customer-"+f+".cloudflarestream.com/"+e+"/iframe?"+p:"https://iframe.cloudflarestream.com/"+e+"?"+p}),[])}(t,{customerCode:n,muted:f,preload:w,loop:_,autoplay:v,controls:d,poster:x,primaryColor:b,letterboxColor:C,adUrl:i,defaultTextTrack:L,startTime:k}),ge=function(e){try{var t=new URL(e);return t.hostname.endsWith("videodelivery.net")||t.hostname.endsWith("cloudflarestream.com")}catch(e){return!1}}(t)?t:ve;return s("muted",ce,f),s("controls",ce,d),s("src",ce,t),s("autoplay",ce,v),s("currentTime",ce,I),s("loop",ce,_),s("preload",ce,w),s("primaryColor",ce,b),s("letterboxColor",ce,C),s("volume",ce,P),s("playbackRate",ce,T),(0,r.useEffect)((function(){var e=o();if(pe.current&&e){var t=e(pe.current);ce.current=t;var n=t.videoHeight,r=t.videoWidth;n&&r&&fe({videoHeight:n,videoWidth:r})}}),[]),l("abort",ce,W),l("canplay",ce,z),l("canplaythrough",ce,U),l("durationchange",ce,N),l("ended",ce,H),l("error",ce,B),l("loadeddata",ce,q),l("loadedmetadata",ce,V),l("loadstart",ce,Y),l("pause",ce,G),l("play",ce,J),l("playing",ce,Q),l("progress",ce,K),l("ratechange",ce,Z),l("seeked",ce,ee),l("seeking",ce,te),l("stalled",ce,ne),l("suspend",ce,re),l("timeupdate",ce,ae),l("volumechange",ce,ie),l("waiting",ce,oe),l("stream-adstart",ce,se),l("stream-adend",ce,le),l("stream-adtimeout",ce,ue),l("resize",ce,(function(e){if(ce.current){var t=ce.current,n=t.videoHeight,r=t.videoWidth;fe({videoHeight:n,videoWidth:r}),X&&X(e)}})),a().createElement(h,{className:O,responsive:R,videoDimensions:me},a().createElement("iframe",{ref:pe,src:ge,title:$,style:R?c:void 0,frameBorder:0,height:E,width:M,allow:"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;",allowFullScreen:!0}))}},"../../node_modules/@deriv/quill-icons/dist/esm/react/LabelPaired/LabelPairedPlayMdFillIcon.js":(e,t,n)=>{n.d(t,{A:()=>a});var r=n("react");const a=(0,r.forwardRef)((({title:e,titleId:t,...n},a)=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:24,viewBox:"0 0 12 24",role:"img",ref:a,"aria-labelledby":t,...n},e?r.createElement("title",{id:t},e):null,r.createElement("g",null,r.createElement("path",{d:"m2.281 5.219 9 5.5C11.72 11 12 11.5 12 12c0 .531-.281 1.031-.719 1.281l-9 5.5c-.469.282-1.062.313-1.531.032-.469-.25-.75-.75-.75-1.313v-11c0-.531.281-1.031.75-1.281a1.5 1.5 0 0 1 1.531 0"})),r.createElement("defs",null,r.createElement("clipPath",{id:"9b5c6a7dac6a07b35c66518131ca0570__a"},r.createElement("path",{d:"M0 0h12v24H0z"}))))))},"../../node_modules/@deriv/quill-icons/dist/esm/types/index.js":(e,t,n)=>{n.d(t,{L:()=>r});const r={xs:{width:16,height:16},sm:{width:24,height:24},md:{width:32,height:32},lg:{width:48,height:48},xl:{width:64,height:64},"2xl":{width:96,height:96}}},"../../node_modules/@deriv-com/quill-ui/dist/assets/date-picker.css":()=>{},"../../node_modules/@deriv-com/quill-ui/dist/assets/divider.css":()=>{},"../../node_modules/@deriv-com/quill-ui/dist/assets/password-validation.css":()=>{},"../../node_modules/@deriv-com/quill-ui/dist/assets/wheel-picker-base.css":()=>{},"../../node_modules/@deriv-com/quill-ui/dist/clsx-OuTLNxxd.js":(e,t,n)=>{function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function a(){for(var e,t,n=0,a="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.d(t,{c:()=>a})},"../../node_modules/@deriv-com/quill-ui/dist/components/Chip/index.js":(e,t,n)=>{n.d(t,{v:()=>it});var r=n("../../node_modules/@deriv-com/quill-ui/dist/jsx-runtime-DmTjM30f.js"),a=n("react"),i=n.t(a,2),o=n("../../node_modules/@deriv-com/quill-ui/dist/clsx-OuTLNxxd.js"),s=n("../../node_modules/@deriv-com/quill-ui/dist/components/Typography/caption/index.js"),l=n("../../node_modules/@deriv-com/quill-ui/dist/components/Typography/text/index.js"),u=n("../../node_modules/@deriv-com/quill-ui/dist/index-CQbz1p6_.js");const d=(0,a.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...u.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?a.createElement("title",{id:n},t):null,a.createElement("path",{d:"M16 7.75a8.73 8.73 0 0 0-7.578 4.375c-1.602 2.734-1.602 6.055 0 8.75C9.984 23.609 12.836 25.25 16 25.25a8.63 8.63 0 0 0 7.54-4.375c1.6-2.695 1.6-6.016 0-8.75C21.976 9.43 19.124 7.75 16 7.75m0 18.75c-3.594 0-6.875-1.875-8.672-5-1.797-3.086-1.797-6.875 0-10 1.797-3.086 5.078-5 8.672-5 3.555 0 6.836 1.914 8.633 5 1.797 3.125 1.797 6.914 0 10a9.93 9.93 0 0 1-8.633 5m-2.969-12.93a.66.66 0 0 1 .899 0L16 15.64l2.031-2.07a.66.66 0 0 1 .899 0 .66.66 0 0 1 0 .899L16.86 16.5l2.07 2.07a.66.66 0 0 1 0 .899.66.66 0 0 1-.899 0L16 17.399l-2.07 2.07a.66.66 0 0 1-.899 0 .66.66 0 0 1 0-.899l2.07-2.07-2.07-2.031a.66.66 0 0 1 0-.899"})))),c=(0,a.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...u.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?a.createElement("title",{id:n},t):null,a.createElement("path",{d:"M16.43 21.969a.66.66 0 0 1-.899 0l-7.5-7.5a.66.66 0 0 1 0-.899.66.66 0 0 1 .899 0L16 20.64l7.031-7.07a.66.66 0 0 1 .899 0 .66.66 0 0 1 0 .899z"})))),h={sm:r.j.jsx(s.O,{}),md:r.j.jsx(l.E,{}),lg:r.j.jsx(l.E,{})},m=(0,a.forwardRef)((({icon:e,size:t="md",label:n,labelTag:i,dismissible:l=!1,dropdown:u=!1,className:m,selected:f,isDropdownOpen:p,onChipSelect:v,onDismiss:g,children:_,...y},w)=>{const b=l||u;return r.j.jsxs("button",{onClick:e=>{if(!l&&!u)if(void 0===f){const t=e.currentTarget,n="selected"===t.getAttribute("data-state"),r=n?"":"selected";t.setAttribute("data-state",r),null==v||v(e,!n)}else null==v||v(e,f)},className:(0,o.c)("quill-chip",`quill-chip__size--${t}`,b&&`quill-chip__custom-right-padding__size--${t}`,m),"data-state":f?"selected":"",ref:w,...y,children:[e&&r.j.jsx(e,{}),n&&a.cloneElement(h[t],{children:n}),_,i&&r.j.jsx(s.O,{bold:!0,children:i}),l&&r.j.jsx(d,{iconSize:"sm",onClick:e=>{null==g||g(e)},"data-testid":"dt-chip-dismissible-btn",className:"dismissible-icon"}),u&&r.j.jsx(c,{width:24,height:24,"data-state":p?"open":"close",className:"rotate"})]})})),f=(0,a.forwardRef)((({onDismiss:e,className:t,...n},a)=>r.j.jsx(m,{onDismiss:e,className:(0,o.c)("quill-dismissible-chip",t),ref:a,dismissible:!0,...n})));f.displayName="DismissibleChip";var p=Object.defineProperty,v=(e,t,n)=>(((e,t,n)=>{t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let g=new class{constructor(){v(this,"current",this.detect()),v(this,"handoffState","pending"),v(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},_=(e,t)=>{g.isServer?(0,a.useEffect)(e,t):(0,a.useLayoutEffect)(e,t)};function y(e){let t=(0,a.useRef)(e);return _((()=>{t.current=e}),[e]),t}function w(e,t){let[n,r]=(0,a.useState)(e),i=y(e);return _((()=>r(i.current)),[i,r,...t]),n}let b=function(e){let t=y(e);return a.useCallback(((...e)=>t.current(...e)),[t])};function C(){let e=[],t={addEventListener:(e,n,r,a)=>(e.addEventListener(n,r,a),t.add((()=>e.removeEventListener(n,r,a)))),requestAnimationFrame(...e){let n=requestAnimationFrame(...e);return t.add((()=>cancelAnimationFrame(n)))},nextFrame:(...e)=>t.requestAnimationFrame((()=>t.requestAnimationFrame(...e))),setTimeout(...e){let n=setTimeout(...e);return t.add((()=>clearTimeout(n)))},microTask(...e){let n={current:!0};return function(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}((()=>{n.current&&e[0]()})),t.add((()=>{n.current=!1}))},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add((()=>{Object.assign(e.style,{[t]:r})}))},group(e){let t=C();return e(t),this.add((()=>t.dispose()))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function L(){let[e]=(0,a.useState)(C);return(0,a.useEffect)((()=>()=>e.dispose()),[e]),e}function E(){let e=function(){let e=typeof document>"u";return"useSyncExternalStore"in i&&i.useSyncExternalStore((()=>()=>{}),(()=>!1),(()=>!e))}(),[t,n]=a.useState(g.isHandoffComplete);return t&&!1===g.isHandoffComplete&&n(!1),a.useEffect((()=>{!0!==t&&n(!0)}),[t]),a.useEffect((()=>g.handoff()),[]),!e&&t}var M;let x=null!=(M=a.useId)?M:function(){let e=E(),[t,n]=a.useState(e?()=>g.nextId():null);return _((()=>{null===t&&n(g.nextId())}),[t]),null!=t?""+t:void 0};function S(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,S),r}function I(e){return g.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let F=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var P,A=((P=A||{})[P.First=1]="First",P[P.Previous=2]="Previous",P[P.Next=4]="Next",P[P.Last=8]="Last",P[P.WrapAround=16]="WrapAround",P[P.NoScroll=32]="NoScroll",P),T=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(T||{}),k=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(k||{}),j=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(j||{});function D(e,t=0){var n;return e!==(null==(n=I(e))?void 0:n.body)&&S(t,{0:()=>e.matches(F),1(){let t=e;for(;null!==t;){if(t.matches(F))return!0;t=t.parentElement}return!1}})}var R=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(R||{});function O(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0||/Android/gi.test(window.navigator.userAgent)}function $(e,t,n){let r=y(t);(0,a.useEffect)((()=>{function t(e){r.current(e)}return document.addEventListener(e,t,n),()=>document.removeEventListener(e,t,n)}),[e,n])}function W(e,t,n=!0){let r=(0,a.useRef)(!1);function i(n,a){if(!r.current||n.defaultPrevented)return;let i=a(n);if(null===i||!i.getRootNode().contains(i)||!i.isConnected)return;let o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e);for(let e of o){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(i)||n.composed&&n.composedPath().includes(t))return}return!D(i,j.Loose)&&-1!==i.tabIndex&&n.preventDefault(),t(n,i)}(0,a.useEffect)((()=>{requestAnimationFrame((()=>{r.current=n}))}),[n]);let o=(0,a.useRef)(null);$("pointerdown",(e=>{var t,n;r.current&&(o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),$("mousedown",(e=>{var t,n;r.current&&(o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),$("click",(e=>{O()||o.current&&(i(e,(()=>o.current)),o.current=null)}),!0),$("touchend",(e=>i(e,(()=>e.target instanceof HTMLElement?e.target:null))),!0),function(e,t,n){let r=y(t);(0,a.useEffect)((()=>{function t(e){r.current(e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}),[e,n])}("blur",(e=>i(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}function z(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function U(e,t){let[n,r]=(0,a.useState)((()=>z(e)));return _((()=>{r(z(e))}),[e.type,e.as]),_((()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")}),[n,t]),n}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let N=Symbol();function H(...e){let t=(0,a.useRef)(e);(0,a.useEffect)((()=>{t.current=e}),[e]);let n=b((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[N])))?void 0:n}function B(e){return[e.screenX,e.screenY]}function q(...e){return Array.from(new Set(e.flatMap((e=>"string"==typeof e?e.split(" "):[])))).filter(Boolean).join(" ")}var V=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(V||{}),Y=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Y||{});function G({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:a,visible:i=!0,name:o,mergeRefs:s}){s=s??Q;let l=K(t,e);if(i)return J(l,n,r,o,s);let u=a??0;if(2&u){let{static:e=!1,...t}=l;if(e)return J(t,n,r,o,s)}if(1&u){let{unmount:e=!0,...t}=l;return S(e?0:1,{0:()=>null,1:()=>J({...t,hidden:!0,style:{display:"none"}},n,r,o,s)})}return J(l,n,r,o,s)}function J(e,t={},n,r,i){let{as:o=n,children:s,refName:l="ref",...u}=ee(e,["unmount","static"]),d=void 0!==e.ref?{[l]:e.ref}:{},c="function"==typeof s?s(t):s;"className"in u&&u.className&&"function"==typeof u.className&&(u.className=u.className(t));let h={};if(t){let e=!1,n=[];for(let[r,a]of Object.entries(t))"boolean"==typeof a&&(e=!0),!0===a&&n.push(r);e&&(h["data-headlessui-state"]=n.join(" "))}if(o===a.Fragment&&Object.keys(X(u)).length>0){if(!(0,a.isValidElement)(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));let e=c.props,t="function"==typeof(null==e?void 0:e.className)?(...t)=>q(null==e?void 0:e.className(...t),u.className):q(null==e?void 0:e.className,u.className),n=t?{className:t}:{};return(0,a.cloneElement)(c,Object.assign({},K(c.props,X(ee(u,["ref"]))),h,d,{ref:i(c.ref,d.ref)},n))}return(0,a.createElement)(o,Object.assign({},ee(u,["ref"]),o!==a.Fragment&&d,o!==a.Fragment&&h),c)}function Q(...e){return e.every((e=>null==e))?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}function K(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let e in n)Object.assign(t,{[e](t,...r){let a=n[e];for(let e of a){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...r)}}});return t}function Z(e){var t;return Object.assign((0,a.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function X(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function ee(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}var te=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(te||{});let ne=Z((function(e,t){var n;let{features:r=1,...a}=e;return G({ourProps:{ref:t,"aria-hidden":!(2&~r)||(null!=(n=a["aria-hidden"])?n:void 0),style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...!(4&~r)&&!!(2&~r)&&{display:"none"}}},theirProps:a,slot:{},defaultTag:"div",name:"Hidden"})})),re=(0,a.createContext)(null);re.displayName="OpenClosedContext";var ae=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ae||{});function ie(){return(0,a.useContext)(re)}function oe({value:e,children:t}){return a.createElement(re.Provider,{value:e},t)}function se(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}var le=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(le||{});function ue(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),a=r??-1;switch(e.focus){case 0:for(let e=0;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 1:for(let e=a-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 2:for(let e=a+1;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 3:for(let e=n.length-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 4:for(let r=0;r<n.length;++r)if(t.resolveId(n[r],r,n)===e.id)return r;return r;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}function de(e={},t=null,n=[]){for(let[r,a]of Object.entries(e))he(n,ce(t,r),a);return n}function ce(e,t){return e?e+"["+t+"]":t}function he(e,t,n){if(Array.isArray(n))for(let[r,a]of n.entries())he(e,ce(t,r.toString()),a);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):de(n,t,e)}var me=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(me||{});function fe(){let e=(0,a.useRef)(!1);return _((()=>(e.current=!0,()=>{e.current=!1})),[]),e}let pe=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ve(e){var t,n;let r=null!=(t=e.innerText)?t:"",a=e.cloneNode(!0);if(!(a instanceof HTMLElement))return r;let i=!1;for(let e of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))e.remove(),i=!0;let o=i?null!=(n=a.innerText)?n:"":r;return pe.test(o)&&(o=o.replace(pe,"")),o}function ge(e){let t=(0,a.useRef)(""),n=(0,a.useRef)("");return b((()=>{let r=e.current;if(!r)return"";let a=r.innerText;if(t.current===a)return n.current;let i=function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let e=n.split(" ").map((e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():ve(t).trim()}return null})).filter(Boolean);if(e.length>0)return e.join(", ")}return ve(e).trim()}(r).trim().toLowerCase();return t.current=a,n.current=i,i}))}var _e=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(_e||{}),ye=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ye||{}),we=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(we||{}),be=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(be||{});function Ce(e,t=e=>e){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=function(e,t=e=>e){return e.slice().sort(((e,n)=>{let r=t(e),a=t(n);if(null===r||null===a)return 0;let i=r.compareDocumentPosition(a);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),a=n?r.indexOf(n):null;return-1===a&&(a=null),{options:r,activeOptionIndex:a}}let Le={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex((e=>n(e.dataRef.current.value)));return-1!==r&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||1===e.listboxState)return e;let r=Ce(e),a=ue(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:a,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),a=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),i=a?e.options.indexOf(a):-1;return-1===i||i===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:i,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=Ce(e,(e=>[...e,n]));return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=Ce(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},Ee=(0,a.createContext)(null);function Me(e){let t=(0,a.useContext)(Ee);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Me),t}return t}Ee.displayName="ListboxActionsContext";let xe=(0,a.createContext)(null);function Se(e){let t=(0,a.useContext)(xe);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Se),t}return t}function Ie(e,t){return S(t.type,Le,e,t)}xe.displayName="ListboxDataContext";let Fe=a.Fragment;let Pe=V.RenderStrategy|V.Static;let Ae=Z((function(e,t){let{value:n,defaultValue:r,form:i,name:o,onChange:s,by:l=(e,t)=>e===t,disabled:u=!1,horizontal:d=!1,multiple:c=!1,...h}=e;const m=d?"horizontal":"vertical";let f=H(t),[p=(c?[]:void 0),v]=function(e,t,n){let[r,i]=(0,a.useState)(n),o=void 0!==e,s=(0,a.useRef)(o),l=(0,a.useRef)(!1),u=(0,a.useRef)(!1);return!o||s.current||l.current?!o&&s.current&&!u.current&&(u.current=!0,s.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(l.current=!0,s.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[o?e:r,b((e=>(o||i(e),null==t?void 0:t(e))))]}(n,s,r),[g,y]=(0,a.useReducer)(Ie,{dataRef:(0,a.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),w=(0,a.useRef)({static:!1,hold:!1}),C=(0,a.useRef)(null),E=(0,a.useRef)(null),M=(0,a.useRef)(null),x=b("string"==typeof l?(e,t)=>{let n=l;return(null==e?void 0:e[n])===(null==t?void 0:t[n])}:l),I=(0,a.useCallback)((e=>S(F.mode,{1:()=>p.some((t=>x(t,e))),0:()=>x(p,e)})),[p]),F=(0,a.useMemo)((()=>({...g,value:p,disabled:u,mode:c?1:0,orientation:m,compare:x,isSelected:I,optionsPropsRef:w,labelRef:C,buttonRef:E,optionsRef:M})),[p,u,c,g]);_((()=>{g.dataRef.current=F}),[F]),W([F.buttonRef,F.optionsRef],((e,t)=>{var n;y({type:1}),D(t,j.Loose)||(e.preventDefault(),null==(n=F.buttonRef.current)||n.focus())}),0===F.listboxState);let P=(0,a.useMemo)((()=>({open:0===F.listboxState,disabled:u,value:p})),[F,u,p]),A=b((e=>{let t=F.options.find((t=>t.id===e));t&&U(t.dataRef.current.value)})),T=b((()=>{if(null!==F.activeOptionIndex){let{dataRef:e,id:t}=F.options[F.activeOptionIndex];U(e.current.value),y({type:2,focus:le.Specific,id:t})}})),k=b((()=>y({type:0}))),R=b((()=>y({type:1}))),O=b(((e,t,n)=>e===le.Specific?y({type:2,focus:le.Specific,id:t,trigger:n}):y({type:2,focus:e,trigger:n}))),$=b(((e,t)=>(y({type:5,id:e,dataRef:t}),()=>y({type:6,id:e})))),z=b((e=>(y({type:7,id:e}),()=>y({type:7,id:null})))),U=b((e=>S(F.mode,{0:()=>null==v?void 0:v(e),1(){let t=F.value.slice(),n=t.findIndex((t=>x(t,e)));return-1===n?t.push(e):t.splice(n,1),null==v?void 0:v(t)}}))),N=b((e=>y({type:3,value:e}))),B=b((()=>y({type:4}))),q=(0,a.useMemo)((()=>({onChange:U,registerOption:$,registerLabel:z,goToOption:O,closeListbox:R,openListbox:k,selectActiveOption:T,selectOption:A,search:N,clearSearch:B})),[]),V={ref:f},Y=(0,a.useRef)(null),J=L();return(0,a.useEffect)((()=>{Y.current&&void 0!==r&&J.addEventListener(Y.current,"reset",(()=>{null==v||v(r)}))}),[Y,v]),a.createElement(Ee.Provider,{value:q},a.createElement(xe.Provider,{value:F},a.createElement(oe,{value:S(F.listboxState,{0:ae.Open,1:ae.Closed})},null!=o&&null!=p&&de({[o]:p}).map((([e,t],n)=>a.createElement(ne,{features:te.Hidden,ref:0===n?e=>{var t;Y.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...X({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,name:e,value:t})}))),G({ourProps:V,theirProps:h,slot:P,defaultTag:Fe,name:"Listbox"}))))})),Te=Z((function(e,t){var n;let r=x(),{id:i=`headlessui-listbox-button-${r}`,...o}=e,s=Se("Listbox.Button"),l=Me("Listbox.Button"),u=H(s.buttonRef,t),d=L(),c=b((e=>{switch(e.key){case me.Space:case me.Enter:case me.ArrowDown:e.preventDefault(),l.openListbox(),d.nextFrame((()=>{s.value||l.goToOption(le.First)}));break;case me.ArrowUp:e.preventDefault(),l.openListbox(),d.nextFrame((()=>{s.value||l.goToOption(le.Last)}))}})),h=b((e=>{if(e.key===me.Space)e.preventDefault()})),m=b((e=>{if(se(e.currentTarget))return e.preventDefault();0===s.listboxState?(l.closeListbox(),d.nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),l.openListbox())})),f=w((()=>{if(s.labelId)return[s.labelId,i].join(" ")}),[s.labelId,i]),p=(0,a.useMemo)((()=>({open:0===s.listboxState,disabled:s.disabled,value:s.value})),[s]);return G({ourProps:{ref:u,id:i,type:U(e,s.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(n=s.optionsRef.current)?void 0:n.id,"aria-expanded":0===s.listboxState,"aria-labelledby":f,disabled:s.disabled,onKeyDown:c,onKeyUp:h,onClick:m},theirProps:o,slot:p,defaultTag:"button",name:"Listbox.Button"})})),ke=Z((function(e,t){let n=x(),{id:r=`headlessui-listbox-label-${n}`,...i}=e,o=Se("Listbox.Label"),s=Me("Listbox.Label"),l=H(o.labelRef,t);_((()=>s.registerLabel(r)),[r]);let u=b((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),d=(0,a.useMemo)((()=>({open:0===o.listboxState,disabled:o.disabled})),[o]);return G({ourProps:{ref:l,id:r,onClick:u},theirProps:i,slot:d,defaultTag:"label",name:"Listbox.Label"})})),je=Z((function(e,t){var n;let r=x(),{id:i=`headlessui-listbox-options-${r}`,...o}=e,s=Se("Listbox.Options"),l=Me("Listbox.Options"),u=H(s.optionsRef,t),d=L(),c=L(),h=ie(),m=null!==h?(h&ae.Open)===ae.Open:0===s.listboxState;(0,a.useEffect)((()=>{var e;let t=s.optionsRef.current;t&&0===s.listboxState&&t!==(null==(e=I(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[s.listboxState,s.optionsRef]);let f=b((e=>{switch(c.dispose(),e.key){case me.Space:if(""!==s.searchQuery)return e.preventDefault(),e.stopPropagation(),l.search(e.key);case me.Enter:if(e.preventDefault(),e.stopPropagation(),null!==s.activeOptionIndex){let{dataRef:e}=s.options[s.activeOptionIndex];l.onChange(e.current.value)}0===s.mode&&(l.closeListbox(),C().nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case S(s.orientation,{vertical:me.ArrowDown,horizontal:me.ArrowRight}):return e.preventDefault(),e.stopPropagation(),l.goToOption(le.Next);case S(s.orientation,{vertical:me.ArrowUp,horizontal:me.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),l.goToOption(le.Previous);case me.Home:case me.PageUp:return e.preventDefault(),e.stopPropagation(),l.goToOption(le.First);case me.End:case me.PageDown:return e.preventDefault(),e.stopPropagation(),l.goToOption(le.Last);case me.Escape:return e.preventDefault(),e.stopPropagation(),l.closeListbox(),d.nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case me.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(l.search(e.key),c.setTimeout((()=>l.clearSearch()),350))}})),p=w((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.id}),[s.buttonRef.current]),v=(0,a.useMemo)((()=>({open:0===s.listboxState})),[s]);return G({ourProps:{"aria-activedescendant":null===s.activeOptionIndex||null==(n=s.options[s.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===s.mode||void 0,"aria-labelledby":p,"aria-orientation":s.orientation,id:i,onKeyDown:f,role:"listbox",tabIndex:0,ref:u},theirProps:o,slot:v,defaultTag:"ul",features:Pe,visible:m,name:"Listbox.Options"})})),De=Z((function(e,t){let n=x(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:o,...s}=e,l=Se("Listbox.Option"),u=Me("Listbox.Option"),d=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===r,c=l.isSelected(o),h=(0,a.useRef)(null),m=ge(h),f=y({disabled:i,value:o,domRef:h,get textValue(){return m()}}),p=H(t,h);_((()=>{if(0!==l.listboxState||!d||0===l.activationTrigger)return;let e=C();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=h.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[h,d,l.listboxState,l.activationTrigger,l.activeOptionIndex]),_((()=>u.registerOption(r,f)),[f,r]);let v=b((e=>{if(i)return e.preventDefault();u.onChange(o),0===l.mode&&(u.closeListbox(),C().nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),g=b((()=>{if(i)return u.goToOption(le.Nothing);u.goToOption(le.Specific,r)})),w=function(){let e=(0,a.useRef)([-1,-1]);return{wasMoved(t){let n=B(t);return(e.current[0]!==n[0]||e.current[1]!==n[1])&&(e.current=n,!0)},update(t){e.current=B(t)}}}(),L=b((e=>w.update(e))),E=b((e=>{w.wasMoved(e)&&(i||d||u.goToOption(le.Specific,r,0))})),M=b((e=>{w.wasMoved(e)&&(i||d&&u.goToOption(le.Nothing))})),S=(0,a.useMemo)((()=>({active:d,selected:c,disabled:i})),[d,c,i]);return G({ourProps:{id:r,ref:p,role:"option",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,"aria-selected":c,disabled:void 0,onClick:v,onFocus:g,onPointerEnter:L,onMouseEnter:L,onPointerMove:E,onMouseMove:E,onPointerLeave:M,onMouseLeave:M},theirProps:s,slot:S,defaultTag:"li",name:"Listbox.Option"})})),Re=Object.assign(Ae,{Button:Te,Label:ke,Options:je,Option:De});function Oe(e,...t){e&&t.length>0&&e.classList.add(...t)}function $e(e,...t){e&&t.length>0&&e.classList.remove(...t)}function We(e,t,n,r){let a=n?"enter":"leave",i=C(),o=void 0!==r?function(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}(r):()=>{};"enter"===a&&(e.removeAttribute("hidden"),e.style.display="");let s=S(a,{enter:()=>t.enter,leave:()=>t.leave}),l=S(a,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=S(a,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return $e(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Oe(e,...t.base,...s,...u),i.nextFrame((()=>{$e(e,...t.base,...s,...u),Oe(e,...t.base,...s,...l),function(e,t){let n=C();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:a}=getComputedStyle(e),[i,o]=[r,a].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t})),s=i+o;if(0!==s){n.group((n=>{n.setTimeout((()=>{t(),n.dispose()}),s),n.addEventListener(e,"transitionrun",(e=>{e.target===e.currentTarget&&n.dispose()}))}));let r=n.addEventListener(e,"transitionend",(e=>{e.target===e.currentTarget&&(t(),r())}))}else t();n.add((()=>t())),n.dispose}(e,(()=>($e(e,...t.base,...s),Oe(e,...t.base,...t.entered),o())))})),i.dispose}function ze(e=""){return e.split(/\s+/).filter((e=>e.length>1))}let Ue=(0,a.createContext)(null);Ue.displayName="TransitionContext";var Ne=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Ne||{});let He=(0,a.createContext)(null);function Be(e){return"children"in e?Be(e.children):e.current.filter((({el:e})=>null!==e.current)).filter((({state:e})=>"visible"===e)).length>0}function qe(e,t){let n=y(e),r=(0,a.useRef)([]),i=fe(),o=L(),s=b(((e,t=Y.Hidden)=>{let a=r.current.findIndex((({el:t})=>t===e));-1!==a&&(S(t,{[Y.Unmount](){r.current.splice(a,1)},[Y.Hidden](){r.current[a].state="hidden"}}),o.microTask((()=>{var e;!Be(r)&&i.current&&(null==(e=n.current)||e.call(n))})))})),l=b((e=>{let t=r.current.find((({el:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({el:e,state:"visible"}),()=>s(e,Y.Unmount)})),u=(0,a.useRef)([]),d=(0,a.useRef)(Promise.resolve()),c=(0,a.useRef)({enter:[],leave:[],idle:[]}),h=b(((e,n,r)=>{u.current.splice(0),t&&(t.chains.current[n]=t.chains.current[n].filter((([t])=>t!==e))),null==t||t.chains.current[n].push([e,new Promise((e=>{u.current.push(e)}))]),null==t||t.chains.current[n].push([e,new Promise((e=>{Promise.all(c.current[n].map((([e,t])=>t))).then((()=>e()))}))]),"enter"===n?d.current=d.current.then((()=>null==t?void 0:t.wait.current)).then((()=>r(n))):r(n)})),m=b(((e,t,n)=>{Promise.all(c.current[t].splice(0).map((([e,t])=>t))).then((()=>{var e;null==(e=u.current.shift())||e()})).then((()=>n(t)))}));return(0,a.useMemo)((()=>({children:r,register:l,unregister:s,onStart:h,onStop:m,wait:d,chains:c})),[l,s,r,h,m,c,d])}function Ve(){}He.displayName="NestingContext";let Ye=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Ge(e){var t;let n={};for(let r of Ye)n[r]=null!=(t=e[r])?t:Ve;return n}let Je=V.RenderStrategy;let Qe=Z((function(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,s=(0,a.useRef)(null),l=H(s,t);E();let u=ie();if(void 0===n&&null!==u&&(n=(u&ae.Open)===ae.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,c]=(0,a.useState)(n?"visible":"hidden"),h=qe((()=>{c("hidden")})),[m,f]=(0,a.useState)(!0),p=(0,a.useRef)([n]);_((()=>{!1!==m&&p.current[p.current.length-1]!==n&&(p.current.push(n),f(!1))}),[p,n]);let v=(0,a.useMemo)((()=>({show:n,appear:r,initial:m})),[n,r,m]);(0,a.useEffect)((()=>{if(n)c("visible");else if(Be(h)){let e=s.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&c("hidden")}else c("hidden")}),[n,h]);let g={unmount:i},y=b((()=>{var t;m&&f(!1),null==(t=e.beforeEnter)||t.call(e)})),w=b((()=>{var t;m&&f(!1),null==(t=e.beforeLeave)||t.call(e)}));return a.createElement(He.Provider,{value:h},a.createElement(Ue.Provider,{value:v},G({ourProps:{...g,as:a.Fragment,children:a.createElement(Ke,{ref:l,...g,...o,beforeEnter:y,beforeLeave:w})},theirProps:{},defaultTag:a.Fragment,features:Je,visible:"visible"===d,name:"Transition"})))})),Ke=Z((function(e,t){var n,r;let{beforeEnter:i,afterEnter:o,beforeLeave:s,afterLeave:l,enter:u,enterFrom:d,enterTo:c,entered:h,leave:m,leaveFrom:f,leaveTo:p,...v}=e,g=(0,a.useRef)(null),w=H(g,t),M=null==(n=v.unmount)||n?Y.Unmount:Y.Hidden,{show:x,appear:I,initial:F}=function(){let e=(0,a.useContext)(Ue);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[P,A]=(0,a.useState)(x?"visible":"hidden"),T=function(){let e=(0,a.useContext)(He);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:k,unregister:j}=T;(0,a.useEffect)((()=>k(g)),[k,g]),(0,a.useEffect)((()=>{if(M===Y.Hidden&&g.current)return x&&"visible"!==P?void A("visible"):S(P,{hidden:()=>j(g),visible:()=>k(g)})}),[P,g,k,j,x,M]);let D=y({base:ze(v.className),enter:ze(u),enterFrom:ze(d),enterTo:ze(c),entered:ze(h),leave:ze(m),leaveFrom:ze(f),leaveTo:ze(p)}),R=function(e){let t=(0,a.useRef)(Ge(e));return(0,a.useEffect)((()=>{t.current=Ge(e)}),[e]),t}({beforeEnter:i,afterEnter:o,beforeLeave:s,afterLeave:l}),O=E();(0,a.useEffect)((()=>{if(O&&"visible"===P&&null===g.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[g,P,O]);let $=I&&x&&F,W=!O||F&&!I?"idle":x?"enter":"leave",z=function(e=0){let[t,n]=(0,a.useState)(e),r=fe(),i=(0,a.useCallback)((e=>{r.current&&n((t=>t|e))}),[t,r]),o=(0,a.useCallback)((e=>!!(t&e)),[t]),s=(0,a.useCallback)((e=>{r.current&&n((t=>t&~e))}),[n,r]),l=(0,a.useCallback)((e=>{r.current&&n((t=>t^e))}),[n]);return{flags:t,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:l}}(0),U=b((e=>S(e,{enter:()=>{z.addFlag(ae.Opening),R.current.beforeEnter()},leave:()=>{z.addFlag(ae.Closing),R.current.beforeLeave()},idle:()=>{}}))),N=b((e=>S(e,{enter:()=>{z.removeFlag(ae.Opening),R.current.afterEnter()},leave:()=>{z.removeFlag(ae.Closing),R.current.afterLeave()},idle:()=>{}}))),B=qe((()=>{A("hidden"),j(g)}),T),V=(0,a.useRef)(!1);!function({immediate:e,container:t,direction:n,classes:r,onStart:a,onStop:i}){let o=fe(),s=L(),l=y(n);_((()=>{e&&(l.current="enter")}),[e]),_((()=>{let e=C();s.add(e.dispose);let n=t.current;if(n&&"idle"!==l.current&&o.current)return e.dispose(),a.current(l.current),e.add(We(n,r.current,"enter"===l.current,(()=>{e.dispose(),i.current(l.current)}))),e.dispose}),[n])}({immediate:$,container:g,classes:D,direction:W,onStart:y((e=>{V.current=!0,B.onStart(g,e,U)})),onStop:y((e=>{V.current=!1,B.onStop(g,e,N),"leave"===e&&!Be(B)&&(A("hidden"),j(g))}))});let J=v,Q={ref:w};return $?J={...J,className:q(v.className,...D.current.enter,...D.current.enterFrom)}:V.current&&(J.className=q(v.className,null==(r=g.current)?void 0:r.className),""===J.className&&delete J.className),a.createElement(He.Provider,{value:B},a.createElement(oe,{value:S(P,{visible:ae.Open,hidden:ae.Closed})|z.flags},G({ourProps:Q,theirProps:J,defaultTag:"div",features:Je,visible:"visible"===P,name:"Transition.Child"})))})),Ze=Z((function(e,t){let n=null!==(0,a.useContext)(Ue),r=null!==ie();return a.createElement(a.Fragment,null,!n&&r?a.createElement(Qe,{ref:t,...e}):a.createElement(Ke,{ref:t,...e}))})),Xe=Object.assign(Qe,{Child:Ze,Root:Qe});var et=n("../../node_modules/@deriv-com/quill-ui/dist/index-C1BOoRZp.js");n("../../node_modules/@deriv-com/quill-ui/dist/assets/wheel-picker-base.css"),n("../../node_modules/@deriv-com/quill-ui/dist/assets/password-validation.css"),n("../../node_modules/@deriv-com/quill-ui/dist/assets/date-picker.css"),n("../../node_modules/@deriv-com/quill-ui/dist/assets/divider.css");const tt=({item:e,size:t})=>{const n={sm:"sm",md:"sm",lg:"md"};return r.j.jsx(Re.Option,{value:e,as:a.Fragment,disabled:e.disabled,children:({disabled:a,selected:i})=>r.j.jsx(et.D,{label:e.label,disabled:a,selected:i,size:n[t]})})},nt=(0,a.forwardRef)((({defaultOption:e,size:t="md",icon:n,labelTag:i,disabled:s,options:l,onSelectionChange:u,className:d,...c},h)=>{const[f,p]=(0,a.useState)(e);return r.j.jsx(Re,{value:f,onChange:e=>{p(e),null==u||u(e)},disabled:s,children:({open:a})=>r.j.jsxs(r.j.Fragment,{children:[r.j.jsx(Re.Button,{as:"div",children:r.j.jsx(m,{...c,icon:n,size:t,labelTag:i,ref:h,dropdown:!0,selected:f.value!==e.value,className:"dropdown-button",isDropdownOpen:a,disabled:s,label:null==f?void 0:f.label})}),r.j.jsx(Xe,{enter:"enter",enterFrom:"enter-from",enterTo:"enter-to",leave:"leave",leaveFrom:"enter-from",leaveTo:"leave-to",children:r.j.jsxs(Re.Options,{className:(0,o.c)("dropdown",`dropdown__size--${t}`,d),children:[r.j.jsx(tt,{item:e,size:t}),l.map((e=>r.j.jsx(tt,{item:e,size:t},`chip-selectable-item-${e.value}`)))]})})]})})}));nt.displayName="DropdownChipSingleSelect";const rt=({item:e,size:t})=>{const n={sm:"sm",md:"sm",lg:"md"};return r.j.jsx(Re.Option,{value:e,as:a.Fragment,disabled:e.disabled,children:({disabled:a,selected:i})=>r.j.jsx(et.D,{label:e.label,disabled:a,selected:i,size:n[t],checkbox:!0})})},at=(0,a.forwardRef)((({size:e="md",icon:t,labelTag:n,disabled:i,options:s,onSelectionChange:l,className:u,label:d,...c},f)=>{const[p,v]=(0,a.useState)([]);return r.j.jsx(Re,{value:p,onChange:e=>{v(e),null==l||l(e)},multiple:!0,disabled:i,children:({open:l})=>r.j.jsxs(r.j.Fragment,{children:[r.j.jsx(Re.Button,{as:"div",children:r.j.jsx(m,{...c,icon:t,size:e,labelTag:n,ref:f,dropdown:!0,selected:p.length>0,isDropdownOpen:l,disabled:i,label:d,children:p.length>0&&a.cloneElement(h[e],{children:`(${p.length})`})})}),r.j.jsx(Xe,{enter:"enter",enterFrom:"enter-from",enterTo:"enter-to",leave:"leave",leaveFrom:"enter-from",leaveTo:"leave-to",children:r.j.jsx(Re.Options,{className:(0,o.c)("dropdown",`dropdown__size--${e}`,u),children:s.map((t=>r.j.jsx(rt,{item:t,size:e},`chip-selectable-item-${t.value}`)))})})]})})}));at.displayName="DropdownChipMultiSelect";const it=({children:e})=>r.j.jsx(r.j.Fragment,{children:e});it.Selectable=({...e})=>r.j.jsx(m,{...e}),it.Dismissible=f,it.SingleSelectDropdown=nt,it.MultiSelectDropdown=at,it.Standard=m},"../../node_modules/@deriv-com/quill-ui/dist/components/Typography/base.js":(e,t,n)=>{n.d(t,{o:()=>i});var r=n("react"),a=n("../../node_modules/@deriv-com/quill-ui/dist/clsx-OuTLNxxd.js");const i=({children:e,as:t="p",centered:n=!1,className:i,...o})=>{const s="string"==typeof t?t:void 0;return r.createElement(s||"p",{className:(0,a.c)("quill-typography",n&&"quill-typography-centered",i),...o},e)}},"../../node_modules/@deriv-com/quill-ui/dist/components/Typography/caption/index.js":(e,t,n)=>{n.d(t,{O:()=>s});var r=n("../../node_modules/@deriv-com/quill-ui/dist/jsx-runtime-DmTjM30f.js"),a=n("../../node_modules/@deriv-com/quill-ui/dist/clsx-OuTLNxxd.js"),i=n("../../node_modules/@deriv-com/quill-ui/dist/components/Typography/base.js"),o=n("../../node_modules/@deriv-com/quill-ui/dist/utils/typography-utils.js");const s=({children:e,className:t,color:n,as:s="p",italic:l=!1,underlined:u=!1,bold:d=!1,...c})=>{const h=(0,o.U)(l,u),m=(0,o.E)(d);return r.j.jsx(i.o,{as:s,className:(0,a.c)(`quill-typography__caption-text__weight--${m}__decoration--${h}`,n||"quill-typography__color--prominent",t),...c,children:e})}},"../../node_modules/@deriv-com/quill-ui/dist/components/Typography/text/index.js":(e,t,n)=>{n.d(t,{E:()=>s});var r=n("../../node_modules/@deriv-com/quill-ui/dist/jsx-runtime-DmTjM30f.js"),a=n("../../node_modules/@deriv-com/quill-ui/dist/clsx-OuTLNxxd.js"),i=n("../../node_modules/@deriv-com/quill-ui/dist/components/Typography/base.js"),o=n("../../node_modules/@deriv-com/quill-ui/dist/utils/typography-utils.js");const s=({children:e,className:t,as:n="p",size:s="md",italic:l=!1,color:u,underlined:d=!1,bold:c=!1,centered:h=!1,...m})=>{const f=(0,o.U)(l,d),p=(0,o.E)(c);return r.j.jsx(i.o,{as:n,className:(0,a.c)(`quill-typography__body-text__size--${s}__weight--${p}__decoration--${f}`,u||"quill-typography__color--default",h&&"quill-typography-centered",t),...m,children:e})}},"../../node_modules/@deriv-com/quill-ui/dist/index-C1BOoRZp.js":(e,t,n)=>{n.d(t,{D:()=>d,F:()=>u});var r=n("../../node_modules/@deriv-com/quill-ui/dist/jsx-runtime-DmTjM30f.js"),a=n("react"),i=n("../../node_modules/@deriv-com/quill-ui/dist/clsx-OuTLNxxd.js"),o=n("../../node_modules/@deriv-com/quill-ui/dist/components/Typography/text/index.js"),s=n("../../node_modules/@deriv-com/quill-ui/dist/index-CQbz1p6_.js");const l=(0,a.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...s.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?a.createElement("title",{id:n},t):null,a.createElement("path",{d:"M22.25 9H9.75c-.703 0-1.25.586-1.25 1.25v12.5c0 .703.547 1.25 1.25 1.25h12.5c.664 0 1.25-.547 1.25-1.25v-12.5c0-.664-.586-1.25-1.25-1.25M9.75 7.75h12.5c1.367 0 2.5 1.133 2.5 2.5v12.5c0 1.406-1.133 2.5-2.5 2.5H9.75a2.47 2.47 0 0 1-2.5-2.5v-12.5c0-1.367 1.094-2.5 2.5-2.5"})))),u=(0,a.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...s.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?a.createElement("title",{id:n},t):null,a.createElement("path",{d:"M9.75 7.75h12.5c1.367 0 2.5 1.133 2.5 2.5v12.5c0 1.406-1.133 2.5-2.5 2.5H9.75a2.47 2.47 0 0 1-2.5-2.5v-12.5c0-1.367 1.094-2.5 2.5-2.5m10.664 6.914h-.039c.39-.351.39-.937 0-1.328a.92.92 0 0 0-1.29 0L14.75 17.71l-1.836-1.836c-.39-.39-.976-.39-1.328 0a.856.856 0 0 0 0 1.29l2.5 2.5c.351.39.937.39 1.328 0z"})))),d=a.forwardRef((({as:e="li",leftIcon:t,rightIcon:n,size:s="md",centered:d,textAlignment:c="left",label:h,disabled:m=!1,selected:f=!1,className:p,checkbox:v=!1,labelColor:g,..._},y)=>{const w="lg"===s?"md":s;return a.createElement(e,{ref:y,className:(0,i.c)("quill-dropdown-item",`quill-dropdown-item__size--${w}`,`quill-dropdown-item__align-${c}`,v?`quill-dropdown-item-checkbox__selected--${f}__disabled--${m}`:`quill-dropdown-item__selected--${f}__disabled--${m}`,p),..._},(v||d||t)&&r.j.jsx("div",{className:"quill-dropdown-item__icon",children:v?f?r.j.jsx(u,{iconSize:"sm"}):r.j.jsx(l,{iconSize:"sm"}):t}),r.j.jsx(o.E,{size:w,className:(0,i.c)("quill-dropdown-item-label",m&&"quill-typography__color--disabled"),color:g,centered:d,children:h}),(d||n)&&r.j.jsx("div",{className:"quill-dropdown-item__icon",children:n}))}))},"../../node_modules/@deriv-com/quill-ui/dist/index-CQbz1p6_.js":(e,t,n)=>{n.d(t,{s:()=>r});const r={xs:{width:16,height:16},sm:{width:24,height:24},md:{width:32,height:32},lg:{width:48,height:48},xl:{width:64,height:64},"2xl":{width:96,height:96}}},"../../node_modules/@deriv-com/quill-ui/dist/jsx-runtime-DmTjM30f.js":(e,t,n)=>{n.d(t,{j:()=>s});var r,a=n("react"),i={exports:{}},o={};i.exports=function(){if(r)return o;r=1;var e=a,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,n,r){var a,o={},u=null,d=null;for(a in void 0!==r&&(u=""+r),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(d=n.ref),n)i.call(n,a)&&!l.hasOwnProperty(a)&&(o[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps)void 0===o[a]&&(o[a]=n[a]);return{$$typeof:t,type:e,key:u,ref:d,props:o,_owner:s.current}}return o.Fragment=n,o.jsx=u,o.jsxs=u,o}();var s=i.exports},"../../node_modules/@deriv-com/quill-ui/dist/utils/typography-utils.js":(e,t,n)=>{n.d(t,{E:()=>a,U:()=>r});const r=(e,t)=>e&&t?"italic-underline":e?"italic":t?"underline":"default",a=e=>e?"bold":"regular"},"../../node_modules/@lottiefiles/dotlottie-react/dist/index.js":(e,t,n)=>{n.d(t,{GL:()=>z});var r,a,i,o=n("react"),s=Object.create,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,m=(r={"../../node_modules/.pnpm/debounce@2.0.0/node_modules/debounce/index.js"(e,t){function n(e,t=100,n={}){if("function"!=typeof e)throw new TypeError(`Expected the first parameter to be a function, got \`${typeof e}\`.`);if(t<0)throw new RangeError("`wait` must not be negative.");const{immediate:r}="boolean"==typeof n?{immediate:n}:n;let a,i,o,s,l;function u(){const n=Date.now()-s;if(n<t&&n>=0)o=setTimeout(u,t-n);else if(o=void 0,!r){const t=a,n=i;a=void 0,i=void 0,l=e.apply(t,n)}}const d=function(...n){if(a&&this!==a)throw new Error("Debounced method called with different contexts.");a=this,i=n,s=Date.now();const d=r&&!o;if(o||(o=setTimeout(u,t)),d){const t=a,n=i;a=void 0,i=void 0,l=e.apply(t,n)}return l};return d.clear=()=>{o&&(clearTimeout(o),o=void 0)},d.flush=()=>{if(!o)return;const t=a,n=i;a=void 0,i=void 0,l=e.apply(t,n),clearTimeout(o),o=void 0},d}t.exports.debounce=n,t.exports=n}},function(){return a||(0,r[d(r)[0]])((a={exports:{}}).exports,a),a.exports}),f=Object.defineProperty,p=(e,t,n)=>((e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),v=class{requestAnimationFrame(e){return requestAnimationFrame(e)}cancelAnimationFrame(e){cancelAnimationFrame(e)}},g=class{constructor(){p(this,"_lastHandleId",0),p(this,"_lastImmediate",null)}requestAnimationFrame(e){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate((()=>{e(Date.now())})),this._lastHandleId}cancelAnimationFrame(e){this._lastImmediate&&clearImmediate(this._lastImmediate)}},_=class{constructor(){p(this,"_strategy"),this._strategy="function"==typeof requestAnimationFrame?new v:new g}requestAnimationFrame(e){return this._strategy.requestAnimationFrame(e)}cancelAnimationFrame(e){this._strategy.cancelAnimationFrame(e)}},y=typeof window<"u"&&typeof window.document<"u",w="@lottiefiles/dotlottie-web",b="0.28.0",C=(i=typeof document<"u"?document.currentScript?.src:void 0,function(e={}){var t,n,r=e,a=new Promise(((e,r)=>{t=e,n=r})),o=Object.assign({},r),s="./this.program",l="";typeof document<"u"&&document.currentScript&&(l=document.currentScript.src),i&&(l=i),l=l.startsWith("blob:")?"":l.substr(0,l.replace(/[?#].*/,"").lastIndexOf("/")+1);var u,d=r.print||console.log.bind(console),c=r.printErr||console.error.bind(console);Object.assign(r,o),o=null,r.thisProgram&&(s=r.thisProgram),r.wasmBinary&&(u=r.wasmBinary);var h,m,f,p,v,g,_,y,w,b=!1;function C(){var e=h.buffer;r.HEAP8=m=new Int8Array(e),r.HEAP16=p=new Int16Array(e),r.HEAPU8=f=new Uint8Array(e),r.HEAPU16=v=new Uint16Array(e),r.HEAP32=g=new Int32Array(e),r.HEAPU32=_=new Uint32Array(e),r.HEAPF32=y=new Float32Array(e),r.HEAPF64=w=new Float64Array(e)}var L=[],E=[],M=[];function x(){var e=r.preRun.shift();L.unshift(e)}var S=0,I=null;function F(e){throw r.onAbort?.(e),c(e="Aborted("+e+")"),b=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}var P,A=e=>e.startsWith("data:application/octet-stream;base64,");if(!A(P="DotLottiePlayer.wasm")){var T=P;P=r.locateFile?r.locateFile(T,l):l+T}function k(e){if(e==P&&u)return new Uint8Array(u);throw"both async and sync fetching of the wasm failed"}function j(e,t,n){return function(e){return u||"function"!=typeof fetch?Promise.resolve().then((()=>k(e))):fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()})).catch((()=>k(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then(n,(e=>{c(`failed to asynchronously prepare wasm: ${e}`),F(e)}))}var D=e=>{for(;0<e.length;)e.shift()(r)},R=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,O=(e,t,n)=>{var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&R)return R.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var i=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r};class ${constructor(e){this.ya=e-24}}var W=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t},z=(e,t,n,r)=>{if(0<r){r=n+r-1;for(var a=0;a<e.length;++a){var i=e.charCodeAt(a);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),127>=i){if(n>=r)break;t[n++]=i}else{if(2047>=i){if(n+1>=r)break;t[n++]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++]=224|i>>12}else{if(n+3>=r)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63}t[n++]=128|i>>6&63}t[n++]=128|63&i}}t[n]=0}},U={},N=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function H(e){return this.fromWireType(_[e>>2])}var B,q,V,Y={},G={},J={},Q=(e,t,n)=>{function r(t){if((t=n(t)).length!==e.length)throw new B("Mismatched type converter count");for(var r=0;r<e.length;++r)Z(e[r],t[r])}e.forEach((function(e){J[e]=t}));var a=Array(t.length),i=[],o=0;t.forEach(((e,t)=>{G.hasOwnProperty(e)?a[t]=G[e]:(i.push(e),Y.hasOwnProperty(e)||(Y[e]=[]),Y[e].push((()=>{a[t]=G[e],++o===i.length&&r(a)})))})),0===i.length&&r(a)},K=e=>{for(var t="";f[e];)t+=q[f[e++]];return t};function Z(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(e,t,n={}){var r=t.name;if(!e)throw new V(`type "${r}" must have a positive integer typeid pointer`);if(G.hasOwnProperty(e)){if(n.ib)return;throw new V(`Cannot register type '${r}' twice`)}G[e]=t,delete J[e],Y.hasOwnProperty(e)&&(t=Y[e],delete Y[e],t.forEach((e=>e())))}(e,t,n)}var X,ee=e=>{throw new V(e.ma.za.xa.name+" instance already deleted")},te=!1,ne=()=>{},re=(e,t,n)=>t===n?e:void 0===n.Ca||null===(e=re(e,t,n.Ca))?null:n.ab(e),ae={},ie=[],oe=()=>{for(;ie.length;){var e=ie.pop();e.ma.Ka=!1,e.delete()}},se={},le=(e,t)=>{if(!t.za||!t.ya)throw new B("makeClassHandle requires ptr and ptrType");if(!!t.Da!=!!t.Aa)throw new B("Both smartPtrType and smartPtr must be specified");return t.count={value:1},ue(Object.create(e,{ma:{value:t,writable:!0}}))},ue=e=>typeof FinalizationRegistry>"u"?(ue=e=>e,e):(te=new FinalizationRegistry((e=>{--(e=e.ma).count.value,0===e.count.value&&(e.Aa?e.Da.Fa(e.Aa):e.za.xa.Fa(e.ya))})),ne=e=>{te.unregister(e)},(ue=e=>{var t=e.ma;return t.Aa&&te.register(e,{ma:t},e),e})(e));function de(){}var ce=(e,t)=>Object.defineProperty(t,"name",{value:e}),he=(e,t,n)=>{if(void 0===e[t].Ba){var r=e[t];e[t]=function(...r){if(!e[t].Ba.hasOwnProperty(r.length))throw new V(`Function '${n}' called with an invalid number of arguments (${r.length}) - expects one of (${e[t].Ba})!`);return e[t].Ba[r.length].apply(this,r)},e[t].Ba=[],e[t].Ba[r.Oa]=r}},me=(e,t,n)=>{if(r.hasOwnProperty(e)){if(void 0===n||void 0!==r[e].Ba&&void 0!==r[e].Ba[n])throw new V(`Cannot register public name '${e}' twice`);if(he(r,e,e),r.hasOwnProperty(n))throw new V(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`);r[e].Ba[n]=t}else r[e]=t,void 0!==n&&(r[e].vb=n)};function fe(e,t,n,r,a,i,o,s){this.name=e,this.constructor=t,this.La=n,this.Fa=r,this.Ca=a,this.cb=i,this.Na=o,this.ab=s,this.kb=[]}var pe=(e,t,n)=>{for(;t!==n;){if(!t.Na)throw new V(`Expected null or instance of ${n.name}, got an instance of ${t.name}`);e=t.Na(e),t=t.Ca}return e};function ve(e,t){if(null===t){if(this.Ta)throw new V(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new V(`Cannot pass "${Ne(t)}" as a ${this.name}`);if(!t.ma.ya)throw new V(`Cannot pass deleted object as a pointer of type ${this.name}`);return pe(t.ma.ya,t.ma.za.xa,this.xa)}function ge(e,t){if(null===t){if(this.Ta)throw new V(`null is not a valid ${this.name}`);if(this.Qa){var n=this.Ua();return null!==e&&e.push(this.Fa,n),n}return 0}if(!t||!t.ma)throw new V(`Cannot pass "${Ne(t)}" as a ${this.name}`);if(!t.ma.ya)throw new V(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&t.ma.za.Pa)throw new V(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);if(n=pe(t.ma.ya,t.ma.za.xa,this.xa),this.Qa){if(void 0===t.ma.Aa)throw new V("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(t.ma.Da!==this)throw new V(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);n=t.ma.Aa;break;case 1:n=t.ma.Aa;break;case 2:if(t.ma.Da===this)n=t.ma.Aa;else{var r=t.clone();n=this.lb(n,$e((()=>r.delete()))),null!==e&&e.push(this.Fa,n)}break;default:throw new V("Unsupporting sharing policy")}}return n}function _e(e,t){if(null===t){if(this.Ta)throw new V(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new V(`Cannot pass "${Ne(t)}" as a ${this.name}`);if(!t.ma.ya)throw new V(`Cannot pass deleted object as a pointer of type ${this.name}`);if(t.ma.za.Pa)throw new V(`Cannot convert argument of type ${t.ma.za.name} to parameter type ${this.name}`);return pe(t.ma.ya,t.ma.za.xa,this.xa)}function ye(e,t,n,r,a,i,o,s,l,u,d){this.name=e,this.xa=t,this.Ta=n,this.Pa=r,this.Qa=a,this.jb=i,this.pb=o,this.Za=s,this.Ua=l,this.lb=u,this.Fa=d,a||void 0!==t.Ca?this.toWireType=ge:(this.toWireType=r?ve:_e,this.Ea=null)}var we,be,Ce=(e,t,n)=>{if(!r.hasOwnProperty(e))throw new B("Replacing nonexistent public symbol");void 0!==r[e].Ba&&void 0!==n?r[e].Ba[n]=t:(r[e]=t,r[e].Oa=n)},Le=(e,t)=>(...n)=>((e,t,n=[])=>(e.includes("j")?(e=e.replace(/p/g,"i"),t=(0,r["dynCall_"+e])(t,...n)):t=we.get(t)(...n),t))(e,t,n),Ee=(e,t)=>{var n=(e=K(e)).includes("j")?Le(e,t):we.get(t);if("function"!=typeof n)throw new V(`unknown function pointer with signature ${e}: ${t}`);return n},Me=e=>{e=mt(e);var t=K(e);return ft(e),t},xe=(e,t)=>{var n=[],r={};throw t.forEach((function e(t){r[t]||G[t]||(J[t]?J[t].forEach(e):(n.push(t),r[t]=!0))})),new be(`${e}: `+n.map(Me).join([", "]))},Se=(e,t)=>{for(var n=[],r=0;r<e;r++)n.push(_[t+4*r>>2]);return n};function Ie(e,t,n,r,a){var i=t.length;if(2>i)throw new V("argTypes array size mismatch! Must at least get return value and 'this' types!");var o=null!==t[1]&&null!==n,s=function(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].Ea)return!0;return!1}(t),l="void"!==t[0].name,u=i-2,d=Array(u),c=[],h=[];return ce(e,(function(...n){if(n.length!==u)throw new V(`function ${e} called with ${n.length} arguments, expected ${u}`);if(h.length=0,c.length=o?2:1,c[0]=a,o){var i=t[1].toWireType(h,this);c[1]=i}for(var m=0;m<u;++m)d[m]=t[m+2].toWireType(h,n[m]),c.push(d[m]);if(n=r(...c),s)N(h);else for(m=o?1:2;m<t.length;m++){var f=1===m?i:d[m-2];null!==t[m].Ea&&t[m].Ea(f)}return i=l?t[0].fromWireType(n):void 0}))}var Fe,Pe,Ae,Te,ke=e=>{let t=(e=e.trim()).indexOf("(");return-1!==t?e.substr(0,t):e},je=[],De=[],Re=e=>{9<e&&0==--De[e+1]&&(De[e]=void 0,je.push(e))},Oe=e=>{if(!e)throw new V("Cannot use deleted val. handle = "+e);return De[e]},$e=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let t=je.pop()||De.length;return De[t]=e,De[t+1]=1,t}},We={name:"emscripten::val",fromWireType:e=>{var t=Oe(e);return Re(e),t},toWireType:(e,t)=>$e(t),argPackAdvance:8,readValueFromPointer:H,Ea:null},ze=(e,t,n)=>{switch(t){case 1:return n?function(e){return this.fromWireType(m[e])}:function(e){return this.fromWireType(f[e])};case 2:return n?function(e){return this.fromWireType(p[e>>1])}:function(e){return this.fromWireType(v[e>>1])};case 4:return n?function(e){return this.fromWireType(g[e>>2])}:function(e){return this.fromWireType(_[e>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ue=(e,t)=>{var n=G[e];if(void 0===n)throw e=`${t} has unknown type ${Me(e)}`,new V(e);return n},Ne=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},He=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(y[e>>2])};case 8:return function(e){return this.fromWireType(w[e>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Be=(e,t,n)=>{switch(t){case 1:return n?e=>m[e]:e=>f[e];case 2:return n?e=>p[e>>1]:e=>v[e>>1];case 4:return n?e=>g[e>>2]:e=>_[e>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},qe=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ve=(e,t)=>{for(var n=e>>1,r=n+t/2;!(n>=r)&&v[n];)++n;if(32<(n<<=1)-e&&qe)return qe.decode(f.subarray(e,n));for(n="",r=0;!(r>=t/2);++r){var a=p[e+2*r>>1];if(0==a)break;n+=String.fromCharCode(a)}return n},Ye=(e,t,n)=>{if(n??(n=2147483647),2>n)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var a=0;a<n;++a)p[t>>1]=e.charCodeAt(a),t+=2;return p[t>>1]=0,t-r},Ge=e=>2*e.length,Je=(e,t)=>{for(var n=0,r="";!(n>=t/4);){var a=g[e+4*n>>2];if(0==a)break;++n,65536<=a?(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a)):r+=String.fromCharCode(a)}return r},Qe=(e,t,n)=>{if(n??(n=2147483647),4>n)return 0;var r=t;n=r+n-4;for(var a=0;a<e.length;++a){var i=e.charCodeAt(a);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),g[t>>2]=i,(t+=4)+4>n)break}return g[t>>2]=0,t-r},Ke=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t},Ze=[],Xe=Reflect.construct,et={},tt=()=>{if(!Fe){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"};for(e in et)void 0===et[e]?delete t[e]:t[e]=et[e];var n=[];for(e in t)n.push(`${e}=${t[e]}`);Fe=n}return Fe},nt=[null,[],[]],rt=e=>(rt=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);F("initRandomDevice")})())(e),at=e=>e%4==0&&(e%100!=0||e%400==0),it=[31,29,31,30,31,30,31,31,30,31,30,31],ot=[31,28,31,30,31,30,31,31,30,31,30,31],st=(e,t,n,r)=>{function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function i(e,t){return a(e,t,"0")}function o(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Ia;for(e=new Date(new Date(e.Ja+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(at(e.getFullYear())?it:ot)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=o(t,e)?0>=o(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var u=_[r+40>>2];for(var d in r={sb:g[r>>2],rb:g[r+4>>2],Ra:g[r+8>>2],Va:g[r+12>>2],Sa:g[r+16>>2],Ja:g[r+20>>2],Ga:g[r+24>>2],Ia:g[r+28>>2],wb:g[r+32>>2],qb:g[r+36>>2],tb:u&&u?O(f,u):""},n=n?O(f,n):"",u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(d,"g"),u[d]);var c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(d in u={"%a":e=>c[e.Ga].substring(0,3),"%A":e=>c[e.Ga],"%b":e=>h[e.Sa].substring(0,3),"%B":e=>h[e.Sa],"%C":e=>i((e.Ja+1900)/100|0,2),"%d":e=>i(e.Va,2),"%e":e=>a(e.Va,2," "),"%g":e=>l(e).toString().substring(2),"%G":l,"%H":e=>i(e.Ra,2),"%I":e=>(0==(e=e.Ra)?e=12:12<e&&(e-=12),i(e,2)),"%j":e=>{for(var t=0,n=0;n<=e.Sa-1;t+=(at(e.Ja+1900)?it:ot)[n++]);return i(e.Va+t,3)},"%m":e=>i(e.Sa+1,2),"%M":e=>i(e.rb,2),"%n":()=>"\n","%p":e=>0<=e.Ra&&12>e.Ra?"AM":"PM","%S":e=>i(e.sb,2),"%t":()=>"\t","%u":e=>e.Ga||7,"%U":e=>i(Math.floor((e.Ia+7-e.Ga)/7),2),"%V":e=>{var t=Math.floor((e.Ia+7-(e.Ga+6)%7)/7);if(2>=(e.Ga+371-e.Ia-2)%7&&t++,t)53==t&&(4==(n=(e.Ga+371-e.Ia)%7)||3==n&&at(e.Ja)||(t=1));else{t=52;var n=(e.Ga+7-e.Ia-1)%7;(4==n||5==n&&at(e.Ja%400-1))&&t++}return i(t,2)},"%w":e=>e.Ga,"%W":e=>i(Math.floor((e.Ia+7-(e.Ga+6)%7)/7),2),"%y":e=>(e.Ja+1900).toString().substring(2),"%Y":e=>e.Ja+1900,"%z":e=>(0<=(e=e.qb)?"+":"-")+("0000"+((e=Math.abs(e)/60)/60*100+e%60)).slice(-4),"%Z":e=>e.tb,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0"),u)n.includes(d)&&(n=n.replace(new RegExp(d,"g"),u[d](r)));return d=function(e){var t=Array(W(e)+1);return z(e,t,0,t.length),t}(n=n.replace(/\0\0/g,"%")),d.length>t?0:(m.set(d,e),d.length-1)};B=r.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}};for(var lt=Array(256),ut=0;256>ut;++ut)lt[ut]=String.fromCharCode(ut);q=lt,V=r.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Object.assign(de.prototype,{isAliasOf:function(e){if(!(this instanceof de&&e instanceof de))return!1;var t=this.ma.za.xa,n=this.ma.ya;e.ma=e.ma;var r=e.ma.za.xa;for(e=e.ma.ya;t.Ca;)n=t.Na(n),t=t.Ca;for(;r.Ca;)e=r.Na(e),r=r.Ca;return t===r&&n===e},clone:function(){if(this.ma.ya||ee(this),this.ma.Ma)return this.ma.count.value+=1,this;var e=ue,t=Object,n=t.create,r=Object.getPrototypeOf(this),a=this.ma;return(e=e(n.call(t,r,{ma:{value:{count:a.count,Ka:a.Ka,Ma:a.Ma,ya:a.ya,za:a.za,Aa:a.Aa,Da:a.Da}}}))).ma.count.value+=1,e.ma.Ka=!1,e},delete(){if(this.ma.ya||ee(this),this.ma.Ka&&!this.ma.Ma)throw new V("Object already scheduled for deletion");ne(this);var e=this.ma;--e.count.value,0===e.count.value&&(e.Aa?e.Da.Fa(e.Aa):e.za.xa.Fa(e.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0)},isDeleted:function(){return!this.ma.ya},deleteLater:function(){if(this.ma.ya||ee(this),this.ma.Ka&&!this.ma.Ma)throw new V("Object already scheduled for deletion");return ie.push(this),1===ie.length&&X&&X(oe),this.ma.Ka=!0,this}}),r.getInheritedInstanceCount=()=>Object.keys(se).length,r.getLiveInheritedInstances=()=>{var e,t=[];for(e in se)se.hasOwnProperty(e)&&t.push(se[e]);return t},r.flushPendingDeletes=oe,r.setDelayFunction=e=>{X=e,ie.length&&X&&X(oe)},Object.assign(ye.prototype,{eb(e){return this.Za&&(e=this.Za(e)),e},Xa(e){this.Fa?.(e)},argPackAdvance:8,readValueFromPointer:H,fromWireType:function(e){function t(){return this.Qa?le(this.xa.La,{za:this.jb,ya:n,Da:this,Aa:e}):le(this.xa.La,{za:this,ya:e})}var n=this.eb(e);if(!n)return this.Xa(e),null;var r=((e,t)=>{if(void 0===t)throw new V("ptr should not be undefined");for(;e.Ca;)t=e.Na(t),e=e.Ca;return se[t]})(this.xa,n);if(void 0!==r)return 0===r.ma.count.value?(r.ma.ya=n,r.ma.Aa=e,r.clone()):(r=r.clone(),this.Xa(e),r);if(r=this.xa.cb(n),!(r=ae[r]))return t.call(this);r=this.Pa?r.$a:r.pointerType;var a=re(n,this.xa,r.xa);return null===a?t.call(this):this.Qa?le(r.xa.La,{za:r,ya:a,Da:this,Aa:e}):le(r.xa.La,{za:r,ya:a})}}),be=r.UnboundTypeError=(Pe=Error,(Te=ce(Ae="UnboundTypeError",(function(e){this.name=Ae,this.message=e,void 0!==(e=Error(e).stack)&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))}))).prototype=Object.create(Pe.prototype),Te.prototype.constructor=Te,Te.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},Te),De.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=()=>De.length/2-5-je.length;var dt={c:(e,t,n,r)=>{F(`Assertion failed: ${e?O(f,e):""}, at: `+[t?t?O(f,t):"":"unknown filename",n,r?r?O(f,r):"":"unknown function"])},m:(e,t,n)=>{var r=new $(e);throw _[r.ya+16>>2]=0,_[r.ya+4>>2]=t,_[r.ya+8>>2]=n,e},B:function(){return 0},P:()=>{},M:()=>{},R:function(){return 0},N:()=>{},A:function(){},O:()=>{},v:e=>{var t=U[e];delete U[e];var n=t.Ua,r=t.Fa,a=t.Ya,i=a.map((e=>e.hb)).concat(a.map((e=>e.nb)));Q([e],i,(e=>{var i={};return a.forEach(((t,n)=>{var r=e[n],o=t.fb,s=t.gb,l=e[n+a.length],u=t.mb,d=t.ob;i[t.bb]={read:e=>r.fromWireType(o(s,e)),write:(e,t)=>{var n=[];u(d,e,l.toWireType(n,t)),N(n)}}})),[{name:t.name,fromWireType:e=>{var t,n={};for(t in i)n[t]=i[t].read(e);return r(e),n},toWireType:(e,t)=>{for(var a in i)if(!(a in t))throw new TypeError(`Missing field: "${a}"`);var o=n();for(a in i)i[a].write(o,t[a]);return null!==e&&e.push(r,o),o},argPackAdvance:8,readValueFromPointer:H,Ea:r}]}))},I:()=>{},Y:(e,t,n,r)=>{Z(e,{name:t=K(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:r},argPackAdvance:8,readValueFromPointer:function(e){return this.fromWireType(f[e])},Ea:null})},r:(e,t,n,r,a,i,o,s,l,u,d,c,h)=>{d=K(d),i=Ee(a,i),s&&(s=Ee(o,s)),u&&(u=Ee(l,u)),h=Ee(c,h);var m=(e=>{if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e})(d);me(m,(function(){xe(`Cannot construct ${d} due to unbound types`,[r])})),Q([e,t,n],r?[r]:[],(t=>{if(t=t[0],r)var n=t.xa,a=n.La;else a=de.prototype;t=ce(d,(function(...e){if(Object.getPrototypeOf(this)!==o)throw new V("Use 'new' to construct "+d);if(void 0===c.Ha)throw new V(d+" has no accessible constructor");var t=c.Ha[e.length];if(void 0===t)throw new V(`Tried to invoke ctor of ${d} with invalid number of parameters (${e.length}) - expected (${Object.keys(c.Ha).toString()}) parameters instead!`);return t.apply(this,e)}));var o=Object.create(a,{constructor:{value:t}});t.prototype=o;var l,c=new fe(d,t,o,h,n,i,s,u);return c.Ca&&((l=c.Ca).Wa??(l.Wa=[]),c.Ca.Wa.push(c)),n=new ye(d,c,!0,!1,!1),l=new ye(d+"*",c,!1,!1,!1),a=new ye(d+" const*",c,!1,!0,!1),ae[e]={pointerType:l,$a:a},Ce(m,t),[n,l,a]}))},q:(e,t,n,r,a,i)=>{var o=Se(t,n);a=Ee(r,a),Q([],[e],(e=>{var n=`constructor ${(e=e[0]).name}`;if(void 0===e.xa.Ha&&(e.xa.Ha=[]),void 0!==e.xa.Ha[t-1])throw new V(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.xa.Ha[t-1]=()=>{xe(`Cannot construct ${e.name} due to unbound types`,o)},Q([],o,(r=>(r.splice(1,0,null),e.xa.Ha[t-1]=Ie(n,r,null,a,i),[]))),[]}))},f:(e,t,n,r,a,i,o,s)=>{var l=Se(n,r);t=K(t),t=ke(t),i=Ee(a,i),Q([],[e],(e=>{function r(){xe(`Cannot call ${a} due to unbound types`,l)}var a=`${(e=e[0]).name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.xa.kb.push(t);var u=e.xa.La,d=u[t];return void 0===d||void 0===d.Ba&&d.className!==e.name&&d.Oa===n-2?(r.Oa=n-2,r.className=e.name,u[t]=r):(he(u,t,a),u[t].Ba[n-2]=r),Q([],l,(r=>(r=Ie(a,r,e,i,o),void 0===u[t].Ba?(r.Oa=n-2,u[t]=r):u[t].Ba[n-2]=r,[]))),[]}))},X:e=>Z(e,We),x:(e,t,n,r)=>{function a(){}t=K(t),a.values={},Z(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:(e,t)=>t.value,argPackAdvance:8,readValueFromPointer:ze(t,n,r),Ea:null}),me(t,a)},k:(e,t,n)=>{var r=Ue(e,"enum");t=K(t),e=r.constructor,r=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:ce(`${r.name}_${t}`,(function(){}))}}),e.values[n]=r,e[t]=r},C:(e,t,n)=>{Z(e,{name:t=K(t),fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:8,readValueFromPointer:He(t,n),Ea:null})},E:(e,t,n,r,a,i)=>{var o=Se(t,n);e=K(e),e=ke(e),a=Ee(r,a),me(e,(function(){xe(`Cannot call ${e} due to unbound types`,o)}),t-1),Q([],o,(n=>(Ce(e,Ie(e,[n[0],null].concat(n.slice(1)),null,a,i),t-1),[])))},l:(e,t,n,r,a)=>{if(t=K(t),-1===a&&(a=4294967295),a=e=>e,0===r){var i=32-8*n;a=e=>e<<i>>>i}var o=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t};Z(e,{name:t,fromWireType:a,toWireType:o,argPackAdvance:8,readValueFromPointer:Be(t,n,0!==r),Ea:null})},g:(e,t,n)=>{function r(e){return new a(m.buffer,_[e+4>>2],_[e>>2])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];Z(e,{name:n=K(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ib:!0})},w:e=>{Z(e,We)},ca:(e,t,n,r,a,i,o,s,l,u,d,c)=>{n=K(n),i=Ee(a,i),s=Ee(o,s),u=Ee(l,u),c=Ee(d,c),Q([e],[t],(e=>(e=e[0],[new ye(n,e.xa,!1,!1,!0,e,r,i,s,u,c)])))},D:(e,t)=>{var n="std::string"===(t=K(t));Z(e,{name:t,fromWireType:function(e){var t=_[e>>2],r=e+4;if(n)for(var a=r,i=0;i<=t;++i){var o=r+i;if(i==t||0==f[o]){if(a=a?O(f,a,o-a):"",void 0===s)var s=a;else s+="\0",s+=a;a=o+1}}else{for(s=Array(t),i=0;i<t;++i)s[i]=String.fromCharCode(f[r+i]);s=s.join("")}return ft(e),s},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r="string"==typeof t;if(!(r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array))throw new V("Cannot pass non-string to std::string");var a=n&&r?W(t):t.length,i=ht(4+a+1),o=i+4;if(_[i>>2]=a,n&&r)z(t,f,o,a+1);else if(r)for(r=0;r<a;++r){var s=t.charCodeAt(r);if(255<s)throw ft(o),new V("String has UTF-16 code units that do not fit in 8 bits");f[o+r]=s}else for(r=0;r<a;++r)f[o+r]=t[r];return null!==e&&e.push(ft,i),i},argPackAdvance:8,readValueFromPointer:H,Ea(e){ft(e)}})},u:(e,t,n)=>{if(n=K(n),2===t)var r=Ve,a=Ye,i=Ge,o=e=>v[e>>1];else 4===t&&(r=Je,a=Qe,i=Ke,o=e=>_[e>>2]);Z(e,{name:n,fromWireType:e=>{for(var n,a=_[e>>2],i=e+4,s=0;s<=a;++s){var l=e+4+s*t;(s==a||0==o(l))&&(i=r(i,l-i),void 0===n?n=i:(n+="\0",n+=i),i=l+t)}return ft(e),n},toWireType:(e,r)=>{if("string"!=typeof r)throw new V(`Cannot pass non-string to C++ string type ${n}`);var o=i(r),s=ht(4+o+t);return _[s>>2]=o/t,a(r,s+4,o+t),null!==e&&e.push(ft,s),s},argPackAdvance:8,readValueFromPointer:H,Ea(e){ft(e)}})},s:(e,t,n,r,a,i)=>{U[e]={name:K(t),Ua:Ee(n,r),Fa:Ee(a,i),Ya:[]}},j:(e,t,n,r,a,i,o,s,l,u)=>{U[e].Ya.push({bb:K(t),hb:n,fb:Ee(r,a),gb:i,nb:o,mb:Ee(s,l),ob:u})},Z:(e,t)=>{Z(e,{ub:!0,name:t=K(t),argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},J:()=>{throw 1/0},aa:(e,t,n,r)=>(e=Ze[e])(null,t=Oe(t),n,r),F:Re,$:(e,t,n)=>{var r=((e,t)=>{for(var n=Array(e),r=0;r<e;++r)n[r]=Ue(_[t+4*r>>2],"parameter "+r);return n})(e,t),a=r.shift();e--;var i=Array(e);return t=`methodCaller<(${r.map((e=>e.name)).join(", ")}) => ${a.name}>`,(e=>{var t=Ze.length;return Ze.push(e),t})(ce(t,((t,o,s,l)=>{for(var u=0,d=0;d<e;++d)i[d]=r[d].readValueFromPointer(l+u),u+=r[d].argPackAdvance;return o=1===n?Xe(o,i):o.apply(t,i),t=[],o=a.toWireType(t,o),t.length&&(_[s>>2]=$e(t)),o})))},ba:e=>{9<e&&(De[e+1]+=1)},_:e=>{var t=Oe(e);N(t),Re(e)},o:(e,t)=>(e=(e=Ue(e,"_emval_take_value")).readValueFromPointer(t),$e(e)),W:()=>{F("")},V:()=>performance.now(),L:e=>{var t=f.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r);e:{a=(a.min.call(a,2147483648,r+(65536-r%65536)%65536)-h.buffer.byteLength+65535)/65536;try{h.grow(a),C();var i=1;break e}catch{}i=void 0}if(i)return!0}return!1},S:(e,t)=>{var n=0;return tt().forEach(((r,a)=>{var i=t+n;for(a=_[e+4*a>>2]=i,i=0;i<r.length;++i)m[a++]=r.charCodeAt(i);m[a]=0,n+=r.length+1})),0},T:(e,t)=>{var n=tt();_[e>>2]=n.length;var r=0;return n.forEach((e=>r+=e.length+1)),_[t>>2]=r,0},t:()=>52,z:()=>52,H:function(){return 70},Q:(e,t,n,r)=>{for(var a=0,i=0;i<n;i++){var o=_[t>>2],s=_[t+4>>2];t+=8;for(var l=0;l<s;l++){var u=f[o+l],h=nt[e];0===u||10===u?((1===e?d:c)(O(h,0)),h.length=0):h.push(u)}a+=s}return _[r>>2]=a,0},U:(e,t)=>(rt(f.subarray(e,e+t)),0),i:function(e,t){var n=gt();try{return we.get(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;pt(1,0)}},d:function(e,t,n){var r=gt();try{return we.get(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;pt(1,0)}},e:function(e,t,n,r){var a=gt();try{return we.get(e)(t,n,r)}catch(e){if(vt(a),e!==e+0)throw e;pt(1,0)}},p:function(e,t,n,r,a,i){var o=gt();try{return we.get(e)(t,n,r,a,i)}catch(e){if(vt(o),e!==e+0)throw e;pt(1,0)}},y:function(e){var t=gt();try{we.get(e)()}catch(e){if(vt(t),e!==e+0)throw e;pt(1,0)}},b:function(e,t){var n=gt();try{we.get(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;pt(1,0)}},a:function(e,t,n){var r=gt();try{we.get(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;pt(1,0)}},h:function(e,t,n,r){var a=gt();try{we.get(e)(t,n,r)}catch(e){if(vt(a),e!==e+0)throw e;pt(1,0)}},n:function(e,t,n,r,a){var i=gt();try{we.get(e)(t,n,r,a)}catch(e){if(vt(i),e!==e+0)throw e;pt(1,0)}},G:function(e,t,n,r,a,i){var o=gt();try{yt(e,t,n,r,a,i)}catch(e){if(vt(o),e!==e+0)throw e;pt(1,0)}},K:(e,t,n,r)=>st(e,t,n,r)},ct=function(){function e(e){return ct=e.exports,h=ct.da,C(),we=ct.ha,E.unshift(ct.ea),S--,r.monitorRunDependencies?.(S),0==S&&I&&(e=I,I=null,e()),ct}var t={a:dt};if(S++,r.monitorRunDependencies?.(S),r.instantiateWasm)try{return r.instantiateWasm(t,e)}catch(e){c(`Module.instantiateWasm callback failed with error: ${e}`),n(e)}return function(e,t){var n=P;return u||"function"!=typeof WebAssembly.instantiateStreaming||A(n)||"function"!=typeof fetch?j(n,e,t):fetch(n,{credentials:"same-origin"}).then((r=>WebAssembly.instantiateStreaming(r,e).then(t,(function(r){return c(`wasm streaming compile failed: ${r}`),c("falling back to ArrayBuffer instantiation"),j(n,e,t)}))))}(t,(function(t){e(t.instance)})).catch(n),{}}(),ht=e=>(ht=ct.fa)(e),mt=e=>(mt=ct.ga)(e),ft=e=>(ft=ct.ia)(e),pt=(e,t)=>(pt=ct.ja)(e,t),vt=e=>(vt=ct.ka)(e),gt=()=>(gt=ct.la)();r.dynCall_iijj=(e,t,n,a,i,o)=>(r.dynCall_iijj=ct.na)(e,t,n,a,i,o),r.dynCall_vijj=(e,t,n,a,i,o)=>(r.dynCall_vijj=ct.oa)(e,t,n,a,i,o),r.dynCall_jiii=(e,t,n,a)=>(r.dynCall_jiii=ct.pa)(e,t,n,a),r.dynCall_jii=(e,t,n)=>(r.dynCall_jii=ct.qa)(e,t,n);var _t,yt=r.dynCall_viiij=(e,t,n,a,i,o)=>(yt=r.dynCall_viiij=ct.ra)(e,t,n,a,i,o);function wt(){function e(){if(!_t&&(_t=!0,r.calledRun=!0,!b)){if(D(E),t(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;){var e=r.postRun.shift();M.unshift(e)}D(M)}}if(!(0<S)){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)x();D(L),0<S||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),e()}),1)):e())}}if(r.dynCall_jiji=(e,t,n,a,i)=>(r.dynCall_jiji=ct.sa)(e,t,n,a,i),r.dynCall_viijii=(e,t,n,a,i,o,s)=>(r.dynCall_viijii=ct.ta)(e,t,n,a,i,o,s),r.dynCall_iiiiij=(e,t,n,a,i,o,s)=>(r.dynCall_iiiiij=ct.ua)(e,t,n,a,i,o,s),r.dynCall_iiiiijj=(e,t,n,a,i,o,s,l,u)=>(r.dynCall_iiiiijj=ct.va)(e,t,n,a,i,o,s,l,u),r.dynCall_iiiiiijj=(e,t,n,a,i,o,s,l,u,d)=>(r.dynCall_iiiiiijj=ct.wa)(e,t,n,a,i,o,s,l,u,d),I=function e(){_t||wt(),_t||(I=e)},r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return wt(),a}),L=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(e){return await C({locateFile:()=>e})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch((async e=>{let t=`https://unpkg.com/${w}@${b}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${e.message}`),console.warn(`Attempting to load WASM from backup URL: ${t}`);try{return await this._tryLoad(t)}catch(t){throw console.error(`Primary WASM URL failed: ${e.message}`),console.error(`Backup WASM URL failed: ${t.message}`),new Error("WASM loading failed from all sources.")}}))),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(e){this._wasmURL=e,this._ModulePromise=null}};p(L,"_ModulePromise",null),p(L,"_wasmURL",`https://cdn.jsdelivr.net/npm/${w}@${b}/dist/dotlottie-player.wasm`);var E=class{constructor(){p(this,"_eventListeners",new Map)}addEventListener(e,t){let n=this._eventListeners.get(e);n||(n=new Set,this._eventListeners.set(e,n)),n.add(t)}removeEventListener(e,t){let n=this._eventListeners.get(e);n&&(t?(n.delete(t),0===n.size&&this._eventListeners.delete(e)):this._eventListeners.delete(e))}dispatch(e){this._eventListeners.get(e.type)?.forEach((t=>t(e)))}removeAllEventListeners(){this._eventListeners.clear()}};function M(e){if(!function(e){return/^#([\da-f]{6}|[\da-f]{8})$/iu.test(e)}(e))return 0;let t=e.replace("#","");return t=6===t.length?`${t}ff`:t,parseInt(t,16)}var x=(e,t)=>"reverse"===e?t.Mode.Reverse:"bounce"===e?t.Mode.Bounce:"reverse-bounce"===e?t.Mode.ReverseBounce:t.Mode.Forward,S=(e,t)=>"contain"===e?t.Fit.Contain:"cover"===e?t.Fit.Cover:"fill"===e?t.Fit.Fill:"fit-height"===e?t.Fit.FitHeight:"fit-width"===e?t.Fit.FitWidth:t.Fit.None,I=(e,t)=>{let n=new t.VectorFloat;return n.push_back(e[0]),n.push_back(e[1]),n},F=(e,t)=>{let n=new t.VectorFloat;return 2!==e.length||(n.push_back(e[0]),n.push_back(e[1])),n},P=class e{constructor(t){p(this,"_canvas"),p(this,"_context",null),p(this,"_eventManager"),p(this,"_animationFrameId",null),p(this,"_frameManager"),p(this,"_dotLottieCore",null),p(this,"_renderConfig",{}),p(this,"_isFrozen",!1),p(this,"_backgroundColor",null),this._canvas=t.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new E,this._frameManager=new _,this._renderConfig=t.renderConfig??{},L.load().then((n=>{e._wasmModule=n,this._dotLottieCore=new n.DotLottiePlayer({autoplay:t.autoplay??!1,backgroundColor:0,loopAnimation:t.loop??!1,mode:x(t.mode??"forward",n),segment:F(t.segment??[],n),speed:t.speed??1,useFrameInterpolation:t.useFrameInterpolation??!0,marker:t.marker??"",layout:t.layout?{align:I(t.layout.align,n),fit:S(t.layout.fit,n)}:n.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),t.data?this._loadFromData(t.data):t.src&&this._loadFromSrc(t.src),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor)})).catch((e=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${e}`)})}))}_loadFromSrc(e){(async function(){let t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch the animation data from URL: ${e}. ${t.status}: ${t.statusText}`);let n,r=(t.headers.get("content-type")??"").trim();return n=["application/json","text/plain"].some((e=>r.startsWith(e)))?await t.text():await t.arrayBuffer(),n})().then((e=>{this._loadFromData(e)})).catch((t=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load animation data from URL: ${e}. ${t}`)})}))}_loadFromData(e){if(null===this._dotLottieCore)return;let t=this._canvas.width,n=this._canvas.height,r=!1;if("string"==typeof e)r=this._dotLottieCore.loadAnimationData(e,t,n);else if(e instanceof ArrayBuffer)r=this._dotLottieCore.loadDotLottieData(e,t,n);else{if("object"!=typeof e)return void this._eventManager.dispatch({type:"loadError",error:new Error("Unsupported data type for animation data. Expected a string or ArrayBuffer.")});r=this._dotLottieCore.loadAnimationData(JSON.stringify(e),t,n)}r?(this._eventManager.dispatch({type:"load"}),y&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._eventManager.dispatch({type:"loadError",error:new Error("Failed to load animation data")})}get activeAnimationId(){return this._dotLottieCore?.activeAnimationId()}get activeThemeId(){return this._dotLottieCore?.activeThemeId()}get layout(){let t=this._dotLottieCore?.config().layout;if(t)return{align:[t.align.get(0),t.align.get(1)],fit:(()=>{switch(t.fit){case e._wasmModule?.Fit.Contain:return"contain";case e._wasmModule?.Fit.Cover:return"cover";case e._wasmModule?.Fit.Fill:return"fill";case e._wasmModule?.Fit.FitHeight:return"fit-height";case e._wasmModule?.Fit.FitWidth:return"fit-width";case e._wasmModule?.Fit.None:return"none";default:return"contain"}})()}}get marker(){return this._dotLottieCore?.config().marker}get manifest(){try{let e=this._dotLottieCore?.manifestString();if(null===this._dotLottieCore||!e)return null;let t=JSON.parse(e);return 0===Object.keys(t).length?null:t}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){let e=this._dotLottieCore?.config().segment;if(e&&2===e.size())return[e.get(0),e.get(1)]}get loop(){return this._dotLottieCore?.config().loopAnimation??!1}get mode(){let t=this._dotLottieCore?.config().mode;return t===e._wasmModule?.Mode.Reverse?"reverse":t===e._wasmModule?.Mode.Bounce?"bounce":t===e._wasmModule?.Mode.ReverseBounce?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){return this._dotLottieCore?.config().autoplay??!1}get useFrameInterpolation(){return this._dotLottieCore?.config().useFrameInterpolation??!1}get speed(){return this._dotLottieCore?.config().speed??0}get isReady(){return null!==this._dotLottieCore}get isLoaded(){return this._dotLottieCore?.isLoaded()??!1}get isPlaying(){return this._dotLottieCore?.isPlaying()??!1}get isPaused(){return this._dotLottieCore?.isPaused()??!1}get isStopped(){return this._dotLottieCore?.isStopped()??!1}get currentFrame(){return this._dotLottieCore?.currentFrame()??0}get loopCount(){return this._dotLottieCore?.loopCount()??0}get totalFrames(){return this._dotLottieCore?.totalFrames()??0}get duration(){return this._dotLottieCore?.duration()??0}get segmentDuration(){return this._dotLottieCore?.segmentDuration()??0}get canvas(){return this._canvas}load(t){null===this._dotLottieCore||null===e._wasmModule||(this._dotLottieCore.setConfig({autoplay:t.autoplay??!1,backgroundColor:0,loopAnimation:t.loop??!1,mode:x(t.mode??"forward",e._wasmModule),segment:F(t.segment??[],e._wasmModule),speed:t.speed??1,useFrameInterpolation:t.useFrameInterpolation??!0,marker:t.marker??"",layout:t.layout?{align:I(t.layout.align,e._wasmModule),fit:S(t.layout.fit,e._wasmModule)}:e._wasmModule.createDefaultLayout()}),t.data?this._loadFromData(t.data):t.src&&this._loadFromSrc(t.src),this.setBackgroundColor(t.backgroundColor??""))}_render(){if(null===this._dotLottieCore||null===this._context)return!1;if(this._dotLottieCore.render()){let e=this._dotLottieCore.buffer(),t=new Uint8ClampedArray(e,0,this._canvas.width*this._canvas.height*4),n=null;return typeof ImageData>"u"?(n=this._context.createImageData(this._canvas.width,this._canvas.height),n.data.set(t)):n=new ImageData(t,this._canvas.width,this._canvas.height),this._context.putImageData(n,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return!1}_draw(){if(null===this._dotLottieCore||null===this._context||!this._dotLottieCore.isPlaying())return;let e=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(e)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))}play(){if(null===this._dotLottieCore)return;let e=this._dotLottieCore.play();this._isFrozen=!1,e&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)))}pause(){null!==this._dotLottieCore&&this._dotLottieCore.pause()&&this._eventManager.dispatch({type:"pause"})}stop(){null!==this._dotLottieCore&&this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}))}setFrame(e){null===this._dotLottieCore||e<0||e>this._dotLottieCore.totalFrames()||this._dotLottieCore.seek(e)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render())}setSpeed(e){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:e})}setBackgroundColor(e){null!==this._dotLottieCore&&(y&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=e:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:M(e)}),this._backgroundColor=e)}setLoop(e){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:e})}setUseFrameInterpolation(e){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:e})}addEventListener(e,t){this._eventManager.addEventListener(e,t)}removeEventListener(e,t){this._eventManager.removeEventListener(e,t)}destroy(){this._dotLottieCore?.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners()}freeze(){null!==this._animationFrameId&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}))}unfreeze(){null===this._animationFrameId&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}))}resize(){if(y&&this._canvas instanceof HTMLCanvasElement){let e=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:t,width:n}=this._canvas.getBoundingClientRect();this._canvas.width=n*e,this._canvas.height=t*e}this._dotLottieCore?.resize(this._canvas.width,this._canvas.height)&&this._render()}setSegment(t,n){null===this._dotLottieCore||null===e._wasmModule||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:F([t,n],e._wasmModule)})}setMode(t){null===this._dotLottieCore||null===e._wasmModule||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:x(t,e._wasmModule)})}setRenderConfig(e){this._renderConfig=e}loadAnimation(e){null!==this._dotLottieCore&&this._dotLottieCore.activeAnimationId()!==e&&(this._dotLottieCore.loadAnimation(e,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${e}`)}))}setMarker(e){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:e})}markers(){let e=this._dotLottieCore?.markers();if(e){let t=[];for(let n=0;n<e.size();n+=1){let r=e.get(n);t.push({name:r.name,time:r.time,duration:r.duration})}return t}return[]}loadTheme(e){if(null===this._dotLottieCore)return!1;let t=this._dotLottieCore.loadTheme(e);return this._render(),t}loadThemeData(e){if(null===this._dotLottieCore)return!1;let t=this._dotLottieCore.loadThemeData(e);return this._render(),t}setLayout(t){null===this._dotLottieCore||null===e._wasmModule||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:I(t.align,e._wasmModule),fit:S(t.fit,e._wasmModule)}})}setViewport(e,t,n,r){return null!==this._dotLottieCore&&this._dotLottieCore.setViewport(e,t,n,r)}static setWasmUrl(e){L.setWasmUrl(e)}loadStateMachine(e){return this._dotLottieCore?.loadStateMachine(e)??!1}startStateMachine(){let e=this._dotLottieCore?.startStateMachine()??!1;return e&&this._setupStateMachineListeners(),e}stopStateMachine(){let e=this._dotLottieCore?.stopStateMachine()??!1;return e&&this._cleanupStateMachineListeners(),e}_getPointerPosition(e){let t=this._canvas.getBoundingClientRect(),n=this._canvas.width/t.width,r=this._canvas.height/t.height,a=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1;return{x:(e.clientX-t.left)*n/a,y:(e.clientY-t.top)*r/a}}_onPointerUp(e){let{x:t,y:n}=this._getPointerPosition(e);this.postStateMachineEvent(`OnPointerUp: ${t} ${n}`)}_onPointerDown(e){let{x:t,y:n}=this._getPointerPosition(e);this.postStateMachineEvent(`OnPointerDown: ${t} ${n}`)}_onPointerMove(e){let{x:t,y:n}=this._getPointerPosition(e);this.postStateMachineEvent(`OnPointerMove: ${t} ${n}`)}_onPointerEnter(e){let{x:t,y:n}=this._getPointerPosition(e);this.postStateMachineEvent(`OnPointerEnter: ${t} ${n}`)}_onPointerLeave(e){let{x:t,y:n}=this._getPointerPosition(e);this.postStateMachineEvent(`OnPointerExit: ${t} ${n}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}postStateMachineEvent(e){return this._dotLottieCore?.postEventPayload(e)??!1}getStateMachineListeners(){if(!this._dotLottieCore)return[];let e=this._dotLottieCore.stateMachineFrameworkSetup(),t=[];for(let n=0;n<e.size();n+=1)t.push(e.get(n));return t}_setupStateMachineListeners(){if(y&&this._canvas instanceof HTMLCanvasElement&&null!==this._dotLottieCore&&this.isLoaded){let e=this.getStateMachineListeners();e.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),e.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),e.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),e.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),e.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),e.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}}_cleanupStateMachineListeners(){y&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}loadStateMachineData(e){return this._dotLottieCore?.loadStateMachineData(e)??!1}animationSize(){return{width:this._dotLottieCore?.animationSize().get(0)??0,height:this._dotLottieCore?.animationSize().get(1)??0}}setStateMachineBooleanContext(e,t){return this._dotLottieCore?.setStateMachineBooleanContext(e,t)??!1}setStateMachineNumericContext(e,t){return this._dotLottieCore?.setStateMachineNumericContext(e,t)??!1}setStateMachineStringContext(e,t){return this._dotLottieCore?.setStateMachineStringContext(e,t)??!1}};p(P,"_wasmModule",null);var A=P;function T(e){if(e instanceof OffscreenCanvas)return{width:e.width,height:e.height};let{height:t,width:n}=e.getBoundingClientRect();return{width:n*window.devicePixelRatio,height:t*window.devicePixelRatio}}function k(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)}var j=class e{constructor(t){p(this,"_eventManager",new E),p(this,"_id"),p(this,"_worker"),p(this,"_canvas"),p(this,"_dotLottieInstanceState",{markers:[],autoplay:!1,backgroundColor:"",currentFrame:0,duration:0,loop:!1,mode:"forward",segment:[0,0],segmentDuration:0,speed:1,totalFrames:0,isLoaded:!1,isPlaying:!1,isPaused:!1,isStopped:!0,isFrozen:!1,useFrameInterpolation:!1,renderConfig:{devicePixelRatio:window.devicePixelRatio},activeAnimationId:"",activeThemeId:"",layout:void 0,marker:void 0,isReady:!1,manifest:null}),p(this,"_created",!1),this._canvas=t.canvas,this._id=`dotlottie-${k()}`;let n=t.workerId||"defaultWorker";this._worker=e._workerManager.getWorker(n),e._workerManager.assignAnimationToWorker(this._id,n),e._wasmUrl&&this._sendMessage("setWasmUrl",{url:e._wasmUrl}),this._create(t),this._worker.addEventListener("message",this._handleWorkerEvent.bind(this))}async _handleWorkerEvent(e){let t=e.data;t.id||("onLoad"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onComplete"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onDestroy"===t.method&&t.result.instanceId===this._id&&this._eventManager.dispatch(t.result.event),"onUnfreeze"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._dotLottieInstanceState.isFrozen=!1,this._eventManager.dispatch(t.result.event)),"onFrame"===t.method&&t.result.instanceId===this._id&&(this._dotLottieInstanceState.currentFrame=t.result.event.currentFrame,this._eventManager.dispatch(t.result.event)),"onRender"===t.method&&t.result.instanceId===this._id&&this._eventManager.dispatch(t.result.event),"onFreeze"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onPause"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onPlay"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onStop"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onLoadError"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onReady"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)))}async _create(e){let t;t=this._canvas instanceof HTMLCanvasElement?this._canvas.transferControlToOffscreen():this._canvas;let{instanceId:n}=await this._sendMessage("create",{instanceId:this._id,config:{...e,canvas:t},...T(this._canvas)},[t]);if(n!==this._id)throw new Error("Instance ID mismatch");this._created=!0,await this._updateDotLottieInstanceState()}get isLoaded(){return this._dotLottieInstanceState.isLoaded}get isPlaying(){return this._dotLottieInstanceState.isPlaying}get isPaused(){return this._dotLottieInstanceState.isPaused}get isStopped(){return this._dotLottieInstanceState.isStopped}get currentFrame(){return this._dotLottieInstanceState.currentFrame}get isFrozen(){return this._dotLottieInstanceState.isFrozen}get segmentDuration(){return this._dotLottieInstanceState.segmentDuration}get totalFrames(){return this._dotLottieInstanceState.totalFrames}get segment(){return this._dotLottieInstanceState.segment}get speed(){return this._dotLottieInstanceState.speed}get duration(){return this._dotLottieInstanceState.duration}get isReady(){return this._dotLottieInstanceState.isReady}get mode(){return this._dotLottieInstanceState.mode}get canvas(){return this._canvas}get autoplay(){return this._dotLottieInstanceState.autoplay}get backgroundColor(){return this._dotLottieInstanceState.backgroundColor}get loop(){return this._dotLottieInstanceState.loop}get useFrameInterpolation(){return this._dotLottieInstanceState.useFrameInterpolation}get renderConfig(){return this._dotLottieInstanceState.renderConfig}get manifest(){return this._dotLottieInstanceState.manifest}get activeAnimationId(){return this._dotLottieInstanceState.activeAnimationId}get marker(){return this._dotLottieInstanceState.marker}get activeThemeId(){return this._dotLottieInstanceState.activeThemeId}get layout(){return this._dotLottieInstanceState.layout}async play(){this._created&&(await this._sendMessage("play",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async pause(){this._created&&(await this._sendMessage("pause",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async stop(){this._created&&(await this._sendMessage("stop",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSpeed(e){this._created&&(await this._sendMessage("setSpeed",{instanceId:this._id,speed:e}),await this._updateDotLottieInstanceState())}async setMode(e){this._created&&(await this._sendMessage("setMode",{instanceId:this._id,mode:e}),await this._updateDotLottieInstanceState())}async setFrame(e){this._created&&(await this._sendMessage("setFrame",{frame:e,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSegment(e,t){this._created&&(await this._sendMessage("setSegment",{instanceId:this._id,segment:[e,t]}),await this._updateDotLottieInstanceState())}async setRenderConfig(e){this._created&&(await this._sendMessage("setRenderConfig",{instanceId:this._id,renderConfig:e}),await this._updateDotLottieInstanceState())}async setUseFrameInterpolation(e){this._created&&(await this._sendMessage("setUseFrameInterpolation",{instanceId:this._id,useFrameInterpolation:e}),await this._updateDotLottieInstanceState())}async loadTheme(e){if(!this._created)return!1;let t=this._sendMessage("loadTheme",{instanceId:this._id,themeId:e});return await this._updateDotLottieInstanceState(),t}async load(e){this._created&&(await this._sendMessage("load",{config:e,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLoop(e){this._created&&(await this._sendMessage("setLoop",{instanceId:this._id,loop:e}),await this._updateDotLottieInstanceState())}async resize(){if(!this._created)return;let{height:e,width:t}=T(this._canvas);this._canvas.width=t,this._canvas.height=e,await this._sendMessage("resize",{height:e,instanceId:this._id,width:t}),await this._updateDotLottieInstanceState()}async destroy(){this._created&&(this._created=!1,await this._sendMessage("destroy",{instanceId:this._id}),this._cleanupStateMachineListeners(),e._workerManager.unassignAnimationFromWorker(this._id),this._eventManager.removeAllEventListeners())}async freeze(){this._created&&(await this._sendMessage("freeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async unfreeze(){this._created&&(await this._sendMessage("unfreeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setBackgroundColor(e){this._created&&(await this._sendMessage("setBackgroundColor",{instanceId:this._id,backgroundColor:e}),await this._updateDotLottieInstanceState())}async loadAnimation(e){this._created&&(await this._sendMessage("loadAnimation",{animationId:e,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLayout(e){this._created&&(await this._sendMessage("setLayout",{instanceId:this._id,layout:e}),await this._updateDotLottieInstanceState())}async _updateDotLottieInstanceState(){if(!this._created)return;let e=await this._sendMessage("getDotLottieInstanceState",{instanceId:this._id});this._dotLottieInstanceState=e.state}markers(){return this._dotLottieInstanceState.markers}async setMarker(e){this._created&&(await this._sendMessage("setMarker",{instanceId:this._id,marker:e}),await this._updateDotLottieInstanceState())}async loadThemeData(e){if(!this._created)return!1;let t=await this._sendMessage("loadThemeData",{instanceId:this._id,themeData:e});return await this._updateDotLottieInstanceState(),t}async setViewport(e,t,n,r){return!!this._created&&this._sendMessage("setViewport",{x:e,y:t,width:n,height:r,instanceId:this._id})}async _sendMessage(e,t,n){let r={id:`dotlottie-request-${k()}`,method:e,params:t};return this._worker.postMessage(r,n||[]),new Promise(((t,n)=>{let a=i=>{let o=i.data;o.id===r.id&&(this._worker.removeEventListener("message",a),o.error?n(new Error(`Failed to execute method ${e}: ${o.error}`)):t(o.result))};this._worker.addEventListener("message",a)}))}addEventListener(e,t){this._eventManager.addEventListener(e,t)}removeEventListener(e,t){this._eventManager.removeEventListener(e,t)}static setWasmUrl(t){e._wasmUrl=t}async loadStateMachine(e){if(!this._created)return!1;let t=await this._sendMessage("loadStateMachine",{instanceId:this._id,stateMachineId:e});return await this._updateDotLottieInstanceState(),t}async startStateMachine(){if(!this._created)return!1;this._setupStateMachineListeners();let e=await this._sendMessage("startStateMachine",{instanceId:this._id});return await this._updateDotLottieInstanceState(),e}async stopStateMachine(){return!!this._created&&(this._cleanupStateMachineListeners(),this._sendMessage("stopStateMachine",{instanceId:this._id}))}async postStateMachineEvent(e){return!!this._created&&this._sendMessage("postStateMachineEvent",{event:e,instanceId:this._id})}async getStateMachineListeners(){return this._created?this._sendMessage("getStateMachineListeners",{instanceId:this._id}):[]}_getPointerPosition(e){let t=this._canvas.getBoundingClientRect(),n=this._canvas.width/t.width,r=this._canvas.height/t.height,a=this._dotLottieInstanceState.renderConfig.devicePixelRatio||window.devicePixelRatio||1;return{x:(e.clientX-t.left)*n/a,y:(e.clientY-t.top)*r/a}}_onPointerUp(e){let{x:t,y:n}=this._getPointerPosition(e);this.postStateMachineEvent(`OnPointerUp: ${t} ${n}`)}_onPointerDown(e){let{x:t,y:n}=this._getPointerPosition(e);this.postStateMachineEvent(`OnPointerDown: ${t} ${n}`)}_onPointerMove(e){let{x:t,y:n}=this._getPointerPosition(e);this.postStateMachineEvent(`OnPointerMove: ${t} ${n}`)}_onPointerEnter(e){let{x:t,y:n}=this._getPointerPosition(e);this.postStateMachineEvent(`OnPointerEnter: ${t} ${n}`)}_onPointerLeave(e){let{x:t,y:n}=this._getPointerPosition(e);this.postStateMachineEvent(`OnPointerExit: ${t} ${n}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}async _setupStateMachineListeners(){if(y&&this._canvas instanceof HTMLCanvasElement&&this.isLoaded){let e=await this._sendMessage("getStateMachineListeners",{instanceId:this._id});e.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),e.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),e.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),e.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),e.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),e.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}}_cleanupStateMachineListeners(){y&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}};p(j,"_workerManager",new class{constructor(){p(this,"_workers",new Map),p(this,"_animationWorkerMap",new Map)}_createWorker(e){let t=new Blob(['/**\n * This is a worker script for dotlottie.\n * Do not modify this file directly.\n * As it\'s generated by the build process.\n */\n    \nvar Pn=Object.defineProperty;var An=(s,n,a)=>n in s?Pn(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a;var I=(s,n,a)=>An(s,typeof n!="symbol"?n+"":n,a);var Ke=class{requestAnimationFrame(n){return requestAnimationFrame(n)}cancelAnimationFrame(n){cancelAnimationFrame(n);}},Xe=class{constructor(){I(this,"_lastHandleId",0);I(this,"_lastImmediate",null);}requestAnimationFrame(n){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate(()=>{n(Date.now());}),this._lastHandleId}cancelAnimationFrame(n){this._lastImmediate&&clearImmediate(this._lastImmediate);}},Ie=class{constructor(){I(this,"_strategy");this._strategy=typeof requestAnimationFrame=="function"?new Ke:new Xe;}requestAnimationFrame(n){return this._strategy.requestAnimationFrame(n)}cancelAnimationFrame(n){this._strategy.cancelAnimationFrame(n);}};var te=typeof window<"u"&&typeof window.document<"u";var me={name:"@lottiefiles/dotlottie-web",version:"0.28.0",type:"module",description:"Lottie and DotLottie player for the web",repository:{type:"git",url:"git+https://github.com/LottieFiles/dotlottie-web.git",directory:"packages/web"},homepage:"https://github.com/LottieFiles/dotlottie-web#readme",bugs:"https://github.com/LottieFiles/dotlottie-web/issues",author:"LottieFiles",contributors:["Abdelrahman Ashraf <a.theashraf@gmail.com>"],license:"MIT",main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",files:["dist"],keywords:["dotlottie","lottie","player","animation","web","canvas","javascript","thorvg"],scripts:{build:"tsup",dev:"tsup --watch",lint:"eslint --fix .","stats:eslint":"cross-env TIMING=1 eslint .","stats:ts":"tsc -p tsconfig.build.json --extendedDiagnostics",test:"vitest run --browser.headless","test:coverage":"vitest run --browser.headless --coverage","test:watch":"vitest","type-check":"tsc --noEmit"},devDependencies:{"@types/node":"^20.10.5","@vitest/browser":"^1.2.2 ","@vitest/coverage-istanbul":"^1.2.2","cross-env":"7.0.3",tsup:"8.1.0",typescript:"5.0.4",vitest:"^1.2.2",webdriverio:"^8.32.0"},publishConfig:{access:"public"}};var Sn=(()=>{var s=typeof document<"u"?document.currentScript?.src:void 0;return function(n={}){var a=n,d,w,T=new Promise((e,t)=>{d=e,w=t;}),W=Object.assign({},a),Y="./this.program",j="";typeof document<"u"&&document.currentScript&&(j=document.currentScript.src),s&&(j=s),j.startsWith("blob:")?j="":j=j.substr(0,j.replace(/[?#].*/,"").lastIndexOf("/")+1);var Wt=a.print||console.log.bind(console),Q=a.printErr||console.error.bind(console);Object.assign(a,W),W=null,a.thisProgram&&(Y=a.thisProgram);var ne;a.wasmBinary&&(ne=a.wasmBinary);var ve,tt=!1,G,L,Z,re,A,b,nt,rt;function at(){var e=ve.buffer;a.HEAP8=G=new Int8Array(e),a.HEAP16=Z=new Int16Array(e),a.HEAPU8=L=new Uint8Array(e),a.HEAPU16=re=new Uint16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU32=b=new Uint32Array(e),a.HEAPF32=nt=new Float32Array(e),a.HEAPF64=rt=new Float64Array(e);}var ot=[],it=[],st=[];function jt(){var e=a.preRun.shift();ot.unshift(e);}var N=0,ae=null;function ye(e){throw a.onAbort?.(e),e="Aborted("+e+")",Q(e),tt=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),w(e),e}var lt=e=>e.startsWith("data:application/octet-stream;base64,"),q;if(q="DotLottiePlayer.wasm",!lt(q)){var dt=q;q=a.locateFile?a.locateFile(dt,j):j+dt;}function ut(e){if(e==q&&ne)return new Uint8Array(ne);throw "both async and sync fetching of the wasm failed"}function Bt(e){return ne||typeof fetch!="function"?Promise.resolve().then(()=>ut(e)):fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw `failed to load wasm binary file at \'${e}\'`;return t.arrayBuffer()}).catch(()=>ut(e))}function ct(e,t,r){return Bt(e).then(o=>WebAssembly.instantiate(o,t)).then(r,o=>{Q(`failed to asynchronously prepare wasm: ${o}`),ye(o);})}function Ut(e,t){var r=q;return ne||typeof WebAssembly.instantiateStreaming!="function"||lt(r)||typeof fetch!="function"?ct(r,e,t):fetch(r,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,e).then(t,function(i){return Q(`wasm streaming compile failed: ${i}`),Q("falling back to ArrayBuffer instantiation"),ct(r,e,t)}))}var Ae=e=>{for(;0<e.length;)e.shift()(a);},ht=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,J=(e,t,r)=>{var o=t+r;for(r=t;e[r]&&!(r>=o);)++r;if(16<r-t&&e.buffer&&ht)return ht.decode(e.subarray(t,r));for(o="";t<r;){var i=e[t++];if(i&128){var l=e[t++]&63;if((i&224)==192)o+=String.fromCharCode((i&31)<<6|l);else {var h=e[t++]&63;i=(i&240)==224?(i&15)<<12|l<<6|h:(i&7)<<18|l<<12|h<<6|e[t++]&63,65536>i?o+=String.fromCharCode(i):(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023));}}else o+=String.fromCharCode(i);}return o};class Ht{constructor(t){this.ya=t-24;}}var pt=0,mt=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);127>=o?t++:2047>=o?t+=2:55296<=o&&57343>=o?(t+=4,++r):t+=3;}return t},ft=(e,t,r,o)=>{if(0<o){o=r+o-1;for(var i=0;i<e.length;++i){var l=e.charCodeAt(i);if(55296<=l&&57343>=l){var h=e.charCodeAt(++i);l=65536+((l&1023)<<10)|h&1023;}if(127>=l){if(r>=o)break;t[r++]=l;}else {if(2047>=l){if(r+1>=o)break;t[r++]=192|l>>6;}else {if(65535>=l){if(r+2>=o)break;t[r++]=224|l>>12;}else {if(r+3>=o)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63;}t[r++]=128|l>>6&63;}t[r++]=128|l&63;}}t[r]=0;}},ge={},Te=e=>{for(;e.length;){var t=e.pop();e.pop()(t);}};function oe(e){return this.fromWireType(b[e>>2])}var ee={},K={},we={},ie,H=(e,t,r)=>{function o(c){if(c=r(c),c.length!==e.length)throw new ie("Mismatched type converter count");for(var m=0;m<e.length;++m)k(e[m],c[m]);}e.forEach(function(c){we[c]=t;});var i=Array(t.length),l=[],h=0;t.forEach((c,m)=>{K.hasOwnProperty(c)?i[m]=K[c]:(l.push(c),ee.hasOwnProperty(c)||(ee[c]=[]),ee[c].push(()=>{i[m]=K[c],++h,h===l.length&&o(i);}));}),l.length===0&&o(i);},vt,P=e=>{for(var t="";L[e];)t+=vt[L[e++]];return t},g;function Yt(e,t,r={}){var o=t.name;if(!e)throw new g(`type "${o}" must have a positive integer typeid pointer`);if(K.hasOwnProperty(e)){if(r.ib)return;throw new g(`Cannot register type \'${o}\' twice`)}K[e]=t,delete we[e],ee.hasOwnProperty(e)&&(t=ee[e],delete ee[e],t.forEach(i=>i()));}function k(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Yt(e,t,r)}var Se=e=>{throw new g(e.ma.za.xa.name+" instance already deleted")},Re=!1,yt=()=>{},gt=(e,t,r)=>t===r?e:r.Ca===void 0?null:(e=gt(e,t,r.Ca),e===null?null:r.ab(e)),wt={},se=[],$e=()=>{for(;se.length;){var e=se.pop();e.ma.Ka=!1,e.delete();}},le,de={},Gt=(e,t)=>{if(t===void 0)throw new g("ptr should not be undefined");for(;e.Ca;)t=e.Na(t),e=e.Ca;return de[t]},_e=(e,t)=>{if(!t.za||!t.ya)throw new ie("makeClassHandle requires ptr and ptrType");if(!!t.Da!=!!t.Aa)throw new ie("Both smartPtrType and smartPtr must be specified");return t.count={value:1},ue(Object.create(e,{ma:{value:t,writable:!0}}))},ue=e=>typeof FinalizationRegistry>"u"?(ue=t=>t,e):(Re=new FinalizationRegistry(t=>{t=t.ma,--t.count.value,t.count.value===0&&(t.Aa?t.Da.Fa(t.Aa):t.za.xa.Fa(t.ya));}),ue=t=>{var r=t.ma;return r.Aa&&Re.register(t,{ma:r},t),t},yt=t=>{Re.unregister(t);},ue(e));function Ee(){}var ce=(e,t)=>Object.defineProperty(t,"name",{value:e}),_t=(e,t,r)=>{if(e[t].Ba===void 0){var o=e[t];e[t]=function(...i){if(!e[t].Ba.hasOwnProperty(i.length))throw new g(`Function \'${r}\' called with an invalid number of arguments (${i.length}) - expects one of (${e[t].Ba})!`);return e[t].Ba[i.length].apply(this,i)},e[t].Ba=[],e[t].Ba[o.Oa]=o;}},ke=(e,t,r)=>{if(a.hasOwnProperty(e)){if(r===void 0||a[e].Ba!==void 0&&a[e].Ba[r]!==void 0)throw new g(`Cannot register public name \'${e}\' twice`);if(_t(a,e,e),a.hasOwnProperty(r))throw new g(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`);a[e].Ba[r]=t;}else a[e]=t,r!==void 0&&(a[e].vb=r);},Nt=e=>{if(e===void 0)return "_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e};function Jt(e,t,r,o,i,l,h,c){this.name=e,this.constructor=t,this.La=r,this.Fa=o,this.Ca=i,this.cb=l,this.Na=h,this.ab=c,this.kb=[];}var De=(e,t,r)=>{for(;t!==r;){if(!t.Na)throw new g(`Expected null or instance of ${r.name}, got an instance of ${t.name}`);e=t.Na(e),t=t.Ca;}return e};function Kt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);return De(t.ma.ya,t.ma.za.xa,this.xa)}function Xt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);if(this.Qa){var r=this.Ua();return e!==null&&e.push(this.Fa,r),r}return 0}if(!t||!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&t.ma.za.Pa)throw new g(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);if(r=De(t.ma.ya,t.ma.za.xa,this.xa),this.Qa){if(t.ma.Aa===void 0)throw new g("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(t.ma.Da===this)r=t.ma.Aa;else throw new g(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);break;case 1:r=t.ma.Aa;break;case 2:if(t.ma.Da===this)r=t.ma.Aa;else {var o=t.clone();r=this.lb(r,Me(()=>o.delete())),e!==null&&e.push(this.Fa,r);}break;default:throw new g("Unsupporting sharing policy")}}return r}function Qt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);if(t.ma.za.Pa)throw new g(`Cannot convert argument of type ${t.ma.za.name} to parameter type ${this.name}`);return De(t.ma.ya,t.ma.za.xa,this.xa)}function he(e,t,r,o,i,l,h,c,m,p,f){this.name=e,this.xa=t,this.Ta=r,this.Pa=o,this.Qa=i,this.jb=l,this.pb=h,this.Za=c,this.Ua=m,this.lb=p,this.Fa=f,i||t.Ca!==void 0?this.toWireType=Xt:(this.toWireType=o?Kt:Qt,this.Ea=null);}var Et=(e,t,r)=>{if(!a.hasOwnProperty(e))throw new ie("Replacing nonexistent public symbol");a[e].Ba!==void 0&&r!==void 0?a[e].Ba[r]=t:(a[e]=t,a[e].Oa=r);},$,Zt=(e,t,r=[])=>(e.includes("j")?(e=e.replace(/p/g,"i"),t=(0, a["dynCall_"+e])(t,...r)):t=$.get(t)(...r),t),qt=(e,t)=>(...r)=>Zt(e,t,r),S=(e,t)=>{e=P(e);var r=e.includes("j")?qt(e,t):$.get(t);if(typeof r!="function")throw new g(`unknown function pointer with signature ${e}: ${t}`);return r},Ct,Mt=e=>{e=St(e);var t=P(e);return U(e),t},Ce=(e,t)=>{function r(l){i[l]||K[l]||(we[l]?we[l].forEach(r):(o.push(l),i[l]=!0));}var o=[],i={};throw t.forEach(r),new Ct(`${e}: `+o.map(Mt).join([", "]))},ze=(e,t)=>{for(var r=[],o=0;o<e;o++)r.push(b[t+4*o>>2]);return r};function en(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].Ea===void 0)return !0;return !1}function Oe(e,t,r,o,i){var l=t.length;if(2>l)throw new g("argTypes array size mismatch! Must at least get return value and \'this\' types!");var h=t[1]!==null&&r!==null,c=en(t),m=t[0].name!=="void",p=l-2,f=Array(p),_=[],C=[];return ce(e,function(...u){if(u.length!==p)throw new g(`function ${e} called with ${u.length} arguments, expected ${p}`);if(C.length=0,_.length=h?2:1,_[0]=i,h){var v=t[1].toWireType(C,this);_[1]=v;}for(var y=0;y<p;++y)f[y]=t[y+2].toWireType(C,u[y]),_.push(f[y]);if(u=o(..._),c)Te(C);else for(y=h?1:2;y<t.length;y++){var x=y===1?v:f[y-2];t[y].Ea!==null&&t[y].Ea(x);}return v=m?t[0].fromWireType(u):void 0,v})}var bt=e=>{e=e.trim();let t=e.indexOf("(");return t!==-1?e.substr(0,t):e},We=[],B=[],je=e=>{9<e&&--B[e+1]===0&&(B[e]=void 0,We.push(e));},Be=e=>{if(!e)throw new g("Cannot use deleted val. handle = "+e);return B[e]},Me=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let t=We.pop()||B.length;return B[t]=e,B[t+1]=1,t}},Lt={name:"emscripten::val",fromWireType:e=>{var t=Be(e);return je(e),t},toWireType:(e,t)=>Me(t),argPackAdvance:8,readValueFromPointer:oe,Ea:null},tn=(e,t,r)=>{switch(t){case 1:return r?function(o){return this.fromWireType(G[o])}:function(o){return this.fromWireType(L[o])};case 2:return r?function(o){return this.fromWireType(Z[o>>1])}:function(o){return this.fromWireType(re[o>>1])};case 4:return r?function(o){return this.fromWireType(A[o>>2])}:function(o){return this.fromWireType(b[o>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ue=(e,t)=>{var r=K[e];if(r===void 0)throw e=`${t} has unknown type ${Mt(e)}`,new g(e);return r},He=e=>{if(e===null)return "null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},nn=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(nt[r>>2])};case 8:return function(r){return this.fromWireType(rt[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},rn=(e,t,r)=>{switch(t){case 1:return r?o=>G[o]:o=>L[o];case 2:return r?o=>Z[o>>1]:o=>re[o>>1];case 4:return r?o=>A[o>>2]:o=>b[o>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ft=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,an=(e,t)=>{for(var r=e>>1,o=r+t/2;!(r>=o)&&re[r];)++r;if(r<<=1,32<r-e&&Ft)return Ft.decode(L.subarray(e,r));for(r="",o=0;!(o>=t/2);++o){var i=Z[e+2*o>>1];if(i==0)break;r+=String.fromCharCode(i);}return r},on=(e,t,r)=>{if(r??(r=2147483647),2>r)return 0;r-=2;var o=t;r=r<2*e.length?r/2:e.length;for(var i=0;i<r;++i)Z[t>>1]=e.charCodeAt(i),t+=2;return Z[t>>1]=0,t-o},sn=e=>2*e.length,ln=(e,t)=>{for(var r=0,o="";!(r>=t/4);){var i=A[e+4*r>>2];if(i==0)break;++r,65536<=i?(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023)):o+=String.fromCharCode(i);}return o},dn=(e,t,r)=>{if(r??(r=2147483647),4>r)return 0;var o=t;r=o+r-4;for(var i=0;i<e.length;++i){var l=e.charCodeAt(i);if(55296<=l&&57343>=l){var h=e.charCodeAt(++i);l=65536+((l&1023)<<10)|h&1023;}if(A[t>>2]=l,t+=4,t+4>r)break}return A[t>>2]=0,t-o},un=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);55296<=o&&57343>=o&&++r,t+=4;}return t},Ve=[],cn=e=>{var t=Ve.length;return Ve.push(e),t},hn=(e,t)=>{for(var r=Array(e),o=0;o<e;++o)r[o]=Ue(b[t+4*o>>2],"parameter "+o);return r},pn=Reflect.construct,Ye={},It=()=>{if(!Ge){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Y||"./this.program"},t;for(t in Ye)Ye[t]===void 0?delete e[t]:e[t]=Ye[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);Ge=r;}return Ge},Ge,mn=[null,[],[]],fn=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);ye("initRandomDevice");},xt=e=>(xt=fn())(e),be=e=>e%4===0&&(e%100!==0||e%400===0),Pt=[31,29,31,30,31,30,31,31,30,31,30,31],At=[31,28,31,30,31,30,31,31,30,31,30,31];function vn(e){var t=Array(mt(e)+1);return ft(e,t,0,t.length),t}var yn=(e,t,r,o)=>{function i(u,v,y){for(u=typeof u=="number"?u.toString():u||"";u.length<v;)u=y[0]+u;return u}function l(u,v){return i(u,v,"0")}function h(u,v){function y(V){return 0>V?-1:0<V?1:0}var x;return (x=y(u.getFullYear()-v.getFullYear()))===0&&(x=y(u.getMonth()-v.getMonth()))===0&&(x=y(u.getDate()-v.getDate())),x}function c(u){switch(u.getDay()){case 0:return new Date(u.getFullYear()-1,11,29);case 1:return u;case 2:return new Date(u.getFullYear(),0,3);case 3:return new Date(u.getFullYear(),0,2);case 4:return new Date(u.getFullYear(),0,1);case 5:return new Date(u.getFullYear()-1,11,31);case 6:return new Date(u.getFullYear()-1,11,30)}}function m(u){var v=u.Ia;for(u=new Date(new Date(u.Ja+1900,0,1).getTime());0<v;){var y=u.getMonth(),x=(be(u.getFullYear())?Pt:At)[y];if(v>x-u.getDate())v-=x-u.getDate()+1,u.setDate(1),11>y?u.setMonth(y+1):(u.setMonth(0),u.setFullYear(u.getFullYear()+1));else {u.setDate(u.getDate()+v);break}}return y=new Date(u.getFullYear()+1,0,4),v=c(new Date(u.getFullYear(),0,4)),y=c(y),0>=h(v,u)?0>=h(y,u)?u.getFullYear()+1:u.getFullYear():u.getFullYear()-1}var p=b[o+40>>2];o={sb:A[o>>2],rb:A[o+4>>2],Ra:A[o+8>>2],Va:A[o+12>>2],Sa:A[o+16>>2],Ja:A[o+20>>2],Ga:A[o+24>>2],Ia:A[o+28>>2],wb:A[o+32>>2],qb:A[o+36>>2],tb:p&&p?J(L,p):""},r=r?J(L,r):"",p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in p)r=r.replace(new RegExp(f,"g"),p[f]);var _="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),C="January February March April May June July August September October November December".split(" ");p={"%a":u=>_[u.Ga].substring(0,3),"%A":u=>_[u.Ga],"%b":u=>C[u.Sa].substring(0,3),"%B":u=>C[u.Sa],"%C":u=>l((u.Ja+1900)/100|0,2),"%d":u=>l(u.Va,2),"%e":u=>i(u.Va,2," "),"%g":u=>m(u).toString().substring(2),"%G":m,"%H":u=>l(u.Ra,2),"%I":u=>(u=u.Ra,u==0?u=12:12<u&&(u-=12),l(u,2)),"%j":u=>{for(var v=0,y=0;y<=u.Sa-1;v+=(be(u.Ja+1900)?Pt:At)[y++]);return l(u.Va+v,3)},"%m":u=>l(u.Sa+1,2),"%M":u=>l(u.rb,2),"%n":()=>`\n`,"%p":u=>0<=u.Ra&&12>u.Ra?"AM":"PM","%S":u=>l(u.sb,2),"%t":()=>"\t","%u":u=>u.Ga||7,"%U":u=>l(Math.floor((u.Ia+7-u.Ga)/7),2),"%V":u=>{var v=Math.floor((u.Ia+7-(u.Ga+6)%7)/7);if(2>=(u.Ga+371-u.Ia-2)%7&&v++,v)v==53&&(y=(u.Ga+371-u.Ia)%7,y==4||y==3&&be(u.Ja)||(v=1));else {v=52;var y=(u.Ga+7-u.Ia-1)%7;(y==4||y==5&&be(u.Ja%400-1))&&v++;}return l(v,2)},"%w":u=>u.Ga,"%W":u=>l(Math.floor((u.Ia+7-(u.Ga+6)%7)/7),2),"%y":u=>(u.Ja+1900).toString().substring(2),"%Y":u=>u.Ja+1900,"%z":u=>{u=u.qb;var v=0<=u;return u=Math.abs(u)/60,(v?"+":"-")+("0000"+(u/60*100+u%60)).slice(-4)},"%Z":u=>u.tb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0");for(f in p)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),p[f](o)));return r=r.replace(/\\0\\0/g,"%"),f=vn(r),f.length>t?0:(G.set(f,e),f.length-1)};ie=a.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError";}};for(var Tt=Array(256),Le=0;256>Le;++Le)Tt[Le]=String.fromCharCode(Le);vt=Tt,g=a.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError";}},Object.assign(Ee.prototype,{isAliasOf:function(e){if(!(this instanceof Ee&&e instanceof Ee))return !1;var t=this.ma.za.xa,r=this.ma.ya;e.ma=e.ma;var o=e.ma.za.xa;for(e=e.ma.ya;t.Ca;)r=t.Na(r),t=t.Ca;for(;o.Ca;)e=o.Na(e),o=o.Ca;return t===o&&r===e},clone:function(){if(this.ma.ya||Se(this),this.ma.Ma)return this.ma.count.value+=1,this;var e=ue,t=Object,r=t.create,o=Object.getPrototypeOf(this),i=this.ma;return e=e(r.call(t,o,{ma:{value:{count:i.count,Ka:i.Ka,Ma:i.Ma,ya:i.ya,za:i.za,Aa:i.Aa,Da:i.Da}}})),e.ma.count.value+=1,e.ma.Ka=!1,e},delete(){if(this.ma.ya||Se(this),this.ma.Ka&&!this.ma.Ma)throw new g("Object already scheduled for deletion");yt(this);var e=this.ma;--e.count.value,e.count.value===0&&(e.Aa?e.Da.Fa(e.Aa):e.za.xa.Fa(e.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0);},isDeleted:function(){return !this.ma.ya},deleteLater:function(){if(this.ma.ya||Se(this),this.ma.Ka&&!this.ma.Ma)throw new g("Object already scheduled for deletion");return se.push(this),se.length===1&&le&&le($e),this.ma.Ka=!0,this}}),a.getInheritedInstanceCount=()=>Object.keys(de).length,a.getLiveInheritedInstances=()=>{var e=[],t;for(t in de)de.hasOwnProperty(t)&&e.push(de[t]);return e},a.flushPendingDeletes=$e,a.setDelayFunction=e=>{le=e,se.length&&le&&le($e);},Object.assign(he.prototype,{eb(e){return this.Za&&(e=this.Za(e)),e},Xa(e){this.Fa?.(e);},argPackAdvance:8,readValueFromPointer:oe,fromWireType:function(e){function t(){return this.Qa?_e(this.xa.La,{za:this.jb,ya:r,Da:this,Aa:e}):_e(this.xa.La,{za:this,ya:e})}var r=this.eb(e);if(!r)return this.Xa(e),null;var o=Gt(this.xa,r);if(o!==void 0)return o.ma.count.value===0?(o.ma.ya=r,o.ma.Aa=e,o.clone()):(o=o.clone(),this.Xa(e),o);if(o=this.xa.cb(r),o=wt[o],!o)return t.call(this);o=this.Pa?o.$a:o.pointerType;var i=gt(r,this.xa,o.xa);return i===null?t.call(this):this.Qa?_e(o.xa.La,{za:o,ya:i,Da:this,Aa:e}):_e(o.xa.La,{za:o,ya:i})}}),Ct=a.UnboundTypeError=((e,t)=>{var r=ce(t,function(o){this.name=t,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`\n`+o.replace(/^Error(:[^\\n]*)?\\n/,""));});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r})(Error,"UnboundTypeError"),B.push(0,1,void 0,1,null,1,!0,1,!1,1),a.count_emval_handles=()=>B.length/2-5-We.length;var gn={c:(e,t,r,o)=>{ye(`Assertion failed: ${e?J(L,e):""}, at: `+[t?t?J(L,t):"":"unknown filename",r,o?o?J(L,o):"":"unknown function"]);},m:(e,t,r)=>{var o=new Ht(e);throw b[o.ya+16>>2]=0,b[o.ya+4>>2]=t,b[o.ya+8>>2]=r,pt=e,pt},B:function(){return 0},P:()=>{},M:()=>{},R:function(){return 0},N:()=>{},A:function(){},O:()=>{},v:e=>{var t=ge[e];delete ge[e];var r=t.Ua,o=t.Fa,i=t.Ya,l=i.map(h=>h.hb).concat(i.map(h=>h.nb));H([e],l,h=>{var c={};return i.forEach((m,p)=>{var f=h[p],_=m.fb,C=m.gb,u=h[p+i.length],v=m.mb,y=m.ob;c[m.bb]={read:x=>f.fromWireType(_(C,x)),write:(x,V)=>{var R=[];v(y,x,u.toWireType(R,V)),Te(R);}};}),[{name:t.name,fromWireType:m=>{var p={},f;for(f in c)p[f]=c[f].read(m);return o(m),p},toWireType:(m,p)=>{for(var f in c)if(!(f in p))throw new TypeError(`Missing field: "${f}"`);var _=r();for(f in c)c[f].write(_,p[f]);return m!==null&&m.push(o,_),_},argPackAdvance:8,readValueFromPointer:oe,Ea:o}]});},I:()=>{},Y:(e,t,r,o)=>{t=P(t),k(e,{name:t,fromWireType:function(i){return !!i},toWireType:function(i,l){return l?r:o},argPackAdvance:8,readValueFromPointer:function(i){return this.fromWireType(L[i])},Ea:null});},r:(e,t,r,o,i,l,h,c,m,p,f,_,C)=>{f=P(f),l=S(i,l),c&&(c=S(h,c)),p&&(p=S(m,p)),C=S(_,C);var u=Nt(f);ke(u,function(){Ce(`Cannot construct ${f} due to unbound types`,[o]);}),H([e,t,r],o?[o]:[],v=>{if(v=v[0],o)var y=v.xa,x=y.La;else x=Ee.prototype;v=ce(f,function(...Je){if(Object.getPrototypeOf(this)!==V)throw new g("Use \'new\' to construct "+f);if(R.Ha===void 0)throw new g(f+" has no accessible constructor");var kt=R.Ha[Je.length];if(kt===void 0)throw new g(`Tried to invoke ctor of ${f} with invalid number of parameters (${Je.length}) - expected (${Object.keys(R.Ha).toString()}) parameters instead!`);return kt.apply(this,Je)});var V=Object.create(x,{constructor:{value:v}});v.prototype=V;var R=new Jt(f,v,V,C,y,l,c,p);if(R.Ca){var pe;(pe=R.Ca).Wa??(pe.Wa=[]),R.Ca.Wa.push(R);}return y=new he(f,R,!0,!1,!1),pe=new he(f+"*",R,!1,!1,!1),x=new he(f+" const*",R,!1,!0,!1),wt[e]={pointerType:pe,$a:x},Et(u,v),[y,pe,x]});},q:(e,t,r,o,i,l)=>{var h=ze(t,r);i=S(o,i),H([],[e],c=>{c=c[0];var m=`constructor ${c.name}`;if(c.xa.Ha===void 0&&(c.xa.Ha=[]),c.xa.Ha[t-1]!==void 0)throw new g(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class \'${c.name}\'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return c.xa.Ha[t-1]=()=>{Ce(`Cannot construct ${c.name} due to unbound types`,h);},H([],h,p=>(p.splice(1,0,null),c.xa.Ha[t-1]=Oe(m,p,null,i,l),[])),[]});},f:(e,t,r,o,i,l,h,c)=>{var m=ze(r,o);t=P(t),t=bt(t),l=S(i,l),H([],[e],p=>{function f(){Ce(`Cannot call ${_} due to unbound types`,m);}p=p[0];var _=`${p.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),c&&p.xa.kb.push(t);var C=p.xa.La,u=C[t];return u===void 0||u.Ba===void 0&&u.className!==p.name&&u.Oa===r-2?(f.Oa=r-2,f.className=p.name,C[t]=f):(_t(C,t,_),C[t].Ba[r-2]=f),H([],m,v=>(v=Oe(_,v,p,l,h),C[t].Ba===void 0?(v.Oa=r-2,C[t]=v):C[t].Ba[r-2]=v,[])),[]});},X:e=>k(e,Lt),x:(e,t,r,o)=>{function i(){}t=P(t),i.values={},k(e,{name:t,constructor:i,fromWireType:function(l){return this.constructor.values[l]},toWireType:(l,h)=>h.value,argPackAdvance:8,readValueFromPointer:tn(t,r,o),Ea:null}),ke(t,i);},k:(e,t,r)=>{var o=Ue(e,"enum");t=P(t),e=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:r},constructor:{value:ce(`${o.name}_${t}`,function(){})}}),e.values[r]=o,e[t]=o;},C:(e,t,r)=>{t=P(t),k(e,{name:t,fromWireType:o=>o,toWireType:(o,i)=>i,argPackAdvance:8,readValueFromPointer:nn(t,r),Ea:null});},E:(e,t,r,o,i,l)=>{var h=ze(t,r);e=P(e),e=bt(e),i=S(o,i),ke(e,function(){Ce(`Cannot call ${e} due to unbound types`,h);},t-1),H([],h,c=>(Et(e,Oe(e,[c[0],null].concat(c.slice(1)),null,i,l),t-1),[]));},l:(e,t,r,o,i)=>{if(t=P(t),i===-1&&(i=4294967295),i=c=>c,o===0){var l=32-8*r;i=c=>c<<l>>>l;}var h=t.includes("unsigned")?function(c,m){return m>>>0}:function(c,m){return m};k(e,{name:t,fromWireType:i,toWireType:h,argPackAdvance:8,readValueFromPointer:rn(t,r,o!==0),Ea:null});},g:(e,t,r)=>{function o(l){return new i(G.buffer,b[l+4>>2],b[l>>2])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=P(r),k(e,{name:r,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ib:!0});},w:e=>{k(e,Lt);},ca:(e,t,r,o,i,l,h,c,m,p,f,_)=>{r=P(r),l=S(i,l),c=S(h,c),p=S(m,p),_=S(f,_),H([e],[t],C=>(C=C[0],[new he(r,C.xa,!1,!1,!0,C,o,l,c,p,_)]));},D:(e,t)=>{t=P(t);var r=t==="std::string";k(e,{name:t,fromWireType:function(o){var i=b[o>>2],l=o+4;if(r)for(var h=l,c=0;c<=i;++c){var m=l+c;if(c==i||L[m]==0){if(h=h?J(L,h,m-h):"",p===void 0)var p=h;else p+="\\0",p+=h;h=m+1;}}else {for(p=Array(i),c=0;c<i;++c)p[c]=String.fromCharCode(L[l+c]);p=p.join("");}return U(o),p},toWireType:function(o,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var l=typeof i=="string";if(!(l||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array))throw new g("Cannot pass non-string to std::string");var h=r&&l?mt(i):i.length,c=Ne(4+h+1),m=c+4;if(b[c>>2]=h,r&&l)ft(i,L,m,h+1);else if(l)for(l=0;l<h;++l){var p=i.charCodeAt(l);if(255<p)throw U(m),new g("String has UTF-16 code units that do not fit in 8 bits");L[m+l]=p;}else for(l=0;l<h;++l)L[m+l]=i[l];return o!==null&&o.push(U,c),c},argPackAdvance:8,readValueFromPointer:oe,Ea(o){U(o);}});},u:(e,t,r)=>{if(r=P(r),t===2)var o=an,i=on,l=sn,h=c=>re[c>>1];else t===4&&(o=ln,i=dn,l=un,h=c=>b[c>>2]);k(e,{name:r,fromWireType:c=>{for(var m=b[c>>2],p,f=c+4,_=0;_<=m;++_){var C=c+4+_*t;(_==m||h(C)==0)&&(f=o(f,C-f),p===void 0?p=f:(p+="\\0",p+=f),f=C+t);}return U(c),p},toWireType:(c,m)=>{if(typeof m!="string")throw new g(`Cannot pass non-string to C++ string type ${r}`);var p=l(m),f=Ne(4+p+t);return b[f>>2]=p/t,i(m,f+4,p+t),c!==null&&c.push(U,f),f},argPackAdvance:8,readValueFromPointer:oe,Ea(c){U(c);}});},s:(e,t,r,o,i,l)=>{ge[e]={name:P(t),Ua:S(r,o),Fa:S(i,l),Ya:[]};},j:(e,t,r,o,i,l,h,c,m,p)=>{ge[e].Ya.push({bb:P(t),hb:r,fb:S(o,i),gb:l,nb:h,mb:S(c,m),ob:p});},Z:(e,t)=>{t=P(t),k(e,{ub:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}});},J:()=>{throw 1/0},aa:(e,t,r,o)=>(e=Ve[e],t=Be(t),e(null,t,r,o)),F:je,$:(e,t,r)=>{var o=hn(e,t),i=o.shift();e--;var l=Array(e);return t=`methodCaller<(${o.map(h=>h.name).join(", ")}) => ${i.name}>`,cn(ce(t,(h,c,m,p)=>{for(var f=0,_=0;_<e;++_)l[_]=o[_].readValueFromPointer(p+f),f+=o[_].argPackAdvance;return c=r===1?pn(c,l):c.apply(h,l),h=[],c=i.toWireType(h,c),h.length&&(b[m>>2]=Me(h)),c}))},ba:e=>{9<e&&(B[e+1]+=1);},_:e=>{var t=Be(e);Te(t),je(e);},o:(e,t)=>(e=Ue(e,"_emval_take_value"),e=e.readValueFromPointer(t),Me(e)),W:()=>{ye("");},V:()=>performance.now(),L:e=>{var t=L.length;if(e>>>=0,2147483648<e)return !1;for(var r=1;4>=r;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var i=Math;o=Math.max(e,o);e:{i=(i.min.call(i,2147483648,o+(65536-o%65536)%65536)-ve.buffer.byteLength+65535)/65536;try{ve.grow(i),at();var l=1;break e}catch{}l=void 0;}if(l)return !0}return !1},S:(e,t)=>{var r=0;return It().forEach((o,i)=>{var l=t+r;for(i=b[e+4*i>>2]=l,l=0;l<o.length;++l)G[i++]=o.charCodeAt(l);G[i]=0,r+=o.length+1;}),0},T:(e,t)=>{var r=It();b[e>>2]=r.length;var o=0;return r.forEach(i=>o+=i.length+1),b[t>>2]=o,0},t:()=>52,z:()=>52,H:function(){return 70},Q:(e,t,r,o)=>{for(var i=0,l=0;l<r;l++){var h=b[t>>2],c=b[t+4>>2];t+=8;for(var m=0;m<c;m++){var p=L[h+m],f=mn[e];p===0||p===10?((e===1?Wt:Q)(J(f,0)),f.length=0):f.push(p);}i+=c;}return b[o>>2]=i,0},U:(e,t)=>(xt(L.subarray(e,e+t)),0),i:Mn,d:Cn,e:En,p:bn,y:In,b:wn,a:_n,h:Fn,n:Ln,G:xn,K:(e,t,r,o)=>yn(e,t,r,o)},F=function(){function e(r){return F=r.exports,ve=F.da,at(),$=F.ha,it.unshift(F.ea),N--,a.monitorRunDependencies?.(N),N==0&&(ae&&(r=ae,ae=null,r())),F}var t={a:gn};if(N++,a.monitorRunDependencies?.(N),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(r){Q(`Module.instantiateWasm callback failed with error: ${r}`),w(r);}return Ut(t,function(r){e(r.instance);}).catch(w),{}}(),Ne=e=>(Ne=F.fa)(e),St=e=>(St=F.ga)(e),U=e=>(U=F.ia)(e),D=(e,t)=>(D=F.ja)(e,t),z=e=>(z=F.ka)(e),O=()=>(O=F.la)();a.dynCall_iijj=(e,t,r,o,i,l)=>(a.dynCall_iijj=F.na)(e,t,r,o,i,l),a.dynCall_vijj=(e,t,r,o,i,l)=>(a.dynCall_vijj=F.oa)(e,t,r,o,i,l),a.dynCall_jiii=(e,t,r,o)=>(a.dynCall_jiii=F.pa)(e,t,r,o),a.dynCall_jii=(e,t,r)=>(a.dynCall_jii=F.qa)(e,t,r);var Rt=a.dynCall_viiij=(e,t,r,o,i,l)=>(Rt=a.dynCall_viiij=F.ra)(e,t,r,o,i,l);a.dynCall_jiji=(e,t,r,o,i)=>(a.dynCall_jiji=F.sa)(e,t,r,o,i),a.dynCall_viijii=(e,t,r,o,i,l,h)=>(a.dynCall_viijii=F.ta)(e,t,r,o,i,l,h),a.dynCall_iiiiij=(e,t,r,o,i,l,h)=>(a.dynCall_iiiiij=F.ua)(e,t,r,o,i,l,h),a.dynCall_iiiiijj=(e,t,r,o,i,l,h,c,m)=>(a.dynCall_iiiiijj=F.va)(e,t,r,o,i,l,h,c,m),a.dynCall_iiiiiijj=(e,t,r,o,i,l,h,c,m,p)=>(a.dynCall_iiiiiijj=F.wa)(e,t,r,o,i,l,h,c,m,p);function wn(e,t){var r=O();try{$.get(e)(t);}catch(o){if(z(r),o!==o+0)throw o;D(1,0);}}function _n(e,t,r){var o=O();try{$.get(e)(t,r);}catch(i){if(z(o),i!==i+0)throw i;D(1,0);}}function En(e,t,r,o){var i=O();try{return $.get(e)(t,r,o)}catch(l){if(z(i),l!==l+0)throw l;D(1,0);}}function Cn(e,t,r){var o=O();try{return $.get(e)(t,r)}catch(i){if(z(o),i!==i+0)throw i;D(1,0);}}function Mn(e,t){var r=O();try{return $.get(e)(t)}catch(o){if(z(r),o!==o+0)throw o;D(1,0);}}function bn(e,t,r,o,i,l){var h=O();try{return $.get(e)(t,r,o,i,l)}catch(c){if(z(h),c!==c+0)throw c;D(1,0);}}function Ln(e,t,r,o,i){var l=O();try{$.get(e)(t,r,o,i);}catch(h){if(z(l),h!==h+0)throw h;D(1,0);}}function Fn(e,t,r,o){var i=O();try{$.get(e)(t,r,o);}catch(l){if(z(i),l!==l+0)throw l;D(1,0);}}function In(e){var t=O();try{$.get(e)();}catch(r){if(z(t),r!==r+0)throw r;D(1,0);}}function xn(e,t,r,o,i,l){var h=O();try{Rt(e,t,r,o,i,l);}catch(c){if(z(h),c!==c+0)throw c;D(1,0);}}var Fe;ae=function e(){Fe||$t(),Fe||(ae=e);};function $t(){function e(){if(!Fe&&(Fe=!0,a.calledRun=!0,!tt)){if(Ae(it),d(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var t=a.postRun.shift();st.unshift(t);}Ae(st);}}if(!(0<N)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)jt();Ae(ot),0<N||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("");},1),e();},1)):e());}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return $t(),T}})(),Dt=Sn;var X=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(n){return await Dt({locateFile:()=>n})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch(async n=>{let a=`https://unpkg.com/${me.name}@${me.version}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${n.message}`),console.warn(`Attempting to load WASM from backup URL: ${a}`);try{return await this._tryLoad(a)}catch(d){throw console.error(`Primary WASM URL failed: ${n.message}`),console.error(`Backup WASM URL failed: ${d.message}`),new Error("WASM loading failed from all sources.")}})),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(n){this._wasmURL=n,this._ModulePromise=null;}};I(X,"_ModulePromise",null),I(X,"_wasmURL",`https://cdn.jsdelivr.net/npm/${me.name}@${me.version}/dist/dotlottie-player.wasm`);var xe=class{constructor(){I(this,"_eventListeners",new Map);}addEventListener(n,a){let d=this._eventListeners.get(n);d||(d=new Set,this._eventListeners.set(n,d)),d.add(a);}removeEventListener(n,a){let d=this._eventListeners.get(n);d&&(a?(d.delete(a),d.size===0&&this._eventListeners.delete(n)):this._eventListeners.delete(n));}dispatch(n){this._eventListeners.get(n.type)?.forEach(d=>d(n));}removeAllEventListeners(){this._eventListeners.clear();}};function Rn(s){return /^#([\\da-f]{6}|[\\da-f]{8})$/iu.test(s)}function zt(s){if(!Rn(s))return 0;let n=s.replace("#","");return n=n.length===6?`${n}ff`:n,parseInt(n,16)}var Qe=(s,n)=>s==="reverse"?n.Mode.Reverse:s==="bounce"?n.Mode.Bounce:s==="reverse-bounce"?n.Mode.ReverseBounce:n.Mode.Forward,Ze=(s,n)=>s==="contain"?n.Fit.Contain:s==="cover"?n.Fit.Cover:s==="fill"?n.Fit.Fill:s==="fit-height"?n.Fit.FitHeight:s==="fit-width"?n.Fit.FitWidth:n.Fit.None,qe=(s,n)=>{let a=new n.VectorFloat;return a.push_back(s[0]),a.push_back(s[1]),a},et=(s,n)=>{let a=new n.VectorFloat;return s.length!==2||(a.push_back(s[0]),a.push_back(s[1])),a},M=class M{constructor(n){I(this,"_canvas");I(this,"_context",null);I(this,"_eventManager");I(this,"_animationFrameId",null);I(this,"_frameManager");I(this,"_dotLottieCore",null);I(this,"_renderConfig",{});I(this,"_isFrozen",!1);I(this,"_backgroundColor",null);this._canvas=n.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new xe,this._frameManager=new Ie,this._renderConfig=n.renderConfig??{},X.load().then(a=>{M._wasmModule=a,this._dotLottieCore=new a.DotLottiePlayer({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:Qe(n.mode??"forward",a),segment:et(n.segment??[],a),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:qe(n.layout.align,a),fit:Ze(n.layout.fit,a)}:a.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),n.backgroundColor&&this.setBackgroundColor(n.backgroundColor);}).catch(a=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${a}`)});});}_loadFromSrc(n){async function a(){let d=await fetch(n);if(!d.ok)throw new Error(`Failed to fetch the animation data from URL: ${n}. ${d.status}: ${d.statusText}`);let w=(d.headers.get("content-type")??"").trim(),T;return ["application/json","text/plain"].some(W=>w.startsWith(W))?T=await d.text():T=await d.arrayBuffer(),T}a().then(d=>{this._loadFromData(d);}).catch(d=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load animation data from URL: ${n}. ${d}`)});});}_loadFromData(n){if(this._dotLottieCore===null)return;let a=this._canvas.width,d=this._canvas.height,w=!1;if(typeof n=="string")w=this._dotLottieCore.loadAnimationData(n,a,d);else if(n instanceof ArrayBuffer)w=this._dotLottieCore.loadDotLottieData(n,a,d);else if(typeof n=="object")w=this._dotLottieCore.loadAnimationData(JSON.stringify(n),a,d);else {this._eventManager.dispatch({type:"loadError",error:new Error("Unsupported data type for animation data. Expected a string or ArrayBuffer.")});return}w?(this._eventManager.dispatch({type:"load"}),te&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._eventManager.dispatch({type:"loadError",error:new Error("Failed to load animation data")});}get activeAnimationId(){return this._dotLottieCore?.activeAnimationId()}get activeThemeId(){return this._dotLottieCore?.activeThemeId()}get layout(){let n=this._dotLottieCore?.config().layout;if(n)return {align:[n.align.get(0),n.align.get(1)],fit:(()=>{switch(n.fit){case M._wasmModule?.Fit.Contain:return "contain";case M._wasmModule?.Fit.Cover:return "cover";case M._wasmModule?.Fit.Fill:return "fill";case M._wasmModule?.Fit.FitHeight:return "fit-height";case M._wasmModule?.Fit.FitWidth:return "fit-width";case M._wasmModule?.Fit.None:return "none";default:return "contain"}})()}}get marker(){return this._dotLottieCore?.config().marker}get manifest(){try{let n=this._dotLottieCore?.manifestString();if(this._dotLottieCore===null||!n)return null;let a=JSON.parse(n);return Object.keys(a).length===0?null:a}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){let n=this._dotLottieCore?.config().segment;if(n&&n.size()===2)return [n.get(0),n.get(1)]}get loop(){return this._dotLottieCore?.config().loopAnimation??!1}get mode(){let n=this._dotLottieCore?.config().mode;return n===M._wasmModule?.Mode.Reverse?"reverse":n===M._wasmModule?.Mode.Bounce?"bounce":n===M._wasmModule?.Mode.ReverseBounce?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){return this._dotLottieCore?.config().autoplay??!1}get useFrameInterpolation(){return this._dotLottieCore?.config().useFrameInterpolation??!1}get speed(){return this._dotLottieCore?.config().speed??0}get isReady(){return this._dotLottieCore!==null}get isLoaded(){return this._dotLottieCore?.isLoaded()??!1}get isPlaying(){return this._dotLottieCore?.isPlaying()??!1}get isPaused(){return this._dotLottieCore?.isPaused()??!1}get isStopped(){return this._dotLottieCore?.isStopped()??!1}get currentFrame(){return this._dotLottieCore?.currentFrame()??0}get loopCount(){return this._dotLottieCore?.loopCount()??0}get totalFrames(){return this._dotLottieCore?.totalFrames()??0}get duration(){return this._dotLottieCore?.duration()??0}get segmentDuration(){return this._dotLottieCore?.segmentDuration()??0}get canvas(){return this._canvas}load(n){this._dotLottieCore===null||M._wasmModule===null||(this._dotLottieCore.setConfig({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:Qe(n.mode??"forward",M._wasmModule),segment:et(n.segment??[],M._wasmModule),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:qe(n.layout.align,M._wasmModule),fit:Ze(n.layout.fit,M._wasmModule)}:M._wasmModule.createDefaultLayout()}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),this.setBackgroundColor(n.backgroundColor??""));}_render(){if(this._dotLottieCore===null||this._context===null)return !1;if(this._dotLottieCore.render()){let a=this._dotLottieCore.buffer(),d=new Uint8ClampedArray(a,0,this._canvas.width*this._canvas.height*4),w=null;return typeof ImageData>"u"?(w=this._context.createImageData(this._canvas.width,this._canvas.height),w.data.set(d)):w=new ImageData(d,this._canvas.width,this._canvas.height),this._context.putImageData(w,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return !1}_draw(){if(this._dotLottieCore===null||this._context===null||!this._dotLottieCore.isPlaying())return;let n=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this));}play(){if(this._dotLottieCore===null)return;let n=this._dotLottieCore.play();this._isFrozen=!1,n&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)));}pause(){if(this._dotLottieCore===null)return;this._dotLottieCore.pause()&&this._eventManager.dispatch({type:"pause"});}stop(){if(this._dotLottieCore===null)return;this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}));}setFrame(n){if(this._dotLottieCore===null||n<0||n>this._dotLottieCore.totalFrames())return;this._dotLottieCore.seek(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render());}setSpeed(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:n});}setBackgroundColor(n){this._dotLottieCore!==null&&(te&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=n:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:zt(n)}),this._backgroundColor=n);}setLoop(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:n});}setUseFrameInterpolation(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:n});}addEventListener(n,a){this._eventManager.addEventListener(n,a);}removeEventListener(n,a){this._eventManager.removeEventListener(n,a);}destroy(){this._dotLottieCore?.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners();}freeze(){this._animationFrameId!==null&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}));}unfreeze(){this._animationFrameId===null&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}));}resize(){if(te&&this._canvas instanceof HTMLCanvasElement){let a=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:d,width:w}=this._canvas.getBoundingClientRect();this._canvas.width=w*a,this._canvas.height=d*a;}this._dotLottieCore?.resize(this._canvas.width,this._canvas.height)&&this._render();}setSegment(n,a){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:et([n,a],M._wasmModule)});}setMode(n){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:Qe(n,M._wasmModule)});}setRenderConfig(n){this._renderConfig=n;}loadAnimation(n){if(this._dotLottieCore===null||this._dotLottieCore.activeAnimationId()===n)return;this._dotLottieCore.loadAnimation(n,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${n}`)});}setMarker(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:n});}markers(){let n=this._dotLottieCore?.markers();if(n){let a=[];for(let d=0;d<n.size();d+=1){let w=n.get(d);a.push({name:w.name,time:w.time,duration:w.duration});}return a}return []}loadTheme(n){if(this._dotLottieCore===null)return !1;let a=this._dotLottieCore.loadTheme(n);return this._render(),a}loadThemeData(n){if(this._dotLottieCore===null)return !1;let a=this._dotLottieCore.loadThemeData(n);return this._render(),a}setLayout(n){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:qe(n.align,M._wasmModule),fit:Ze(n.fit,M._wasmModule)}});}setViewport(n,a,d,w){return this._dotLottieCore===null?!1:this._dotLottieCore.setViewport(n,a,d,w)}static setWasmUrl(n){X.setWasmUrl(n);}loadStateMachine(n){return this._dotLottieCore?.loadStateMachine(n)??!1}startStateMachine(){let n=this._dotLottieCore?.startStateMachine()??!1;return n&&this._setupStateMachineListeners(),n}stopStateMachine(){let n=this._dotLottieCore?.stopStateMachine()??!1;return n&&this._cleanupStateMachineListeners(),n}_getPointerPosition(n){let a=this._canvas.getBoundingClientRect(),d=this._canvas.width/a.width,w=this._canvas.height/a.height,T=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,W=(n.clientX-a.left)*d/T,Y=(n.clientY-a.top)*w/T;return {x:W,y:Y}}_onPointerUp(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerUp: ${a} ${d}`);}_onPointerDown(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerDown: ${a} ${d}`);}_onPointerMove(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerMove: ${a} ${d}`);}_onPointerEnter(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerEnter: ${a} ${d}`);}_onPointerLeave(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerExit: ${a} ${d}`);}_onComplete(){this.postStateMachineEvent("OnComplete");}postStateMachineEvent(n){return this._dotLottieCore?.postEventPayload(n)??!1}getStateMachineListeners(){if(!this._dotLottieCore)return [];let n=this._dotLottieCore.stateMachineFrameworkSetup(),a=[];for(let d=0;d<n.size();d+=1)a.push(n.get(d));return a}_setupStateMachineListeners(){if(te&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieCore!==null&&this.isLoaded){let n=this.getStateMachineListeners();n.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),n.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),n.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),n.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),n.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),n.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this));}}_cleanupStateMachineListeners(){te&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)));}loadStateMachineData(n){return this._dotLottieCore?.loadStateMachineData(n)??!1}animationSize(){let n=this._dotLottieCore?.animationSize().get(0)??0,a=this._dotLottieCore?.animationSize().get(1)??0;return {width:n,height:a}}setStateMachineBooleanContext(n,a){return this._dotLottieCore?.setStateMachineBooleanContext(n,a)??!1}setStateMachineNumericContext(n,a){return this._dotLottieCore?.setStateMachineNumericContext(n,a)??!1}setStateMachineStringContext(n,a){return this._dotLottieCore?.setStateMachineStringContext(n,a)??!1}};I(M,"_wasmModule",null);var fe=M;var E=new Map,$n={ready:s=>n=>{let a={id:"",method:"onReady",result:{instanceId:s,event:n}};self.postMessage(a);},complete:s=>n=>{let a={id:"",method:"onComplete",result:{instanceId:s,event:n}};self.postMessage(a);},load:s=>n=>{let d={id:"",method:"onLoad",result:{instanceId:s,event:n}};self.postMessage(d);},loadError:s=>n=>{let d={id:"",method:"onLoadError",result:{instanceId:s,event:n}};self.postMessage(d);},loop:s=>n=>{let d={id:"",method:"onLoop",result:{instanceId:s,event:n}};self.postMessage(d);},play:s=>n=>{let d={id:"",method:"onPlay",result:{instanceId:s,event:n}};self.postMessage(d);},pause:s=>n=>{let d={id:"",method:"onPause",result:{instanceId:s,event:n}};self.postMessage(d);},stop:s=>n=>{let d={id:"",method:"onStop",result:{instanceId:s,event:n}};self.postMessage(d);},frame:s=>n=>{let d={id:"",method:"onFrame",result:{instanceId:s,event:n}};self.postMessage(d);},render:s=>n=>{let d={id:"",method:"onRender",result:{instanceId:s,event:n}};self.postMessage(d);},freeze:s=>n=>{let d={id:"",method:"onFreeze",result:{instanceId:s,event:n}};self.postMessage(d);},unfreeze:s=>n=>{let d={id:"",method:"onUnfreeze",result:{instanceId:s,event:n}};self.postMessage(d);},destroy:s=>n=>{let d={id:"",method:"onDestroy",result:{instanceId:s,event:n}};self.postMessage(d);}},Ot={getDotLottieInstanceState(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return {state:{isLoaded:a.isLoaded,isPaused:a.isPaused,isPlaying:a.isPlaying,isStopped:a.isStopped,isFrozen:a.isFrozen,loop:a.loop,mode:a.mode,speed:a.speed,currentFrame:a.currentFrame,totalFrames:a.totalFrames,duration:a.duration,useFrameInterpolation:a.useFrameInterpolation,renderConfig:a.renderConfig,marker:a.marker,backgroundColor:a.backgroundColor,markers:a.markers(),activeAnimationId:a.activeAnimationId,activeThemeId:a.activeThemeId,autoplay:a.autoplay,segment:a.segment,layout:a.layout,segmentDuration:a.segmentDuration,isReady:a.isReady,manifest:a.manifest}}},setLayout(s){let n=s.params.instanceId,a=s.params.layout,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setLayout(a),{success:!0}},getStateMachineListeners(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.getStateMachineListeners()},postStateMachineEvent(s){let n=s.params.instanceId,a=s.params.event,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.postStateMachineEvent(a)},startStateMachine(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.startStateMachine()},stopStateMachine(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.stopStateMachine()},loadStateMachine(s){let n=s.params.instanceId,a=s.params.stateMachineId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadStateMachine(a)},create:s=>{let n=s.params.instanceId,a=s.params.config,d=s.params.width,w=s.params.height;if(E.has(n))throw new Error(`Instance with id ${n} already exists.`);let T=new fe(a);return T.canvas.height=w,T.canvas.width=d,E.set(n,T),["complete","frame","load","loadError","loop","pause","play","stop","destroy","freeze","unfreeze","render","ready"].forEach(Y=>{T.addEventListener(Y,$n[Y](n));}),{instanceId:n}},destroy:s=>{let n=s.params.instanceId,a=E.get(n);a&&(a.destroy(),E.delete(n));},freeze:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.freeze();},load:s=>{let n=s.params.instanceId,a=s.params.config,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.load(a);},loadAnimation:s=>{let n=s.params.instanceId,a=s.params.animationId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.loadAnimation(a);},loadTheme:s=>{let n=s.params.instanceId,a=s.params.themeId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadTheme(a)},loadThemeData:s=>{let n=s.params.instanceId,a=s.params.themeData,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadThemeData(a)},pause:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.pause()},play:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.play()},resize:s=>{let n=s.params.instanceId,a=s.params.width,d=s.params.height,w=E.get(n);if(!w)throw new Error(`Instance with id ${n} does not exist.`);return w.canvas.height=d,w.canvas.width=a,w.resize(),{success:!0}},setBackgroundColor:s=>{let n=s.params.instanceId,a=s.params.backgroundColor,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setBackgroundColor(a);},setFrame:s=>{let n=s.params.instanceId,a=s.params.frame,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setFrame(a);},setMode:s=>{let n=s.params.instanceId,a=s.params.mode,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setMode(a);},setRenderConfig:s=>{let n=s.params.instanceId,a=s.params.renderConfig,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setRenderConfig(a);},setSegment:s=>{let n=s.params.instanceId,a=s.params.segment,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setSegment(a[0],a[1]);},setSpeed:s=>{let n=s.params.instanceId,a=s.params.speed,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setSpeed(a);},setUseFrameInterpolation:s=>{let n=s.params.instanceId,a=s.params.useFrameInterpolation,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setUseFrameInterpolation(a);},setWasmUrl:s=>{fe.setWasmUrl(s.params.url);},stop:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.stop();},unfreeze:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.unfreeze();},setViewport(s){let n=s.params.instanceId,a=s.params.x,d=s.params.y,w=s.params.width,T=s.params.height,W=E.get(n);if(!W)throw new Error(`Instance with id ${n} does not exist.`);return W.setViewport(a,d,w,T)},setMarker(s){let n=s.params.instanceId,a=s.params.marker,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setMarker(a),{success:!0}},setLoop(s){let n=s.params.instanceId,a=s.params.loop,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setLoop(a),{success:!0}}};function kn(s){let n=s.method;if(typeof Ot[n]=="function")return Ot[n](s);throw new Error(`Method ${n} is not implemented in commands.`)}self.onmessage=s=>{try{let n=kn(s.data),a={id:s.data.id,method:s.data.method,result:n};self.postMessage(a);}catch(n){let a={id:s.data.id,method:s.data.method,error:n.message};self.postMessage(a);}};var Dn="",lr=Dn;\n\nexport { lr as default };\n'],{type:"application/javascript"});return new Worker(URL.createObjectURL(t),{type:"module",name:e})}getWorker(e){return this._workers.has(e)||this._workers.set(e,this._createWorker(e)),this._workers.get(e)}assignAnimationToWorker(e,t){this._animationWorkerMap.set(e,t)}unassignAnimationFromWorker(e){this._animationWorkerMap.delete(e)}sendMessage(e,t,n){this.getWorker(e).postMessage(t,n||[])}terminateWorker(e){let t=this._workers.get(e);t&&(t.terminate(),this._workers.delete(e))}}),p(j,"_wasmUrl","");var D=((e,t,n)=>(n=null!=e?s(c(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of d(t))h.call(e,a)||a===n||l(e,a,{get:()=>t[a],enumerable:!(r=u(t,a))||r.enumerable});return e})(!t&&e&&e.__esModule?n:l(n,"default",{value:e,enumerable:!0}),e)))(m(),1);function R({children:e,className:t="",setCanvasRef:n,setContainerRef:r,style:a,...i}){const s={width:"100%",height:"100%",lineHeight:0,...a};return o.createElement("div",{ref:r,className:t,...!t&&{style:s}},o.createElement("canvas",{ref:n,style:{width:"100%",height:"100%"},...i},e))}var O=()=>"undefined"==typeof window,$=e=>{const[t,n]=(0,o.useState)(null),r=(0,o.useRef)(null),a=(0,o.useRef)(e),i=(0,o.useRef)(null),s=(0,o.useRef)(null);r.current=t,a.current=e;const l=(0,o.useCallback)((e=>{a.current?.playOnHover&&r.current?.isLoaded&&("mouseenter"===e.type?r.current.play():"mouseleave"===e.type&&r.current.pause())}),[]),u=(0,o.useCallback)((()=>{if(!r.current)return;const e=i.current;if(!e)return;const t=a.current?.renderConfig?.devicePixelRatio||window.devicePixelRatio||1,{height:n,width:o,x:s,y:l}=((e,t)=>{const n=e.getBoundingClientRect(),r=window.innerWidth,a=window.innerHeight,i=Math.max(0,-n.left),o=Math.max(0,-n.top);return{x:i*t,y:o*t,width:(Math.min(n.width,r-n.left)-i)*t,height:(Math.min(n.height,a-n.top)-o)*t}})(e,t);r.current.setViewport(s,l,o,n)}),[]),d=(0,o.useMemo)((()=>{if(O())return null;return new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?r.current?.unfreeze():r.current?.freeze()}))}),{threshold:0})}),[]),c=(0,o.useMemo)((()=>{if(O())return null;const e=(0,D.default)((()=>{a.current?.autoResizeCanvas&&r.current?.resize()}),150);return new ResizeObserver(e)}),[]),h=(0,o.useCallback)((e=>{i.current=e}),[]),m=(0,o.useCallback)((e=>{s.current=e}),[]),f=(0,o.useCallback)((e=>o.createElement(R,{setContainerRef:m,setCanvasRef:h,...e})),[h,m]);return(0,o.useEffect)((()=>{const t=i.current;let r=null;if(t){r=new A({...a.current,canvas:t});const i=t.getBoundingClientRect();i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)?r.unfreeze():r.freeze(),d?.observe(t),e?.autoResizeCanvas&&c?.observe(t),t.addEventListener("mouseenter",l),t.addEventListener("mouseleave",l),r.addEventListener("frame",u),u(),n(r)}return()=>{r?.destroy(),n(null),c?.disconnect(),d?.disconnect(),t?.removeEventListener("mouseenter",l),t?.removeEventListener("mouseleave",l)}}),[d,c,l,u]),(0,o.useEffect)((()=>{r.current&&"number"==typeof e?.speed&&e.speed!==r.current.speed&&r.current.setSpeed(e.speed)}),[e?.speed]),(0,o.useEffect)((()=>{r.current&&"string"==typeof e?.mode&&e.mode!==r.current.mode&&r.current.setMode(e.mode)}),[e?.mode]),(0,o.useEffect)((()=>{r.current&&"boolean"==typeof e?.loop&&e.loop!==r.current.loop&&r.current.setLoop(e.loop)}),[e?.loop]),(0,o.useEffect)((()=>{r.current&&"boolean"==typeof e?.useFrameInterpolation&&e.useFrameInterpolation!==r.current.useFrameInterpolation&&r.current.setUseFrameInterpolation(e.useFrameInterpolation)}),[e?.useFrameInterpolation]),(0,o.useEffect)((()=>{if(r.current&&"object"==typeof e?.segment&&Array.isArray(e.segment)&&2===e.segment.length){const t=e.segment[0],n=e.segment[1];r.current.setSegment(t,n)}}),[e?.segment]),(0,o.useEffect)((()=>{r.current&&"string"==typeof e?.backgroundColor&&e.backgroundColor!==r.current.backgroundColor&&r.current.setBackgroundColor(e.backgroundColor)}),[e?.backgroundColor]),(0,o.useEffect)((()=>{r.current&&"object"==typeof e?.renderConfig&&r.current.setRenderConfig(e.renderConfig)}),[JSON.stringify(e?.renderConfig)]),(0,o.useEffect)((()=>{r.current&&("string"==typeof e?.data||e?.data instanceof ArrayBuffer)&&r.current.load({data:e.data,...a.current||{}})}),[e?.data]),(0,o.useEffect)((()=>{r.current&&"string"==typeof e?.src&&r.current.load({src:e.src,...a.current||{}})}),[e?.src]),(0,o.useEffect)((()=>{r.current&&"string"==typeof e?.marker&&r.current.setMarker(e.marker)}),[e?.marker]),(0,o.useEffect)((()=>{c&&(e?.autoResizeCanvas&&i.current?c.observe(i.current):c.disconnect())}),[e?.autoResizeCanvas,c]),(0,o.useEffect)((()=>{r.current&&r.current.isLoaded&&e?.animationId&&r.current.activeAnimationId!==e.animationId&&r.current.loadAnimation(e.animationId)}),[e?.animationId]),(0,o.useEffect)((()=>{r.current&&r.current.isLoaded&&r.current.activeThemeId!==e?.themeId&&r.current.loadTheme(e?.themeId||"")}),[e?.themeId]),(0,o.useEffect)((()=>{r.current&&r.current.isLoaded&&r.current.loadThemeData(e?.themeData||"")}),[e?.themeData]),{dotLottie:t,setCanvasRef:h,setContainerRef:m,canvas:i.current,container:s.current,DotLottieComponent:f}},W="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;var z=({animationId:e,autoResizeCanvas:t=!0,autoplay:n,backgroundColor:r,data:a,dotLottieRefCallback:i,loop:s,marker:l,mode:u,playOnHover:d,renderConfig:c,segment:h,speed:m,src:f,themeData:p,themeId:v,useFrameInterpolation:g,..._})=>{const{DotLottieComponent:y,dotLottie:w}=$({data:a,mode:u,speed:m,src:f,autoplay:n,loop:s,segment:h,renderConfig:c,backgroundColor:r,useFrameInterpolation:g,playOnHover:d,autoResizeCanvas:t,marker:l,themeId:v,animationId:e,themeData:p}),b="function"==typeof i?function(e){const t=(0,o.useRef)(e);return W((()=>{t.current=e})),(0,o.useCallback)(((...e)=>t.current(...e)),[t])}(i):void 0;return o.useEffect((()=>{"function"==typeof b&&b(w)}),[b,w]),o.createElement(y,{..._})}}}]);
//# sourceMappingURL=trader.vendors-node_modules_cloudflare_stream-react_dist_stream-react_esm_js-node_modules_deriv_quil-def6bf.a400ceeec309a41568ba.js.map